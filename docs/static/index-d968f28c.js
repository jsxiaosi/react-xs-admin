var U1 = Object.defineProperty;
var Pf = Object.getOwnPropertySymbols;
var q1 = Object.prototype.hasOwnProperty,
  Z1 = Object.prototype.propertyIsEnumerable;
var Df = (e, r, t) =>
    r in e ? U1(e, r, { enumerable: !0, configurable: !0, writable: !0, value: t }) : (e[r] = t),
  uo = (e, r) => {
    for (var t in r || (r = {})) q1.call(r, t) && Df(e, t, r[t]);
    if (Pf) for (var t of Pf(r)) Z1.call(r, t) && Df(e, t, r[t]);
    return e;
  };
import {
  e as L,
  Y as K1,
  R as Dt,
  g as Ni,
  m as An,
  r as Bs,
  v as Q1,
  C as le,
  a as kt,
  n as J1,
  Z as tw,
  $ as ew,
  a0 as rw,
  a1 as iw,
  T as vg,
  a2 as nw,
  x as aw,
  t as ow,
  a3 as dg,
  z as Xa,
  A as sw,
  q as Bf,
  o as lw,
  d as Rs,
  a4 as pg,
  S as uw,
  a5 as cw,
  a6 as hw,
  k as fw,
  c as vw,
  j as dw,
  i as co,
  h as pw,
  a7 as Pu,
  p as gw,
  a8 as yw,
  M as mw,
  B as xw,
  a9 as Ct,
  aa as I,
  ab as x,
  ac as Et,
  ad as mt,
  ae as vt,
  af as K,
  ag as ma,
  ah as xa,
  ai as ww,
  aj as bw,
  H as At,
  P as gg,
  I as di,
  ak as Sw,
  al as Cw,
  am as Aw,
} from './index-88b30955.js';
import { U as Mw } from './UserOutlined-0191efb3.js';
const $s = Object.freeze(
    Object.defineProperty(
      {
        __proto__: null,
        get Base() {
          return qe;
        },
        get Circle() {
          return $k;
        },
        get Ellipse() {
          return Nk;
        },
        get Image() {
          return zk;
        },
        get Line() {
          return Gk;
        },
        get Marker() {
          return Vk;
        },
        get Path() {
          return Dh;
        },
        get Polygon() {
          return qk;
        },
        get Polyline() {
          return Zk;
        },
        get Rect() {
          return Jk;
        },
        get Text() {
          return tI;
        },
      },
      Symbol.toStringTag,
      { value: 'Module' },
    ),
  ),
  Ns = Object.freeze(
    Object.defineProperty(
      {
        __proto__: null,
        get Base() {
          return ze;
        },
        get Circle() {
          return sI;
        },
        get Dom() {
          return lI;
        },
        get Ellipse() {
          return uI;
        },
        get Image() {
          return cI;
        },
        get Line() {
          return hI;
        },
        get Marker() {
          return fI;
        },
        get Path() {
          return vI;
        },
        get Polygon() {
          return dI;
        },
        get Polyline() {
          return pI;
        },
        get Rect() {
          return yI;
        },
        get Text() {
          return bI;
        },
      },
      Symbol.toStringTag,
      { value: 'Module' },
    ),
  );
function Fw() {
  const [, e] = L.useReducer((r) => r + 1, 0);
  return e;
}
const cn = ['xxl', 'xl', 'lg', 'md', 'sm', 'xs'],
  Ew = (e) => ({
    xs: `(max-width: ${e.screenXSMax}px)`,
    sm: `(min-width: ${e.screenSM}px)`,
    md: `(min-width: ${e.screenMD}px)`,
    lg: `(min-width: ${e.screenLG}px)`,
    xl: `(min-width: ${e.screenXL}px)`,
    xxl: `(min-width: ${e.screenXXL}px)`,
  }),
  Tw = (e) => {
    const r = e,
      t = [].concat(cn).reverse();
    return (
      t.forEach((i, n) => {
        const a = i.toUpperCase(),
          o = `screen${a}Min`,
          s = `screen${a}`;
        if (!(r[o] <= r[s])) throw new Error(`${o}<=${s} fails : !(${r[o]}<=${r[s]})`);
        if (n < t.length - 1) {
          const l = `screen${a}Max`;
          if (!(r[s] <= r[l])) throw new Error(`${s}<=${l} fails : !(${r[s]}<=${r[l]})`);
          const c = `screen${t[n + 1].toUpperCase()}Min`;
          if (!(r[l] <= r[c])) throw new Error(`${l}<=${c} fails : !(${r[l]}<=${r[c]})`);
        }
      }),
      e
    );
  };
function yg() {
  const [, e] = K1(),
    r = Ew(Tw(e));
  return Dt.useMemo(() => {
    const t = new Map();
    let i = -1,
      n = {};
    return {
      matchHandlers: {},
      dispatch(a) {
        return (n = a), t.forEach((o) => o(n)), t.size >= 1;
      },
      subscribe(a) {
        return t.size || this.register(), (i += 1), t.set(i, a), a(n), i;
      },
      unsubscribe(a) {
        t.delete(a), t.size || this.unregister();
      },
      unregister() {
        Object.keys(r).forEach((a) => {
          const o = r[a],
            s = this.matchHandlers[o];
          s == null || s.mql.removeListener(s == null ? void 0 : s.listener);
        }),
          t.clear();
      },
      register() {
        Object.keys(r).forEach((a) => {
          const o = r[a],
            s = (u) => {
              let { matches: c } = u;
              this.dispatch(Object.assign(Object.assign({}, n), { [a]: c }));
            },
            l = window.matchMedia(o);
          l.addListener(s), (this.matchHandlers[o] = { mql: l, listener: s }), s(l);
        });
      },
      responsiveMap: r,
    };
  }, [e]);
}
function kw() {
  let e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : !0;
  const r = L.useRef({}),
    t = Fw(),
    i = yg();
  return (
    L.useEffect(() => {
      const n = i.subscribe((a) => {
        (r.current = a), e && t();
      });
      return () => i.unsubscribe(n);
    }, []),
    r.current
  );
}
const Du = L.createContext('default'),
  Rf = (e) => {
    let { children: r, size: t } = e;
    const i = L.useContext(Du);
    return L.createElement(Du.Provider, { value: t || i }, r);
  },
  Iw = (e) => {
    const {
        antCls: r,
        componentCls: t,
        iconCls: i,
        avatarBg: n,
        avatarColor: a,
        avatarSizeBase: o,
        avatarSizeLG: s,
        avatarSizeSM: l,
        avatarFontSizeBase: u,
        avatarFontSizeLG: c,
        avatarFontSizeSM: h,
        borderRadius: f,
        borderRadiusLG: v,
        borderRadiusSM: d,
        lineWidth: p,
        lineType: g,
      } = e,
      y = (m, b, w) => ({
        width: m,
        height: m,
        lineHeight: `${m - p * 2}px`,
        borderRadius: '50%',
        [`&${t}-square`]: { borderRadius: w },
        [`${t}-string`]: {
          position: 'absolute',
          left: { _skip_check_: !0, value: '50%' },
          transformOrigin: '0 center',
        },
        [`&${t}-icon`]: { fontSize: b, [`> ${i}`]: { margin: 0 } },
      });
    return {
      [t]: Object.assign(
        Object.assign(
          Object.assign(Object.assign({}, Bs(e)), {
            position: 'relative',
            display: 'inline-block',
            overflow: 'hidden',
            color: a,
            whiteSpace: 'nowrap',
            textAlign: 'center',
            verticalAlign: 'middle',
            background: n,
            border: `${p}px ${g} transparent`,
            ['&-image']: { background: 'transparent' },
            [`${r}-image-img`]: { display: 'block' },
          }),
          y(o, u, f),
        ),
        {
          ['&-lg']: Object.assign({}, y(s, c, v)),
          ['&-sm']: Object.assign({}, y(l, h, d)),
          '> img': { display: 'block', width: '100%', height: '100%', objectFit: 'cover' },
        },
      ),
    };
  },
  Lw = (e) => {
    const { componentCls: r, avatarGroupBorderColor: t, avatarGroupSpace: i } = e;
    return {
      [`${r}-group`]: {
        display: 'inline-flex',
        [`${r}`]: { borderColor: t },
        ['> *:not(:first-child)']: { marginInlineStart: i },
      },
    };
  },
  mg = Ni('Avatar', (e) => {
    const {
        colorTextLightSolid: r,
        controlHeight: t,
        controlHeightLG: i,
        controlHeightSM: n,
        fontSize: a,
        fontSizeLG: o,
        fontSizeXL: s,
        fontSizeHeading3: l,
        marginXS: u,
        colorBorderBg: c,
        colorTextPlaceholder: h,
      } = e,
      f = An(e, {
        avatarBg: h,
        avatarColor: r,
        avatarSizeBase: t,
        avatarSizeLG: i,
        avatarSizeSM: n,
        avatarFontSizeBase: Math.round((o + s) / 2),
        avatarFontSizeLG: l,
        avatarFontSizeSM: a,
        avatarGroupSpace: -u,
        avatarGroupBorderColor: c,
      });
    return [Iw(f), Lw(f)];
  });
var Ow =
  (globalThis && globalThis.__rest) ||
  function (e, r) {
    var t = {};
    for (var i in e)
      Object.prototype.hasOwnProperty.call(e, i) && r.indexOf(i) < 0 && (t[i] = e[i]);
    if (e != null && typeof Object.getOwnPropertySymbols == 'function')
      for (var n = 0, i = Object.getOwnPropertySymbols(e); n < i.length; n++)
        r.indexOf(i[n]) < 0 &&
          Object.prototype.propertyIsEnumerable.call(e, i[n]) &&
          (t[i[n]] = e[i[n]]);
    return t;
  };
const Pw = (e, r) => {
    const t = L.useContext(Du),
      [i, n] = L.useState(1),
      [a, o] = L.useState(!1),
      [s, l] = L.useState(!0),
      u = L.useRef(null),
      c = L.useRef(null),
      h = Q1(r, u),
      { getPrefixCls: f } = L.useContext(le),
      v = () => {
        if (!c.current || !u.current) return;
        const U = c.current.offsetWidth,
          Z = u.current.offsetWidth;
        if (U !== 0 && Z !== 0) {
          const { gap: ot = 4 } = e;
          ot * 2 < Z && n(Z - ot * 2 < U ? (Z - ot * 2) / U : 1);
        }
      };
    L.useEffect(() => {
      o(!0);
    }, []),
      L.useEffect(() => {
        l(!0), n(1);
      }, [e.src]),
      L.useEffect(() => {
        v();
      }, [e.gap]);
    const d = () => {
        const { onError: U } = e;
        (U ? U() : void 0) !== !1 && l(!1);
      },
      {
        prefixCls: p,
        shape: g = 'circle',
        size: y = 'default',
        src: m,
        srcSet: b,
        icon: w,
        className: S,
        rootClassName: C,
        alt: F,
        draggable: E,
        children: k,
        crossOrigin: T,
      } = e,
      O = Ow(e, [
        'prefixCls',
        'shape',
        'size',
        'src',
        'srcSet',
        'icon',
        'className',
        'rootClassName',
        'alt',
        'draggable',
        'children',
        'crossOrigin',
      ]),
      P = y === 'default' ? t : y,
      z = Object.keys(typeof P == 'object' ? P || {} : {}).some((U) =>
        ['xs', 'sm', 'md', 'lg', 'xl', 'xxl'].includes(U),
      ),
      W = kw(z),
      j = L.useMemo(() => {
        if (typeof P != 'object') return {};
        const U = cn.find((ot) => W[ot]),
          Z = P[U];
        return Z ? { width: Z, height: Z, lineHeight: `${Z}px`, fontSize: w ? Z / 2 : 18 } : {};
      }, [W, P]),
      D = f('avatar', p),
      [N, V] = mg(D),
      H = kt({ [`${D}-lg`]: P === 'large', [`${D}-sm`]: P === 'small' }),
      G = L.isValidElement(m),
      X = kt(
        D,
        H,
        { [`${D}-${g}`]: !!g, [`${D}-image`]: G || (m && s), [`${D}-icon`]: !!w },
        S,
        C,
        V,
      ),
      Q =
        typeof P == 'number'
          ? { width: P, height: P, lineHeight: `${P}px`, fontSize: w ? P / 2 : 18 }
          : {};
    let J;
    if (typeof m == 'string' && s)
      J = L.createElement('img', {
        src: m,
        draggable: E,
        srcSet: b,
        onError: d,
        alt: F,
        crossOrigin: T,
      });
    else if (G) J = m;
    else if (w) J = w;
    else if (a || i !== 1) {
      const U = `scale(${i}) translateX(-50%)`,
        Z = { msTransform: U, WebkitTransform: U, transform: U },
        ot = typeof P == 'number' ? { lineHeight: `${P}px` } : {};
      J = L.createElement(
        J1,
        { onResize: v },
        L.createElement(
          'span',
          { className: `${D}-string`, ref: c, style: Object.assign(Object.assign({}, ot), Z) },
          k,
        ),
      );
    } else
      J = L.createElement('span', { className: `${D}-string`, style: { opacity: 0 }, ref: c }, k);
    return (
      delete O.onError,
      delete O.gap,
      N(
        L.createElement(
          'span',
          Object.assign({}, O, {
            style: Object.assign(Object.assign(Object.assign({}, Q), j), O.style),
            className: X,
            ref: h,
          }),
          J,
        ),
      )
    );
  },
  Dw = L.forwardRef(Pw),
  xg = Dw,
  os = (e) => (e ? (typeof e == 'function' ? e() : e) : null),
  Bw = (e) => {
    const {
      componentCls: r,
      popoverBg: t,
      popoverColor: i,
      width: n,
      fontWeightStrong: a,
      popoverPadding: o,
      boxShadowSecondary: s,
      colorTextHeading: l,
      borderRadiusLG: u,
      zIndexPopup: c,
      marginXS: h,
      colorBgElevated: f,
    } = e;
    return [
      {
        [r]: Object.assign(Object.assign({}, Bs(e)), {
          position: 'absolute',
          top: 0,
          left: { _skip_check_: !0, value: 0 },
          zIndex: c,
          fontWeight: 'normal',
          whiteSpace: 'normal',
          textAlign: 'start',
          cursor: 'auto',
          userSelect: 'text',
          '--antd-arrow-background-color': f,
          '&-rtl': { direction: 'rtl' },
          '&-hidden': { display: 'none' },
          [`${r}-content`]: { position: 'relative' },
          [`${r}-inner`]: {
            backgroundColor: t,
            backgroundClip: 'padding-box',
            borderRadius: u,
            boxShadow: s,
            padding: o,
          },
          [`${r}-title`]: { minWidth: n, marginBottom: h, color: l, fontWeight: a },
          [`${r}-inner-content`]: { color: i },
        }),
      },
      ew(e, { colorBg: 'var(--antd-arrow-background-color)' }),
      {
        [`${r}-pure`]: {
          position: 'relative',
          maxWidth: 'none',
          margin: e.sizePopupArrow,
          display: 'inline-block',
          [`${r}-content`]: { display: 'inline-block' },
        },
      },
    ];
  },
  Rw = (e) => {
    const { componentCls: r } = e;
    return {
      [r]: rw.map((t) => {
        const i = e[`${t}6`];
        return {
          [`&${r}-${t}`]: {
            '--antd-arrow-background-color': i,
            [`${r}-inner`]: { backgroundColor: i },
            [`${r}-arrow`]: { background: 'transparent' },
          },
        };
      }),
    };
  },
  $w = (e) => {
    const {
        componentCls: r,
        lineWidth: t,
        lineType: i,
        colorSplit: n,
        paddingSM: a,
        controlHeight: o,
        fontSize: s,
        lineHeight: l,
        padding: u,
      } = e,
      c = o - Math.round(s * l),
      h = c / 2,
      f = c / 2 - t,
      v = u;
    return {
      [r]: {
        [`${r}-inner`]: { padding: 0 },
        [`${r}-title`]: {
          margin: 0,
          padding: `${h}px ${v}px ${f}px`,
          borderBottom: `${t}px ${i} ${n}`,
        },
        [`${r}-inner-content`]: { padding: `${a}px ${v}px` },
      },
    };
  },
  wg = Ni(
    'Popover',
    (e) => {
      const { colorBgElevated: r, colorText: t, wireframe: i } = e,
        n = An(e, { popoverBg: r, popoverColor: t, popoverPadding: 12 });
      return [Bw(n), Rw(n), i && $w(n), tw(n, 'zoom-big')];
    },
    (e) => {
      let { zIndexPopupBase: r } = e;
      return { zIndexPopup: r + 30, width: 177 };
    },
  );
var Nw =
  (globalThis && globalThis.__rest) ||
  function (e, r) {
    var t = {};
    for (var i in e)
      Object.prototype.hasOwnProperty.call(e, i) && r.indexOf(i) < 0 && (t[i] = e[i]);
    if (e != null && typeof Object.getOwnPropertySymbols == 'function')
      for (var n = 0, i = Object.getOwnPropertySymbols(e); n < i.length; n++)
        r.indexOf(i[n]) < 0 &&
          Object.prototype.propertyIsEnumerable.call(e, i[n]) &&
          (t[i[n]] = e[i[n]]);
    return t;
  };
const zw = (e, r, t) => {
  if (!(!r && !t))
    return L.createElement(
      L.Fragment,
      null,
      r && L.createElement('div', { className: `${e}-title` }, os(r)),
      L.createElement('div', { className: `${e}-inner-content` }, os(t)),
    );
};
function Gw(e) {
  const {
    hashId: r,
    prefixCls: t,
    className: i,
    style: n,
    placement: a = 'top',
    title: o,
    content: s,
    children: l,
  } = e;
  return L.createElement(
    'div',
    { className: kt(r, t, `${t}-pure`, `${t}-placement-${a}`, i), style: n },
    L.createElement('div', { className: `${t}-arrow` }),
    L.createElement(iw, Object.assign({}, e, { className: r, prefixCls: t }), l || zw(t, o, s)),
  );
}
function Hw(e) {
  const { prefixCls: r } = e,
    t = Nw(e, ['prefixCls']),
    { getPrefixCls: i } = L.useContext(le),
    n = i('popover', r),
    [a, o] = wg(n);
  return a(L.createElement(Gw, Object.assign({}, t, { prefixCls: n, hashId: o })));
}
var Vw =
  (globalThis && globalThis.__rest) ||
  function (e, r) {
    var t = {};
    for (var i in e)
      Object.prototype.hasOwnProperty.call(e, i) && r.indexOf(i) < 0 && (t[i] = e[i]);
    if (e != null && typeof Object.getOwnPropertySymbols == 'function')
      for (var n = 0, i = Object.getOwnPropertySymbols(e); n < i.length; n++)
        r.indexOf(i[n]) < 0 &&
          Object.prototype.propertyIsEnumerable.call(e, i[n]) &&
          (t[i[n]] = e[i[n]]);
    return t;
  };
const Yw = (e) => {
    let { title: r, content: t, prefixCls: i } = e;
    return !r && !t
      ? null
      : L.createElement(
          L.Fragment,
          null,
          r && L.createElement('div', { className: `${i}-title` }, os(r)),
          L.createElement('div', { className: `${i}-inner-content` }, os(t)),
        );
  },
  bg = L.forwardRef((e, r) => {
    const {
        prefixCls: t,
        title: i,
        content: n,
        overlayClassName: a,
        placement: o = 'top',
        trigger: s = 'hover',
        mouseEnterDelay: l = 0.1,
        mouseLeaveDelay: u = 0.1,
        overlayStyle: c = {},
      } = e,
      h = Vw(e, [
        'prefixCls',
        'title',
        'content',
        'overlayClassName',
        'placement',
        'trigger',
        'mouseEnterDelay',
        'mouseLeaveDelay',
        'overlayStyle',
      ]),
      { getPrefixCls: f } = L.useContext(le),
      v = f('popover', t),
      [d, p] = wg(v),
      g = f(),
      y = kt(a, p);
    return d(
      L.createElement(
        vg,
        Object.assign(
          { placement: o, trigger: s, mouseEnterDelay: l, mouseLeaveDelay: u, overlayStyle: c },
          h,
          {
            prefixCls: v,
            overlayClassName: y,
            ref: r,
            overlay: L.createElement(Yw, { prefixCls: v, title: i, content: n }),
            transitionName: nw(g, 'zoom-big', h.transitionName),
            'data-popover-inject': !0,
          },
        ),
      ),
    );
  });
bg._InternalPanelDoNotUseOrYouWillBeFired = Hw;
const Ww = bg,
  Xw = (e) => {
    const { getPrefixCls: r, direction: t } = L.useContext(le),
      { prefixCls: i, className: n, rootClassName: a, maxCount: o, maxStyle: s, size: l } = e,
      u = r('avatar', i),
      c = `${u}-group`,
      [h, f] = mg(u),
      v = kt(c, { [`${c}-rtl`]: t === 'rtl' }, n, a, f),
      { children: d, maxPopoverPlacement: p = 'top', maxPopoverTrigger: g = 'hover' } = e,
      y = aw(d).map((b, w) => ow(b, { key: `avatar-key-${w}` })),
      m = y.length;
    if (o && o < m) {
      const b = y.slice(0, o),
        w = y.slice(o, m);
      return (
        b.push(
          L.createElement(
            Ww,
            {
              key: 'avatar-popover-key',
              content: w,
              trigger: g,
              placement: p,
              overlayClassName: `${c}-popover`,
            },
            L.createElement(xg, { style: s }, `+${m - o}`),
          ),
        ),
        h(
          L.createElement(
            Rf,
            { size: l },
            L.createElement('div', { className: v, style: e.style }, b),
          ),
        )
      );
    }
    return h(
      L.createElement(Rf, { size: l }, L.createElement('div', { className: v, style: e.style }, y)),
    );
  },
  _w = Xw,
  Sg = xg;
Sg.Group = _w;
const jw = Sg,
  Uw = (e) => {
    const { prefixCls: r, className: t, style: i, size: n, shape: a } = e,
      o = kt({ [`${r}-lg`]: n === 'large', [`${r}-sm`]: n === 'small' }),
      s = kt({
        [`${r}-circle`]: a === 'circle',
        [`${r}-square`]: a === 'square',
        [`${r}-round`]: a === 'round',
      }),
      l = L.useMemo(
        () => (typeof n == 'number' ? { width: n, height: n, lineHeight: `${n}px` } : {}),
        [n],
      );
    return L.createElement('span', {
      className: kt(r, o, s, t),
      style: Object.assign(Object.assign({}, l), i),
    });
  },
  zs = Uw,
  qw = new dg('ant-skeleton-loading', {
    '0%': { backgroundPosition: '100% 50%' },
    '100%': { backgroundPosition: '0 50%' },
  }),
  Gs = (e) => ({ height: e, lineHeight: `${e}px` }),
  rn = (e) => Object.assign({ width: e }, Gs(e)),
  Zw = (e) => ({
    background: e.skeletonLoadingBackground,
    backgroundSize: '400% 100%',
    animationName: qw,
    animationDuration: e.skeletonLoadingMotionDuration,
    animationTimingFunction: 'ease',
    animationIterationCount: 'infinite',
  }),
  zl = (e) => Object.assign({ width: e * 5, minWidth: e * 5 }, Gs(e)),
  Kw = (e) => {
    const {
      skeletonAvatarCls: r,
      color: t,
      controlHeight: i,
      controlHeightLG: n,
      controlHeightSM: a,
    } = e;
    return {
      [`${r}`]: Object.assign(
        { display: 'inline-block', verticalAlign: 'top', background: t },
        rn(i),
      ),
      [`${r}${r}-circle`]: { borderRadius: '50%' },
      [`${r}${r}-lg`]: Object.assign({}, rn(n)),
      [`${r}${r}-sm`]: Object.assign({}, rn(a)),
    };
  },
  Qw = (e) => {
    const {
      controlHeight: r,
      borderRadiusSM: t,
      skeletonInputCls: i,
      controlHeightLG: n,
      controlHeightSM: a,
      color: o,
    } = e;
    return {
      [`${i}`]: Object.assign(
        { display: 'inline-block', verticalAlign: 'top', background: o, borderRadius: t },
        zl(r),
      ),
      [`${i}-lg`]: Object.assign({}, zl(n)),
      [`${i}-sm`]: Object.assign({}, zl(a)),
    };
  },
  $f = (e) => Object.assign({ width: e }, Gs(e)),
  Jw = (e) => {
    const { skeletonImageCls: r, imageSizeBase: t, color: i, borderRadiusSM: n } = e;
    return {
      [`${r}`]: Object.assign(
        Object.assign(
          {
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center',
            verticalAlign: 'top',
            background: i,
            borderRadius: n,
          },
          $f(t * 2),
        ),
        {
          [`${r}-path`]: { fill: '#bfbfbf' },
          [`${r}-svg`]: Object.assign(Object.assign({}, $f(t)), {
            maxWidth: t * 4,
            maxHeight: t * 4,
          }),
          [`${r}-svg${r}-svg-circle`]: { borderRadius: '50%' },
        },
      ),
      [`${r}${r}-circle`]: { borderRadius: '50%' },
    };
  },
  Gl = (e, r, t) => {
    const { skeletonButtonCls: i } = e;
    return {
      [`${t}${i}-circle`]: { width: r, minWidth: r, borderRadius: '50%' },
      [`${t}${i}-round`]: { borderRadius: r },
    };
  },
  Hl = (e) => Object.assign({ width: e * 2, minWidth: e * 2 }, Gs(e)),
  tb = (e) => {
    const {
      borderRadiusSM: r,
      skeletonButtonCls: t,
      controlHeight: i,
      controlHeightLG: n,
      controlHeightSM: a,
      color: o,
    } = e;
    return Object.assign(
      Object.assign(
        Object.assign(
          Object.assign(
            Object.assign(
              {
                [`${t}`]: Object.assign(
                  {
                    display: 'inline-block',
                    verticalAlign: 'top',
                    background: o,
                    borderRadius: r,
                    width: i * 2,
                    minWidth: i * 2,
                  },
                  Hl(i),
                ),
              },
              Gl(e, i, t),
            ),
            { [`${t}-lg`]: Object.assign({}, Hl(n)) },
          ),
          Gl(e, n, `${t}-lg`),
        ),
        { [`${t}-sm`]: Object.assign({}, Hl(a)) },
      ),
      Gl(e, a, `${t}-sm`),
    );
  },
  eb = (e) => {
    const {
      componentCls: r,
      skeletonAvatarCls: t,
      skeletonTitleCls: i,
      skeletonParagraphCls: n,
      skeletonButtonCls: a,
      skeletonInputCls: o,
      skeletonImageCls: s,
      controlHeight: l,
      controlHeightLG: u,
      controlHeightSM: c,
      color: h,
      padding: f,
      marginSM: v,
      borderRadius: d,
      skeletonTitleHeight: p,
      skeletonBlockRadius: g,
      skeletonParagraphLineHeight: y,
      controlHeightXS: m,
      skeletonParagraphMarginTop: b,
    } = e;
    return {
      [`${r}`]: {
        display: 'table',
        width: '100%',
        [`${r}-header`]: {
          display: 'table-cell',
          paddingInlineEnd: f,
          verticalAlign: 'top',
          [`${t}`]: Object.assign(
            { display: 'inline-block', verticalAlign: 'top', background: h },
            rn(l),
          ),
          [`${t}-circle`]: { borderRadius: '50%' },
          [`${t}-lg`]: Object.assign({}, rn(u)),
          [`${t}-sm`]: Object.assign({}, rn(c)),
        },
        [`${r}-content`]: {
          display: 'table-cell',
          width: '100%',
          verticalAlign: 'top',
          [`${i}`]: {
            width: '100%',
            height: p,
            background: h,
            borderRadius: g,
            [`+ ${n}`]: { marginBlockStart: c },
          },
          [`${n}`]: {
            padding: 0,
            '> li': {
              width: '100%',
              height: y,
              listStyle: 'none',
              background: h,
              borderRadius: g,
              '+ li': { marginBlockStart: m },
            },
          },
          [`${n}> li:last-child:not(:first-child):not(:nth-child(2))`]: { width: '61%' },
        },
        [`&-round ${r}-content`]: { [`${i}, ${n} > li`]: { borderRadius: d } },
      },
      [`${r}-with-avatar ${r}-content`]: {
        [`${i}`]: { marginBlockStart: v, [`+ ${n}`]: { marginBlockStart: b } },
      },
      [`${r}${r}-element`]: Object.assign(
        Object.assign(
          Object.assign(Object.assign({ display: 'inline-block', width: 'auto' }, tb(e)), Kw(e)),
          Qw(e),
        ),
        Jw(e),
      ),
      [`${r}${r}-block`]: {
        width: '100%',
        [`${a}`]: { width: '100%' },
        [`${o}`]: { width: '100%' },
      },
      [`${r}${r}-active`]: {
        [`
        ${i},
        ${n} > li,
        ${t},
        ${a},
        ${o},
        ${s}
      `]: Object.assign({}, Zw(e)),
      },
    };
  },
  Mn = Ni(
    'Skeleton',
    (e) => {
      const { componentCls: r } = e,
        t = An(e, {
          skeletonAvatarCls: `${r}-avatar`,
          skeletonTitleCls: `${r}-title`,
          skeletonParagraphCls: `${r}-paragraph`,
          skeletonButtonCls: `${r}-button`,
          skeletonInputCls: `${r}-input`,
          skeletonImageCls: `${r}-image`,
          imageSizeBase: e.controlHeight * 1.5,
          skeletonTitleHeight: e.controlHeight / 2,
          skeletonBlockRadius: e.borderRadiusSM,
          skeletonParagraphLineHeight: e.controlHeight / 2,
          skeletonParagraphMarginTop: e.marginLG + e.marginXXS,
          borderRadius: 100,
          skeletonLoadingBackground: `linear-gradient(90deg, ${e.color} 25%, ${e.colorGradientEnd} 37%, ${e.color} 63%)`,
          skeletonLoadingMotionDuration: '1.4s',
        });
      return [eb(t)];
    },
    (e) => {
      const { colorFillContent: r, colorFill: t } = e;
      return { color: r, colorGradientEnd: t };
    },
  ),
  rb = (e) => {
    const {
        prefixCls: r,
        className: t,
        rootClassName: i,
        active: n,
        shape: a = 'circle',
        size: o = 'default',
      } = e,
      { getPrefixCls: s } = L.useContext(le),
      l = s('skeleton', r),
      [u, c] = Mn(l),
      h = Xa(e, ['prefixCls', 'className']),
      f = kt(l, `${l}-element`, { [`${l}-active`]: n }, t, i, c);
    return u(
      L.createElement(
        'div',
        { className: f },
        L.createElement(zs, Object.assign({ prefixCls: `${l}-avatar`, shape: a, size: o }, h)),
      ),
    );
  },
  ib = rb,
  nb = (e) => {
    const {
        prefixCls: r,
        className: t,
        rootClassName: i,
        active: n,
        block: a = !1,
        size: o = 'default',
      } = e,
      { getPrefixCls: s } = L.useContext(le),
      l = s('skeleton', r),
      [u, c] = Mn(l),
      h = Xa(e, ['prefixCls']),
      f = kt(l, `${l}-element`, { [`${l}-active`]: n, [`${l}-block`]: a }, t, i, c);
    return u(
      L.createElement(
        'div',
        { className: f },
        L.createElement(zs, Object.assign({ prefixCls: `${l}-button`, size: o }, h)),
      ),
    );
  },
  ab = nb;
var ob = {
  icon: {
    tag: 'svg',
    attrs: { viewBox: '64 64 896 896', focusable: 'false' },
    children: [
      {
        tag: 'path',
        attrs: {
          d: 'M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z',
        },
      },
    ],
  },
  name: 'dot-chart',
  theme: 'outlined',
};
const sb = ob;
var Cg = function (r, t) {
  return L.createElement(sw, Bf(Bf({}, r), {}, { ref: t, icon: sb }));
};
Cg.displayName = 'DotChartOutlined';
const lb = L.forwardRef(Cg),
  ub = (e) => {
    const { prefixCls: r, className: t, rootClassName: i, style: n, active: a, children: o } = e,
      { getPrefixCls: s } = L.useContext(le),
      l = s('skeleton', r),
      [u, c] = Mn(l),
      h = kt(l, `${l}-element`, { [`${l}-active`]: a }, c, t, i),
      f = o != null ? o : L.createElement(lb, null);
    return u(
      L.createElement(
        'div',
        { className: h },
        L.createElement('div', { className: kt(`${l}-image`, t), style: n }, f),
      ),
    );
  },
  cb = ub,
  hb =
    'M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z',
  fb = (e) => {
    const { prefixCls: r, className: t, rootClassName: i, style: n, active: a } = e,
      { getPrefixCls: o } = L.useContext(le),
      s = o('skeleton', r),
      [l, u] = Mn(s),
      c = kt(s, `${s}-element`, { [`${s}-active`]: a }, t, i, u);
    return l(
      L.createElement(
        'div',
        { className: c },
        L.createElement(
          'div',
          { className: kt(`${s}-image`, t), style: n },
          L.createElement(
            'svg',
            {
              viewBox: '0 0 1098 1024',
              xmlns: 'http://www.w3.org/2000/svg',
              className: `${s}-image-svg`,
            },
            L.createElement('path', { d: hb, className: `${s}-image-path` }),
          ),
        ),
      ),
    );
  },
  vb = fb,
  db = (e) => {
    const {
        prefixCls: r,
        className: t,
        rootClassName: i,
        active: n,
        block: a,
        size: o = 'default',
      } = e,
      { getPrefixCls: s } = L.useContext(le),
      l = s('skeleton', r),
      [u, c] = Mn(l),
      h = Xa(e, ['prefixCls']),
      f = kt(l, `${l}-element`, { [`${l}-active`]: n, [`${l}-block`]: a }, t, i, c);
    return u(
      L.createElement(
        'div',
        { className: f },
        L.createElement(zs, Object.assign({ prefixCls: `${l}-input`, size: o }, h)),
      ),
    );
  },
  pb = db,
  gb = (e) => {
    const r = (s) => {
        const { width: l, rows: u = 2 } = e;
        if (Array.isArray(l)) return l[s];
        if (u - 1 === s) return l;
      },
      { prefixCls: t, className: i, style: n, rows: a } = e,
      o = lw(Array(a)).map((s, l) => L.createElement('li', { key: l, style: { width: r(l) } }));
    return L.createElement('ul', { className: kt(t, i), style: n }, o);
  },
  yb = gb,
  mb = (e) => {
    let { prefixCls: r, className: t, width: i, style: n } = e;
    return L.createElement('h3', { className: kt(r, t), style: Object.assign({ width: i }, n) });
  },
  xb = mb;
function Vl(e) {
  return e && typeof e == 'object' ? e : {};
}
function wb(e, r) {
  return e && !r ? { size: 'large', shape: 'square' } : { size: 'large', shape: 'circle' };
}
function bb(e, r) {
  return !e && r ? { width: '38%' } : e && r ? { width: '50%' } : {};
}
function Sb(e, r) {
  const t = {};
  return (!e || !r) && (t.width = '61%'), !e && r ? (t.rows = 3) : (t.rows = 2), t;
}
const Fn = (e) => {
  const {
      prefixCls: r,
      loading: t,
      className: i,
      rootClassName: n,
      style: a,
      children: o,
      avatar: s = !1,
      title: l = !0,
      paragraph: u = !0,
      active: c,
      round: h,
    } = e,
    { getPrefixCls: f, direction: v } = L.useContext(le),
    d = f('skeleton', r),
    [p, g] = Mn(d);
  if (t || !('loading' in e)) {
    const y = !!s,
      m = !!l,
      b = !!u;
    let w;
    if (y) {
      const F = Object.assign(Object.assign({ prefixCls: `${d}-avatar` }, wb(m, b)), Vl(s));
      w = L.createElement(
        'div',
        { className: `${d}-header` },
        L.createElement(zs, Object.assign({}, F)),
      );
    }
    let S;
    if (m || b) {
      let F;
      if (m) {
        const k = Object.assign(Object.assign({ prefixCls: `${d}-title` }, bb(y, b)), Vl(l));
        F = L.createElement(xb, Object.assign({}, k));
      }
      let E;
      if (b) {
        const k = Object.assign(Object.assign({ prefixCls: `${d}-paragraph` }, Sb(y, m)), Vl(u));
        E = L.createElement(yb, Object.assign({}, k));
      }
      S = L.createElement('div', { className: `${d}-content` }, F, E);
    }
    const C = kt(
      d,
      { [`${d}-with-avatar`]: y, [`${d}-active`]: c, [`${d}-rtl`]: v === 'rtl', [`${d}-round`]: h },
      i,
      n,
      g,
    );
    return p(L.createElement('div', { className: C, style: a }, w, S));
  }
  return typeof o != 'undefined' ? o : null;
};
Fn.Button = ab;
Fn.Avatar = ib;
Fn.Input = pb;
Fn.Image = vb;
Fn.Node = cb;
const Cb = Fn;
var Ab =
  (globalThis && globalThis.__rest) ||
  function (e, r) {
    var t = {};
    for (var i in e)
      Object.prototype.hasOwnProperty.call(e, i) && r.indexOf(i) < 0 && (t[i] = e[i]);
    if (e != null && typeof Object.getOwnPropertySymbols == 'function')
      for (var n = 0, i = Object.getOwnPropertySymbols(e); n < i.length; n++)
        r.indexOf(i[n]) < 0 &&
          Object.prototype.propertyIsEnumerable.call(e, i[n]) &&
          (t[i[n]] = e[i[n]]);
    return t;
  };
const Mb = (e) => {
    var { prefixCls: r, className: t, hoverable: i = !0 } = e,
      n = Ab(e, ['prefixCls', 'className', 'hoverable']);
    const { getPrefixCls: a } = L.useContext(le),
      o = a('card', r),
      s = kt(`${o}-grid`, t, { [`${o}-grid-hoverable`]: i });
    return L.createElement('div', Object.assign({}, n, { className: s }));
  },
  Ag = Mb,
  Fb = (e) => {
    const {
      antCls: r,
      componentCls: t,
      cardHeadHeight: i,
      cardPaddingBase: n,
      cardHeadTabsMarginBottom: a,
    } = e;
    return Object.assign(
      Object.assign(
        {
          display: 'flex',
          justifyContent: 'center',
          flexDirection: 'column',
          minHeight: i,
          marginBottom: -1,
          padding: `0 ${n}px`,
          color: e.colorTextHeading,
          fontWeight: e.fontWeightStrong,
          fontSize: e.fontSizeLG,
          background: 'transparent',
          borderBottom: `${e.lineWidth}px ${e.lineType} ${e.colorBorderSecondary}`,
          borderRadius: `${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`,
        },
        Rs(),
      ),
      {
        '&-wrapper': { width: '100%', display: 'flex', alignItems: 'center' },
        '&-title': Object.assign(Object.assign({ display: 'inline-block', flex: 1 }, pg), {
          [`
          > ${t}-typography,
          > ${t}-typography-edit-content
        `]: { insetInlineStart: 0, marginTop: 0, marginBottom: 0 },
        }),
        [`${r}-tabs-top`]: {
          clear: 'both',
          marginBottom: a,
          color: e.colorText,
          fontWeight: 'normal',
          fontSize: e.fontSize,
          '&-bar': { borderBottom: `${e.lineWidth}px ${e.lineType} ${e.colorBorderSecondary}` },
        },
      },
    );
  },
  Eb = (e) => {
    const { cardPaddingBase: r, colorBorderSecondary: t, cardShadow: i, lineWidth: n } = e;
    return {
      width: '33.33%',
      padding: r,
      border: 0,
      borderRadius: 0,
      boxShadow: `
      ${n}px 0 0 0 ${t},
      0 ${n}px 0 0 ${t},
      ${n}px ${n}px 0 0 ${t},
      ${n}px 0 0 0 ${t} inset,
      0 ${n}px 0 0 ${t} inset;
    `,
      transition: `all ${e.motionDurationMid}`,
      '&-hoverable:hover': { position: 'relative', zIndex: 1, boxShadow: i },
    };
  },
  Tb = (e) => {
    const {
      componentCls: r,
      iconCls: t,
      cardActionsLiMargin: i,
      cardActionsIconSize: n,
      colorBorderSecondary: a,
    } = e;
    return Object.assign(
      Object.assign(
        {
          margin: 0,
          padding: 0,
          listStyle: 'none',
          background: e.colorBgContainer,
          borderTop: `${e.lineWidth}px ${e.lineType} ${a}`,
          display: 'flex',
          borderRadius: `0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px `,
        },
        Rs(),
      ),
      {
        '& > li': {
          margin: i,
          color: e.colorTextDescription,
          textAlign: 'center',
          '> span': {
            position: 'relative',
            display: 'block',
            minWidth: e.cardActionsIconSize * 2,
            fontSize: e.fontSize,
            lineHeight: e.lineHeight,
            cursor: 'pointer',
            '&:hover': { color: e.colorPrimary, transition: `color ${e.motionDurationMid}` },
            [`a:not(${r}-btn), > ${t}`]: {
              display: 'inline-block',
              width: '100%',
              color: e.colorTextDescription,
              lineHeight: `${e.fontSize * e.lineHeight}px`,
              transition: `color ${e.motionDurationMid}`,
              '&:hover': { color: e.colorPrimary },
            },
            [`> ${t}`]: { fontSize: n, lineHeight: `${n * e.lineHeight}px` },
          },
          '&:not(:last-child)': { borderInlineEnd: `${e.lineWidth}px ${e.lineType} ${a}` },
        },
      },
    );
  },
  kb = (e) =>
    Object.assign(Object.assign({ margin: `-${e.marginXXS}px 0`, display: 'flex' }, Rs()), {
      '&-avatar': { paddingInlineEnd: e.padding },
      '&-detail': {
        overflow: 'hidden',
        flex: 1,
        '> div:not(:last-child)': { marginBottom: e.marginXS },
      },
      '&-title': Object.assign(
        { color: e.colorTextHeading, fontWeight: e.fontWeightStrong, fontSize: e.fontSizeLG },
        pg,
      ),
      '&-description': { color: e.colorTextDescription },
    }),
  Ib = (e) => {
    const { componentCls: r, cardPaddingBase: t, colorFillAlter: i } = e;
    return {
      [`${r}-head`]: { padding: `0 ${t}px`, background: i, '&-title': { fontSize: e.fontSize } },
      [`${r}-body`]: { padding: `${e.padding}px ${t}px` },
    };
  },
  Lb = (e) => {
    const { componentCls: r } = e;
    return { overflow: 'hidden', [`${r}-body`]: { userSelect: 'none' } };
  },
  Ob = (e) => {
    const {
      componentCls: r,
      cardShadow: t,
      cardHeadPadding: i,
      colorBorderSecondary: n,
      boxShadowTertiary: a,
      cardPaddingBase: o,
    } = e;
    return {
      [r]: Object.assign(Object.assign({}, Bs(e)), {
        position: 'relative',
        background: e.colorBgContainer,
        borderRadius: e.borderRadiusLG,
        [`&:not(${r}-bordered)`]: { boxShadow: a },
        [`${r}-head`]: Fb(e),
        [`${r}-extra`]: {
          marginInlineStart: 'auto',
          color: '',
          fontWeight: 'normal',
          fontSize: e.fontSize,
        },
        [`${r}-body`]: Object.assign(
          { padding: o, borderRadius: ` 0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px` },
          Rs(),
        ),
        [`${r}-grid`]: Eb(e),
        [`${r}-cover`]: {
          '> *': { display: 'block', width: '100%' },
          img: { borderRadius: `${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0` },
        },
        [`${r}-actions`]: Tb(e),
        [`${r}-meta`]: kb(e),
      }),
      [`${r}-bordered`]: {
        border: `${e.lineWidth}px ${e.lineType} ${n}`,
        [`${r}-cover`]: { marginTop: -1, marginInlineStart: -1, marginInlineEnd: -1 },
      },
      [`${r}-hoverable`]: {
        cursor: 'pointer',
        transition: `box-shadow ${e.motionDurationMid}, border-color ${e.motionDurationMid}`,
        '&:hover': { borderColor: 'transparent', boxShadow: t },
      },
      [`${r}-contain-grid`]: {
        [`${r}-body`]: { display: 'flex', flexWrap: 'wrap' },
        [`&:not(${r}-loading) ${r}-body`]: {
          marginBlockStart: -e.lineWidth,
          marginInlineStart: -e.lineWidth,
          padding: 0,
        },
      },
      [`${r}-contain-tabs`]: {
        [`> ${r}-head`]: { [`${r}-head-title, ${r}-extra`]: { paddingTop: i } },
      },
      [`${r}-type-inner`]: Ib(e),
      [`${r}-loading`]: Lb(e),
      [`${r}-rtl`]: { direction: 'rtl' },
    };
  },
  Pb = (e) => {
    const { componentCls: r, cardPaddingSM: t, cardHeadHeightSM: i } = e;
    return {
      [`${r}-small`]: {
        [`> ${r}-head`]: {
          minHeight: i,
          padding: `0 ${t}px`,
          fontSize: e.fontSize,
          [`> ${r}-head-wrapper`]: { [`> ${r}-extra`]: { fontSize: e.fontSize } },
        },
        [`> ${r}-body`]: { padding: t },
      },
      [`${r}-small${r}-contain-tabs`]: {
        [`> ${r}-head`]: {
          [`${r}-head-title, ${r}-extra`]: {
            minHeight: i,
            paddingTop: 0,
            display: 'flex',
            alignItems: 'center',
          },
        },
      },
    };
  },
  Db = Ni('Card', (e) => {
    const r = An(e, {
      cardShadow: e.boxShadowCard,
      cardHeadHeight: e.fontSizeLG * e.lineHeightLG + e.padding * 2,
      cardHeadHeightSM: e.fontSize * e.lineHeight + e.paddingXS * 2,
      cardHeadPadding: e.padding,
      cardPaddingBase: e.paddingLG,
      cardHeadTabsMarginBottom: -e.padding - e.lineWidth,
      cardActionsLiMargin: `${e.paddingSM}px 0`,
      cardActionsIconSize: e.fontSize,
      cardPaddingSM: 12,
    });
    return [Ob(r), Pb(r)];
  });
var Bb =
  (globalThis && globalThis.__rest) ||
  function (e, r) {
    var t = {};
    for (var i in e)
      Object.prototype.hasOwnProperty.call(e, i) && r.indexOf(i) < 0 && (t[i] = e[i]);
    if (e != null && typeof Object.getOwnPropertySymbols == 'function')
      for (var n = 0, i = Object.getOwnPropertySymbols(e); n < i.length; n++)
        r.indexOf(i[n]) < 0 &&
          Object.prototype.propertyIsEnumerable.call(e, i[n]) &&
          (t[i[n]] = e[i[n]]);
    return t;
  };
function Rb(e) {
  return e.map((t, i) =>
    L.createElement(
      'li',
      { style: { width: `${100 / e.length}%` }, key: `action-${i}` },
      L.createElement('span', null, t),
    ),
  );
}
const $b = L.forwardRef((e, r) => {
    const { getPrefixCls: t, direction: i } = L.useContext(le),
      n = L.useContext(uw),
      a = (ot) => {
        var ct;
        (ct = e.onTabChange) === null || ct === void 0 || ct.call(e, ot);
      },
      o = () => {
        let ot;
        return (
          L.Children.forEach(e.children, (ct) => {
            ct && ct.type && ct.type === Ag && (ot = !0);
          }),
          ot
        );
      },
      {
        prefixCls: s,
        className: l,
        rootClassName: u,
        extra: c,
        headStyle: h = {},
        bodyStyle: f = {},
        title: v,
        loading: d,
        bordered: p = !0,
        size: g,
        type: y,
        cover: m,
        actions: b,
        tabList: w,
        children: S,
        activeTabKey: C,
        defaultActiveTabKey: F,
        tabBarExtraContent: E,
        hoverable: k,
        tabProps: T = {},
      } = e,
      O = Bb(e, [
        'prefixCls',
        'className',
        'rootClassName',
        'extra',
        'headStyle',
        'bodyStyle',
        'title',
        'loading',
        'bordered',
        'size',
        'type',
        'cover',
        'actions',
        'tabList',
        'children',
        'activeTabKey',
        'defaultActiveTabKey',
        'tabBarExtraContent',
        'hoverable',
        'tabProps',
      ]),
      P = t('card', s),
      [z, W] = Db(P),
      j = L.createElement(Cb, { loading: !0, active: !0, paragraph: { rows: 4 }, title: !1 }, S),
      D = C !== void 0,
      N = Object.assign(Object.assign({}, T), {
        [D ? 'activeKey' : 'defaultActiveKey']: D ? C : F,
        tabBarExtraContent: E,
      });
    let V;
    const H =
      w && w.length
        ? L.createElement(
            cw,
            Object.assign({ size: 'large' }, N, {
              className: `${P}-head-tabs`,
              onChange: a,
              items: w.map((ot) => {
                var ct;
                return {
                  label: ot.tab,
                  key: ot.key,
                  disabled: (ct = ot.disabled) !== null && ct !== void 0 ? ct : !1,
                };
              }),
            }),
          )
        : null;
    (v || c || H) &&
      (V = L.createElement(
        'div',
        { className: `${P}-head`, style: h },
        L.createElement(
          'div',
          { className: `${P}-head-wrapper` },
          v && L.createElement('div', { className: `${P}-head-title` }, v),
          c && L.createElement('div', { className: `${P}-extra` }, c),
        ),
        H,
      ));
    const G = m ? L.createElement('div', { className: `${P}-cover` }, m) : null,
      X = L.createElement('div', { className: `${P}-body`, style: f }, d ? j : S),
      Q = b && b.length ? L.createElement('ul', { className: `${P}-actions` }, Rb(b)) : null,
      J = Xa(O, ['onTabChange']),
      U = g || n,
      Z = kt(
        P,
        {
          [`${P}-loading`]: d,
          [`${P}-bordered`]: p,
          [`${P}-hoverable`]: k,
          [`${P}-contain-grid`]: o(),
          [`${P}-contain-tabs`]: w && w.length,
          [`${P}-${U}`]: U,
          [`${P}-type-${y}`]: !!y,
          [`${P}-rtl`]: i === 'rtl',
        },
        l,
        u,
        W,
      );
    return z(L.createElement('div', Object.assign({ ref: r }, J, { className: Z }), V, G, X, Q));
  }),
  Nb = $b;
var zb =
  (globalThis && globalThis.__rest) ||
  function (e, r) {
    var t = {};
    for (var i in e)
      Object.prototype.hasOwnProperty.call(e, i) && r.indexOf(i) < 0 && (t[i] = e[i]);
    if (e != null && typeof Object.getOwnPropertySymbols == 'function')
      for (var n = 0, i = Object.getOwnPropertySymbols(e); n < i.length; n++)
        r.indexOf(i[n]) < 0 &&
          Object.prototype.propertyIsEnumerable.call(e, i[n]) &&
          (t[i[n]] = e[i[n]]);
    return t;
  };
const Gb = (e) => {
    const { prefixCls: r, className: t, avatar: i, title: n, description: a } = e,
      o = zb(e, ['prefixCls', 'className', 'avatar', 'title', 'description']),
      { getPrefixCls: s } = L.useContext(le),
      l = s('card', r),
      u = kt(`${l}-meta`, t),
      c = i ? L.createElement('div', { className: `${l}-meta-avatar` }, i) : null,
      h = n ? L.createElement('div', { className: `${l}-meta-title` }, n) : null,
      f = a ? L.createElement('div', { className: `${l}-meta-description` }, a) : null,
      v = h || f ? L.createElement('div', { className: `${l}-meta-detail` }, h, f) : null;
    return L.createElement('div', Object.assign({}, o, { className: u }), c, v);
  },
  Hb = Gb,
  zc = Nb;
zc.Grid = Ag;
zc.Meta = Hb;
const Gn = zc,
  Vb = L.createContext({}),
  Mg = Vb,
  Yb = (e) => {
    const { componentCls: r } = e;
    return {
      [r]: {
        display: 'flex',
        flexFlow: 'row wrap',
        minWidth: 0,
        '&::before, &::after': { display: 'flex' },
        '&-no-wrap': { flexWrap: 'nowrap' },
        '&-start': { justifyContent: 'flex-start' },
        '&-center': { justifyContent: 'center' },
        '&-end': { justifyContent: 'flex-end' },
        '&-space-between': { justifyContent: 'space-between' },
        '&-space-around': { justifyContent: 'space-around' },
        '&-space-evenly': { justifyContent: 'space-evenly' },
        '&-top': { alignItems: 'flex-start' },
        '&-middle': { alignItems: 'center' },
        '&-bottom': { alignItems: 'flex-end' },
      },
    };
  },
  Wb = (e) => {
    const { componentCls: r } = e;
    return { [r]: { position: 'relative', maxWidth: '100%', minHeight: 1 } };
  },
  Xb = (e, r) => {
    const { componentCls: t, gridColumns: i } = e,
      n = {};
    for (let a = i; a >= 0; a--)
      a === 0
        ? ((n[`${t}${r}-${a}`] = { display: 'none' }),
          (n[`${t}-push-${a}`] = { insetInlineStart: 'auto' }),
          (n[`${t}-pull-${a}`] = { insetInlineEnd: 'auto' }),
          (n[`${t}${r}-push-${a}`] = { insetInlineStart: 'auto' }),
          (n[`${t}${r}-pull-${a}`] = { insetInlineEnd: 'auto' }),
          (n[`${t}${r}-offset-${a}`] = { marginInlineStart: 0 }),
          (n[`${t}${r}-order-${a}`] = { order: 0 }))
        : ((n[`${t}${r}-${a}`] = {
            display: 'block',
            flex: `0 0 ${(a / i) * 100}%`,
            maxWidth: `${(a / i) * 100}%`,
          }),
          (n[`${t}${r}-push-${a}`] = { insetInlineStart: `${(a / i) * 100}%` }),
          (n[`${t}${r}-pull-${a}`] = { insetInlineEnd: `${(a / i) * 100}%` }),
          (n[`${t}${r}-offset-${a}`] = { marginInlineStart: `${(a / i) * 100}%` }),
          (n[`${t}${r}-order-${a}`] = { order: a }));
    return n;
  },
  Bu = (e, r) => Xb(e, r),
  _b = (e, r, t) => ({ [`@media (min-width: ${r}px)`]: Object.assign({}, Bu(e, t)) }),
  jb = Ni('Grid', (e) => [Yb(e)]),
  Ub = Ni('Grid', (e) => {
    const r = An(e, { gridColumns: 24 }),
      t = {
        '-sm': r.screenSMMin,
        '-md': r.screenMDMin,
        '-lg': r.screenLGMin,
        '-xl': r.screenXLMin,
        '-xxl': r.screenXXLMin,
      };
    return [
      Wb(r),
      Bu(r, ''),
      Bu(r, '-xs'),
      Object.keys(t)
        .map((i) => _b(r, t[i], i))
        .reduce((i, n) => Object.assign(Object.assign({}, i), n), {}),
    ];
  });
var qb =
  (globalThis && globalThis.__rest) ||
  function (e, r) {
    var t = {};
    for (var i in e)
      Object.prototype.hasOwnProperty.call(e, i) && r.indexOf(i) < 0 && (t[i] = e[i]);
    if (e != null && typeof Object.getOwnPropertySymbols == 'function')
      for (var n = 0, i = Object.getOwnPropertySymbols(e); n < i.length; n++)
        r.indexOf(i[n]) < 0 &&
          Object.prototype.propertyIsEnumerable.call(e, i[n]) &&
          (t[i[n]] = e[i[n]]);
    return t;
  };
function Zb(e) {
  return typeof e == 'number'
    ? `${e} ${e} auto`
    : /^\d+(\.\d+)?(px|em|rem|%)$/.test(e)
    ? `0 0 ${e}`
    : e;
}
const Kb = ['xs', 'sm', 'md', 'lg', 'xl', 'xxl'],
  Qb = L.forwardRef((e, r) => {
    const { getPrefixCls: t, direction: i } = L.useContext(le),
      { gutter: n, wrap: a, supportFlexGap: o } = L.useContext(Mg),
      {
        prefixCls: s,
        span: l,
        order: u,
        offset: c,
        push: h,
        pull: f,
        className: v,
        children: d,
        flex: p,
        style: g,
      } = e,
      y = qb(e, [
        'prefixCls',
        'span',
        'order',
        'offset',
        'push',
        'pull',
        'className',
        'children',
        'flex',
        'style',
      ]),
      m = t('col', s),
      [b, w] = Ub(m);
    let S = {};
    Kb.forEach((E) => {
      let k = {};
      const T = e[E];
      typeof T == 'number' ? (k.span = T) : typeof T == 'object' && (k = T || {}),
        delete y[E],
        (S = Object.assign(Object.assign({}, S), {
          [`${m}-${E}-${k.span}`]: k.span !== void 0,
          [`${m}-${E}-order-${k.order}`]: k.order || k.order === 0,
          [`${m}-${E}-offset-${k.offset}`]: k.offset || k.offset === 0,
          [`${m}-${E}-push-${k.push}`]: k.push || k.push === 0,
          [`${m}-${E}-pull-${k.pull}`]: k.pull || k.pull === 0,
          [`${m}-rtl`]: i === 'rtl',
        }));
    });
    const C = kt(
        m,
        {
          [`${m}-${l}`]: l !== void 0,
          [`${m}-order-${u}`]: u,
          [`${m}-offset-${c}`]: c,
          [`${m}-push-${h}`]: h,
          [`${m}-pull-${f}`]: f,
        },
        v,
        S,
        w,
      ),
      F = {};
    if (n && n[0] > 0) {
      const E = n[0] / 2;
      (F.paddingLeft = E), (F.paddingRight = E);
    }
    if (n && n[1] > 0 && !o) {
      const E = n[1] / 2;
      (F.paddingTop = E), (F.paddingBottom = E);
    }
    return (
      p && ((F.flex = Zb(p)), a === !1 && !F.minWidth && (F.minWidth = 0)),
      b(
        L.createElement(
          'div',
          Object.assign({}, y, {
            style: Object.assign(Object.assign({}, F), g),
            className: C,
            ref: r,
          }),
          d,
        ),
      )
    );
  }),
  Hn = Qb;
var Jb =
  (globalThis && globalThis.__rest) ||
  function (e, r) {
    var t = {};
    for (var i in e)
      Object.prototype.hasOwnProperty.call(e, i) && r.indexOf(i) < 0 && (t[i] = e[i]);
    if (e != null && typeof Object.getOwnPropertySymbols == 'function')
      for (var n = 0, i = Object.getOwnPropertySymbols(e); n < i.length; n++)
        r.indexOf(i[n]) < 0 &&
          Object.prototype.propertyIsEnumerable.call(e, i[n]) &&
          (t[i[n]] = e[i[n]]);
    return t;
  };
function Nf(e, r) {
  const [t, i] = L.useState(typeof e == 'string' ? e : ''),
    n = () => {
      if ((typeof e == 'string' && i(e), typeof e == 'object'))
        for (let a = 0; a < cn.length; a++) {
          const o = cn[a];
          if (!r[o]) continue;
          const s = e[o];
          if (s !== void 0) {
            i(s);
            return;
          }
        }
    };
  return (
    L.useEffect(() => {
      n();
    }, [JSON.stringify(e), r]),
    t
  );
}
const tS = L.forwardRef((e, r) => {
    const {
        prefixCls: t,
        justify: i,
        align: n,
        className: a,
        style: o,
        children: s,
        gutter: l = 0,
        wrap: u,
      } = e,
      c = Jb(e, [
        'prefixCls',
        'justify',
        'align',
        'className',
        'style',
        'children',
        'gutter',
        'wrap',
      ]),
      { getPrefixCls: h, direction: f } = L.useContext(le),
      [v, d] = L.useState({ xs: !0, sm: !0, md: !0, lg: !0, xl: !0, xxl: !0 }),
      [p, g] = L.useState({ xs: !1, sm: !1, md: !1, lg: !1, xl: !1, xxl: !1 }),
      y = Nf(n, p),
      m = Nf(i, p),
      b = hw(),
      w = L.useRef(l),
      S = yg();
    L.useEffect(() => {
      const V = S.subscribe((H) => {
        g(H);
        const G = w.current || 0;
        ((!Array.isArray(G) && typeof G == 'object') ||
          (Array.isArray(G) && (typeof G[0] == 'object' || typeof G[1] == 'object'))) &&
          d(H);
      });
      return () => S.unsubscribe(V);
    }, []);
    const C = () => {
        const V = [void 0, void 0];
        return (
          (Array.isArray(l) ? l : [l, void 0]).forEach((G, X) => {
            if (typeof G == 'object')
              for (let Q = 0; Q < cn.length; Q++) {
                const J = cn[Q];
                if (v[J] && G[J] !== void 0) {
                  V[X] = G[J];
                  break;
                }
              }
            else V[X] = G;
          }),
          V
        );
      },
      F = h('row', t),
      [E, k] = jb(F),
      T = C(),
      O = kt(
        F,
        {
          [`${F}-no-wrap`]: u === !1,
          [`${F}-${m}`]: m,
          [`${F}-${y}`]: y,
          [`${F}-rtl`]: f === 'rtl',
        },
        a,
        k,
      ),
      P = {},
      z = T[0] != null && T[0] > 0 ? T[0] / -2 : void 0,
      W = T[1] != null && T[1] > 0 ? T[1] / -2 : void 0;
    z && ((P.marginLeft = z), (P.marginRight = z)),
      b ? ([, P.rowGap] = T) : W && ((P.marginTop = W), (P.marginBottom = W));
    const [j, D] = T,
      N = L.useMemo(() => ({ gutter: [j, D], wrap: u, supportFlexGap: b }), [j, D, u, b]);
    return E(
      L.createElement(
        Mg.Provider,
        { value: N },
        L.createElement(
          'div',
          Object.assign({}, c, {
            className: O,
            style: Object.assign(Object.assign({}, P), o),
            ref: r,
          }),
          s,
        ),
      ),
    );
  }),
  eS = tS;
var rS = {
    className: '',
    percent: 0,
    prefixCls: 'rc-progress',
    strokeColor: '#2db7f5',
    strokeLinecap: 'round',
    strokeWidth: 1,
    style: {},
    trailColor: '#D9D9D9',
    trailWidth: 1,
    gapPosition: 'bottom',
  },
  iS = function () {
    var r = L.useRef([]),
      t = L.useRef(null);
    return (
      L.useEffect(function () {
        var i = Date.now(),
          n = !1;
        r.current.forEach(function (a) {
          if (a) {
            n = !0;
            var o = a.style;
            (o.transitionDuration = '.3s, .3s, .3s, .06s'),
              t.current && i - t.current < 100 && (o.transitionDuration = '0s, 0s');
          }
        }),
          n && (t.current = Date.now());
      }),
      r.current
    );
  },
  zf = 0,
  nS = vw();
function aS() {
  var e;
  return nS ? ((e = zf), (zf += 1)) : (e = 'TEST_OR_SSR'), e;
}
const oS = function (e) {
  var r = L.useState(),
    t = fw(r, 2),
    i = t[0],
    n = t[1];
  return (
    L.useEffect(function () {
      n('rc_progress_'.concat(aS()));
    }, []),
    e || i
  );
};
var sS = [
  'id',
  'prefixCls',
  'steps',
  'strokeWidth',
  'trailWidth',
  'gapDegree',
  'gapPosition',
  'trailColor',
  'strokeLinecap',
  'style',
  'className',
  'strokeColor',
  'percent',
];
function Gf(e) {
  return +e.replace('%', '');
}
function Hf(e) {
  var r = e != null ? e : [];
  return Array.isArray(r) ? r : [r];
}
var Vn = 100,
  Yl = function (r, t, i, n, a, o, s, l, u, c) {
    var h = arguments.length > 10 && arguments[10] !== void 0 ? arguments[10] : 0,
      f = (i / 100) * 360 * ((360 - o) / 360),
      v = o === 0 ? 0 : { bottom: 0, top: 180, left: 90, right: -90 }[s],
      d = ((100 - n) / 100) * t;
    return (
      u === 'round' && n !== 100 && ((d += c / 2), d >= t && (d = t - 0.01)),
      {
        stroke: typeof l == 'string' ? l : void 0,
        strokeDasharray: ''.concat(t, 'px ').concat(r),
        strokeDashoffset: d + h,
        transform: 'rotate('.concat(a + f + v, 'deg)'),
        transformOrigin: '0 0',
        transition:
          'stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s',
        fillOpacity: 0,
      }
    );
  },
  Gc = function (r) {
    var t = r.id,
      i = r.prefixCls,
      n = r.steps,
      a = r.strokeWidth,
      o = r.trailWidth,
      s = r.gapDegree,
      l = s === void 0 ? 0 : s,
      u = r.gapPosition,
      c = r.trailColor,
      h = r.strokeLinecap,
      f = r.style,
      v = r.className,
      d = r.strokeColor,
      p = r.percent,
      g = dw(r, sS),
      y = oS(t),
      m = ''.concat(y, '-gradient'),
      b = Vn / 2 - a / 2,
      w = Math.PI * 2 * b,
      S = l > 0 ? 90 + l / 2 : -90,
      C = w * ((360 - l) / 360),
      F = co(n) === 'object' ? n : { count: n, space: 2 },
      E = F.count,
      k = F.space,
      T = Yl(w, C, 0, 100, S, l, u, c, h, a),
      O = Hf(p),
      P = Hf(d),
      z = P.find(function (N) {
        return N && co(N) === 'object';
      }),
      W = iS(),
      j = function () {
        var V = 0;
        return O.map(function (H, G) {
          var X = P[G] || P[P.length - 1],
            Q = X && co(X) === 'object' ? 'url(#'.concat(m, ')') : void 0,
            J = Yl(w, C, V, H, S, l, u, X, h, a);
          return (
            (V += H),
            L.createElement('circle', {
              key: G,
              className: ''.concat(i, '-circle-path'),
              r: b,
              cx: 0,
              cy: 0,
              stroke: Q,
              strokeLinecap: h,
              strokeWidth: a,
              opacity: H === 0 ? 0 : 1,
              style: J,
              ref: function (Z) {
                W[G] = Z;
              },
            })
          );
        }).reverse();
      },
      D = function () {
        var V = Math.round(E * (O[0] / 100)),
          H = 100 / E,
          G = 0;
        return new Array(E).fill(null).map(function (X, Q) {
          var J = Q <= V - 1 ? P[0] : c,
            U = J && co(J) === 'object' ? 'url(#'.concat(m, ')') : void 0,
            Z = Yl(w, C, G, H, S, l, u, J, 'butt', a, k);
          return (
            (G += ((C - Z.strokeDashoffset + k) * 100) / C),
            L.createElement('circle', {
              key: Q,
              className: ''.concat(i, '-circle-path'),
              r: b,
              cx: 0,
              cy: 0,
              stroke: U,
              strokeWidth: a,
              opacity: 1,
              style: Z,
              ref: function (ct) {
                W[Q] = ct;
              },
            })
          );
        });
      };
    return L.createElement(
      'svg',
      pw(
        {
          className: kt(''.concat(i, '-circle'), v),
          viewBox: ''
            .concat(-Vn / 2, ' ')
            .concat(-Vn / 2, ' ')
            .concat(Vn, ' ')
            .concat(Vn),
          style: f,
          id: t,
          role: 'presentation',
        },
        g,
      ),
      z &&
        L.createElement(
          'defs',
          null,
          L.createElement(
            'linearGradient',
            { id: m, x1: '100%', y1: '0%', x2: '0%', y2: '0%' },
            Object.keys(z)
              .sort(function (N, V) {
                return Gf(N) - Gf(V);
              })
              .map(function (N, V) {
                return L.createElement('stop', { key: V, offset: N, stopColor: z[N] });
              }),
          ),
        ),
      !E &&
        L.createElement('circle', {
          className: ''.concat(i, '-circle-trail'),
          r: b,
          cx: 0,
          cy: 0,
          stroke: c,
          strokeLinecap: h,
          strokeWidth: o || a,
          style: T,
        }),
      E ? D() : j(),
    );
  };
Gc.defaultProps = rS;
Gc.displayName = 'Circle';
function bi(e) {
  return !e || e < 0 ? 0 : e > 100 ? 100 : e;
}
function ss(e) {
  let { success: r, successPercent: t } = e,
    i = t;
  return r && 'progress' in r && (i = r.progress), r && 'percent' in r && (i = r.percent), i;
}
const lS = (e) => {
    let { percent: r, success: t, successPercent: i } = e;
    const n = bi(ss({ success: t, successPercent: i }));
    return [n, bi(bi(r) - n)];
  },
  uS = (e) => {
    let { success: r = {}, strokeColor: t } = e;
    const { strokeColor: i } = r;
    return [i || Pu.green, t || null];
  },
  Hs = (e, r, t) => {
    var i, n, a, o;
    let s = -1,
      l = -1;
    if (r === 'step') {
      const u = t.steps,
        c = t.strokeWidth;
      typeof e == 'string' || typeof e == 'undefined'
        ? ((s = e === 'small' ? 2 : 14), (l = c != null ? c : 8))
        : typeof e == 'number'
        ? ([s, l] = [e, e])
        : ([s = 14, l = 8] = e),
        (s *= u);
    } else if (r === 'line') {
      const u = t == null ? void 0 : t.strokeWidth;
      typeof e == 'string' || typeof e == 'undefined'
        ? (l = u || (e === 'small' ? 6 : 8))
        : typeof e == 'number'
        ? ([s, l] = [e, e])
        : ([s = -1, l = 8] = e);
    } else
      (r === 'circle' || r === 'dashboard') &&
        (typeof e == 'string' || typeof e == 'undefined'
          ? ([s, l] = e === 'small' ? [60, 60] : [120, 120])
          : typeof e == 'number'
          ? ([s, l] = [e, e])
          : ((s =
              (n = (i = e[0]) !== null && i !== void 0 ? i : e[1]) !== null && n !== void 0
                ? n
                : 120),
            (l =
              (o = (a = e[0]) !== null && a !== void 0 ? a : e[1]) !== null && o !== void 0
                ? o
                : 120)));
    return [s, l];
  },
  cS = 3,
  hS = (e) => (cS / e) * 100,
  fS = (e) => {
    const {
        prefixCls: r,
        trailColor: t = null,
        strokeLinecap: i = 'round',
        gapPosition: n,
        gapDegree: a,
        width: o = 120,
        type: s,
        children: l,
        success: u,
        size: c,
      } = e,
      h = c != null ? c : [o, o],
      [f, v] = Hs(h, 'circle');
    let { strokeWidth: d } = e;
    d === void 0 && (d = Math.max(hS(f), 6));
    const p = { width: f, height: v, fontSize: f * 0.15 + 6 },
      g = L.useMemo(() => {
        if (a || a === 0) return a;
        if (s === 'dashboard') return 75;
      }, [a, s]),
      y = n || (s === 'dashboard' && 'bottom') || void 0,
      m = Object.prototype.toString.call(e.strokeColor) === '[object Object]',
      b = uS({ success: u, strokeColor: e.strokeColor }),
      w = kt(`${r}-inner`, { [`${r}-circle-gradient`]: m }),
      S = L.createElement(Gc, {
        percent: lS(e),
        strokeWidth: d,
        trailWidth: d,
        strokeColor: b,
        strokeLinecap: i,
        trailColor: t,
        prefixCls: r,
        gapDegree: g,
        gapPosition: y,
      });
    return L.createElement(
      'div',
      { className: w, style: p },
      f <= 20
        ? L.createElement(vg, { title: l }, L.createElement('span', null, S))
        : L.createElement(L.Fragment, null, S, l),
    );
  },
  vS = fS;
var dS =
  (globalThis && globalThis.__rest) ||
  function (e, r) {
    var t = {};
    for (var i in e)
      Object.prototype.hasOwnProperty.call(e, i) && r.indexOf(i) < 0 && (t[i] = e[i]);
    if (e != null && typeof Object.getOwnPropertySymbols == 'function')
      for (var n = 0, i = Object.getOwnPropertySymbols(e); n < i.length; n++)
        r.indexOf(i[n]) < 0 &&
          Object.prototype.propertyIsEnumerable.call(e, i[n]) &&
          (t[i[n]] = e[i[n]]);
    return t;
  };
const pS = (e) => {
    let r = [];
    return (
      Object.keys(e).forEach((t) => {
        const i = parseFloat(t.replace(/%/g, ''));
        isNaN(i) || r.push({ key: i, value: e[t] });
      }),
      (r = r.sort((t, i) => t.key - i.key)),
      r
        .map((t) => {
          let { key: i, value: n } = t;
          return `${n} ${i}%`;
        })
        .join(', ')
    );
  },
  gS = (e, r) => {
    const {
        from: t = Pu.blue,
        to: i = Pu.blue,
        direction: n = r === 'rtl' ? 'to left' : 'to right',
      } = e,
      a = dS(e, ['from', 'to', 'direction']);
    if (Object.keys(a).length !== 0) {
      const o = pS(a);
      return { backgroundImage: `linear-gradient(${n}, ${o})` };
    }
    return { backgroundImage: `linear-gradient(${n}, ${t}, ${i})` };
  },
  yS = (e) => {
    const {
        prefixCls: r,
        direction: t,
        percent: i,
        size: n,
        strokeWidth: a,
        strokeColor: o,
        strokeLinecap: s = 'round',
        children: l,
        trailColor: u = null,
        success: c,
      } = e,
      h = o && typeof o != 'string' ? gS(o, t) : { backgroundColor: o },
      f = s === 'square' || s === 'butt' ? 0 : void 0,
      v = { backgroundColor: u || void 0, borderRadius: f },
      d = n != null ? n : [-1, a || (n === 'small' ? 6 : 8)],
      [p, g] = Hs(d, 'line', { strokeWidth: a }),
      y = Object.assign({ width: `${bi(i)}%`, height: g, borderRadius: f }, h),
      m = ss(e),
      b = {
        width: `${bi(m)}%`,
        height: g,
        borderRadius: f,
        backgroundColor: c == null ? void 0 : c.strokeColor,
      },
      w = { width: p < 0 ? '100%' : p, height: g };
    return L.createElement(
      L.Fragment,
      null,
      L.createElement(
        'div',
        { className: `${r}-outer`, style: w },
        L.createElement(
          'div',
          { className: `${r}-inner`, style: v },
          L.createElement('div', { className: `${r}-bg`, style: y }),
          m !== void 0 ? L.createElement('div', { className: `${r}-success-bg`, style: b }) : null,
        ),
      ),
      l,
    );
  },
  mS = yS,
  xS = (e) => {
    const {
        size: r,
        steps: t,
        percent: i = 0,
        strokeWidth: n = 8,
        strokeColor: a,
        trailColor: o = null,
        prefixCls: s,
        children: l,
      } = e,
      u = Math.round(t * (i / 100)),
      c = r === 'small' ? 2 : 14,
      h = r != null ? r : [c, n],
      [f, v] = Hs(h, 'step', { steps: t, strokeWidth: n }),
      d = f / t,
      p = new Array(t);
    for (let g = 0; g < t; g++) {
      const y = Array.isArray(a) ? a[g] : a;
      p[g] = L.createElement('div', {
        key: g,
        className: kt(`${s}-steps-item`, { [`${s}-steps-item-active`]: g <= u - 1 }),
        style: { backgroundColor: g <= u - 1 ? y : o, width: d, height: v },
      });
    }
    return L.createElement('div', { className: `${s}-steps-outer` }, p, l);
  },
  wS = xS,
  bS = new dg('antProgressActive', {
    '0%': { transform: 'translateX(-100%) scaleX(0)', opacity: 0.1 },
    '20%': { transform: 'translateX(-100%) scaleX(0)', opacity: 0.5 },
    to: { transform: 'translateX(0) scaleX(1)', opacity: 0 },
  }),
  SS = (e) => {
    const { componentCls: r, iconCls: t } = e;
    return {
      [r]: Object.assign(Object.assign({}, Bs(e)), {
        display: 'inline-block',
        '&-rtl': { direction: 'rtl' },
        '&-line': {
          position: 'relative',
          width: '100%',
          fontSize: e.fontSize,
          marginInlineEnd: e.marginXS,
          marginBottom: e.marginXS,
        },
        [`${r}-outer`]: { display: 'inline-block', width: '100%' },
        [`&${r}-show-info`]: {
          [`${r}-outer`]: {
            marginInlineEnd: `calc(-2em - ${e.marginXS}px)`,
            paddingInlineEnd: `calc(2em + ${e.paddingXS}px)`,
          },
        },
        [`${r}-inner`]: {
          position: 'relative',
          display: 'inline-block',
          width: '100%',
          overflow: 'hidden',
          verticalAlign: 'middle',
          backgroundColor: e.progressRemainingColor,
          borderRadius: e.progressLineRadius,
        },
        [`${r}-inner:not(${r}-circle-gradient)`]: { [`${r}-circle-path`]: { stroke: e.colorInfo } },
        [`${r}-success-bg, ${r}-bg`]: {
          position: 'relative',
          backgroundColor: e.colorInfo,
          borderRadius: e.progressLineRadius,
          transition: `all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`,
        },
        [`${r}-success-bg`]: {
          position: 'absolute',
          insetBlockStart: 0,
          insetInlineStart: 0,
          backgroundColor: e.colorSuccess,
        },
        [`${r}-text`]: {
          display: 'inline-block',
          width: '2em',
          marginInlineStart: e.marginXS,
          color: e.progressInfoTextColor,
          lineHeight: 1,
          whiteSpace: 'nowrap',
          textAlign: 'start',
          verticalAlign: 'middle',
          wordBreak: 'normal',
          [t]: { fontSize: e.fontSize },
        },
        [`&${r}-status-active`]: {
          [`${r}-bg::before`]: {
            position: 'absolute',
            inset: 0,
            backgroundColor: e.colorBgContainer,
            borderRadius: e.progressLineRadius,
            opacity: 0,
            animationName: bS,
            animationDuration: e.progressActiveMotionDuration,
            animationTimingFunction: e.motionEaseOutQuint,
            animationIterationCount: 'infinite',
            content: '""',
          },
        },
        [`&${r}-status-exception`]: {
          [`${r}-bg`]: { backgroundColor: e.colorError },
          [`${r}-text`]: { color: e.colorError },
        },
        [`&${r}-status-exception ${r}-inner:not(${r}-circle-gradient)`]: {
          [`${r}-circle-path`]: { stroke: e.colorError },
        },
        [`&${r}-status-success`]: {
          [`${r}-bg`]: { backgroundColor: e.colorSuccess },
          [`${r}-text`]: { color: e.colorSuccess },
        },
        [`&${r}-status-success ${r}-inner:not(${r}-circle-gradient)`]: {
          [`${r}-circle-path`]: { stroke: e.colorSuccess },
        },
      }),
    };
  },
  CS = (e) => {
    const { componentCls: r, iconCls: t } = e;
    return {
      [r]: {
        [`${r}-circle-trail`]: { stroke: e.progressRemainingColor },
        [`&${r}-circle ${r}-inner`]: {
          position: 'relative',
          lineHeight: 1,
          backgroundColor: 'transparent',
        },
        [`&${r}-circle ${r}-text`]: {
          position: 'absolute',
          insetBlockStart: '50%',
          insetInlineStart: 0,
          width: '100%',
          margin: 0,
          padding: 0,
          color: e.colorText,
          lineHeight: 1,
          whiteSpace: 'normal',
          textAlign: 'center',
          transform: 'translateY(-50%)',
          [t]: { fontSize: `${e.fontSize / e.fontSizeSM}em` },
        },
        [`${r}-circle&-status-exception`]: { [`${r}-text`]: { color: e.colorError } },
        [`${r}-circle&-status-success`]: { [`${r}-text`]: { color: e.colorSuccess } },
      },
      [`${r}-inline-circle`]: { lineHeight: 1, [`${r}-inner`]: { verticalAlign: 'bottom' } },
    };
  },
  AS = (e) => {
    const { componentCls: r } = e;
    return {
      [r]: {
        [`${r}-steps`]: {
          display: 'inline-block',
          '&-outer': { display: 'flex', flexDirection: 'row', alignItems: 'center' },
          '&-item': {
            flexShrink: 0,
            minWidth: e.progressStepMinWidth,
            marginInlineEnd: e.progressStepMarginInlineEnd,
            backgroundColor: e.progressRemainingColor,
            transition: `all ${e.motionDurationSlow}`,
            '&-active': { backgroundColor: e.colorInfo },
          },
        },
      },
    };
  },
  MS = (e) => {
    const { componentCls: r, iconCls: t } = e;
    return {
      [r]: { [`${r}-small&-line, ${r}-small&-line ${r}-text ${t}`]: { fontSize: e.fontSizeSM } },
    };
  },
  FS = Ni('Progress', (e) => {
    const r = e.marginXXS / 2,
      t = An(e, {
        progressLineRadius: 100,
        progressInfoTextColor: e.colorText,
        progressDefaultColor: e.colorInfo,
        progressRemainingColor: e.colorFillSecondary,
        progressStepMarginInlineEnd: r,
        progressStepMinWidth: r,
        progressActiveMotionDuration: '2.4s',
      });
    return [SS(t), CS(t), AS(t), MS(t)];
  });
var ES =
  (globalThis && globalThis.__rest) ||
  function (e, r) {
    var t = {};
    for (var i in e)
      Object.prototype.hasOwnProperty.call(e, i) && r.indexOf(i) < 0 && (t[i] = e[i]);
    if (e != null && typeof Object.getOwnPropertySymbols == 'function')
      for (var n = 0, i = Object.getOwnPropertySymbols(e); n < i.length; n++)
        r.indexOf(i[n]) < 0 &&
          Object.prototype.propertyIsEnumerable.call(e, i[n]) &&
          (t[i[n]] = e[i[n]]);
    return t;
  };
const TS = ['normal', 'exception', 'active', 'success'],
  kS = (e) => {
    const {
        prefixCls: r,
        className: t,
        rootClassName: i,
        steps: n,
        strokeColor: a,
        percent: o = 0,
        size: s = 'default',
        showInfo: l = !0,
        type: u = 'line',
        status: c,
        format: h,
      } = e,
      f = ES(e, [
        'prefixCls',
        'className',
        'rootClassName',
        'steps',
        'strokeColor',
        'percent',
        'size',
        'showInfo',
        'type',
        'status',
        'format',
      ]),
      v = L.useMemo(() => {
        var k, T;
        const O = ss(e);
        return parseInt(
          O !== void 0
            ? (k = O != null ? O : 0) === null || k === void 0
              ? void 0
              : k.toString()
            : (T = o != null ? o : 0) === null || T === void 0
            ? void 0
            : T.toString(),
          10,
        );
      }, [o, e.success, e.successPercent]),
      d = L.useMemo(() => (!TS.includes(c) && v >= 100 ? 'success' : c || 'normal'), [c, v]),
      { getPrefixCls: p, direction: g } = L.useContext(le),
      y = p('progress', r),
      [m, b] = FS(y),
      w = L.useMemo(() => {
        if (!l) return null;
        const k = ss(e);
        let T;
        const O = h || ((z) => `${z}%`),
          P = u === 'line';
        return (
          h || (d !== 'exception' && d !== 'success')
            ? (T = O(bi(o), bi(k)))
            : d === 'exception'
            ? (T = P ? L.createElement(gw, null) : L.createElement(yw, null))
            : d === 'success' && (T = P ? L.createElement(mw, null) : L.createElement(xw, null)),
          L.createElement(
            'span',
            { className: `${y}-text`, title: typeof T == 'string' ? T : void 0 },
            T,
          )
        );
      }, [l, o, v, d, u, y, h]),
      S = Array.isArray(a) ? a[0] : a,
      C = typeof a == 'string' || Array.isArray(a) ? a : void 0;
    let F;
    u === 'line'
      ? (F = n
          ? L.createElement(wS, Object.assign({}, e, { strokeColor: C, prefixCls: y, steps: n }), w)
          : L.createElement(
              mS,
              Object.assign({}, e, { strokeColor: S, prefixCls: y, direction: g }),
              w,
            ))
      : (u === 'circle' || u === 'dashboard') &&
        (F = L.createElement(
          vS,
          Object.assign({}, e, { strokeColor: S, prefixCls: y, progressStatus: d }),
          w,
        ));
    const E = kt(
      y,
      {
        [`${y}-inline-circle`]: u === 'circle' && Hs(s, 'circle')[0] <= 20,
        [`${y}-${(u === 'dashboard' && 'circle') || (n && 'steps') || u}`]: !0,
        [`${y}-status-${d}`]: !0,
        [`${y}-show-info`]: l,
        [`${y}-${s}`]: typeof s == 'string',
        [`${y}-rtl`]: g === 'rtl',
      },
      t,
      i,
      b,
    );
    return m(
      L.createElement(
        'div',
        Object.assign(
          { className: E, role: 'progressbar' },
          Xa(f, [
            'trailColor',
            'strokeWidth',
            'width',
            'gapDegree',
            'gapPosition',
            'strokeLinecap',
            'success',
            'successPercent',
          ]),
        ),
        F,
      ),
    );
  },
  IS = kS;
const LS = (e) => ({
  ['.numerical-value']: {
    display: 'flex',
    justifyContent: 'space-between',
    alignItems: 'flex-end',
    marginBottom: '10px',
    ['.number']: { color: e.colorText, fontSize: e.fontSizeHeading4, fontWeight: 600 },
  },
});
var Ee = function (e) {
    return e !== null && typeof e != 'function' && isFinite(e.length);
  },
  fi = function (e, r) {
    return Ee(e) ? e.indexOf(r) > -1 : !1;
  },
  Qt = function (e, r) {
    if (!Ee(e)) return e;
    for (var t = [], i = 0; i < e.length; i++) {
      var n = e[i];
      r(n, i) && t.push(n);
    }
    return t;
  },
  OS = function (e, r) {
    return (
      r === void 0 && (r = []),
      Qt(e, function (t) {
        return !fi(r, t);
      })
    );
  },
  PS = {}.toString,
  ri = function (e, r) {
    return PS.call(e) === '[object ' + r + ']';
  };
const q = function (e) {
  return ri(e, 'Function');
};
var R = function (e) {
  return e == null;
};
const $ = function (e) {
    return Array.isArray ? Array.isArray(e) : ri(e, 'Array');
  },
  yt = function (e) {
    var r = typeof e;
    return (e !== null && r === 'object') || r === 'function';
  };
function A(e, r) {
  if (e) {
    var t;
    if ($(e)) for (var i = 0, n = e.length; i < n && ((t = r(e[i], i)), t !== !1); i++);
    else if (yt(e)) {
      for (var a in e) if (e.hasOwnProperty(a) && ((t = r(e[a], a)), t === !1)) break;
    }
  }
}
var En = Object.keys
  ? function (e) {
      return Object.keys(e);
    }
  : function (e) {
      var r = [];
      return (
        A(e, function (t, i) {
          (q(e) && i === 'prototype') || r.push(i);
        }),
        r
      );
    };
function Fg(e, r) {
  var t = En(r),
    i = t.length;
  if (R(e)) return !i;
  for (var n = 0; n < i; n += 1) {
    var a = t[n];
    if (r[a] !== e[a] || !(a in e)) return !1;
  }
  return !0;
}
var Ru = function (e) {
    return typeof e == 'object' && e !== null;
  },
  rr = function (e) {
    if (!Ru(e) || !ri(e, 'Object')) return !1;
    if (Object.getPrototypeOf(e) === null) return !0;
    for (var r = e; Object.getPrototypeOf(r) !== null; ) r = Object.getPrototypeOf(r);
    return Object.getPrototypeOf(e) === r;
  };
function We(e, r) {
  if (!$(e)) return null;
  var t;
  if (
    (q(r) && (t = r),
    rr(r) &&
      (t = function (n) {
        return Fg(n, r);
      }),
    t)
  ) {
    for (var i = 0; i < e.length; i += 1) if (t(e[i])) return e[i];
  }
  return null;
}
function Eg(e, r, t) {
  t === void 0 && (t = 0);
  for (var i = t; i < e.length; i++) if (r(e[i], i)) return i;
  return -1;
}
var DS = function (e, r) {
    for (var t = null, i = 0; i < e.length; i++) {
      var n = e[i],
        a = n[r];
      if (!R(a)) {
        $(a) ? (t = a[0]) : (t = a);
        break;
      }
    }
    return t;
  },
  Te = function (e) {
    if (!$(e)) return [];
    for (var r = [], t = 0; t < e.length; t++) r = r.concat(e[t]);
    return r;
  };
const te = function (e) {
    if ($(e))
      return e.reduce(function (r, t) {
        return Math.max(r, t);
      }, e[0]);
  },
  ae = function (e) {
    if ($(e))
      return e.reduce(function (r, t) {
        return Math.min(r, t);
      }, e[0]);
  };
var Tg = function (e) {
    var r = e.filter(function (o) {
      return !isNaN(o);
    });
    if (!r.length) return { min: 0, max: 0 };
    if ($(e[0])) {
      for (var t = [], i = 0; i < e.length; i++) t = t.concat(e[i]);
      r = t;
    }
    var n = te(r),
      a = ae(r);
    return { min: a, max: n };
  },
  BS = Array.prototype.splice,
  RS = function (r, t) {
    if (!Ee(r)) return [];
    for (var i = r ? t.length : 0, n = i - 1; i--; ) {
      var a = void 0,
        o = t[i];
      (i === n || o !== a) && ((a = o), BS.call(r, o, 1));
    }
    return r;
  },
  oe = function (e, r, t) {
    if (!$(e) && !rr(e)) return e;
    var i = t;
    return (
      A(e, function (n, a) {
        i = r(i, n, a);
      }),
      i
    );
  },
  $S = function (e, r) {
    var t = [];
    if (!Ee(e)) return t;
    for (var i = -1, n = [], a = e.length; ++i < a; ) {
      var o = e[i];
      r(o, i, e) && (t.push(o), n.push(i));
    }
    return RS(e, n), t;
  };
const et = function (e) {
  return ri(e, 'String');
};
function NS(e, r) {
  var t;
  if (q(r))
    t = function (n, a) {
      return r(n) - r(a);
    };
  else {
    var i = [];
    et(r) ? i.push(r) : $(r) && (i = r),
      (t = function (n, a) {
        for (var o = 0; o < i.length; o += 1) {
          var s = i[o];
          if (n[s] > a[s]) return 1;
          if (n[s] < a[s]) return -1;
        }
        return 0;
      });
  }
  return e.sort(t), e;
}
function Ii(e, r) {
  r === void 0 && (r = new Map());
  var t = [];
  if (Array.isArray(e))
    for (var i = 0, n = e.length; i < n; i++) {
      var a = e[i];
      r.has(a) || (t.push(a), r.set(a, !0));
    }
  return t;
}
const _e = function (e, r) {
  for (var t = [], i = {}, n = 0; n < e.length; n++) {
    var a = e[n],
      o = a[r];
    if (!R(o)) {
      $(o) || (o = [o]);
      for (var s = 0; s < o.length; s++) {
        var l = o[s];
        i[l] || (t.push(l), (i[l] = !0));
      }
    }
  }
  return t;
};
function Me(e) {
  if (Ee(e)) return e[0];
}
function Vt(e) {
  if (Ee(e)) {
    var r = e;
    return r[r.length - 1];
  }
}
var Hc = function (e, r) {
    for (var t = 0; t < e.length; t++) if (!r(e[t], t)) return !1;
    return !0;
  },
  Vs = function (e, r) {
    for (var t = 0; t < e.length; t++) if (r(e[t], t)) return !0;
    return !1;
  },
  zS = Object.prototype.hasOwnProperty;
function Fe(e, r) {
  if (!r || !$(e)) return {};
  for (
    var t = {},
      i = q(r)
        ? r
        : function (s) {
            return s[r];
          },
      n,
      a = 0;
    a < e.length;
    a++
  ) {
    var o = e[a];
    (n = i(o)), zS.call(t, n) ? t[n].push(o) : (t[n] = [o]);
  }
  return t;
}
function kg(e, r) {
  if (!r) return { 0: e };
  if (!q(r)) {
    var t = $(r) ? r : r.replace(/\s+/g, '').split('*');
    r = function (i) {
      for (var n = '_', a = 0, o = t.length; a < o; a++) n += i[t[a]] && i[t[a]].toString();
      return n;
    };
  }
  return Fe(e, r);
}
const GS = function (e, r) {
  if (!r) return [e];
  var t = kg(e, r),
    i = [];
  for (var n in t) i.push(t[n]);
  return i;
};
var Mt = function (e, r, t) {
    return e < r ? r : e > t ? t : e;
  },
  Wl = function (e, r) {
    var t = r.toString(),
      i = t.indexOf('.');
    if (i === -1) return Math.round(e);
    var n = t.substr(i + 1).length;
    return n > 20 && (n = 20), parseFloat(e.toFixed(n));
  },
  it = function (e) {
    return ri(e, 'Number');
  },
  HS = 1e-5;
function qt(e, r, t) {
  return t === void 0 && (t = HS), Math.abs(e - r) < t;
}
const Ig = function (e, r) {
    if ($(e)) {
      for (var t, i = -1 / 0, n = 0; n < e.length; n++) {
        var a = e[n],
          o = q(r) ? r(a) : a[r];
        o > i && ((t = a), (i = o));
      }
      return t;
    }
  },
  VS = function (e, r) {
    if ($(e)) {
      for (var t, i = 1 / 0, n = 0; n < e.length; n++) {
        var a = e[n],
          o = q(r) ? r(a) : a[r];
        o < i && ((t = a), (i = o));
      }
      return t;
    }
  };
var Vc = function (e, r) {
    return ((e % r) + r) % r;
  },
  YS = Math.PI / 180,
  Yc = function (e) {
    return YS * e;
  };
const jr = function (e, r) {
  return e.hasOwnProperty(r);
};
var Ys = Object.values
  ? function (e) {
      return Object.values(e);
    }
  : function (e) {
      var r = [];
      return (
        A(e, function (t, i) {
          (q(e) && i === 'prototype') || r.push(t);
        }),
        r
      );
    };
const _a = function (e) {
  return R(e) ? '' : e.toString();
};
var Tn = function (e) {
  return _a(e).toLowerCase();
};
function Lg(e, r) {
  return !e || !r
    ? e
    : e.replace(/\\?\{([^{}]+)\}/g, function (t, i) {
        return t.charAt(0) === '\\' ? t.slice(1) : r[i] === void 0 ? '' : r[i];
      });
}
var zi = function (e) {
    var r = _a(e);
    return r.charAt(0).toUpperCase() + r.substring(1);
  },
  WS = {}.toString,
  XS = function (e) {
    return WS.call(e)
      .replace(/^\[object /, '')
      .replace(/]$/, '');
  },
  hn = function (e) {
    return ri(e, 'Boolean');
  },
  Og = function (e) {
    return ri(e, 'Date');
  },
  _S = function (e) {
    return e === null;
  },
  jS = Object.prototype,
  US = function (e) {
    var r = e && e.constructor,
      t = (typeof r == 'function' && r.prototype) || jS;
    return e === t;
  },
  pi = function (e) {
    return e === void 0;
  },
  Pg = function (e) {
    return e instanceof Element || e instanceof HTMLDocument;
  };
function qS(e) {
  var r =
    window.requestAnimationFrame ||
    window.webkitRequestAnimationFrame ||
    window.mozRequestAnimationFrame ||
    window.msRequestAnimationFrame ||
    function (t) {
      return setTimeout(t, 16);
    };
  return r(e);
}
function ZS(e) {
  var r =
    window.cancelAnimationFrame ||
    window.webkitCancelAnimationFrame ||
    window.mozCancelAnimationFrame ||
    window.msCancelAnimationFrame ||
    clearTimeout;
  r(e);
}
function Xl(e, r) {
  for (var t in r) r.hasOwnProperty(t) && t !== 'constructor' && r[t] !== void 0 && (e[t] = r[t]);
}
function xt(e, r, t, i) {
  return r && Xl(e, r), t && Xl(e, t), i && Xl(e, i), e;
}
var ue = function (e) {
  if (typeof e != 'object' || e === null) return e;
  var r;
  if ($(e)) {
    r = [];
    for (var t = 0, i = e.length; t < i; t++)
      typeof e[t] == 'object' && e[t] != null ? (r[t] = ue(e[t])) : (r[t] = e[t]);
  } else {
    r = {};
    for (var n in e) typeof e[n] == 'object' && e[n] != null ? (r[n] = ue(e[n])) : (r[n] = e[n]);
  }
  return r;
};
function Dg(e, r, t) {
  var i;
  return function () {
    var n = this,
      a = arguments,
      o = function () {
        (i = null), t || e.apply(n, a);
      },
      s = t && !i;
    clearTimeout(i), (i = setTimeout(o, r)), s && e.apply(n, a);
  };
}
const kn = function (e, r) {
  if (!q(e)) throw new TypeError('Expected a function');
  var t = function () {
    for (var i = [], n = 0; n < arguments.length; n++) i[n] = arguments[n];
    var a = r ? r.apply(this, i) : i[0],
      o = t.cache;
    if (o.has(a)) return o.get(a);
    var s = e.apply(this, i);
    return o.set(a, s), s;
  };
  return (t.cache = new Map()), t;
};
var KS = 5;
function Bg(e, r, t, i) {
  (t = t || 0), (i = i || KS);
  for (var n in r)
    if (r.hasOwnProperty(n)) {
      var a = r[n];
      a !== null && rr(a)
        ? (rr(e[n]) || (e[n] = {}), t < i ? Bg(e[n], a, t + 1, i) : (e[n] = r[n]))
        : $(a)
        ? ((e[n] = []), (e[n] = e[n].concat(a)))
        : a !== void 0 && (e[n] = a);
    }
}
var _ = function (e) {
    for (var r = [], t = 1; t < arguments.length; t++) r[t - 1] = arguments[t];
    for (var i = 0; i < r.length; i += 1) Bg(e, r[i]);
    return e;
  },
  Rg = function (e, r) {
    if (!Ee(e)) return -1;
    var t = Array.prototype.indexOf;
    if (t) return t.call(e, r);
    for (var i = -1, n = 0; n < e.length; n++)
      if (e[n] === r) {
        i = n;
        break;
      }
    return i;
  },
  QS = Object.prototype.hasOwnProperty;
function we(e) {
  if (R(e)) return !0;
  if (Ee(e)) return !e.length;
  var r = XS(e);
  if (r === 'Map' || r === 'Set') return !e.size;
  if (US(e)) return !Object.keys(e).length;
  for (var t in e) if (QS.call(e, t)) return !1;
  return !0;
}
var Bt = function (e, r) {
    if (e === r) return !0;
    if (!e || !r || et(e) || et(r)) return !1;
    if (Ee(e) || Ee(r)) {
      if (e.length !== r.length) return !1;
      for (var t = !0, i = 0; i < e.length && ((t = Bt(e[i], r[i])), !!t); i++);
      return t;
    }
    if (Ru(e) || Ru(r)) {
      var n = Object.keys(e),
        a = Object.keys(r);
      if (n.length !== a.length) return !1;
      for (var t = !0, i = 0; i < n.length && ((t = Bt(e[n[i]], r[n[i]])), !!t); i++);
      return t;
    }
    return !1;
  },
  Tt = function (e, r) {
    if (!Ee(e)) return e;
    for (var t = [], i = 0; i < e.length; i++) {
      var n = e[i];
      t.push(r(n, i));
    }
    return t;
  },
  JS = function (e) {
    return e;
  };
const tC = function (e, r) {
    r === void 0 && (r = JS);
    var t = {};
    return (
      yt(e) &&
        !R(e) &&
        Object.keys(e).forEach(function (i) {
          t[i] = r(e[i], i);
        }),
      t
    );
  },
  M = function (e, r, t) {
    for (var i = 0, n = et(r) ? r.split('.') : r; e && i < n.length; ) e = e[n[i++]];
    return e === void 0 || i < n.length ? t : e;
  },
  Gt = function (e, r, t) {
    var i = e,
      n = et(r) ? r.split('.') : r;
    return (
      n.forEach(function (a, o) {
        o < n.length - 1 ? (yt(i[a]) || (i[a] = it(n[o + 1]) ? [] : {}), (i = i[a])) : (i[a] = t);
      }),
      e
    );
  };
var eC = Object.prototype.hasOwnProperty;
const Wc = function (e, r) {
    if (e === null || !rr(e)) return {};
    var t = {};
    return (
      A(r, function (i) {
        eC.call(e, i) && (t[i] = e[i]);
      }),
      t
    );
  },
  Ws = function (e, r) {
    return oe(
      e,
      function (t, i, n) {
        return r.includes(n) || (t[n] = i), t;
      },
      {},
    );
  },
  Xc = function (e, r, t) {
    var i,
      n,
      a,
      o,
      s = 0;
    t || (t = {});
    var l = function () {
        (s = t.leading === !1 ? 0 : Date.now()),
          (i = null),
          (o = e.apply(n, a)),
          i || (n = a = null);
      },
      u = function () {
        var c = Date.now();
        !s && t.leading === !1 && (s = c);
        var h = r - (c - s);
        return (
          (n = this),
          (a = arguments),
          h <= 0 || h > r
            ? (i && (clearTimeout(i), (i = null)),
              (s = c),
              (o = e.apply(n, a)),
              i || (n = a = null))
            : !i && t.trailing !== !1 && (i = setTimeout(l, h)),
          o
        );
      };
    return (
      (u.cancel = function () {
        clearTimeout(i), (s = 0), (i = n = a = null);
      }),
      u
    );
  },
  rC = function (e) {
    return Ee(e) ? Array.prototype.slice.call(e) : [];
  };
var ho = {};
const ii = function (e) {
    return (e = e || 'g'), ho[e] ? (ho[e] += 1) : (ho[e] = 1), e + ho[e];
  },
  Nr = function () {};
function Xt(e) {
  return R(e) ? 0 : Ee(e) ? e.length : Object.keys(e).length;
}
var fo;
const vo = kn(
    function (e, r) {
      r === void 0 && (r = {});
      var t = r.fontSize,
        i = r.fontFamily,
        n = r.fontWeight,
        a = r.fontStyle,
        o = r.fontVariant;
      return (
        fo || (fo = document.createElement('canvas').getContext('2d')),
        (fo.font = [a, o, n, t + 'px', i].join(' ')),
        fo.measureText(et(e) ? e : '').width
      );
    },
    function (e, r) {
      return r === void 0 && (r = {}), Ct([e], Ys(r)).join('');
    },
  ),
  iC = function (e, r, t, i) {
    i === void 0 && (i = '...');
    var n = 16,
      a = vo(i, t),
      o = et(e) ? e : _a(e),
      s = r,
      l = [],
      u,
      c;
    if (vo(e, t) <= r) return e;
    for (; (u = o.substr(0, n)), (c = vo(u, t)), !(c + a > s && c > s); )
      if ((l.push(u), (s -= c), (o = o.substr(n)), !o)) return l.join('');
    for (; (u = o.substr(0, 1)), (c = vo(u, t)), !(c + a > s); )
      if ((l.push(u), (s -= c), (o = o.substr(1)), !o)) return l.join('');
    return '' + l.join('') + i;
  };
var nC = (function () {
    function e() {
      this.map = {};
    }
    return (
      (e.prototype.has = function (r) {
        return this.map[r] !== void 0;
      }),
      (e.prototype.get = function (r, t) {
        var i = this.map[r];
        return i === void 0 ? t : i;
      }),
      (e.prototype.set = function (r, t) {
        this.map[r] = t;
      }),
      (e.prototype.clear = function () {
        this.map = {};
      }),
      (e.prototype.delete = function (r) {
        delete this.map[r];
      }),
      (e.prototype.size = function () {
        return Object.keys(this.map).length;
      }),
      e
    );
  })(),
  $t;
(function (e) {
  (e.FORE = 'fore'), (e.MID = 'mid'), (e.BG = 'bg');
})($t || ($t = {}));
var Y;
(function (e) {
  (e.TOP = 'top'),
    (e.TOP_LEFT = 'top-left'),
    (e.TOP_RIGHT = 'top-right'),
    (e.RIGHT = 'right'),
    (e.RIGHT_TOP = 'right-top'),
    (e.RIGHT_BOTTOM = 'right-bottom'),
    (e.LEFT = 'left'),
    (e.LEFT_TOP = 'left-top'),
    (e.LEFT_BOTTOM = 'left-bottom'),
    (e.BOTTOM = 'bottom'),
    (e.BOTTOM_LEFT = 'bottom-left'),
    (e.BOTTOM_RIGHT = 'bottom-right'),
    (e.RADIUS = 'radius'),
    (e.CIRCLE = 'circle'),
    (e.NONE = 'none');
})(Y || (Y = {}));
var Wt;
(function (e) {
  (e.AXIS = 'axis'),
    (e.GRID = 'grid'),
    (e.LEGEND = 'legend'),
    (e.TOOLTIP = 'tooltip'),
    (e.ANNOTATION = 'annotation'),
    (e.SLIDER = 'slider'),
    (e.SCROLLBAR = 'scrollbar'),
    (e.OTHER = 'other');
})(Wt || (Wt = {}));
var nn = { FORE: 3, MID: 2, BG: 1 },
  st;
(function (e) {
  (e.BEFORE_RENDER = 'beforerender'),
    (e.AFTER_RENDER = 'afterrender'),
    (e.BEFORE_PAINT = 'beforepaint'),
    (e.AFTER_PAINT = 'afterpaint'),
    (e.BEFORE_CHANGE_DATA = 'beforechangedata'),
    (e.AFTER_CHANGE_DATA = 'afterchangedata'),
    (e.BEFORE_CLEAR = 'beforeclear'),
    (e.AFTER_CLEAR = 'afterclear'),
    (e.BEFORE_DESTROY = 'beforedestroy'),
    (e.BEFORE_CHANGE_SIZE = 'beforechangesize'),
    (e.AFTER_CHANGE_SIZE = 'afterchangesize');
})(st || (st = {}));
var Hr;
(function (e) {
  (e.BEFORE_DRAW_ANIMATE = 'beforeanimate'),
    (e.AFTER_DRAW_ANIMATE = 'afteranimate'),
    (e.BEFORE_RENDER_LABEL = 'beforerenderlabel'),
    (e.AFTER_RENDER_LABEL = 'afterrenderlabel');
})(Hr || (Hr = {}));
var ve;
(function (e) {
  (e.MOUSE_ENTER = 'plot:mouseenter'),
    (e.MOUSE_DOWN = 'plot:mousedown'),
    (e.MOUSE_MOVE = 'plot:mousemove'),
    (e.MOUSE_UP = 'plot:mouseup'),
    (e.MOUSE_LEAVE = 'plot:mouseleave'),
    (e.TOUCH_START = 'plot:touchstart'),
    (e.TOUCH_MOVE = 'plot:touchmove'),
    (e.TOUCH_END = 'plot:touchend'),
    (e.TOUCH_CANCEL = 'plot:touchcancel'),
    (e.CLICK = 'plot:click'),
    (e.DBLCLICK = 'plot:dblclick'),
    (e.CONTEXTMENU = 'plot:contextmenu'),
    (e.LEAVE = 'plot:leave'),
    (e.ENTER = 'plot:enter');
})(ve || (ve = {}));
var ls;
(function (e) {
  (e.ACTIVE = 'active'),
    (e.INACTIVE = 'inactive'),
    (e.SELECTED = 'selected'),
    (e.DEFAULT = 'default');
})(ls || (ls = {}));
var Qi = ['color', 'shape', 'size'],
  St = '_origin',
  Vf = 1,
  Yf = 1,
  Wf = 0.25,
  $g = {};
function aC(e) {
  var r = $g[e];
  if (!r) throw new Error("G engine '".concat(e, "' is not exist, please register it at first."));
  return r;
}
function Ng(e, r) {
  $g[e] = r;
}
function Xi(e, r, t) {
  if (e) {
    if (typeof e.addEventListener == 'function')
      return (
        e.addEventListener(r, t, !1),
        {
          remove: function () {
            e.removeEventListener(r, t, !1);
          },
        }
      );
    if (typeof e.attachEvent == 'function')
      return (
        e.attachEvent('on' + r, t),
        {
          remove: function () {
            e.detachEvent('on' + r, t);
          },
        }
      );
  }
}
var Jn, _l, zg, $u;
function oC() {
  (Jn = document.createElement('table')),
    (_l = document.createElement('tr')),
    (zg = /^\s*<(\w+|!)[^>]*>/),
    ($u = {
      tr: document.createElement('tbody'),
      tbody: Jn,
      thead: Jn,
      tfoot: Jn,
      td: _l,
      th: _l,
      '*': document.createElement('div'),
    });
}
function Vr(e) {
  Jn || oC();
  var r = zg.test(e) && RegExp.$1;
  (!r || !(r in $u)) && (r = '*');
  var t = $u[r];
  (e = typeof e == 'string' ? e.replace(/(^\s*)|(\s*$)/g, '') : e), (t.innerHTML = '' + e);
  var i = t.childNodes[0];
  return i && t.contains(i) && t.removeChild(i), i;
}
function ye(e, r, t) {
  var i;
  try {
    i = window.getComputedStyle ? window.getComputedStyle(e, null)[r] : e.style[r];
  } catch (n) {
  } finally {
    i = i === void 0 ? t : i;
  }
  return i;
}
function sC(e, r) {
  var t = ye(e, 'height', r);
  return t === 'auto' && (t = e.offsetHeight), parseFloat(t);
}
function lC(e, r) {
  var t = sC(e, r),
    i = parseFloat(ye(e, 'borderTopWidth')) || 0,
    n = parseFloat(ye(e, 'paddingTop')) || 0,
    a = parseFloat(ye(e, 'paddingBottom')) || 0,
    o = parseFloat(ye(e, 'borderBottomWidth')) || 0,
    s = parseFloat(ye(e, 'marginTop')) || 0,
    l = parseFloat(ye(e, 'marginBottom')) || 0;
  return t + i + o + n + a + s + l;
}
function uC(e, r) {
  var t = ye(e, 'width', r);
  return t === 'auto' && (t = e.offsetWidth), parseFloat(t);
}
function cC(e, r) {
  var t = uC(e, r),
    i = parseFloat(ye(e, 'borderLeftWidth')) || 0,
    n = parseFloat(ye(e, 'paddingLeft')) || 0,
    a = parseFloat(ye(e, 'paddingRight')) || 0,
    o = parseFloat(ye(e, 'borderRightWidth')) || 0,
    s = parseFloat(ye(e, 'marginRight')) || 0,
    l = parseFloat(ye(e, 'marginLeft')) || 0;
  return t + i + o + n + a + l + s;
}
function ne(e, r) {
  if (e) for (var t in r) r.hasOwnProperty(t) && (e.style[t] = r[t]);
  return e;
}
function hC(e) {
  var r = getComputedStyle(e);
  return {
    width:
      (e.clientWidth || parseInt(r.width, 10)) -
      parseInt(r.paddingLeft, 10) -
      parseInt(r.paddingRight, 10),
    height:
      (e.clientHeight || parseInt(r.height, 10)) -
      parseInt(r.paddingTop, 10) -
      parseInt(r.paddingBottom, 10),
  };
}
function Xf(e) {
  return typeof e == 'number' && !isNaN(e);
}
function _f(e, r, t, i) {
  var n = t,
    a = i;
  if (r) {
    var o = hC(e);
    (n = o.width ? o.width : n), (a = o.height ? o.height : a);
  }
  return { width: Math.max(Xf(n) ? n : Vf, Vf), height: Math.max(Xf(a) ? a : Yf, Yf) };
}
function fC(e) {
  var r = e.parentNode;
  r && r.removeChild(e);
}
var vC = '*',
  _c = (function () {
    function e() {
      this._events = {};
    }
    return (
      (e.prototype.on = function (r, t, i) {
        return (
          this._events[r] || (this._events[r] = []),
          this._events[r].push({ callback: t, once: !!i }),
          this
        );
      }),
      (e.prototype.once = function (r, t) {
        return this.on(r, t, !0);
      }),
      (e.prototype.emit = function (r) {
        for (var t = this, i = [], n = 1; n < arguments.length; n++) i[n - 1] = arguments[n];
        var a = this._events[r] || [],
          o = this._events[vC] || [],
          s = function (l) {
            for (var u = l.length, c = 0; c < u; c++)
              if (l[c]) {
                var h = l[c],
                  f = h.callback,
                  v = h.once;
                v && (l.splice(c, 1), l.length === 0 && delete t._events[r], u--, c--),
                  f.apply(t, i);
              }
          };
        s(a), s(o);
      }),
      (e.prototype.off = function (r, t) {
        if (!r) this._events = {};
        else if (!t) delete this._events[r];
        else {
          for (var i = this._events[r] || [], n = i.length, a = 0; a < n; a++)
            i[a].callback === t && (i.splice(a, 1), n--, a--);
          i.length === 0 && delete this._events[r];
        }
        return this;
      }),
      (e.prototype.getEvents = function () {
        return this._events;
      }),
      e
    );
  })(),
  jc = (function (e) {
    I(r, e);
    function r(t) {
      var i = e.call(this) || this;
      i.destroyed = !1;
      var n = t.visible,
        a = n === void 0 ? !0 : n;
      return (i.visible = a), i;
    }
    return (
      (r.prototype.show = function () {
        var t = this.visible;
        t || this.changeVisible(!0);
      }),
      (r.prototype.hide = function () {
        var t = this.visible;
        t && this.changeVisible(!1);
      }),
      (r.prototype.destroy = function () {
        this.off(), (this.destroyed = !0);
      }),
      (r.prototype.changeVisible = function (t) {
        this.visible !== t && (this.visible = t);
      }),
      r
    );
  })(_c),
  sa = `	
\v\f\r \u2028\u2029`,
  dC = new RegExp(
    '([a-z])[' + sa + ',]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[' + sa + ']*,?[' + sa + ']*)+)',
    'ig',
  ),
  pC = new RegExp('(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[' + sa + ']*,?[' + sa + ']*', 'ig'),
  Ji = function (e) {
    if (!e) return null;
    if ($(e)) return e;
    var r = { a: 7, c: 6, o: 2, h: 1, l: 2, m: 2, r: 4, q: 4, s: 4, t: 2, v: 1, u: 3, z: 0 },
      t = [];
    return (
      String(e).replace(dC, function (i, n, a) {
        var o = [],
          s = n.toLowerCase();
        if (
          (a.replace(pC, function (l, u) {
            u && o.push(+u);
          }),
          s === 'm' &&
            o.length > 2 &&
            (t.push([n].concat(o.splice(0, 2))), (s = 'l'), (n = n === 'm' ? 'l' : 'L')),
          s === 'o' && o.length === 1 && t.push([n, o[0]]),
          s === 'r')
        )
          t.push([n].concat(o));
        else for (; o.length >= r[s] && (t.push([n].concat(o.splice(0, r[s]))), !!r[s]); );
        return e;
      }),
      t
    );
  },
  Nu = function (e, r) {
    for (var t = [], i = 0, n = e.length; n - 2 * !r > i; i += 2) {
      var a = [
        { x: +e[i - 2], y: +e[i - 1] },
        { x: +e[i], y: +e[i + 1] },
        { x: +e[i + 2], y: +e[i + 3] },
        { x: +e[i + 4], y: +e[i + 5] },
      ];
      r
        ? i
          ? n - 4 === i
            ? (a[3] = { x: +e[0], y: +e[1] })
            : n - 2 === i && ((a[2] = { x: +e[0], y: +e[1] }), (a[3] = { x: +e[2], y: +e[3] }))
          : (a[0] = { x: +e[n - 2], y: +e[n - 1] })
        : n - 4 === i
        ? (a[3] = a[2])
        : i || (a[0] = { x: +e[i], y: +e[i + 1] }),
        t.push([
          'C',
          (-a[0].x + 6 * a[1].x + a[2].x) / 6,
          (-a[0].y + 6 * a[1].y + a[2].y) / 6,
          (a[1].x + 6 * a[2].x - a[3].x) / 6,
          (a[1].y + 6 * a[2].y - a[3].y) / 6,
          a[2].x,
          a[2].y,
        ]);
    }
    return t;
  },
  po = function (e, r, t, i, n) {
    var a = [];
    if ((n === null && i === null && (i = t), (e = +e), (r = +r), (t = +t), (i = +i), n !== null)) {
      var o = Math.PI / 180,
        s = e + t * Math.cos(-i * o),
        l = e + t * Math.cos(-n * o),
        u = r + t * Math.sin(-i * o),
        c = r + t * Math.sin(-n * o);
      a = [
        ['M', s, u],
        ['A', t, t, 0, +(n - i > 180), 0, l, c],
      ];
    } else
      a = [
        ['M', e, r],
        ['m', 0, -i],
        ['a', t, i, 0, 1, 1, 0, 2 * i],
        ['a', t, i, 0, 1, 1, 0, -2 * i],
        ['z'],
      ];
    return a;
  },
  zu = function (e) {
    if (((e = Ji(e)), !e || !e.length)) return [['M', 0, 0]];
    var r = [],
      t = 0,
      i = 0,
      n = 0,
      a = 0,
      o = 0,
      s,
      l;
    e[0][0] === 'M' &&
      ((t = +e[0][1]), (i = +e[0][2]), (n = t), (a = i), o++, (r[0] = ['M', t, i]));
    for (
      var u =
          e.length === 3 &&
          e[0][0] === 'M' &&
          e[1][0].toUpperCase() === 'R' &&
          e[2][0].toUpperCase() === 'Z',
        c = void 0,
        h = void 0,
        f = o,
        v = e.length;
      f < v;
      f++
    ) {
      if ((r.push((c = [])), (h = e[f]), (s = h[0]), s !== s.toUpperCase()))
        switch (((c[0] = s.toUpperCase()), c[0])) {
          case 'A':
            (c[1] = h[1]),
              (c[2] = h[2]),
              (c[3] = h[3]),
              (c[4] = h[4]),
              (c[5] = h[5]),
              (c[6] = +h[6] + t),
              (c[7] = +h[7] + i);
            break;
          case 'V':
            c[1] = +h[1] + i;
            break;
          case 'H':
            c[1] = +h[1] + t;
            break;
          case 'R':
            l = [t, i].concat(h.slice(1));
            for (var d = 2, p = l.length; d < p; d++) (l[d] = +l[d] + t), (l[++d] = +l[d] + i);
            r.pop(), (r = r.concat(Nu(l, u)));
            break;
          case 'O':
            r.pop(), (l = po(t, i, h[1], h[2])), l.push(l[0]), (r = r.concat(l));
            break;
          case 'U':
            r.pop(),
              (r = r.concat(po(t, i, h[1], h[2], h[3]))),
              (c = ['U'].concat(r[r.length - 1].slice(-2)));
            break;
          case 'M':
            (n = +h[1] + t), (a = +h[2] + i);
            break;
          default:
            for (var d = 1, p = h.length; d < p; d++) c[d] = +h[d] + (d % 2 ? t : i);
        }
      else if (s === 'R')
        (l = [t, i].concat(h.slice(1))),
          r.pop(),
          (r = r.concat(Nu(l, u))),
          (c = ['R'].concat(h.slice(-2)));
      else if (s === 'O') r.pop(), (l = po(t, i, h[1], h[2])), l.push(l[0]), (r = r.concat(l));
      else if (s === 'U')
        r.pop(),
          (r = r.concat(po(t, i, h[1], h[2], h[3]))),
          (c = ['U'].concat(r[r.length - 1].slice(-2)));
      else for (var g = 0, y = h.length; g < y; g++) c[g] = h[g];
      if (((s = s.toUpperCase()), s !== 'O'))
        switch (c[0]) {
          case 'Z':
            (t = +n), (i = +a);
            break;
          case 'H':
            t = c[1];
            break;
          case 'V':
            i = c[1];
            break;
          case 'M':
            (n = c[c.length - 2]), (a = c[c.length - 1]);
            break;
          default:
            (t = c[c.length - 2]), (i = c[c.length - 1]);
        }
    }
    return r;
  },
  go = function (e, r, t, i) {
    return [e, r, t, i, t, i];
  },
  jf = function (e, r, t, i, n, a) {
    var o = 0.3333333333333333,
      s = 2 / 3;
    return [o * e + s * t, o * r + s * i, o * n + s * t, o * a + s * i, n, a];
  },
  Gg = function (e, r, t, i, n, a, o, s, l, u) {
    t === i && (t += 1);
    var c = (Math.PI * 120) / 180,
      h = (Math.PI / 180) * (+n || 0),
      f = [],
      v,
      d,
      p,
      g,
      y,
      m = function (ct, Pt, Jt) {
        var cr = ct * Math.cos(Jt) - Pt * Math.sin(Jt),
          hr = ct * Math.sin(Jt) + Pt * Math.cos(Jt);
        return { x: cr, y: hr };
      };
    if (u) (d = u[0]), (p = u[1]), (g = u[2]), (y = u[3]);
    else {
      (v = m(e, r, -h)),
        (e = v.x),
        (r = v.y),
        (v = m(s, l, -h)),
        (s = v.x),
        (l = v.y),
        e === s && r === l && ((s += 1), (l += 1));
      var b = (e - s) / 2,
        w = (r - l) / 2,
        S = (b * b) / (t * t) + (w * w) / (i * i);
      S > 1 && ((S = Math.sqrt(S)), (t = S * t), (i = S * i));
      var C = t * t,
        F = i * i,
        E =
          (a === o ? -1 : 1) *
          Math.sqrt(Math.abs((C * F - C * w * w - F * b * b) / (C * w * w + F * b * b)));
      (g = (E * t * w) / i + (e + s) / 2),
        (y = (E * -i * b) / t + (r + l) / 2),
        (d = Math.asin(((r - y) / i).toFixed(9))),
        (p = Math.asin(((l - y) / i).toFixed(9))),
        (d = e < g ? Math.PI - d : d),
        (p = s < g ? Math.PI - p : p),
        d < 0 && (d = Math.PI * 2 + d),
        p < 0 && (p = Math.PI * 2 + p),
        o && d > p && (d = d - Math.PI * 2),
        !o && p > d && (p = p - Math.PI * 2);
    }
    var k = p - d;
    if (Math.abs(k) > c) {
      var T = p,
        O = s,
        P = l;
      (p = d + c * (o && p > d ? 1 : -1)),
        (s = g + t * Math.cos(p)),
        (l = y + i * Math.sin(p)),
        (f = Gg(s, l, t, i, n, 0, o, O, P, [p, T, g, y]));
    }
    k = p - d;
    var z = Math.cos(d),
      W = Math.sin(d),
      j = Math.cos(p),
      D = Math.sin(p),
      N = Math.tan(k / 4),
      V = (4 / 3) * t * N,
      H = (4 / 3) * i * N,
      G = [e, r],
      X = [e + V * W, r - H * z],
      Q = [s + V * D, l - H * j],
      J = [s, l];
    if (((X[0] = 2 * G[0] - X[0]), (X[1] = 2 * G[1] - X[1]), u)) return [X, Q, J].concat(f);
    f = [X, Q, J].concat(f).join().split(',');
    for (var U = [], Z = 0, ot = f.length; Z < ot; Z++)
      U[Z] = Z % 2 ? m(f[Z - 1], f[Z], h).y : m(f[Z], f[Z + 1], h).x;
    return U;
  },
  Gu = function (e, r) {
    var t = zu(e),
      i = r && zu(r),
      n = { x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null },
      a = { x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null },
      o = [],
      s = [],
      l = '',
      u = '',
      c,
      h = function (b, w, S) {
        var C, F;
        if (!b) return ['C', w.x, w.y, w.x, w.y, w.x, w.y];
        switch ((!(b[0] in { T: 1, Q: 1 }) && (w.qx = w.qy = null), b[0])) {
          case 'M':
            (w.X = b[1]), (w.Y = b[2]);
            break;
          case 'A':
            b = ['C'].concat(Gg.apply(0, [w.x, w.y].concat(b.slice(1))));
            break;
          case 'S':
            S === 'C' || S === 'S'
              ? ((C = w.x * 2 - w.bx), (F = w.y * 2 - w.by))
              : ((C = w.x), (F = w.y)),
              (b = ['C', C, F].concat(b.slice(1)));
            break;
          case 'T':
            S === 'Q' || S === 'T'
              ? ((w.qx = w.x * 2 - w.qx), (w.qy = w.y * 2 - w.qy))
              : ((w.qx = w.x), (w.qy = w.y)),
              (b = ['C'].concat(jf(w.x, w.y, w.qx, w.qy, b[1], b[2])));
            break;
          case 'Q':
            (w.qx = b[1]), (w.qy = b[2]), (b = ['C'].concat(jf(w.x, w.y, b[1], b[2], b[3], b[4])));
            break;
          case 'L':
            b = ['C'].concat(go(w.x, w.y, b[1], b[2]));
            break;
          case 'H':
            b = ['C'].concat(go(w.x, w.y, b[1], w.y));
            break;
          case 'V':
            b = ['C'].concat(go(w.x, w.y, w.x, b[1]));
            break;
          case 'Z':
            b = ['C'].concat(go(w.x, w.y, w.X, w.Y));
            break;
        }
        return b;
      },
      f = function (b, w) {
        if (b[w].length > 7) {
          b[w].shift();
          for (var S = b[w]; S.length; )
            (o[w] = 'A'), i && (s[w] = 'A'), b.splice(w++, 0, ['C'].concat(S.splice(0, 6)));
          b.splice(w, 1), (c = Math.max(t.length, (i && i.length) || 0));
        }
      },
      v = function (b, w, S, C, F) {
        b &&
          w &&
          b[F][0] === 'M' &&
          w[F][0] !== 'M' &&
          (w.splice(F, 0, ['M', C.x, C.y]),
          (S.bx = 0),
          (S.by = 0),
          (S.x = b[F][1]),
          (S.y = b[F][2]),
          (c = Math.max(t.length, (i && i.length) || 0)));
      };
    c = Math.max(t.length, (i && i.length) || 0);
    for (var d = 0; d < c; d++) {
      t[d] && (l = t[d][0]),
        l !== 'C' && ((o[d] = l), d && (u = o[d - 1])),
        (t[d] = h(t[d], n, u)),
        o[d] !== 'A' && l === 'C' && (o[d] = 'C'),
        f(t, d),
        i &&
          (i[d] && (l = i[d][0]),
          l !== 'C' && ((s[d] = l), d && (u = s[d - 1])),
          (i[d] = h(i[d], a, u)),
          s[d] !== 'A' && l === 'C' && (s[d] = 'C'),
          f(i, d)),
        v(t, i, n, a, d),
        v(i, t, a, n, d);
      var p = t[d],
        g = i && i[d],
        y = p.length,
        m = i && g.length;
      (n.x = p[y - 2]),
        (n.y = p[y - 1]),
        (n.bx = parseFloat(p[y - 4]) || n.x),
        (n.by = parseFloat(p[y - 3]) || n.y),
        (a.bx = i && (parseFloat(g[m - 4]) || a.x)),
        (a.by = i && (parseFloat(g[m - 3]) || a.y)),
        (a.x = i && g[m - 2]),
        (a.y = i && g[m - 1]);
    }
    return i ? [t, i] : t;
  },
  gC = /,?([a-z]),?/gi,
  Hg = function (e) {
    return e.join(',').replace(gC, '$1');
  },
  Uf = function (e, r, t, i, n) {
    var a = -3 * r + 9 * t - 9 * i + 3 * n,
      o = e * a + 6 * r - 12 * t + 6 * i;
    return e * o - 3 * r + 3 * t;
  },
  qf = function (e, r, t, i, n, a, o, s, l) {
    l === null && (l = 1), (l = l > 1 ? 1 : l < 0 ? 0 : l);
    for (
      var u = l / 2,
        c = 12,
        h = [
          -0.1252, 0.1252, -0.3678, 0.3678, -0.5873, 0.5873, -0.7699, 0.7699, -0.9041, 0.9041,
          -0.9816, 0.9816,
        ],
        f = [
          0.2491, 0.2491, 0.2335, 0.2335, 0.2032, 0.2032, 0.1601, 0.1601, 0.1069, 0.1069, 0.0472,
          0.0472,
        ],
        v = 0,
        d = 0;
      d < c;
      d++
    ) {
      var p = u * h[d] + u,
        g = Uf(p, e, t, n, o),
        y = Uf(p, r, i, a, s),
        m = g * g + y * y;
      v += f[d] * Math.sqrt(m);
    }
    return u * v;
  },
  yC = function (e, r, t, i, n, a, o, s) {
    for (var l = [], u = [[], []], c, h, f, v, d = 0; d < 2; ++d) {
      if (
        (d === 0
          ? ((h = 6 * e - 12 * t + 6 * n),
            (c = -3 * e + 9 * t - 9 * n + 3 * o),
            (f = 3 * t - 3 * e))
          : ((h = 6 * r - 12 * i + 6 * a),
            (c = -3 * r + 9 * i - 9 * a + 3 * s),
            (f = 3 * i - 3 * r)),
        Math.abs(c) < 1e-12)
      ) {
        if (Math.abs(h) < 1e-12) continue;
        (v = -f / h), v > 0 && v < 1 && l.push(v);
        continue;
      }
      var p = h * h - 4 * f * c,
        g = Math.sqrt(p);
      if (!(p < 0)) {
        var y = (-h + g) / (2 * c);
        y > 0 && y < 1 && l.push(y);
        var m = (-h - g) / (2 * c);
        m > 0 && m < 1 && l.push(m);
      }
    }
    for (var b = l.length, w = b, S; b--; )
      (v = l[b]),
        (S = 1 - v),
        (u[0][b] = S * S * S * e + 3 * S * S * v * t + 3 * S * v * v * n + v * v * v * o),
        (u[1][b] = S * S * S * r + 3 * S * S * v * i + 3 * S * v * v * a + v * v * v * s);
    return (
      (u[0][w] = e),
      (u[1][w] = r),
      (u[0][w + 1] = o),
      (u[1][w + 1] = s),
      (u[0].length = u[1].length = w + 2),
      {
        min: { x: Math.min.apply(0, u[0]), y: Math.min.apply(0, u[1]) },
        max: { x: Math.max.apply(0, u[0]), y: Math.max.apply(0, u[1]) },
      }
    );
  },
  mC = function (e, r, t, i, n, a, o, s) {
    if (
      !(
        Math.max(e, t) < Math.min(n, o) ||
        Math.min(e, t) > Math.max(n, o) ||
        Math.max(r, i) < Math.min(a, s) ||
        Math.min(r, i) > Math.max(a, s)
      )
    ) {
      var l = (e * i - r * t) * (n - o) - (e - t) * (n * s - a * o),
        u = (e * i - r * t) * (a - s) - (r - i) * (n * s - a * o),
        c = (e - t) * (a - s) - (r - i) * (n - o);
      if (c) {
        var h = l / c,
          f = u / c,
          v = +h.toFixed(2),
          d = +f.toFixed(2);
        if (
          !(
            v < +Math.min(e, t).toFixed(2) ||
            v > +Math.max(e, t).toFixed(2) ||
            v < +Math.min(n, o).toFixed(2) ||
            v > +Math.max(n, o).toFixed(2) ||
            d < +Math.min(r, i).toFixed(2) ||
            d > +Math.max(r, i).toFixed(2) ||
            d < +Math.min(a, s).toFixed(2) ||
            d > +Math.max(a, s).toFixed(2)
          )
        )
          return { x: h, y: f };
      }
    }
  },
  kr = function (e, r, t) {
    return r >= e.x && r <= e.x + e.width && t >= e.y && t <= e.y + e.height;
  },
  Vg = function (e, r, t, i, n) {
    if (n)
      return [
        ['M', +e + +n, r],
        ['l', t - n * 2, 0],
        ['a', n, n, 0, 0, 1, n, n],
        ['l', 0, i - n * 2],
        ['a', n, n, 0, 0, 1, -n, n],
        ['l', n * 2 - t, 0],
        ['a', n, n, 0, 0, 1, -n, -n],
        ['l', 0, n * 2 - i],
        ['a', n, n, 0, 0, 1, n, -n],
        ['z'],
      ];
    var a = [['M', e, r], ['l', t, 0], ['l', 0, i], ['l', -t, 0], ['z']];
    return (a.parsePathArray = Hg), a;
  },
  Hu = function (e, r, t, i) {
    return (
      e === null && (e = r = t = i = 0),
      r === null && ((r = e.y), (t = e.width), (i = e.height), (e = e.x)),
      {
        x: e,
        y: r,
        width: t,
        w: t,
        height: i,
        h: i,
        x2: e + t,
        y2: r + i,
        cx: e + t / 2,
        cy: r + i / 2,
        r1: Math.min(t, i) / 2,
        r2: Math.max(t, i) / 2,
        r0: Math.sqrt(t * t + i * i) / 2,
        path: Vg(e, r, t, i),
        vb: [e, r, t, i].join(' '),
      }
    );
  },
  xC = function (e, r) {
    return (
      (e = Hu(e)),
      (r = Hu(r)),
      kr(r, e.x, e.y) ||
        kr(r, e.x2, e.y) ||
        kr(r, e.x, e.y2) ||
        kr(r, e.x2, e.y2) ||
        kr(e, r.x, r.y) ||
        kr(e, r.x2, r.y) ||
        kr(e, r.x, r.y2) ||
        kr(e, r.x2, r.y2) ||
        (((e.x < r.x2 && e.x > r.x) || (r.x < e.x2 && r.x > e.x)) &&
          ((e.y < r.y2 && e.y > r.y) || (r.y < e.y2 && r.y > e.y)))
    );
  },
  Zf = function (e, r, t, i, n, a, o, s) {
    $(e) || (e = [e, r, t, i, n, a, o, s]);
    var l = yC.apply(null, e);
    return Hu(l.min.x, l.min.y, l.max.x - l.min.x, l.max.y - l.min.y);
  },
  Kf = function (e, r, t, i, n, a, o, s, l) {
    var u = 1 - l,
      c = Math.pow(u, 3),
      h = Math.pow(u, 2),
      f = l * l,
      v = f * l,
      d = c * e + h * 3 * l * t + u * 3 * l * l * n + v * o,
      p = c * r + h * 3 * l * i + u * 3 * l * l * a + v * s,
      g = e + 2 * l * (t - e) + f * (n - 2 * t + e),
      y = r + 2 * l * (i - r) + f * (a - 2 * i + r),
      m = t + 2 * l * (n - t) + f * (o - 2 * n + t),
      b = i + 2 * l * (a - i) + f * (s - 2 * a + i),
      w = u * e + l * t,
      S = u * r + l * i,
      C = u * n + l * o,
      F = u * a + l * s,
      E = 90 - (Math.atan2(g - m, y - b) * 180) / Math.PI;
    return {
      x: d,
      y: p,
      m: { x: g, y },
      n: { x: m, y: b },
      start: { x: w, y: S },
      end: { x: C, y: F },
      alpha: E,
    };
  },
  wC = function (e, r, t) {
    var i = Zf(e),
      n = Zf(r);
    if (!xC(i, n)) return t ? 0 : [];
    for (
      var a = qf.apply(0, e),
        o = qf.apply(0, r),
        s = ~~(a / 8),
        l = ~~(o / 8),
        u = [],
        c = [],
        h = {},
        f = t ? 0 : [],
        v = 0;
      v < s + 1;
      v++
    ) {
      var d = Kf.apply(0, e.concat(v / s));
      u.push({ x: d.x, y: d.y, t: v / s });
    }
    for (var v = 0; v < l + 1; v++) {
      var d = Kf.apply(0, r.concat(v / l));
      c.push({ x: d.x, y: d.y, t: v / l });
    }
    for (var v = 0; v < s; v++)
      for (var p = 0; p < l; p++) {
        var g = u[v],
          y = u[v + 1],
          m = c[p],
          b = c[p + 1],
          w = Math.abs(y.x - g.x) < 0.001 ? 'y' : 'x',
          S = Math.abs(b.x - m.x) < 0.001 ? 'y' : 'x',
          C = mC(g.x, g.y, y.x, y.y, m.x, m.y, b.x, b.y);
        if (C) {
          if (h[C.x.toFixed(4)] === C.y.toFixed(4)) continue;
          h[C.x.toFixed(4)] = C.y.toFixed(4);
          var F = g.t + Math.abs((C[w] - g[w]) / (y[w] - g[w])) * (y.t - g.t),
            E = m.t + Math.abs((C[S] - m[S]) / (b[S] - m[S])) * (b.t - m.t);
          F >= 0 &&
            F <= 1 &&
            E >= 0 &&
            E <= 1 &&
            (t ? (f += 1) : f.push({ x: C.x, y: C.y, t1: F, t2: E }));
        }
      }
    return f;
  },
  bC = function (e, r, t) {
    (e = Gu(e)), (r = Gu(r));
    for (var i, n, a, o, s, l, u, c, h, f, v = t ? 0 : [], d = 0, p = e.length; d < p; d++) {
      var g = e[d];
      if (g[0] === 'M') (i = s = g[1]), (n = l = g[2]);
      else {
        g[0] === 'C'
          ? ((h = [i, n].concat(g.slice(1))), (i = h[6]), (n = h[7]))
          : ((h = [i, n, i, n, s, l, s, l]), (i = s), (n = l));
        for (var y = 0, m = r.length; y < m; y++) {
          var b = r[y];
          if (b[0] === 'M') (a = u = b[1]), (o = c = b[2]);
          else {
            b[0] === 'C'
              ? ((f = [a, o].concat(b.slice(1))), (a = f[6]), (o = f[7]))
              : ((f = [a, o, a, o, u, c, u, c]), (a = u), (o = c));
            var w = wC(h, f, t);
            if (t) v += w;
            else {
              for (var S = 0, C = w.length; S < C; S++)
                (w[S].segment1 = d), (w[S].segment2 = y), (w[S].bez1 = h), (w[S].bez2 = f);
              v = v.concat(w);
            }
          }
        }
      }
    }
    return v;
  },
  SC = function (e, r) {
    return bC(e, r);
  };
function CC(e, r) {
  var t = [],
    i = [];
  function n(a, o) {
    if (a.length === 1) t.push(a[0]), i.push(a[0]);
    else {
      for (var s = [], l = 0; l < a.length - 1; l++)
        l === 0 && t.push(a[0]),
          l === a.length - 2 && i.push(a[l + 1]),
          (s[l] = [(1 - o) * a[l][0] + o * a[l + 1][0], (1 - o) * a[l][1] + o * a[l + 1][1]]);
      n(s, o);
    }
  }
  return e.length && n(e, r), { left: t, right: i.reverse() };
}
function AC(e, r, t) {
  var i = [[e[1], e[2]]];
  t = t || 2;
  var n = [];
  r[0] === 'A'
    ? (i.push(r[6]), i.push(r[7]))
    : r[0] === 'C'
    ? (i.push([r[1], r[2]]), i.push([r[3], r[4]]), i.push([r[5], r[6]]))
    : r[0] === 'S' || r[0] === 'Q'
    ? (i.push([r[1], r[2]]), i.push([r[3], r[4]]))
    : i.push([r[1], r[2]]);
  for (var a = i, o = 1 / t, s = 0; s < t - 1; s++) {
    var l = o / (1 - o * s),
      u = CC(a, l);
    n.push(u.left), (a = u.right);
  }
  n.push(a);
  var c = n.map(function (h) {
    var f = [];
    return (
      h.length === 4 && (f.push('C'), (f = f.concat(h[2]))),
      h.length >= 3 && (h.length === 3 && f.push('Q'), (f = f.concat(h[1]))),
      h.length === 2 && f.push('L'),
      (f = f.concat(h[h.length - 1])),
      f
    );
  });
  return c;
}
var MC = function (e, r, t) {
    if (t === 1) return [[].concat(e)];
    var i = [];
    if (r[0] === 'L' || r[0] === 'C' || r[0] === 'Q') i = i.concat(AC(e, r, t));
    else {
      var n = [].concat(e);
      n[0] === 'M' && (n[0] = 'L');
      for (var a = 0; a <= t - 1; a++) i.push(n);
    }
    return i;
  },
  FC = function (e, r) {
    if (e.length === 1) return e;
    var t = e.length - 1,
      i = r.length - 1,
      n = t / i,
      a = [];
    if (e.length === 1 && e[0][0] === 'M') {
      for (var o = 0; o < i - t; o++) e.push(e[0]);
      return e;
    }
    for (var o = 0; o < i; o++) {
      var s = Math.floor(n * o);
      a[s] = (a[s] || 0) + 1;
    }
    var l = a.reduce(function (u, c, h) {
      return h === t ? u.concat(e[t]) : u.concat(MC(e[h], e[h + 1], c));
    }, []);
    return l.unshift(e[0]), (r[i] === 'Z' || r[i] === 'z') && l.push('Z'), l;
  },
  EC = function (e, r) {
    if (e.length !== r.length) return !1;
    var t = !0;
    return (
      A(e, function (i, n) {
        if (i !== r[n]) return (t = !1), !1;
      }),
      t
    );
  };
function TC(e, r, t) {
  var i = null,
    n = t;
  return r < n && ((n = r), (i = 'add')), e < n && ((n = e), (i = 'del')), { type: i, min: n };
}
var kC = function (e, r) {
    var t = e.length,
      i = r.length,
      n,
      a,
      o = 0;
    if (t === 0 || i === 0) return null;
    for (var s = [], l = 0; l <= t; l++) (s[l] = []), (s[l][0] = { min: l });
    for (var u = 0; u <= i; u++) s[0][u] = { min: u };
    for (var l = 1; l <= t; l++) {
      n = e[l - 1];
      for (var u = 1; u <= i; u++) {
        (a = r[u - 1]), EC(n, a) ? (o = 0) : (o = 1);
        var c = s[l - 1][u].min + 1,
          h = s[l][u - 1].min + 1,
          f = s[l - 1][u - 1].min + o;
        s[l][u] = TC(c, h, f);
      }
    }
    return s;
  },
  Yg = function (e, r) {
    var t = kC(e, r),
      i = e.length,
      n = r.length,
      a = [],
      o = 1,
      s = 1;
    if (t[i][n].min !== i) {
      for (var l = 1; l <= i; l++) {
        var u = t[l][l].min;
        s = l;
        for (var c = o; c <= n; c++) t[l][c].min < u && ((u = t[l][c].min), (s = c));
        (o = s), t[l][o].type && a.push({ index: l - 1, type: t[l][o].type });
      }
      for (var l = a.length - 1; l >= 0; l--)
        (o = a[l].index), a[l].type === 'add' ? e.splice(o, 0, [].concat(e[o])) : e.splice(o, 1);
    }
    i = e.length;
    var h = n - i;
    if (i < n)
      for (var l = 0; l < h; l++)
        e[i - 1][0] === 'z' || e[i - 1][0] === 'Z'
          ? e.splice(i - 2, 0, e[i - 2])
          : e.push(e[i - 1]),
          (i += 1);
    return e;
  };
function jl(e, r, t) {
  for (var i = [].concat(e), n, a = 1 / (t + 1), o = Wg(r)[0], s = 1; s <= t; s++)
    (a *= s),
      (n = Math.floor(e.length * a)),
      n === 0
        ? i.unshift([o[0] * a + e[n][0] * (1 - a), o[1] * a + e[n][1] * (1 - a)])
        : i.splice(n, 0, [o[0] * a + e[n][0] * (1 - a), o[1] * a + e[n][1] * (1 - a)]);
  return i;
}
function Wg(e) {
  var r = [];
  switch (e[0]) {
    case 'M':
      r.push([e[1], e[2]]);
      break;
    case 'L':
      r.push([e[1], e[2]]);
      break;
    case 'A':
      r.push([e[6], e[7]]);
      break;
    case 'Q':
      r.push([e[3], e[4]]), r.push([e[1], e[2]]);
      break;
    case 'T':
      r.push([e[1], e[2]]);
      break;
    case 'C':
      r.push([e[5], e[6]]), r.push([e[1], e[2]]), r.push([e[3], e[4]]);
      break;
    case 'S':
      r.push([e[3], e[4]]), r.push([e[1], e[2]]);
      break;
    case 'H':
      r.push([e[1], e[1]]);
      break;
    case 'V':
      r.push([e[1], e[1]]);
      break;
  }
  return r;
}
var Vu = function (e, r) {
  if (e.length <= 1) return e;
  for (var t, i = 0; i < r.length; i++)
    if (e[i][0] !== r[i][0])
      switch (((t = Wg(e[i])), r[i][0])) {
        case 'M':
          e[i] = ['M'].concat(t[0]);
          break;
        case 'L':
          e[i] = ['L'].concat(t[0]);
          break;
        case 'A':
          (e[i] = [].concat(r[i])), (e[i][6] = t[0][0]), (e[i][7] = t[0][1]);
          break;
        case 'Q':
          if (t.length < 2)
            if (i > 0) t = jl(t, e[i - 1], 1);
            else {
              e[i] = r[i];
              break;
            }
          e[i] = ['Q'].concat(
            t.reduce(function (n, a) {
              return n.concat(a);
            }, []),
          );
          break;
        case 'T':
          e[i] = ['T'].concat(t[0]);
          break;
        case 'C':
          if (t.length < 3)
            if (i > 0) t = jl(t, e[i - 1], 2);
            else {
              e[i] = r[i];
              break;
            }
          e[i] = ['C'].concat(
            t.reduce(function (n, a) {
              return n.concat(a);
            }, []),
          );
          break;
        case 'S':
          if (t.length < 2)
            if (i > 0) t = jl(t, e[i - 1], 1);
            else {
              e[i] = r[i];
              break;
            }
          e[i] = ['S'].concat(
            t.reduce(function (n, a) {
              return n.concat(a);
            }, []),
          );
          break;
        default:
          e[i] = r[i];
      }
  return e;
};
const Uc = Object.freeze(
  Object.defineProperty(
    {
      __proto__: null,
      catmullRomToBezier: Nu,
      fillPath: FC,
      fillPathByDiff: Yg,
      formatPath: Vu,
      intersection: SC,
      parsePathArray: Hg,
      parsePathString: Ji,
      pathToAbsolute: zu,
      pathToCurve: Gu,
      rectPath: Vg,
    },
    Symbol.toStringTag,
    { value: 'Module' },
  ),
);
var ja = (function () {
  function e(r, t) {
    (this.bubbles = !0),
      (this.target = null),
      (this.currentTarget = null),
      (this.delegateTarget = null),
      (this.delegateObject = null),
      (this.defaultPrevented = !1),
      (this.propagationStopped = !1),
      (this.shape = null),
      (this.fromShape = null),
      (this.toShape = null),
      (this.propagationPath = []),
      (this.type = r),
      (this.name = r),
      (this.originalEvent = t),
      (this.timeStamp = t.timeStamp);
  }
  return (
    (e.prototype.preventDefault = function () {
      (this.defaultPrevented = !0),
        this.originalEvent.preventDefault && this.originalEvent.preventDefault();
    }),
    (e.prototype.stopPropagation = function () {
      this.propagationStopped = !0;
    }),
    (e.prototype.toString = function () {
      var r = this.type;
      return '[Event (type=' + r + ')]';
    }),
    (e.prototype.save = function () {}),
    (e.prototype.restore = function () {}),
    e
  );
})();
function Xg(e, r) {
  var t = e.indexOf(r);
  t !== -1 && e.splice(t, 1);
}
var Qf = typeof window != 'undefined' && typeof window.document != 'undefined';
function _g(e, r) {
  if (e.isCanvas()) return !0;
  for (var t = r.getParent(), i = !1; t; ) {
    if (t === e) {
      i = !0;
      break;
    }
    t = t.getParent();
  }
  return i;
}
function wa(e) {
  return e.cfg.visible && e.cfg.capture;
}
var Xs = (function (e) {
    I(r, e);
    function r(t) {
      var i = e.call(this) || this;
      i.destroyed = !1;
      var n = i.getDefaultCfg();
      return (i.cfg = xt(n, t)), i;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        return {};
      }),
      (r.prototype.get = function (t) {
        return this.cfg[t];
      }),
      (r.prototype.set = function (t, i) {
        this.cfg[t] = i;
      }),
      (r.prototype.destroy = function () {
        (this.cfg = { destroyed: !0 }), this.off(), (this.destroyed = !0);
      }),
      r
    );
  })(_c),
  Jf =
    (globalThis && globalThis.__spreadArray) ||
    function (e, r, t) {
      if (t || arguments.length === 2)
        for (var i = 0, n = r.length, a; i < n; i++)
          (a || !(i in r)) && (a || (a = Array.prototype.slice.call(r, 0, i)), (a[i] = r[i]));
      return e.concat(a || Array.prototype.slice.call(r));
    },
  IC = (function () {
    function e(r, t, i) {
      (this.name = r), (this.version = t), (this.os = i), (this.type = 'browser');
    }
    return e;
  })(),
  LC = (function () {
    function e(r) {
      (this.version = r), (this.type = 'node'), (this.name = 'node'), (this.os = process.platform);
    }
    return e;
  })(),
  OC = (function () {
    function e(r, t, i, n) {
      (this.name = r),
        (this.version = t),
        (this.os = i),
        (this.bot = n),
        (this.type = 'bot-device');
    }
    return e;
  })(),
  PC = (function () {
    function e() {
      (this.type = 'bot'),
        (this.bot = !0),
        (this.name = 'bot'),
        (this.version = null),
        (this.os = null);
    }
    return e;
  })(),
  DC = (function () {
    function e() {
      (this.type = 'react-native'),
        (this.name = 'react-native'),
        (this.version = null),
        (this.os = null);
    }
    return e;
  })(),
  BC =
    /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,
  RC = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,
  tv = 3,
  $C = [
    ['aol', /AOLShield\/([0-9\._]+)/],
    ['edge', /Edge\/([0-9\._]+)/],
    ['edge-ios', /EdgiOS\/([0-9\._]+)/],
    ['yandexbrowser', /YaBrowser\/([0-9\._]+)/],
    ['kakaotalk', /KAKAOTALK\s([0-9\.]+)/],
    ['samsung', /SamsungBrowser\/([0-9\.]+)/],
    ['silk', /\bSilk\/([0-9._-]+)\b/],
    ['miui', /MiuiBrowser\/([0-9\.]+)$/],
    ['beaker', /BeakerBrowser\/([0-9\.]+)/],
    ['edge-chromium', /EdgA?\/([0-9\.]+)/],
    ['chromium-webview', /(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],
    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],
    ['phantomjs', /PhantomJS\/([0-9\.]+)(:?\s|$)/],
    ['crios', /CriOS\/([0-9\.]+)(:?\s|$)/],
    ['firefox', /Firefox\/([0-9\.]+)(?:\s|$)/],
    ['fxios', /FxiOS\/([0-9\.]+)/],
    ['opera-mini', /Opera Mini.*Version\/([0-9\.]+)/],
    ['opera', /Opera\/([0-9\.]+)(?:\s|$)/],
    ['opera', /OPR\/([0-9\.]+)(:?\s|$)/],
    ['pie', /^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],
    [
      'pie',
      /^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/,
    ],
    ['netfront', /^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],
    ['ie', /Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],
    ['ie', /MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],
    ['ie', /MSIE\s(7\.0)/],
    ['bb10', /BB10;\sTouch.*Version\/([0-9\.]+)/],
    ['android', /Android\s([0-9\.]+)/],
    ['ios', /Version\/([0-9\._]+).*Mobile.*Safari.*/],
    ['safari', /Version\/([0-9\._]+).*Safari/],
    ['facebook', /FB[AS]V\/([0-9\.]+)/],
    ['instagram', /Instagram\s([0-9\.]+)/],
    ['ios-webview', /AppleWebKit\/([0-9\.]+).*Mobile/],
    ['ios-webview', /AppleWebKit\/([0-9\.]+).*Gecko\)$/],
    ['curl', /^curl\/([0-9\.]+)$/],
    ['searchbot', BC],
  ],
  ev = [
    ['iOS', /iP(hone|od|ad)/],
    ['Android OS', /Android/],
    ['BlackBerry OS', /BlackBerry|BB10/],
    ['Windows Mobile', /IEMobile/],
    ['Amazon OS', /Kindle/],
    ['Windows 3.11', /Win16/],
    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],
    ['Windows 98', /(Windows 98)|(Win98)/],
    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],
    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],
    ['Windows Server 2003', /(Windows NT 5.2)/],
    ['Windows Vista', /(Windows NT 6.0)/],
    ['Windows 7', /(Windows NT 6.1)/],
    ['Windows 8', /(Windows NT 6.2)/],
    ['Windows 8.1', /(Windows NT 6.3)/],
    ['Windows 10', /(Windows NT 10.0)/],
    ['Windows ME', /Windows ME/],
    ['Windows CE', /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],
    ['Open BSD', /OpenBSD/],
    ['Sun OS', /SunOS/],
    ['Chrome OS', /CrOS/],
    ['Linux', /(Linux)|(X11)/],
    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],
    ['QNX', /QNX/],
    ['BeOS', /BeOS/],
    ['OS/2', /OS\/2/],
  ];
function jg(e) {
  return e
    ? rv(e)
    : typeof document == 'undefined' &&
      typeof navigator != 'undefined' &&
      navigator.product === 'ReactNative'
    ? new DC()
    : typeof navigator != 'undefined'
    ? rv(navigator.userAgent)
    : GC();
}
function NC(e) {
  return (
    e !== '' &&
    $C.reduce(function (r, t) {
      var i = t[0],
        n = t[1];
      if (r) return r;
      var a = n.exec(e);
      return !!a && [i, a];
    }, !1)
  );
}
function rv(e) {
  var r = NC(e);
  if (!r) return null;
  var t = r[0],
    i = r[1];
  if (t === 'searchbot') return new PC();
  var n = i[1] && i[1].split('.').join('_').split('_').slice(0, 3);
  n ? n.length < tv && (n = Jf(Jf([], n, !0), HC(tv - n.length), !0)) : (n = []);
  var a = n.join('.'),
    o = zC(e),
    s = RC.exec(e);
  return s && s[1] ? new OC(t, a, o, s[1]) : new IC(t, a, o);
}
function zC(e) {
  for (var r = 0, t = ev.length; r < t; r++) {
    var i = ev[r],
      n = i[0],
      a = i[1],
      o = a.exec(e);
    if (o) return n;
  }
  return null;
}
function GC() {
  var e = typeof process != 'undefined' && process.version;
  return e ? new LC(process.version.slice(1)) : null;
}
function HC(e) {
  for (var r = [], t = 0; t < e; t++) r.push('0');
  return r;
}
var us = typeof Float32Array != 'undefined' ? Float32Array : Array;
Math.hypot ||
  (Math.hypot = function () {
    for (var e = 0, r = arguments.length; r--; ) e += arguments[r] * arguments[r];
    return Math.sqrt(e);
  });
function VC(e, r) {
  var t = r[0],
    i = r[1],
    n = r[2],
    a = r[3],
    o = r[4],
    s = r[5],
    l = r[6],
    u = r[7],
    c = r[8],
    h = c * o - s * u,
    f = -c * a + s * l,
    v = u * a - o * l,
    d = t * h + i * f + n * v;
  return d
    ? ((d = 1 / d),
      (e[0] = h * d),
      (e[1] = (-c * i + n * u) * d),
      (e[2] = (s * i - n * o) * d),
      (e[3] = f * d),
      (e[4] = (c * t - n * l) * d),
      (e[5] = (-s * t + n * a) * d),
      (e[6] = v * d),
      (e[7] = (-u * t + i * l) * d),
      (e[8] = (o * t - i * a) * d),
      e)
    : null;
}
function _s(e, r, t) {
  var i = r[0],
    n = r[1],
    a = r[2],
    o = r[3],
    s = r[4],
    l = r[5],
    u = r[6],
    c = r[7],
    h = r[8],
    f = t[0],
    v = t[1],
    d = t[2],
    p = t[3],
    g = t[4],
    y = t[5],
    m = t[6],
    b = t[7],
    w = t[8];
  return (
    (e[0] = f * i + v * o + d * u),
    (e[1] = f * n + v * s + d * c),
    (e[2] = f * a + v * l + d * h),
    (e[3] = p * i + g * o + y * u),
    (e[4] = p * n + g * s + y * c),
    (e[5] = p * a + g * l + y * h),
    (e[6] = m * i + b * o + w * u),
    (e[7] = m * n + b * s + w * c),
    (e[8] = m * a + b * l + w * h),
    e
  );
}
function YC(e, r) {
  return (
    (e[0] = 1),
    (e[1] = 0),
    (e[2] = 0),
    (e[3] = 0),
    (e[4] = 1),
    (e[5] = 0),
    (e[6] = r[0]),
    (e[7] = r[1]),
    (e[8] = 1),
    e
  );
}
function WC(e, r) {
  var t = Math.sin(r),
    i = Math.cos(r);
  return (
    (e[0] = i),
    (e[1] = t),
    (e[2] = 0),
    (e[3] = -t),
    (e[4] = i),
    (e[5] = 0),
    (e[6] = 0),
    (e[7] = 0),
    (e[8] = 1),
    e
  );
}
function XC(e, r) {
  return (
    (e[0] = r[0]),
    (e[1] = 0),
    (e[2] = 0),
    (e[3] = 0),
    (e[4] = r[1]),
    (e[5] = 0),
    (e[6] = 0),
    (e[7] = 0),
    (e[8] = 1),
    e
  );
}
function _C() {
  var e = new us(3);
  return us != Float32Array && ((e[0] = 0), (e[1] = 0), (e[2] = 0)), e;
}
function ba(e, r, t) {
  var i = r[0],
    n = r[1],
    a = r[2];
  return (
    (e[0] = i * t[0] + n * t[3] + a * t[6]),
    (e[1] = i * t[1] + n * t[4] + a * t[7]),
    (e[2] = i * t[2] + n * t[5] + a * t[8]),
    e
  );
}
(function () {
  var e = _C();
  return function (r, t, i, n, a, o) {
    var s, l;
    for (
      t || (t = 3), i || (i = 0), n ? (l = Math.min(n * t + i, r.length)) : (l = r.length), s = i;
      s < l;
      s += t
    )
      (e[0] = r[s]),
        (e[1] = r[s + 1]),
        (e[2] = r[s + 2]),
        a(e, e, o),
        (r[s] = e[0]),
        (r[s + 1] = e[1]),
        (r[s + 2] = e[2]);
    return r;
  };
})();
function jC() {
  var e = new us(2);
  return us != Float32Array && ((e[0] = 0), (e[1] = 0)), e;
}
function tr(e, r, t) {
  return (e[0] = r[0] + t[0]), (e[1] = r[1] + t[1]), e;
}
function Ug(e, r, t) {
  return (e[0] = r[0] - t[0]), (e[1] = r[1] - t[1]), e;
}
function jt(e, r, t) {
  return (e[0] = Math.min(r[0], t[0])), (e[1] = Math.min(r[1], t[1])), e;
}
function Ut(e, r, t) {
  return (e[0] = Math.max(r[0], t[0])), (e[1] = Math.max(r[1], t[1])), e;
}
function ce(e, r, t) {
  return (e[0] = r[0] * t), (e[1] = r[1] * t), e;
}
function fn(e, r) {
  var t = r[0] - e[0],
    i = r[1] - e[1];
  return Math.hypot(t, i);
}
function tn(e) {
  var r = e[0],
    t = e[1];
  return Math.hypot(r, t);
}
function qg(e, r) {
  var t = r[0],
    i = r[1],
    n = t * t + i * i;
  return n > 0 && (n = 1 / Math.sqrt(n)), (e[0] = r[0] * n), (e[1] = r[1] * n), e;
}
function UC(e, r) {
  return e[0] * r[0] + e[1] * r[1];
}
function qC(e, r, t) {
  var i = r[0],
    n = r[1];
  return (e[0] = t[0] * i + t[3] * n + t[6]), (e[1] = t[1] * i + t[4] * n + t[7]), e;
}
function Yu(e, r) {
  var t = e[0],
    i = e[1],
    n = r[0],
    a = r[1],
    o = Math.sqrt(t * t + i * i) * Math.sqrt(n * n + a * a),
    s = o && (t * n + i * a) / o;
  return Math.acos(Math.min(Math.max(s, -1), 1));
}
function ZC(e, r) {
  return e[0] === r[0] && e[1] === r[1];
}
var Si = Ug;
(function () {
  var e = jC();
  return function (r, t, i, n, a, o) {
    var s, l;
    for (
      t || (t = 2), i || (i = 0), n ? (l = Math.min(n * t + i, r.length)) : (l = r.length), s = i;
      s < l;
      s += t
    )
      (e[0] = r[s]), (e[1] = r[s + 1]), a(e, e, o), (r[s] = e[0]), (r[s + 1] = e[1]);
    return r;
  };
})();
function qi(e, r, t) {
  var i = [0, 0, 0, 0, 0, 0, 0, 0, 0];
  return YC(i, t), _s(e, i, r);
}
function qc(e, r, t) {
  var i = [0, 0, 0, 0, 0, 0, 0, 0, 0];
  return WC(i, t), _s(e, i, r);
}
function Zg(e, r, t) {
  var i = [0, 0, 0, 0, 0, 0, 0, 0, 0];
  return XC(i, t), _s(e, i, r);
}
function KC(e, r, t) {
  return _s(e, t, r);
}
function Ht(e, r) {
  for (var t = e ? [].concat(e) : [1, 0, 0, 0, 1, 0, 0, 0, 1], i = 0, n = r.length; i < n; i++) {
    var a = r[i];
    switch (a[0]) {
      case 't':
        qi(t, t, [a[1], a[2]]);
        break;
      case 's':
        Zg(t, t, [a[1], a[2]]);
        break;
      case 'r':
        qc(t, t, a[1]);
        break;
      case 'm':
        KC(t, t, a[1]);
        break;
    }
  }
  return t;
}
function QC(e, r) {
  return e[0] * r[1] - r[0] * e[1];
}
function Zc(e, r, t) {
  var i = Yu(e, r),
    n = QC(e, r) >= 0;
  return t ? (n ? Math.PI * 2 - i : i) : n ? i : Math.PI * 2 - i;
}
function iv(e, r) {
  var t = [],
    i = e[0],
    n = e[1],
    a = e[2],
    o = e[3],
    s = e[4],
    l = e[5],
    u = e[6],
    c = e[7],
    h = e[8],
    f = r[0],
    v = r[1],
    d = r[2],
    p = r[3],
    g = r[4],
    y = r[5],
    m = r[6],
    b = r[7],
    w = r[8];
  return (
    (t[0] = f * i + v * o + d * u),
    (t[1] = f * n + v * s + d * c),
    (t[2] = f * a + v * l + d * h),
    (t[3] = p * i + g * o + y * u),
    (t[4] = p * n + g * s + y * c),
    (t[5] = p * a + g * l + y * h),
    (t[6] = m * i + b * o + w * u),
    (t[7] = m * n + b * s + w * c),
    (t[8] = m * a + b * l + w * h),
    t
  );
}
function gr(e, r) {
  var t = [],
    i = r[0],
    n = r[1];
  return (t[0] = e[0] * i + e[3] * n + e[6]), (t[1] = e[1] * i + e[4] * n + e[7]), t;
}
function js(e) {
  var r = [],
    t = e[0],
    i = e[1],
    n = e[2],
    a = e[3],
    o = e[4],
    s = e[5],
    l = e[6],
    u = e[7],
    c = e[8],
    h = c * o - s * u,
    f = -c * a + s * l,
    v = u * a - o * l,
    d = t * h + i * f + n * v;
  return d
    ? ((d = 1 / d),
      (r[0] = h * d),
      (r[1] = (-c * i + n * u) * d),
      (r[2] = (s * i - n * o) * d),
      (r[3] = f * d),
      (r[4] = (c * t - n * l) * d),
      (r[5] = (-s * t + n * a) * d),
      (r[6] = v * d),
      (r[7] = (-u * t + i * l) * d),
      (r[8] = (o * t - i * a) * d),
      r)
    : null;
}
var Yn = Ht,
  Ul = 'matrix',
  JC = ['zIndex', 'capture', 'visible', 'type'],
  tA = ['repeat'],
  eA = ':',
  rA = '*';
function iA(e) {
  for (var r = [], t = 0; t < e.length; t++) $(e[t]) ? r.push([].concat(e[t])) : r.push(e[t]);
  return r;
}
function nA(e, r) {
  var t = {},
    i = r.attrs;
  for (var n in e) t[n] = i[n];
  return t;
}
function aA(e, r) {
  var t = {},
    i = r.attr();
  return (
    A(e, function (n, a) {
      tA.indexOf(a) === -1 && !Bt(i[a], n) && (t[a] = n);
    }),
    t
  );
}
function oA(e, r) {
  if (r.onFrame) return e;
  var t = r.startTime,
    i = r.delay,
    n = r.duration,
    a = Object.prototype.hasOwnProperty;
  return (
    A(e, function (o) {
      t + i < o.startTime + o.delay + o.duration &&
        n > o.delay &&
        A(r.toAttrs, function (s, l) {
          a.call(o.toAttrs, l) && (delete o.toAttrs[l], delete o.fromAttrs[l]);
        });
    }),
    e
  );
}
var Kg = (function (e) {
    I(r, e);
    function r(t) {
      var i = e.call(this, t) || this;
      i.attrs = {};
      var n = i.getDefaultAttrs();
      return xt(n, t.attrs), (i.attrs = n), i.initAttrs(n), i.initAnimate(), i;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        return { visible: !0, capture: !0, zIndex: 0 };
      }),
      (r.prototype.getDefaultAttrs = function () {
        return { matrix: this.getDefaultMatrix(), opacity: 1 };
      }),
      (r.prototype.onCanvasChange = function (t) {}),
      (r.prototype.initAttrs = function (t) {}),
      (r.prototype.initAnimate = function () {
        this.set('animable', !0), this.set('animating', !1);
      }),
      (r.prototype.isGroup = function () {
        return !1;
      }),
      (r.prototype.getParent = function () {
        return this.get('parent');
      }),
      (r.prototype.getCanvas = function () {
        return this.get('canvas');
      }),
      (r.prototype.attr = function () {
        for (var t, i = [], n = 0; n < arguments.length; n++) i[n] = arguments[n];
        var a = i[0],
          o = i[1];
        if (!a) return this.attrs;
        if (yt(a)) {
          for (var s in a) this.setAttr(s, a[s]);
          return this.afterAttrsChange(a), this;
        }
        return i.length === 2
          ? (this.setAttr(a, o), this.afterAttrsChange(((t = {}), (t[a] = o), t)), this)
          : this.attrs[a];
      }),
      (r.prototype.isClipped = function (t, i) {
        var n = this.getClip();
        return n && !n.isHit(t, i);
      }),
      (r.prototype.setAttr = function (t, i) {
        var n = this.attrs[t];
        n !== i && ((this.attrs[t] = i), this.onAttrChange(t, i, n));
      }),
      (r.prototype.onAttrChange = function (t, i, n) {
        t === 'matrix' && this.set('totalMatrix', null);
      }),
      (r.prototype.afterAttrsChange = function (t) {
        if (this.cfg.isClipShape) {
          var i = this.cfg.applyTo;
          i && i.onCanvasChange('clip');
        } else this.onCanvasChange('attr');
      }),
      (r.prototype.show = function () {
        return this.set('visible', !0), this.onCanvasChange('show'), this;
      }),
      (r.prototype.hide = function () {
        return this.set('visible', !1), this.onCanvasChange('hide'), this;
      }),
      (r.prototype.setZIndex = function (t) {
        this.set('zIndex', t);
        var i = this.getParent();
        return i && i.sort(), this;
      }),
      (r.prototype.toFront = function () {
        var t = this.getParent();
        if (t) {
          var i = t.getChildren();
          this.get('el');
          var n = i.indexOf(this);
          i.splice(n, 1), i.push(this), this.onCanvasChange('zIndex');
        }
      }),
      (r.prototype.toBack = function () {
        var t = this.getParent();
        if (t) {
          var i = t.getChildren();
          this.get('el');
          var n = i.indexOf(this);
          i.splice(n, 1), i.unshift(this), this.onCanvasChange('zIndex');
        }
      }),
      (r.prototype.remove = function (t) {
        t === void 0 && (t = !0);
        var i = this.getParent();
        i
          ? (Xg(i.getChildren(), this), i.get('clearing') || this.onCanvasChange('remove'))
          : this.onCanvasChange('remove'),
          t && this.destroy();
      }),
      (r.prototype.resetMatrix = function () {
        this.attr(Ul, this.getDefaultMatrix()), this.onCanvasChange('matrix');
      }),
      (r.prototype.getMatrix = function () {
        return this.attr(Ul);
      }),
      (r.prototype.setMatrix = function (t) {
        this.attr(Ul, t), this.onCanvasChange('matrix');
      }),
      (r.prototype.getTotalMatrix = function () {
        var t = this.cfg.totalMatrix;
        if (!t) {
          var i = this.attr('matrix'),
            n = this.cfg.parentMatrix;
          n && i ? (t = iv(n, i)) : (t = i || n), this.set('totalMatrix', t);
        }
        return t;
      }),
      (r.prototype.applyMatrix = function (t) {
        var i = this.attr('matrix'),
          n = null;
        t && i ? (n = iv(t, i)) : (n = i || t),
          this.set('totalMatrix', n),
          this.set('parentMatrix', t);
      }),
      (r.prototype.getDefaultMatrix = function () {
        return null;
      }),
      (r.prototype.applyToMatrix = function (t) {
        var i = this.attr('matrix');
        return i ? gr(i, t) : t;
      }),
      (r.prototype.invertFromMatrix = function (t) {
        var i = this.attr('matrix');
        if (i) {
          var n = js(i);
          if (n) return gr(n, t);
        }
        return t;
      }),
      (r.prototype.setClip = function (t) {
        var i = this.getCanvas(),
          n = null;
        if (t) {
          var a = this.getShapeBase(),
            o = zi(t.type),
            s = a[o];
          s &&
            (n = new s({
              type: t.type,
              isClipShape: !0,
              applyTo: this,
              attrs: t.attrs,
              canvas: i,
            }));
        }
        return this.set('clipShape', n), this.onCanvasChange('clip'), n;
      }),
      (r.prototype.getClip = function () {
        var t = this.cfg.clipShape;
        return t || null;
      }),
      (r.prototype.clone = function () {
        var t = this,
          i = this.attrs,
          n = {};
        A(i, function (s, l) {
          $(i[l]) ? (n[l] = iA(i[l])) : (n[l] = i[l]);
        });
        var a = this.constructor,
          o = new a({ attrs: n });
        return (
          A(JC, function (s) {
            o.set(s, t.get(s));
          }),
          o
        );
      }),
      (r.prototype.destroy = function () {
        var t = this.destroyed;
        t || ((this.attrs = {}), e.prototype.destroy.call(this));
      }),
      (r.prototype.isAnimatePaused = function () {
        return this.get('_pause').isPaused;
      }),
      (r.prototype.animate = function () {
        for (var t = [], i = 0; i < arguments.length; i++) t[i] = arguments[i];
        if (!(!this.get('timeline') && !this.get('canvas'))) {
          this.set('animating', !0);
          var n = this.get('timeline');
          n || ((n = this.get('canvas').get('timeline')), this.set('timeline', n));
          var a = this.get('animations') || [];
          n.timer || n.initTimer();
          var o = t[0],
            s = t[1],
            l = t[2],
            u = l === void 0 ? 'easeLinear' : l,
            c = t[3],
            h = c === void 0 ? Nr : c,
            f = t[4],
            v = f === void 0 ? 0 : f,
            d,
            p,
            g,
            y,
            m;
          q(o) ? ((d = o), (o = {})) : yt(o) && o.onFrame && ((d = o.onFrame), (p = o.repeat)),
            yt(s)
              ? ((m = s),
                (s = m.duration),
                (u = m.easing || 'easeLinear'),
                (v = m.delay || 0),
                (p = m.repeat || p || !1),
                (h = m.callback || Nr),
                (g = m.pauseCallback || Nr),
                (y = m.resumeCallback || Nr))
              : (it(h) && ((v = h), (h = null)),
                q(u) ? ((h = u), (u = 'easeLinear')) : (u = u || 'easeLinear'));
          var b = aA(o, this),
            w = {
              fromAttrs: nA(b, this),
              toAttrs: b,
              duration: s,
              easing: u,
              repeat: p,
              callback: h,
              pauseCallback: g,
              resumeCallback: y,
              delay: v,
              startTime: n.getTime(),
              id: ii(),
              onFrame: d,
              pathFormatted: !1,
            };
          a.length > 0 ? (a = oA(a, w)) : n.addAnimator(this),
            a.push(w),
            this.set('animations', a),
            this.set('_pause', { isPaused: !1 });
        }
      }),
      (r.prototype.stopAnimate = function (t) {
        var i = this;
        t === void 0 && (t = !0);
        var n = this.get('animations');
        A(n, function (a) {
          t && (a.onFrame ? i.attr(a.onFrame(1)) : i.attr(a.toAttrs)), a.callback && a.callback();
        }),
          this.set('animating', !1),
          this.set('animations', []);
      }),
      (r.prototype.pauseAnimate = function () {
        var t = this.get('timeline'),
          i = this.get('animations'),
          n = t.getTime();
        return (
          A(i, function (a) {
            (a._paused = !0), (a._pauseTime = n), a.pauseCallback && a.pauseCallback();
          }),
          this.set('_pause', { isPaused: !0, pauseTime: n }),
          this
        );
      }),
      (r.prototype.resumeAnimate = function () {
        var t = this.get('timeline'),
          i = t.getTime(),
          n = this.get('animations'),
          a = this.get('_pause').pauseTime;
        return (
          A(n, function (o) {
            (o.startTime = o.startTime + (i - a)),
              (o._paused = !1),
              (o._pauseTime = null),
              o.resumeCallback && o.resumeCallback();
          }),
          this.set('_pause', { isPaused: !1 }),
          this.set('animations', n),
          this
        );
      }),
      (r.prototype.emitDelegation = function (t, i) {
        var n = this,
          a = i.propagationPath;
        this.getEvents();
        var o;
        t === 'mouseenter' ? (o = i.fromShape) : t === 'mouseleave' && (o = i.toShape);
        for (
          var s = function (h) {
              var f = a[h],
                v = f.get('name');
              if (v) {
                if ((f.isGroup() || (f.isCanvas && f.isCanvas())) && o && _g(f, o)) return 'break';
                $(v)
                  ? A(v, function (d) {
                      n.emitDelegateEvent(f, d, i);
                    })
                  : l.emitDelegateEvent(f, v, i);
              }
            },
            l = this,
            u = 0;
          u < a.length;
          u++
        ) {
          var c = s(u);
          if (c === 'break') break;
        }
      }),
      (r.prototype.emitDelegateEvent = function (t, i, n) {
        var a = this.getEvents(),
          o = i + eA + n.type;
        (a[o] || a[rA]) &&
          ((n.name = o),
          (n.currentTarget = t),
          (n.delegateTarget = this),
          (n.delegateObject = t.get('delegateObject')),
          this.emit(o, n));
      }),
      (r.prototype.translate = function (t, i) {
        t === void 0 && (t = 0), i === void 0 && (i = 0);
        var n = this.getMatrix(),
          a = Yn(n, [['t', t, i]]);
        return this.setMatrix(a), this;
      }),
      (r.prototype.move = function (t, i) {
        var n = this.attr('x') || 0,
          a = this.attr('y') || 0;
        return this.translate(t - n, i - a), this;
      }),
      (r.prototype.moveTo = function (t, i) {
        return this.move(t, i);
      }),
      (r.prototype.scale = function (t, i) {
        var n = this.getMatrix(),
          a = Yn(n, [['s', t, i || t]]);
        return this.setMatrix(a), this;
      }),
      (r.prototype.rotate = function (t) {
        var i = this.getMatrix(),
          n = Yn(i, [['r', t]]);
        return this.setMatrix(n), this;
      }),
      (r.prototype.rotateAtStart = function (t) {
        var i = this.attr(),
          n = i.x,
          a = i.y,
          o = this.getMatrix(),
          s = Yn(o, [
            ['t', -n, -a],
            ['r', t],
            ['t', n, a],
          ]);
        return this.setMatrix(s), this;
      }),
      (r.prototype.rotateAtPoint = function (t, i, n) {
        var a = this.getMatrix(),
          o = Yn(a, [
            ['t', -t, -i],
            ['r', n],
            ['t', t, i],
          ]);
        return this.setMatrix(o), this;
      }),
      r
    );
  })(Xs),
  nv = {},
  Wu = '_INDEX';
function Qg(e, r) {
  if ((e.set('canvas', r), e.isGroup())) {
    var t = e.get('children');
    t.length &&
      t.forEach(function (i) {
        Qg(i, r);
      });
  }
}
function Jg(e, r) {
  if ((e.set('timeline', r), e.isGroup())) {
    var t = e.get('children');
    t.length &&
      t.forEach(function (i) {
        Jg(i, r);
      });
  }
}
function sA(e, r, t) {
  t === void 0 && (t = !0),
    t ? r.destroy() : (r.set('parent', null), r.set('canvas', null)),
    Xg(e.getChildren(), r);
}
function lA(e) {
  return function (r, t) {
    var i = e(r, t);
    return i === 0 ? r[Wu] - t[Wu] : i;
  };
}
var ty = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.isCanvas = function () {
        return !1;
      }),
      (r.prototype.getBBox = function () {
        var t = 1 / 0,
          i = -1 / 0,
          n = 1 / 0,
          a = -1 / 0,
          o = [],
          s = [],
          l = this.getChildren().filter(function (c) {
            return (
              c.get('visible') && (!c.isGroup() || (c.isGroup() && c.getChildren().length > 0))
            );
          });
        l.length > 0
          ? (A(l, function (c) {
              var h = c.getBBox();
              o.push(h.minX, h.maxX), s.push(h.minY, h.maxY);
            }),
            (t = ae(o)),
            (i = te(o)),
            (n = ae(s)),
            (a = te(s)))
          : ((t = 0), (i = 0), (n = 0), (a = 0));
        var u = { x: t, y: n, minX: t, minY: n, maxX: i, maxY: a, width: i - t, height: a - n };
        return u;
      }),
      (r.prototype.getCanvasBBox = function () {
        var t = 1 / 0,
          i = -1 / 0,
          n = 1 / 0,
          a = -1 / 0,
          o = [],
          s = [],
          l = this.getChildren().filter(function (c) {
            return (
              c.get('visible') && (!c.isGroup() || (c.isGroup() && c.getChildren().length > 0))
            );
          });
        l.length > 0
          ? (A(l, function (c) {
              var h = c.getCanvasBBox();
              o.push(h.minX, h.maxX), s.push(h.minY, h.maxY);
            }),
            (t = ae(o)),
            (i = te(o)),
            (n = ae(s)),
            (a = te(s)))
          : ((t = 0), (i = 0), (n = 0), (a = 0));
        var u = { x: t, y: n, minX: t, minY: n, maxX: i, maxY: a, width: i - t, height: a - n };
        return u;
      }),
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return (t.children = []), t;
      }),
      (r.prototype.onAttrChange = function (t, i, n) {
        if ((e.prototype.onAttrChange.call(this, t, i, n), t === 'matrix')) {
          var a = this.getTotalMatrix();
          this._applyChildrenMarix(a);
        }
      }),
      (r.prototype.applyMatrix = function (t) {
        var i = this.getTotalMatrix();
        e.prototype.applyMatrix.call(this, t);
        var n = this.getTotalMatrix();
        n !== i && this._applyChildrenMarix(n);
      }),
      (r.prototype._applyChildrenMarix = function (t) {
        var i = this.getChildren();
        A(i, function (n) {
          n.applyMatrix(t);
        });
      }),
      (r.prototype.addShape = function () {
        for (var t = [], i = 0; i < arguments.length; i++) t[i] = arguments[i];
        var n = t[0],
          a = t[1];
        yt(n) ? (a = n) : (a.type = n);
        var o = nv[a.type];
        o || ((o = zi(a.type)), (nv[a.type] = o));
        var s = this.getShapeBase(),
          l = new s[o](a);
        return this.add(l), l;
      }),
      (r.prototype.addGroup = function () {
        for (var t = [], i = 0; i < arguments.length; i++) t[i] = arguments[i];
        var n = t[0],
          a = t[1],
          o;
        if (q(n)) a ? (o = new n(a)) : (o = new n({ parent: this }));
        else {
          var s = n || {},
            l = this.getGroupBase();
          o = new l(s);
        }
        return this.add(o), o;
      }),
      (r.prototype.getCanvas = function () {
        var t;
        return this.isCanvas() ? (t = this) : (t = this.get('canvas')), t;
      }),
      (r.prototype.getShape = function (t, i, n) {
        if (!wa(this)) return null;
        var a = this.getChildren(),
          o;
        if (this.isCanvas()) o = this._findShape(a, t, i, n);
        else {
          var s = [t, i, 1];
          (s = this.invertFromMatrix(s)),
            this.isClipped(s[0], s[1]) || (o = this._findShape(a, s[0], s[1], n));
        }
        return o;
      }),
      (r.prototype._findShape = function (t, i, n, a) {
        for (var o = null, s = t.length - 1; s >= 0; s--) {
          var l = t[s];
          if ((wa(l) && (l.isGroup() ? (o = l.getShape(i, n, a)) : l.isHit(i, n) && (o = l)), o))
            break;
        }
        return o;
      }),
      (r.prototype.add = function (t) {
        var i = this.getCanvas(),
          n = this.getChildren(),
          a = this.get('timeline'),
          o = t.getParent();
        o && sA(o, t, !1),
          t.set('parent', this),
          i && Qg(t, i),
          a && Jg(t, a),
          n.push(t),
          t.onCanvasChange('add'),
          this._applyElementMatrix(t);
      }),
      (r.prototype._applyElementMatrix = function (t) {
        var i = this.getTotalMatrix();
        i && t.applyMatrix(i);
      }),
      (r.prototype.getChildren = function () {
        return this.get('children');
      }),
      (r.prototype.sort = function () {
        var t = this.getChildren();
        A(t, function (i, n) {
          return (i[Wu] = n), i;
        }),
          t.sort(
            lA(function (i, n) {
              return i.get('zIndex') - n.get('zIndex');
            }),
          ),
          this.onCanvasChange('sort');
      }),
      (r.prototype.clear = function () {
        if ((this.set('clearing', !0), !this.destroyed)) {
          for (var t = this.getChildren(), i = t.length - 1; i >= 0; i--) t[i].destroy();
          this.set('children', []), this.onCanvasChange('clear'), this.set('clearing', !1);
        }
      }),
      (r.prototype.destroy = function () {
        this.get('destroyed') || (this.clear(), e.prototype.destroy.call(this));
      }),
      (r.prototype.getFirst = function () {
        return this.getChildByIndex(0);
      }),
      (r.prototype.getLast = function () {
        var t = this.getChildren();
        return this.getChildByIndex(t.length - 1);
      }),
      (r.prototype.getChildByIndex = function (t) {
        var i = this.getChildren();
        return i[t];
      }),
      (r.prototype.getCount = function () {
        var t = this.getChildren();
        return t.length;
      }),
      (r.prototype.contain = function (t) {
        var i = this.getChildren();
        return i.indexOf(t) > -1;
      }),
      (r.prototype.removeChild = function (t, i) {
        i === void 0 && (i = !0), this.contain(t) && t.remove(i);
      }),
      (r.prototype.findAll = function (t) {
        var i = [],
          n = this.getChildren();
        return (
          A(n, function (a) {
            t(a) && i.push(a), a.isGroup() && (i = i.concat(a.findAll(t)));
          }),
          i
        );
      }),
      (r.prototype.find = function (t) {
        var i = null,
          n = this.getChildren();
        return (
          A(n, function (a) {
            if ((t(a) ? (i = a) : a.isGroup() && (i = a.find(t)), i)) return !1;
          }),
          i
        );
      }),
      (r.prototype.findById = function (t) {
        return this.find(function (i) {
          return i.get('id') === t;
        });
      }),
      (r.prototype.findByClassName = function (t) {
        return this.find(function (i) {
          return i.get('className') === t;
        });
      }),
      (r.prototype.findAllByName = function (t) {
        return this.findAll(function (i) {
          return i.get('name') === t;
        });
      }),
      r
    );
  })(Kg),
  vn = 0,
  ta = 0,
  Wn = 0,
  ey = 1e3,
  cs,
  ea,
  hs = 0,
  Li = 0,
  Us = 0,
  Sa = typeof performance == 'object' && performance.now ? performance : Date,
  ry =
    typeof window == 'object' && window.requestAnimationFrame
      ? window.requestAnimationFrame.bind(window)
      : function (e) {
          setTimeout(e, 17);
        };
function iy() {
  return Li || (ry(uA), (Li = Sa.now() + Us));
}
function uA() {
  Li = 0;
}
function Xu() {
  this._call = this._time = this._next = null;
}
Xu.prototype = ny.prototype = {
  constructor: Xu,
  restart: function (e, r, t) {
    if (typeof e != 'function') throw new TypeError('callback is not a function');
    (t = (t == null ? iy() : +t) + (r == null ? 0 : +r)),
      !this._next && ea !== this && (ea ? (ea._next = this) : (cs = this), (ea = this)),
      (this._call = e),
      (this._time = t),
      _u();
  },
  stop: function () {
    this._call && ((this._call = null), (this._time = 1 / 0), _u());
  },
};
function ny(e, r, t) {
  var i = new Xu();
  return i.restart(e, r, t), i;
}
function cA() {
  iy(), ++vn;
  for (var e = cs, r; e; ) (r = Li - e._time) >= 0 && e._call.call(null, r), (e = e._next);
  --vn;
}
function av() {
  (Li = (hs = Sa.now()) + Us), (vn = ta = 0);
  try {
    cA();
  } finally {
    (vn = 0), fA(), (Li = 0);
  }
}
function hA() {
  var e = Sa.now(),
    r = e - hs;
  r > ey && ((Us -= r), (hs = e));
}
function fA() {
  for (var e, r = cs, t, i = 1 / 0; r; )
    r._call
      ? (i > r._time && (i = r._time), (e = r), (r = r._next))
      : ((t = r._next), (r._next = null), (r = e ? (e._next = t) : (cs = t)));
  (ea = e), _u(i);
}
function _u(e) {
  if (!vn) {
    ta && (ta = clearTimeout(ta));
    var r = e - Li;
    r > 24
      ? (e < 1 / 0 && (ta = setTimeout(av, e - Sa.now() - Us)), Wn && (Wn = clearInterval(Wn)))
      : (Wn || ((hs = Sa.now()), (Wn = setInterval(hA, ey))), (vn = 1), ry(av));
  }
}
function Kc(e, r, t) {
  (e.prototype = r.prototype = t), (t.constructor = e);
}
function ay(e, r) {
  var t = Object.create(e.prototype);
  for (var i in r) t[i] = r[i];
  return t;
}
function Ua() {}
var Ca = 0.7,
  fs = 1 / Ca,
  an = '\\s*([+-]?\\d+)\\s*',
  Aa = '\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*',
  ir = '\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*',
  vA = /^#([0-9a-f]{3,8})$/,
  dA = new RegExp(`^rgb\\(${an},${an},${an}\\)$`),
  pA = new RegExp(`^rgb\\(${ir},${ir},${ir}\\)$`),
  gA = new RegExp(`^rgba\\(${an},${an},${an},${Aa}\\)$`),
  yA = new RegExp(`^rgba\\(${ir},${ir},${ir},${Aa}\\)$`),
  mA = new RegExp(`^hsl\\(${Aa},${ir},${ir}\\)$`),
  xA = new RegExp(`^hsla\\(${Aa},${ir},${ir},${Aa}\\)$`),
  ov = {
    aliceblue: 15792383,
    antiquewhite: 16444375,
    aqua: 65535,
    aquamarine: 8388564,
    azure: 15794175,
    beige: 16119260,
    bisque: 16770244,
    black: 0,
    blanchedalmond: 16772045,
    blue: 255,
    blueviolet: 9055202,
    brown: 10824234,
    burlywood: 14596231,
    cadetblue: 6266528,
    chartreuse: 8388352,
    chocolate: 13789470,
    coral: 16744272,
    cornflowerblue: 6591981,
    cornsilk: 16775388,
    crimson: 14423100,
    cyan: 65535,
    darkblue: 139,
    darkcyan: 35723,
    darkgoldenrod: 12092939,
    darkgray: 11119017,
    darkgreen: 25600,
    darkgrey: 11119017,
    darkkhaki: 12433259,
    darkmagenta: 9109643,
    darkolivegreen: 5597999,
    darkorange: 16747520,
    darkorchid: 10040012,
    darkred: 9109504,
    darksalmon: 15308410,
    darkseagreen: 9419919,
    darkslateblue: 4734347,
    darkslategray: 3100495,
    darkslategrey: 3100495,
    darkturquoise: 52945,
    darkviolet: 9699539,
    deeppink: 16716947,
    deepskyblue: 49151,
    dimgray: 6908265,
    dimgrey: 6908265,
    dodgerblue: 2003199,
    firebrick: 11674146,
    floralwhite: 16775920,
    forestgreen: 2263842,
    fuchsia: 16711935,
    gainsboro: 14474460,
    ghostwhite: 16316671,
    gold: 16766720,
    goldenrod: 14329120,
    gray: 8421504,
    green: 32768,
    greenyellow: 11403055,
    grey: 8421504,
    honeydew: 15794160,
    hotpink: 16738740,
    indianred: 13458524,
    indigo: 4915330,
    ivory: 16777200,
    khaki: 15787660,
    lavender: 15132410,
    lavenderblush: 16773365,
    lawngreen: 8190976,
    lemonchiffon: 16775885,
    lightblue: 11393254,
    lightcoral: 15761536,
    lightcyan: 14745599,
    lightgoldenrodyellow: 16448210,
    lightgray: 13882323,
    lightgreen: 9498256,
    lightgrey: 13882323,
    lightpink: 16758465,
    lightsalmon: 16752762,
    lightseagreen: 2142890,
    lightskyblue: 8900346,
    lightslategray: 7833753,
    lightslategrey: 7833753,
    lightsteelblue: 11584734,
    lightyellow: 16777184,
    lime: 65280,
    limegreen: 3329330,
    linen: 16445670,
    magenta: 16711935,
    maroon: 8388608,
    mediumaquamarine: 6737322,
    mediumblue: 205,
    mediumorchid: 12211667,
    mediumpurple: 9662683,
    mediumseagreen: 3978097,
    mediumslateblue: 8087790,
    mediumspringgreen: 64154,
    mediumturquoise: 4772300,
    mediumvioletred: 13047173,
    midnightblue: 1644912,
    mintcream: 16121850,
    mistyrose: 16770273,
    moccasin: 16770229,
    navajowhite: 16768685,
    navy: 128,
    oldlace: 16643558,
    olive: 8421376,
    olivedrab: 7048739,
    orange: 16753920,
    orangered: 16729344,
    orchid: 14315734,
    palegoldenrod: 15657130,
    palegreen: 10025880,
    paleturquoise: 11529966,
    palevioletred: 14381203,
    papayawhip: 16773077,
    peachpuff: 16767673,
    peru: 13468991,
    pink: 16761035,
    plum: 14524637,
    powderblue: 11591910,
    purple: 8388736,
    rebeccapurple: 6697881,
    red: 16711680,
    rosybrown: 12357519,
    royalblue: 4286945,
    saddlebrown: 9127187,
    salmon: 16416882,
    sandybrown: 16032864,
    seagreen: 3050327,
    seashell: 16774638,
    sienna: 10506797,
    silver: 12632256,
    skyblue: 8900331,
    slateblue: 6970061,
    slategray: 7372944,
    slategrey: 7372944,
    snow: 16775930,
    springgreen: 65407,
    steelblue: 4620980,
    tan: 13808780,
    teal: 32896,
    thistle: 14204888,
    tomato: 16737095,
    turquoise: 4251856,
    violet: 15631086,
    wheat: 16113331,
    white: 16777215,
    whitesmoke: 16119285,
    yellow: 16776960,
    yellowgreen: 10145074,
  };
Kc(Ua, Ma, {
  copy(e) {
    return Object.assign(new this.constructor(), this, e);
  },
  displayable() {
    return this.rgb().displayable();
  },
  hex: sv,
  formatHex: sv,
  formatHex8: wA,
  formatHsl: bA,
  formatRgb: lv,
  toString: lv,
});
function sv() {
  return this.rgb().formatHex();
}
function wA() {
  return this.rgb().formatHex8();
}
function bA() {
  return oy(this).formatHsl();
}
function lv() {
  return this.rgb().formatRgb();
}
function Ma(e) {
  var r, t;
  return (
    (e = (e + '').trim().toLowerCase()),
    (r = vA.exec(e))
      ? ((t = r[1].length),
        (r = parseInt(r[1], 16)),
        t === 6
          ? uv(r)
          : t === 3
          ? new xe(
              ((r >> 8) & 15) | ((r >> 4) & 240),
              ((r >> 4) & 15) | (r & 240),
              ((r & 15) << 4) | (r & 15),
              1,
            )
          : t === 8
          ? yo((r >> 24) & 255, (r >> 16) & 255, (r >> 8) & 255, (r & 255) / 255)
          : t === 4
          ? yo(
              ((r >> 12) & 15) | ((r >> 8) & 240),
              ((r >> 8) & 15) | ((r >> 4) & 240),
              ((r >> 4) & 15) | (r & 240),
              (((r & 15) << 4) | (r & 15)) / 255,
            )
          : null)
      : (r = dA.exec(e))
      ? new xe(r[1], r[2], r[3], 1)
      : (r = pA.exec(e))
      ? new xe((r[1] * 255) / 100, (r[2] * 255) / 100, (r[3] * 255) / 100, 1)
      : (r = gA.exec(e))
      ? yo(r[1], r[2], r[3], r[4])
      : (r = yA.exec(e))
      ? yo((r[1] * 255) / 100, (r[2] * 255) / 100, (r[3] * 255) / 100, r[4])
      : (r = mA.exec(e))
      ? fv(r[1], r[2] / 100, r[3] / 100, 1)
      : (r = xA.exec(e))
      ? fv(r[1], r[2] / 100, r[3] / 100, r[4])
      : ov.hasOwnProperty(e)
      ? uv(ov[e])
      : e === 'transparent'
      ? new xe(NaN, NaN, NaN, 0)
      : null
  );
}
function uv(e) {
  return new xe((e >> 16) & 255, (e >> 8) & 255, e & 255, 1);
}
function yo(e, r, t, i) {
  return i <= 0 && (e = r = t = NaN), new xe(e, r, t, i);
}
function SA(e) {
  return (
    e instanceof Ua || (e = Ma(e)), e ? ((e = e.rgb()), new xe(e.r, e.g, e.b, e.opacity)) : new xe()
  );
}
function ju(e, r, t, i) {
  return arguments.length === 1 ? SA(e) : new xe(e, r, t, i == null ? 1 : i);
}
function xe(e, r, t, i) {
  (this.r = +e), (this.g = +r), (this.b = +t), (this.opacity = +i);
}
Kc(
  xe,
  ju,
  ay(Ua, {
    brighter(e) {
      return (
        (e = e == null ? fs : Math.pow(fs, e)),
        new xe(this.r * e, this.g * e, this.b * e, this.opacity)
      );
    },
    darker(e) {
      return (
        (e = e == null ? Ca : Math.pow(Ca, e)),
        new xe(this.r * e, this.g * e, this.b * e, this.opacity)
      );
    },
    rgb() {
      return this;
    },
    clamp() {
      return new xe(Ci(this.r), Ci(this.g), Ci(this.b), vs(this.opacity));
    },
    displayable() {
      return (
        -0.5 <= this.r &&
        this.r < 255.5 &&
        -0.5 <= this.g &&
        this.g < 255.5 &&
        -0.5 <= this.b &&
        this.b < 255.5 &&
        0 <= this.opacity &&
        this.opacity <= 1
      );
    },
    hex: cv,
    formatHex: cv,
    formatHex8: CA,
    formatRgb: hv,
    toString: hv,
  }),
);
function cv() {
  return `#${gi(this.r)}${gi(this.g)}${gi(this.b)}`;
}
function CA() {
  return `#${gi(this.r)}${gi(this.g)}${gi(this.b)}${gi(
    (isNaN(this.opacity) ? 1 : this.opacity) * 255,
  )}`;
}
function hv() {
  const e = vs(this.opacity);
  return `${e === 1 ? 'rgb(' : 'rgba('}${Ci(this.r)}, ${Ci(this.g)}, ${Ci(this.b)}${
    e === 1 ? ')' : `, ${e})`
  }`;
}
function vs(e) {
  return isNaN(e) ? 1 : Math.max(0, Math.min(1, e));
}
function Ci(e) {
  return Math.max(0, Math.min(255, Math.round(e) || 0));
}
function gi(e) {
  return (e = Ci(e)), (e < 16 ? '0' : '') + e.toString(16);
}
function fv(e, r, t, i) {
  return (
    i <= 0 ? (e = r = t = NaN) : t <= 0 || t >= 1 ? (e = r = NaN) : r <= 0 && (e = NaN),
    new Ye(e, r, t, i)
  );
}
function oy(e) {
  if (e instanceof Ye) return new Ye(e.h, e.s, e.l, e.opacity);
  if ((e instanceof Ua || (e = Ma(e)), !e)) return new Ye();
  if (e instanceof Ye) return e;
  e = e.rgb();
  var r = e.r / 255,
    t = e.g / 255,
    i = e.b / 255,
    n = Math.min(r, t, i),
    a = Math.max(r, t, i),
    o = NaN,
    s = a - n,
    l = (a + n) / 2;
  return (
    s
      ? (r === a
          ? (o = (t - i) / s + (t < i) * 6)
          : t === a
          ? (o = (i - r) / s + 2)
          : (o = (r - t) / s + 4),
        (s /= l < 0.5 ? a + n : 2 - a - n),
        (o *= 60))
      : (s = l > 0 && l < 1 ? 0 : o),
    new Ye(o, s, l, e.opacity)
  );
}
function AA(e, r, t, i) {
  return arguments.length === 1 ? oy(e) : new Ye(e, r, t, i == null ? 1 : i);
}
function Ye(e, r, t, i) {
  (this.h = +e), (this.s = +r), (this.l = +t), (this.opacity = +i);
}
Kc(
  Ye,
  AA,
  ay(Ua, {
    brighter(e) {
      return (
        (e = e == null ? fs : Math.pow(fs, e)), new Ye(this.h, this.s, this.l * e, this.opacity)
      );
    },
    darker(e) {
      return (
        (e = e == null ? Ca : Math.pow(Ca, e)), new Ye(this.h, this.s, this.l * e, this.opacity)
      );
    },
    rgb() {
      var e = (this.h % 360) + (this.h < 0) * 360,
        r = isNaN(e) || isNaN(this.s) ? 0 : this.s,
        t = this.l,
        i = t + (t < 0.5 ? t : 1 - t) * r,
        n = 2 * t - i;
      return new xe(
        ql(e >= 240 ? e - 240 : e + 120, n, i),
        ql(e, n, i),
        ql(e < 120 ? e + 240 : e - 120, n, i),
        this.opacity,
      );
    },
    clamp() {
      return new Ye(vv(this.h), mo(this.s), mo(this.l), vs(this.opacity));
    },
    displayable() {
      return (
        ((0 <= this.s && this.s <= 1) || isNaN(this.s)) &&
        0 <= this.l &&
        this.l <= 1 &&
        0 <= this.opacity &&
        this.opacity <= 1
      );
    },
    formatHsl() {
      const e = vs(this.opacity);
      return `${e === 1 ? 'hsl(' : 'hsla('}${vv(this.h)}, ${mo(this.s) * 100}%, ${
        mo(this.l) * 100
      }%${e === 1 ? ')' : `, ${e})`}`;
    },
  }),
);
function vv(e) {
  return (e = (e || 0) % 360), e < 0 ? e + 360 : e;
}
function mo(e) {
  return Math.max(0, Math.min(1, e || 0));
}
function ql(e, r, t) {
  return (
    (e < 60 ? r + ((t - r) * e) / 60 : e < 180 ? t : e < 240 ? r + ((t - r) * (240 - e)) / 60 : r) *
    255
  );
}
const Qc = (e) => () => e;
function MA(e, r) {
  return function (t) {
    return e + t * r;
  };
}
function FA(e, r, t) {
  return (
    (e = Math.pow(e, t)),
    (r = Math.pow(r, t) - e),
    (t = 1 / t),
    function (i) {
      return Math.pow(e + i * r, t);
    }
  );
}
function EA(e) {
  return (e = +e) == 1
    ? sy
    : function (r, t) {
        return t - r ? FA(r, t, e) : Qc(isNaN(r) ? t : r);
      };
}
function sy(e, r) {
  var t = r - e;
  return t ? MA(e, t) : Qc(isNaN(e) ? r : e);
}
const dv = (function e(r) {
  var t = EA(r);
  function i(n, a) {
    var o = t((n = ju(n)).r, (a = ju(a)).r),
      s = t(n.g, a.g),
      l = t(n.b, a.b),
      u = sy(n.opacity, a.opacity);
    return function (c) {
      return (n.r = o(c)), (n.g = s(c)), (n.b = l(c)), (n.opacity = u(c)), n + '';
    };
  }
  return (i.gamma = e), i;
})(1);
function ly(e, r) {
  r || (r = []);
  var t = e ? Math.min(r.length, e.length) : 0,
    i = r.slice(),
    n;
  return function (a) {
    for (n = 0; n < t; ++n) i[n] = e[n] * (1 - a) + r[n] * a;
    return i;
  };
}
function uy(e) {
  return ArrayBuffer.isView(e) && !(e instanceof DataView);
}
function TA(e, r) {
  return (uy(r) ? ly : cy)(e, r);
}
function cy(e, r) {
  var t = r ? r.length : 0,
    i = e ? Math.min(t, e.length) : 0,
    n = new Array(i),
    a = new Array(t),
    o;
  for (o = 0; o < i; ++o) n[o] = ds(e[o], r[o]);
  for (; o < t; ++o) a[o] = r[o];
  return function (s) {
    for (o = 0; o < i; ++o) a[o] = n[o](s);
    return a;
  };
}
function kA(e, r) {
  var t = new Date();
  return (
    (e = +e),
    (r = +r),
    function (i) {
      return t.setTime(e * (1 - i) + r * i), t;
    }
  );
}
function Uu(e, r) {
  return (
    (e = +e),
    (r = +r),
    function (t) {
      return e * (1 - t) + r * t;
    }
  );
}
function IA(e, r) {
  var t = {},
    i = {},
    n;
  (e === null || typeof e != 'object') && (e = {}),
    (r === null || typeof r != 'object') && (r = {});
  for (n in r) n in e ? (t[n] = ds(e[n], r[n])) : (i[n] = r[n]);
  return function (a) {
    for (n in t) i[n] = t[n](a);
    return i;
  };
}
var qu = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,
  Zl = new RegExp(qu.source, 'g');
function LA(e) {
  return function () {
    return e;
  };
}
function OA(e) {
  return function (r) {
    return e(r) + '';
  };
}
function PA(e, r) {
  var t = (qu.lastIndex = Zl.lastIndex = 0),
    i,
    n,
    a,
    o = -1,
    s = [],
    l = [];
  for (e = e + '', r = r + ''; (i = qu.exec(e)) && (n = Zl.exec(r)); )
    (a = n.index) > t && ((a = r.slice(t, a)), s[o] ? (s[o] += a) : (s[++o] = a)),
      (i = i[0]) === (n = n[0])
        ? s[o]
          ? (s[o] += n)
          : (s[++o] = n)
        : ((s[++o] = null), l.push({ i: o, x: Uu(i, n) })),
      (t = Zl.lastIndex);
  return (
    t < r.length && ((a = r.slice(t)), s[o] ? (s[o] += a) : (s[++o] = a)),
    s.length < 2
      ? l[0]
        ? OA(l[0].x)
        : LA(r)
      : ((r = l.length),
        function (u) {
          for (var c = 0, h; c < r; ++c) s[(h = l[c]).i] = h.x(u);
          return s.join('');
        })
  );
}
function ds(e, r) {
  var t = typeof r,
    i;
  return r == null || t === 'boolean'
    ? Qc(r)
    : (t === 'number'
        ? Uu
        : t === 'string'
        ? (i = Ma(r))
          ? ((r = i), dv)
          : PA
        : r instanceof Ma
        ? dv
        : r instanceof Date
        ? kA
        : uy(r)
        ? ly
        : Array.isArray(r)
        ? cy
        : (typeof r.valueOf != 'function' && typeof r.toString != 'function') || isNaN(r)
        ? IA
        : Uu)(e, r);
}
function DA(e) {
  return +e;
}
function BA(e) {
  return e * e;
}
function RA(e) {
  return e * (2 - e);
}
function pv(e) {
  return ((e *= 2) <= 1 ? e * e : --e * (2 - e) + 1) / 2;
}
function $A(e) {
  return e * e * e;
}
function NA(e) {
  return --e * e * e + 1;
}
function gv(e) {
  return ((e *= 2) <= 1 ? e * e * e : (e -= 2) * e * e + 2) / 2;
}
var Jc = 3,
  zA = (function e(r) {
    r = +r;
    function t(i) {
      return Math.pow(i, r);
    }
    return (t.exponent = e), t;
  })(Jc),
  GA = (function e(r) {
    r = +r;
    function t(i) {
      return 1 - Math.pow(1 - i, r);
    }
    return (t.exponent = e), t;
  })(Jc),
  yv = (function e(r) {
    r = +r;
    function t(i) {
      return ((i *= 2) <= 1 ? Math.pow(i, r) : 2 - Math.pow(2 - i, r)) / 2;
    }
    return (t.exponent = e), t;
  })(Jc),
  hy = Math.PI,
  fy = hy / 2;
function HA(e) {
  return +e == 1 ? 1 : 1 - Math.cos(e * fy);
}
function VA(e) {
  return Math.sin(e * fy);
}
function mv(e) {
  return (1 - Math.cos(hy * e)) / 2;
}
function Ur(e) {
  return (Math.pow(2, -10 * e) - 0.0009765625) * 1.0009775171065494;
}
function YA(e) {
  return Ur(1 - +e);
}
function WA(e) {
  return 1 - Ur(e);
}
function xv(e) {
  return ((e *= 2) <= 1 ? Ur(1 - e) : 2 - Ur(e - 1)) / 2;
}
function XA(e) {
  return 1 - Math.sqrt(1 - e * e);
}
function _A(e) {
  return Math.sqrt(1 - --e * e);
}
function wv(e) {
  return ((e *= 2) <= 1 ? 1 - Math.sqrt(1 - e * e) : Math.sqrt(1 - (e -= 2) * e) + 1) / 2;
}
var Zu = 4 / 11,
  jA = 6 / 11,
  UA = 8 / 11,
  qA = 3 / 4,
  ZA = 9 / 11,
  KA = 10 / 11,
  QA = 15 / 16,
  JA = 21 / 22,
  tM = 63 / 64,
  xo = 1 / Zu / Zu;
function eM(e) {
  return 1 - Fa(1 - e);
}
function Fa(e) {
  return (e = +e) < Zu
    ? xo * e * e
    : e < UA
    ? xo * (e -= jA) * e + qA
    : e < KA
    ? xo * (e -= ZA) * e + QA
    : xo * (e -= JA) * e + tM;
}
function rM(e) {
  return ((e *= 2) <= 1 ? 1 - Fa(1 - e) : Fa(e - 1) + 1) / 2;
}
var th = 1.70158,
  iM = (function e(r) {
    r = +r;
    function t(i) {
      return (i = +i) * i * (r * (i - 1) + i);
    }
    return (t.overshoot = e), t;
  })(th),
  nM = (function e(r) {
    r = +r;
    function t(i) {
      return --i * i * ((i + 1) * r + i) + 1;
    }
    return (t.overshoot = e), t;
  })(th),
  bv = (function e(r) {
    r = +r;
    function t(i) {
      return ((i *= 2) < 1 ? i * i * ((r + 1) * i - r) : (i -= 2) * i * ((r + 1) * i + r) + 2) / 2;
    }
    return (t.overshoot = e), t;
  })(th),
  dn = 2 * Math.PI,
  eh = 1,
  rh = 0.3,
  aM = (function e(r, t) {
    var i = Math.asin(1 / (r = Math.max(1, r))) * (t /= dn);
    function n(a) {
      return r * Ur(-(--a)) * Math.sin((i - a) / t);
    }
    return (
      (n.amplitude = function (a) {
        return e(a, t * dn);
      }),
      (n.period = function (a) {
        return e(r, a);
      }),
      n
    );
  })(eh, rh),
  Sv = (function e(r, t) {
    var i = Math.asin(1 / (r = Math.max(1, r))) * (t /= dn);
    function n(a) {
      return 1 - r * Ur((a = +a)) * Math.sin((a + i) / t);
    }
    return (
      (n.amplitude = function (a) {
        return e(a, t * dn);
      }),
      (n.period = function (a) {
        return e(r, a);
      }),
      n
    );
  })(eh, rh),
  oM = (function e(r, t) {
    var i = Math.asin(1 / (r = Math.max(1, r))) * (t /= dn);
    function n(a) {
      return (
        ((a = a * 2 - 1) < 0
          ? r * Ur(-a) * Math.sin((i - a) / t)
          : 2 - r * Ur(a) * Math.sin((i + a) / t)) / 2
      );
    }
    return (
      (n.amplitude = function (a) {
        return e(a, t * dn);
      }),
      (n.period = function (a) {
        return e(r, a);
      }),
      n
    );
  })(eh, rh);
const sM = Object.freeze(
  Object.defineProperty(
    {
      __proto__: null,
      easeBack: bv,
      easeBackIn: iM,
      easeBackInOut: bv,
      easeBackOut: nM,
      easeBounce: Fa,
      easeBounceIn: eM,
      easeBounceInOut: rM,
      easeBounceOut: Fa,
      easeCircle: wv,
      easeCircleIn: XA,
      easeCircleInOut: wv,
      easeCircleOut: _A,
      easeCubic: gv,
      easeCubicIn: $A,
      easeCubicInOut: gv,
      easeCubicOut: NA,
      easeElastic: Sv,
      easeElasticIn: aM,
      easeElasticInOut: oM,
      easeElasticOut: Sv,
      easeExp: xv,
      easeExpIn: YA,
      easeExpInOut: xv,
      easeExpOut: WA,
      easeLinear: DA,
      easePoly: yv,
      easePolyIn: zA,
      easePolyInOut: yv,
      easePolyOut: GA,
      easeQuad: pv,
      easeQuadIn: BA,
      easeQuadInOut: pv,
      easeQuadOut: RA,
      easeSin: mv,
      easeSinIn: HA,
      easeSinInOut: mv,
      easeSinOut: VA,
    },
    Symbol.toStringTag,
    { value: 'Module' },
  ),
);
var vy = {};
function lM(e) {
  return vy[e.toLowerCase()] || sM[e];
}
function dy(e, r) {
  vy[e.toLowerCase()] = r;
}
var uM = function (e) {
    return ['fill', 'stroke', 'fillStyle', 'strokeStyle'].includes(e);
  },
  cM = function (e) {
    return /^[r,R,L,l]{1}[\s]*\(/.test(e);
  },
  Cv = [1, 0, 0, 0, 1, 0, 0, 0, 1];
function hM(e, r, t) {
  var i = {},
    n = r.fromAttrs,
    a = r.toAttrs;
  if (!e.destroyed) {
    var o;
    for (var s in a)
      if (!Bt(n[s], a[s]))
        if (s === 'path') {
          var l = a[s],
            u = n[s];
          l.length > u.length
            ? ((l = Ji(a[s])),
              (u = Ji(n[s])),
              (u = Yg(u, l)),
              (u = Vu(u, l)),
              (r.fromAttrs.path = u),
              (r.toAttrs.path = l))
            : r.pathFormatted ||
              ((l = Ji(a[s])),
              (u = Ji(n[s])),
              (u = Vu(u, l)),
              (r.fromAttrs.path = u),
              (r.toAttrs.path = l),
              (r.pathFormatted = !0)),
            (i[s] = []);
          for (var c = 0; c < l.length; c++) {
            for (var h = l[c], f = u[c], v = [], d = 0; d < h.length; d++)
              it(h[d]) && f && it(f[d]) ? ((o = ds(f[d], h[d])), v.push(o(t))) : v.push(h[d]);
            i[s].push(v);
          }
        } else if (s === 'matrix') {
          var p = TA(n[s] || Cv, a[s] || Cv),
            g = p(t);
          i[s] = g;
        } else uM(s) && cM(a[s]) ? (i[s] = a[s]) : q(a[s]) || ((o = ds(n[s], a[s])), (i[s] = o(t)));
    e.attr(i);
  }
}
function fM(e, r, t) {
  var i = r.startTime,
    n = r.delay;
  if (t < i + n || r._paused) return !1;
  var a,
    o = r.duration,
    s = r.easing,
    l = lM(s);
  if (((t = t - i - r.delay), r.repeat)) (a = (t % o) / o), (a = l(a));
  else if (((a = t / o), a < 1)) a = l(a);
  else return r.onFrame ? e.attr(r.onFrame(1)) : e.attr(r.toAttrs), !0;
  if (r.onFrame) {
    var u = r.onFrame(a);
    e.attr(u);
  } else hM(e, r, a);
  return !1;
}
var vM = (function () {
    function e(r) {
      (this.animators = []), (this.current = 0), (this.timer = null), (this.canvas = r);
    }
    return (
      (e.prototype.initTimer = function () {
        var r = this,
          t = !1,
          i,
          n,
          a;
        this.timer = ny(function (o) {
          if (((r.current = o), r.animators.length > 0)) {
            for (var s = r.animators.length - 1; s >= 0; s--) {
              if (((i = r.animators[s]), i.destroyed)) {
                r.removeAnimator(s);
                continue;
              }
              if (!i.isAnimatePaused()) {
                n = i.get('animations');
                for (var l = n.length - 1; l >= 0; l--)
                  (a = n[l]),
                    (t = fM(i, a, o)),
                    t && (n.splice(l, 1), (t = !1), a.callback && a.callback());
              }
              n.length === 0 && r.removeAnimator(s);
            }
            var u = r.canvas.get('autoDraw');
            u || r.canvas.draw();
          }
        });
      }),
      (e.prototype.addAnimator = function (r) {
        this.animators.push(r);
      }),
      (e.prototype.removeAnimator = function (r) {
        this.animators.splice(r, 1);
      }),
      (e.prototype.isAnimating = function () {
        return !!this.animators.length;
      }),
      (e.prototype.stop = function () {
        this.timer && this.timer.stop();
      }),
      (e.prototype.stopAllAnimations = function (r) {
        r === void 0 && (r = !0),
          this.animators.forEach(function (t) {
            t.stopAnimate(r);
          }),
          (this.animators = []),
          this.canvas.draw();
      }),
      (e.prototype.getTime = function () {
        return this.current;
      }),
      e
    );
  })(),
  dM = 40,
  Av = 0,
  Mv = [
    'mousedown',
    'mouseup',
    'dblclick',
    'mouseout',
    'mouseover',
    'mousemove',
    'mouseleave',
    'mouseenter',
    'touchstart',
    'touchmove',
    'touchend',
    'dragenter',
    'dragover',
    'dragleave',
    'drop',
    'contextmenu',
    'mousewheel',
  ];
function Fv(e, r, t) {
  (t.name = r), (t.target = e), (t.currentTarget = e), (t.delegateTarget = e), e.emit(r, t);
}
function pM(e, r, t) {
  if (t.bubbles) {
    var i = void 0,
      n = !1;
    if (
      (r === 'mouseenter'
        ? ((i = t.fromShape), (n = !0))
        : r === 'mouseleave' && ((n = !0), (i = t.toShape)),
      e.isCanvas() && n)
    )
      return;
    if (i && _g(e, i)) {
      t.bubbles = !1;
      return;
    }
    (t.name = r), (t.currentTarget = e), (t.delegateTarget = e), e.emit(r, t);
  }
}
var gM = (function () {
    function e(r) {
      var t = this;
      (this.draggingShape = null),
        (this.dragging = !1),
        (this.currentShape = null),
        (this.mousedownShape = null),
        (this.mousedownPoint = null),
        (this._eventCallback = function (i) {
          var n = i.type;
          t._triggerEvent(n, i);
        }),
        (this._onDocumentMove = function (i) {
          var n = t.canvas,
            a = n.get('el');
          if (a !== i.target && (t.dragging || t.currentShape)) {
            var o = t._getPointInfo(i);
            t.dragging && t._emitEvent('drag', i, o, t.draggingShape);
          }
        }),
        (this._onDocumentMouseUp = function (i) {
          var n = t.canvas,
            a = n.get('el');
          if (a !== i.target && t.dragging) {
            var o = t._getPointInfo(i);
            t.draggingShape && t._emitEvent('drop', i, o, null),
              t._emitEvent('dragend', i, o, t.draggingShape),
              t._afterDrag(t.draggingShape, o, i);
          }
        }),
        (this.canvas = r.canvas);
    }
    return (
      (e.prototype.init = function () {
        this._bindEvents();
      }),
      (e.prototype._bindEvents = function () {
        var r = this,
          t = this.canvas.get('el');
        A(Mv, function (i) {
          t.addEventListener(i, r._eventCallback);
        }),
          document &&
            (document.addEventListener('mousemove', this._onDocumentMove),
            document.addEventListener('mouseup', this._onDocumentMouseUp));
      }),
      (e.prototype._clearEvents = function () {
        var r = this,
          t = this.canvas.get('el');
        A(Mv, function (i) {
          t.removeEventListener(i, r._eventCallback);
        }),
          document &&
            (document.removeEventListener('mousemove', this._onDocumentMove),
            document.removeEventListener('mouseup', this._onDocumentMouseUp));
      }),
      (e.prototype._getEventObj = function (r, t, i, n, a, o) {
        var s = new ja(r, t);
        return (
          (s.fromShape = a),
          (s.toShape = o),
          (s.x = i.x),
          (s.y = i.y),
          (s.clientX = i.clientX),
          (s.clientY = i.clientY),
          s.propagationPath.push(n),
          s
        );
      }),
      (e.prototype._getShape = function (r, t) {
        return this.canvas.getShape(r.x, r.y, t);
      }),
      (e.prototype._getPointInfo = function (r) {
        var t = this.canvas,
          i = t.getClientByEvent(r),
          n = t.getPointByEvent(r);
        return { x: n.x, y: n.y, clientX: i.x, clientY: i.y };
      }),
      (e.prototype._triggerEvent = function (r, t) {
        var i = this._getPointInfo(t),
          n = this._getShape(i, t),
          a = this['_on' + r],
          o = !1;
        if (a) a.call(this, i, n, t);
        else {
          var s = this.currentShape;
          r === 'mouseenter' || r === 'dragenter' || r === 'mouseover'
            ? (this._emitEvent(r, t, i, null, null, n),
              n && this._emitEvent(r, t, i, n, null, n),
              r === 'mouseenter' && this.draggingShape && this._emitEvent('dragenter', t, i, null))
            : r === 'mouseleave' || r === 'dragleave' || r === 'mouseout'
            ? ((o = !0),
              s && this._emitEvent(r, t, i, s, s, null),
              this._emitEvent(r, t, i, null, s, null),
              r === 'mouseleave' && this.draggingShape && this._emitEvent('dragleave', t, i, null))
            : this._emitEvent(r, t, i, n, null, null);
        }
        if ((o || (this.currentShape = n), n && !n.get('destroyed'))) {
          var l = this.canvas,
            u = l.get('el');
          u.style.cursor = n.attr('cursor') || l.get('cursor');
        }
      }),
      (e.prototype._onmousedown = function (r, t, i) {
        i.button === Av &&
          ((this.mousedownShape = t),
          (this.mousedownPoint = r),
          (this.mousedownTimeStamp = i.timeStamp)),
          this._emitEvent('mousedown', i, r, t, null, null);
      }),
      (e.prototype._emitMouseoverEvents = function (r, t, i, n) {
        var a = this.canvas.get('el');
        i !== n &&
          (i &&
            (this._emitEvent('mouseout', r, t, i, i, n),
            this._emitEvent('mouseleave', r, t, i, i, n),
            (!n || n.get('destroyed')) && (a.style.cursor = this.canvas.get('cursor'))),
          n &&
            (this._emitEvent('mouseover', r, t, n, i, n),
            this._emitEvent('mouseenter', r, t, n, i, n)));
      }),
      (e.prototype._emitDragoverEvents = function (r, t, i, n, a) {
        n
          ? (n !== i &&
              (i && this._emitEvent('dragleave', r, t, i, i, n),
              this._emitEvent('dragenter', r, t, n, i, n)),
            a || this._emitEvent('dragover', r, t, n))
          : i && this._emitEvent('dragleave', r, t, i, i, n),
          a && this._emitEvent('dragover', r, t, n);
      }),
      (e.prototype._afterDrag = function (r, t, i) {
        r && (r.set('capture', !0), (this.draggingShape = null)), (this.dragging = !1);
        var n = this._getShape(t, i);
        n !== r && this._emitMouseoverEvents(i, t, r, n), (this.currentShape = n);
      }),
      (e.prototype._onmouseup = function (r, t, i) {
        if (i.button === Av) {
          var n = this.draggingShape;
          this.dragging
            ? (n && this._emitEvent('drop', i, r, t),
              this._emitEvent('dragend', i, r, n),
              this._afterDrag(n, r, i))
            : (this._emitEvent('mouseup', i, r, t),
              t === this.mousedownShape && this._emitEvent('click', i, r, t),
              (this.mousedownShape = null),
              (this.mousedownPoint = null));
        }
      }),
      (e.prototype._ondragover = function (r, t, i) {
        i.preventDefault();
        var n = this.currentShape;
        this._emitDragoverEvents(i, r, n, t, !0);
      }),
      (e.prototype._onmousemove = function (r, t, i) {
        var n = this.canvas,
          a = this.currentShape,
          o = this.draggingShape;
        if (this.dragging)
          o && this._emitDragoverEvents(i, r, a, t, !1), this._emitEvent('drag', i, r, o);
        else {
          var s = this.mousedownPoint;
          if (s) {
            var l = this.mousedownShape,
              u = i.timeStamp,
              c = u - this.mousedownTimeStamp,
              h = s.clientX - r.clientX,
              f = s.clientY - r.clientY,
              v = h * h + f * f;
            c > 120 || v > dM
              ? l && l.get('draggable')
                ? ((o = this.mousedownShape),
                  o.set('capture', !1),
                  (this.draggingShape = o),
                  (this.dragging = !0),
                  this._emitEvent('dragstart', i, r, o),
                  (this.mousedownShape = null),
                  (this.mousedownPoint = null))
                : !l && n.get('draggable')
                ? ((this.dragging = !0),
                  this._emitEvent('dragstart', i, r, null),
                  (this.mousedownShape = null),
                  (this.mousedownPoint = null))
                : (this._emitMouseoverEvents(i, r, a, t), this._emitEvent('mousemove', i, r, t))
              : (this._emitMouseoverEvents(i, r, a, t), this._emitEvent('mousemove', i, r, t));
          } else this._emitMouseoverEvents(i, r, a, t), this._emitEvent('mousemove', i, r, t);
        }
      }),
      (e.prototype._emitEvent = function (r, t, i, n, a, o) {
        var s = this._getEventObj(r, t, i, n, a, o);
        if (n) {
          (s.shape = n), Fv(n, r, s);
          for (var l = n.getParent(); l; )
            l.emitDelegation(r, s),
              s.propagationStopped || pM(l, r, s),
              s.propagationPath.push(l),
              (l = l.getParent());
        } else {
          var u = this.canvas;
          Fv(u, r, s);
        }
      }),
      (e.prototype.destroy = function () {
        this._clearEvents(),
          (this.canvas = null),
          (this.currentShape = null),
          (this.draggingShape = null),
          (this.mousedownPoint = null),
          (this.mousedownShape = null),
          (this.mousedownTimeStamp = null);
      }),
      e
    );
  })(),
  Ev = 'px',
  Tv = jg(),
  yM = Tv && Tv.name === 'firefox',
  qs = (function (e) {
    I(r, e);
    function r(t) {
      var i = e.call(this, t) || this;
      return i.initContainer(), i.initDom(), i.initEvents(), i.initTimeline(), i;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return (t.cursor = 'default'), (t.supportCSSTransform = !1), t;
      }),
      (r.prototype.initContainer = function () {
        var t = this.get('container');
        et(t) && ((t = document.getElementById(t)), this.set('container', t));
      }),
      (r.prototype.initDom = function () {
        var t = this.createDom();
        this.set('el', t);
        var i = this.get('container');
        i.appendChild(t), this.setDOMSize(this.get('width'), this.get('height'));
      }),
      (r.prototype.initEvents = function () {
        var t = new gM({ canvas: this });
        t.init(), this.set('eventController', t);
      }),
      (r.prototype.initTimeline = function () {
        var t = new vM(this);
        this.set('timeline', t);
      }),
      (r.prototype.setDOMSize = function (t, i) {
        var n = this.get('el');
        Qf && ((n.style.width = t + Ev), (n.style.height = i + Ev));
      }),
      (r.prototype.changeSize = function (t, i) {
        this.setDOMSize(t, i),
          this.set('width', t),
          this.set('height', i),
          this.onCanvasChange('changeSize');
      }),
      (r.prototype.getRenderer = function () {
        return this.get('renderer');
      }),
      (r.prototype.getCursor = function () {
        return this.get('cursor');
      }),
      (r.prototype.setCursor = function (t) {
        this.set('cursor', t);
        var i = this.get('el');
        Qf && i && (i.style.cursor = t);
      }),
      (r.prototype.getPointByEvent = function (t) {
        var i = this.get('supportCSSTransform');
        if (i) {
          if (yM && !R(t.layerX) && t.layerX !== t.offsetX) return { x: t.layerX, y: t.layerY };
          if (!R(t.offsetX)) return { x: t.offsetX, y: t.offsetY };
        }
        var n = this.getClientByEvent(t),
          a = n.x,
          o = n.y;
        return this.getPointByClient(a, o);
      }),
      (r.prototype.getClientByEvent = function (t) {
        var i = t;
        return (
          t.touches && (t.type === 'touchend' ? (i = t.changedTouches[0]) : (i = t.touches[0])),
          { x: i.clientX, y: i.clientY }
        );
      }),
      (r.prototype.getPointByClient = function (t, i) {
        var n = this.get('el'),
          a = n.getBoundingClientRect();
        return { x: t - a.left, y: i - a.top };
      }),
      (r.prototype.getClientByPoint = function (t, i) {
        var n = this.get('el'),
          a = n.getBoundingClientRect();
        return { x: t + a.left, y: i + a.top };
      }),
      (r.prototype.draw = function () {}),
      (r.prototype.removeDom = function () {
        var t = this.get('el');
        t.parentNode.removeChild(t);
      }),
      (r.prototype.clearEvents = function () {
        var t = this.get('eventController');
        t.destroy();
      }),
      (r.prototype.isCanvas = function () {
        return !0;
      }),
      (r.prototype.getParent = function () {
        return null;
      }),
      (r.prototype.destroy = function () {
        var t = this.get('timeline');
        this.get('destroyed') ||
          (this.clear(),
          t && t.stop(),
          this.clearEvents(),
          this.removeDom(),
          e.prototype.destroy.call(this));
      }),
      r
    );
  })(ty),
  Zs = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.isGroup = function () {
        return !0;
      }),
      (r.prototype.isEntityGroup = function () {
        return !1;
      }),
      (r.prototype.clone = function () {
        for (
          var t = e.prototype.clone.call(this), i = this.getChildren(), n = 0;
          n < i.length;
          n++
        ) {
          var a = i[n];
          t.add(a.clone());
        }
        return t;
      }),
      r
    );
  })(ty),
  Ks = (function (e) {
    I(r, e);
    function r(t) {
      return e.call(this, t) || this;
    }
    return (
      (r.prototype._isInBBox = function (t, i) {
        var n = this.getBBox();
        return n.minX <= t && n.maxX >= t && n.minY <= i && n.maxY >= i;
      }),
      (r.prototype.afterAttrsChange = function (t) {
        e.prototype.afterAttrsChange.call(this, t), this.clearCacheBBox();
      }),
      (r.prototype.getBBox = function () {
        var t = this.cfg.bbox;
        return t || ((t = this.calculateBBox()), this.set('bbox', t)), t;
      }),
      (r.prototype.getCanvasBBox = function () {
        var t = this.cfg.canvasBBox;
        return t || ((t = this.calculateCanvasBBox()), this.set('canvasBBox', t)), t;
      }),
      (r.prototype.applyMatrix = function (t) {
        e.prototype.applyMatrix.call(this, t), this.set('canvasBBox', null);
      }),
      (r.prototype.calculateCanvasBBox = function () {
        var t = this.getBBox(),
          i = this.getTotalMatrix(),
          n = t.minX,
          a = t.minY,
          o = t.maxX,
          s = t.maxY;
        if (i) {
          var l = gr(i, [t.minX, t.minY]),
            u = gr(i, [t.maxX, t.minY]),
            c = gr(i, [t.minX, t.maxY]),
            h = gr(i, [t.maxX, t.maxY]);
          (n = Math.min(l[0], u[0], c[0], h[0])),
            (o = Math.max(l[0], u[0], c[0], h[0])),
            (a = Math.min(l[1], u[1], c[1], h[1])),
            (s = Math.max(l[1], u[1], c[1], h[1]));
        }
        var f = this.attrs;
        if (f.shadowColor) {
          var v = f.shadowBlur,
            d = v === void 0 ? 0 : v,
            p = f.shadowOffsetX,
            g = p === void 0 ? 0 : p,
            y = f.shadowOffsetY,
            m = y === void 0 ? 0 : y,
            b = n - d + g,
            w = o + d + g,
            S = a - d + m,
            C = s + d + m;
          (n = Math.min(n, b)), (o = Math.max(o, w)), (a = Math.min(a, S)), (s = Math.max(s, C));
        }
        return { x: n, y: a, minX: n, minY: a, maxX: o, maxY: s, width: o - n, height: s - a };
      }),
      (r.prototype.clearCacheBBox = function () {
        this.set('bbox', null), this.set('canvasBBox', null);
      }),
      (r.prototype.isClipShape = function () {
        return this.get('isClipShape');
      }),
      (r.prototype.isInShape = function (t, i) {
        return !1;
      }),
      (r.prototype.isOnlyHitBox = function () {
        return !1;
      }),
      (r.prototype.isHit = function (t, i) {
        var n = this.get('startArrowShape'),
          a = this.get('endArrowShape'),
          o = [t, i, 1];
        o = this.invertFromMatrix(o);
        var s = o[0],
          l = o[1],
          u = this._isInBBox(s, l);
        return this.isOnlyHitBox()
          ? u
          : !!(
              u &&
              !this.isClipped(s, l) &&
              (this.isInShape(s, l) || (n && n.isHit(s, l)) || (a && a.isHit(s, l)))
            );
      }),
      r
    );
  })(Kg),
  py = new Map();
function Ne(e, r) {
  py.set(e, r);
}
function Qs(e) {
  return py.get(e);
}
function gy(e) {
  var r = e.attr(),
    t = r.x,
    i = r.y,
    n = r.width,
    a = r.height;
  return { x: t, y: i, width: n, height: a };
}
function yy(e) {
  var r = e.attr(),
    t = r.x,
    i = r.y,
    n = r.r;
  return { x: t - n, y: i - n, width: n * 2, height: n * 2 };
}
function se(e, r, t, i) {
  var n = e - t,
    a = r - i;
  return Math.sqrt(n * n + a * a);
}
function qo(e, r) {
  return Math.abs(e - r) < 0.001;
}
function In(e, r) {
  var t = ae(e),
    i = ae(r),
    n = te(e),
    a = te(r);
  return { x: t, y: i, width: n - t, height: a - i };
}
function Js(e) {
  return (e + Math.PI * 2) % (Math.PI * 2);
}
const Zt = {
  box: function (e, r, t, i) {
    return In([e, t], [r, i]);
  },
  length: function (e, r, t, i) {
    return se(e, r, t, i);
  },
  pointAt: function (e, r, t, i, n) {
    return { x: (1 - n) * e + n * t, y: (1 - n) * r + n * i };
  },
  pointDistance: function (e, r, t, i, n, a) {
    var o = (t - e) * (n - e) + (i - r) * (a - r);
    if (o < 0) return se(e, r, n, a);
    var s = (t - e) * (t - e) + (i - r) * (i - r);
    return o > s ? se(t, i, n, a) : this.pointToLine(e, r, t, i, n, a);
  },
  pointToLine: function (e, r, t, i, n, a) {
    var o = [t - e, i - r];
    if (ZC(o, [0, 0])) return Math.sqrt((n - e) * (n - e) + (a - r) * (a - r));
    var s = [-o[1], o[0]];
    qg(s, s);
    var l = [n - e, a - r];
    return Math.abs(UC(l, s));
  },
  tangentAngle: function (e, r, t, i) {
    return Math.atan2(i - r, t - e);
  },
};
var mM = 1e-4;
function my(e, r, t, i, n, a) {
  var o,
    s = 1 / 0,
    l = [t, i],
    u = 20;
  a && a > 200 && (u = a / 10);
  for (var c = 1 / u, h = c / 10, f = 0; f <= u; f++) {
    var v = f * c,
      d = [n.apply(null, e.concat([v])), n.apply(null, r.concat([v]))],
      p = se(l[0], l[1], d[0], d[1]);
    p < s && ((o = v), (s = p));
  }
  if (o === 0) return { x: e[0], y: r[0] };
  if (o === 1) {
    var g = e.length;
    return { x: e[g - 1], y: r[g - 1] };
  }
  s = 1 / 0;
  for (var f = 0; f < 32 && !(h < mM); f++) {
    var y = o - h,
      m = o + h,
      d = [n.apply(null, e.concat([y])), n.apply(null, r.concat([y]))],
      p = se(l[0], l[1], d[0], d[1]);
    if (y >= 0 && p < s) (o = y), (s = p);
    else {
      var b = [n.apply(null, e.concat([m])), n.apply(null, r.concat([m]))],
        w = se(l[0], l[1], b[0], b[1]);
      m <= 1 && w < s ? ((o = m), (s = w)) : (h *= 0.5);
    }
  }
  return { x: n.apply(null, e.concat([o])), y: n.apply(null, r.concat([o])) };
}
function xM(e, r) {
  for (var t = 0, i = e.length, n = 0; n < i; n++) {
    var a = e[n],
      o = r[n],
      s = e[(n + 1) % i],
      l = r[(n + 1) % i];
    t += se(a, o, s, l);
  }
  return t / 2;
}
function Dr(e, r, t, i) {
  var n = 1 - i;
  return n * n * e + 2 * i * n * r + i * i * t;
}
function kv(e, r, t) {
  var i = e + t - 2 * r;
  if (qo(i, 0)) return [0.5];
  var n = (e - r) / i;
  return n <= 1 && n >= 0 ? [n] : [];
}
function Iv(e, r, t, i) {
  return 2 * (1 - i) * (r - e) + 2 * i * (t - r);
}
function xy(e, r, t, i, n, a, o) {
  var s = Dr(e, t, n, o),
    l = Dr(r, i, a, o),
    u = Zt.pointAt(e, r, t, i, o),
    c = Zt.pointAt(t, i, n, a, o);
  return [
    [e, r, u.x, u.y, s, l],
    [s, l, c.x, c.y, n, a],
  ];
}
function Ku(e, r, t, i, n, a, o) {
  if (o === 0) return (se(e, r, t, i) + se(t, i, n, a) + se(e, r, n, a)) / 2;
  var s = xy(e, r, t, i, n, a, 0.5),
    l = s[0],
    u = s[1];
  return l.push(o - 1), u.push(o - 1), Ku.apply(null, l) + Ku.apply(null, u);
}
const wy = {
  box: function (e, r, t, i, n, a) {
    var o = kv(e, t, n)[0],
      s = kv(r, i, a)[0],
      l = [e, n],
      u = [r, a];
    return o !== void 0 && l.push(Dr(e, t, n, o)), s !== void 0 && u.push(Dr(r, i, a, s)), In(l, u);
  },
  length: function (e, r, t, i, n, a) {
    return Ku(e, r, t, i, n, a, 3);
  },
  nearestPoint: function (e, r, t, i, n, a, o, s) {
    return my([e, t, n], [r, i, a], o, s, Dr);
  },
  pointDistance: function (e, r, t, i, n, a, o, s) {
    var l = this.nearestPoint(e, r, t, i, n, a, o, s);
    return se(l.x, l.y, o, s);
  },
  interpolationAt: Dr,
  pointAt: function (e, r, t, i, n, a, o) {
    return { x: Dr(e, t, n, o), y: Dr(r, i, a, o) };
  },
  divide: function (e, r, t, i, n, a, o) {
    return xy(e, r, t, i, n, a, o);
  },
  tangentAngle: function (e, r, t, i, n, a, o) {
    var s = Iv(e, t, n, o),
      l = Iv(r, i, a, o),
      u = Math.atan2(l, s);
    return Js(u);
  },
};
function Br(e, r, t, i, n) {
  var a = 1 - n;
  return a * a * a * e + 3 * r * n * a * a + 3 * t * n * n * a + i * n * n * n;
}
function Lv(e, r, t, i, n) {
  var a = 1 - n;
  return 3 * (a * a * (r - e) + 2 * a * n * (t - r) + n * n * (i - t));
}
function Kl(e, r, t, i) {
  var n = -3 * e + 9 * r - 9 * t + 3 * i,
    a = 6 * e - 12 * r + 6 * t,
    o = 3 * r - 3 * e,
    s = [],
    l,
    u,
    c;
  if (qo(n, 0)) qo(a, 0) || ((l = -o / a), l >= 0 && l <= 1 && s.push(l));
  else {
    var h = a * a - 4 * n * o;
    qo(h, 0)
      ? s.push(-a / (2 * n))
      : h > 0 &&
        ((c = Math.sqrt(h)),
        (l = (-a + c) / (2 * n)),
        (u = (-a - c) / (2 * n)),
        l >= 0 && l <= 1 && s.push(l),
        u >= 0 && u <= 1 && s.push(u));
  }
  return s;
}
function by(e, r, t, i, n, a, o, s, l) {
  var u = Br(e, t, n, o, l),
    c = Br(r, i, a, s, l),
    h = Zt.pointAt(e, r, t, i, l),
    f = Zt.pointAt(t, i, n, a, l),
    v = Zt.pointAt(n, a, o, s, l),
    d = Zt.pointAt(h.x, h.y, f.x, f.y, l),
    p = Zt.pointAt(f.x, f.y, v.x, v.y, l);
  return [
    [e, r, h.x, h.y, d.x, d.y, u, c],
    [u, c, p.x, p.y, v.x, v.y, o, s],
  ];
}
function Qu(e, r, t, i, n, a, o, s, l) {
  if (l === 0) return xM([e, t, n, o], [r, i, a, s]);
  var u = by(e, r, t, i, n, a, o, s, 0.5),
    c = u[0],
    h = u[1];
  return c.push(l - 1), h.push(l - 1), Qu.apply(null, c) + Qu.apply(null, h);
}
const la = {
  extrema: Kl,
  box: function (e, r, t, i, n, a, o, s) {
    for (
      var l = [e, o], u = [r, s], c = Kl(e, t, n, o), h = Kl(r, i, a, s), f = 0;
      f < c.length;
      f++
    )
      l.push(Br(e, t, n, o, c[f]));
    for (var f = 0; f < h.length; f++) u.push(Br(r, i, a, s, h[f]));
    return In(l, u);
  },
  length: function (e, r, t, i, n, a, o, s) {
    return Qu(e, r, t, i, n, a, o, s, 3);
  },
  nearestPoint: function (e, r, t, i, n, a, o, s, l, u, c) {
    return my([e, t, n, o], [r, i, a, s], l, u, Br, c);
  },
  pointDistance: function (e, r, t, i, n, a, o, s, l, u, c) {
    var h = this.nearestPoint(e, r, t, i, n, a, o, s, l, u, c);
    return se(h.x, h.y, l, u);
  },
  interpolationAt: Br,
  pointAt: function (e, r, t, i, n, a, o, s, l) {
    return { x: Br(e, t, n, o, l), y: Br(r, i, a, s, l) };
  },
  divide: function (e, r, t, i, n, a, o, s, l) {
    return by(e, r, t, i, n, a, o, s, l);
  },
  tangentAngle: function (e, r, t, i, n, a, o, s, l) {
    var u = Lv(e, t, n, o, l),
      c = Lv(r, i, a, s, l);
    return Js(Math.atan2(c, u));
  },
};
function Ov(e, r) {
  var t = Math.abs(e);
  return r > 0 ? t : t * -1;
}
const wM = {
  box: function (e, r, t, i) {
    return { x: e - t, y: r - i, width: t * 2, height: i * 2 };
  },
  length: function (e, r, t, i) {
    return Math.PI * (3 * (t + i) - Math.sqrt((3 * t + i) * (t + 3 * i)));
  },
  nearestPoint: function (e, r, t, i, n, a) {
    var o = t,
      s = i;
    if (o === 0 || s === 0) return { x: e, y: r };
    for (
      var l = n - e,
        u = a - r,
        c = Math.abs(l),
        h = Math.abs(u),
        f = o * o,
        v = s * s,
        d = Math.PI / 4,
        p,
        g,
        y = 0;
      y < 4;
      y++
    ) {
      (p = o * Math.cos(d)), (g = s * Math.sin(d));
      var m = ((f - v) * Math.pow(Math.cos(d), 3)) / o,
        b = ((v - f) * Math.pow(Math.sin(d), 3)) / s,
        w = p - m,
        S = g - b,
        C = c - m,
        F = h - b,
        E = Math.hypot(S, w),
        k = Math.hypot(F, C),
        T = E * Math.asin((w * F - S * C) / (E * k)),
        O = T / Math.sqrt(f + v - p * p - g * g);
      (d += O), (d = Math.min(Math.PI / 2, Math.max(0, d)));
    }
    return { x: e + Ov(p, l), y: r + Ov(g, u) };
  },
  pointDistance: function (e, r, t, i, n, a) {
    var o = this.nearestPoint(e, r, t, i, n, a);
    return se(o.x, o.y, n, a);
  },
  pointAt: function (e, r, t, i, n) {
    var a = 2 * Math.PI * n;
    return { x: e + t * Math.cos(a), y: r + i * Math.sin(a) };
  },
  tangentAngle: function (e, r, t, i, n) {
    var a = 2 * Math.PI * n,
      o = Math.atan2(i * Math.cos(a), -t * Math.sin(a));
    return Js(o);
  },
};
function bM(e, r, t, i, n, a, o, s) {
  return -1 * t * Math.cos(n) * Math.sin(s) - i * Math.sin(n) * Math.cos(s);
}
function SM(e, r, t, i, n, a, o, s) {
  return -1 * t * Math.sin(n) * Math.sin(s) + i * Math.cos(n) * Math.cos(s);
}
function CM(e, r, t) {
  return Math.atan((-r / e) * Math.tan(t));
}
function AM(e, r, t) {
  return Math.atan(r / (e * Math.tan(t)));
}
function Pv(e, r, t, i, n, a) {
  return t * Math.cos(n) * Math.cos(a) - i * Math.sin(n) * Math.sin(a) + e;
}
function Dv(e, r, t, i, n, a) {
  return t * Math.sin(n) * Math.cos(a) + i * Math.cos(n) * Math.sin(a) + r;
}
function MM(e, r, t, i) {
  var n = Math.atan2(i * e, t * r);
  return (n + Math.PI * 2) % (Math.PI * 2);
}
function Bv(e, r, t) {
  return { x: e * Math.cos(t), y: r * Math.sin(t) };
}
function Rv(e, r, t) {
  var i = Math.cos(t),
    n = Math.sin(t);
  return [e * i - r * n, e * n + r * i];
}
const FM = {
  box: function (e, r, t, i, n, a, o) {
    for (
      var s = CM(t, i, n), l = 1 / 0, u = -1 / 0, c = [a, o], h = -Math.PI * 2;
      h <= Math.PI * 2;
      h += Math.PI
    ) {
      var f = s + h;
      a < o ? a < f && f < o && c.push(f) : o < f && f < a && c.push(f);
    }
    for (var h = 0; h < c.length; h++) {
      var v = Pv(e, r, t, i, n, c[h]);
      v < l && (l = v), v > u && (u = v);
    }
    for (
      var d = AM(t, i, n), p = 1 / 0, g = -1 / 0, y = [a, o], h = -Math.PI * 2;
      h <= Math.PI * 2;
      h += Math.PI
    ) {
      var m = d + h;
      a < o ? a < m && m < o && y.push(m) : o < m && m < a && y.push(m);
    }
    for (var h = 0; h < y.length; h++) {
      var b = Dv(e, r, t, i, n, y[h]);
      b < p && (p = b), b > g && (g = b);
    }
    return { x: l, y: p, width: u - l, height: g - p };
  },
  length: function (e, r, t, i, n, a, o) {},
  nearestPoint: function (e, r, t, i, n, a, o, s, l) {
    var u = Rv(s - e, l - r, -n),
      c = u[0],
      h = u[1],
      f = wM.nearestPoint(0, 0, t, i, c, h),
      v = MM(t, i, f.x, f.y);
    v < a ? (f = Bv(t, i, a)) : v > o && (f = Bv(t, i, o));
    var d = Rv(f.x, f.y, n);
    return { x: d[0] + e, y: d[1] + r };
  },
  pointDistance: function (e, r, t, i, n, a, o, s, l) {
    var u = this.nearestPoint(e, r, t, i, s, l);
    return se(u.x, u.y, s, l);
  },
  pointAt: function (e, r, t, i, n, a, o, s) {
    var l = (o - a) * s + a;
    return { x: Pv(e, r, t, i, n, l), y: Dv(e, r, t, i, n, l) };
  },
  tangentAngle: function (e, r, t, i, n, a, o, s) {
    var l = (o - a) * s + a,
      u = bM(e, r, t, i, n, a, o, l),
      c = SM(e, r, t, i, n, a, o, l);
    return Js(Math.atan2(c, u));
  },
};
function Sy(e) {
  for (var r = 0, t = [], i = 0; i < e.length - 1; i++) {
    var n = e[i],
      a = e[i + 1],
      o = se(n[0], n[1], a[0], a[1]),
      s = { from: n, to: a, length: o };
    t.push(s), (r += o);
  }
  return { segments: t, totalLength: r };
}
function EM(e) {
  if (e.length < 2) return 0;
  for (var r = 0, t = 0; t < e.length - 1; t++) {
    var i = e[t],
      n = e[t + 1];
    r += se(i[0], i[1], n[0], n[1]);
  }
  return r;
}
function TM(e, r) {
  if (r > 1 || r < 0 || e.length < 2) return null;
  var t = Sy(e),
    i = t.segments,
    n = t.totalLength;
  if (n === 0) return { x: e[0][0], y: e[0][1] };
  for (var a = 0, o = null, s = 0; s < i.length; s++) {
    var l = i[s],
      u = l.from,
      c = l.to,
      h = l.length / n;
    if (r >= a && r <= a + h) {
      var f = (r - a) / h;
      o = Zt.pointAt(u[0], u[1], c[0], c[1], f);
      break;
    }
    a += h;
  }
  return o;
}
function kM(e, r) {
  if (r > 1 || r < 0 || e.length < 2) return 0;
  for (var t = Sy(e), i = t.segments, n = t.totalLength, a = 0, o = 0, s = 0; s < i.length; s++) {
    var l = i[s],
      u = l.from,
      c = l.to,
      h = l.length / n;
    if (r >= a && r <= a + h) {
      o = Math.atan2(c[1] - u[1], c[0] - u[0]);
      break;
    }
    a += h;
  }
  return o;
}
function IM(e, r, t) {
  for (var i = 1 / 0, n = 0; n < e.length - 1; n++) {
    var a = e[n],
      o = e[n + 1],
      s = Zt.pointDistance(a[0], a[1], o[0], o[1], r, t);
    s < i && (i = s);
  }
  return i;
}
const Cy = {
  box: function (e) {
    for (var r = [], t = [], i = 0; i < e.length; i++) {
      var n = e[i];
      r.push(n[0]), t.push(n[1]);
    }
    return In(r, t);
  },
  length: function (e) {
    return EM(e);
  },
  pointAt: function (e, r) {
    return TM(e, r);
  },
  pointDistance: function (e, r, t) {
    return IM(e, r, t);
  },
  tangentAngle: function (e, r) {
    return kM(e, r);
  },
};
function $v(e, r) {
  return !e || !r
    ? e || r
    : {
        minX: Math.min(e.minX, r.minX),
        minY: Math.min(e.minY, r.minY),
        maxX: Math.max(e.maxX, r.maxX),
        maxY: Math.max(e.maxY, r.maxY),
      };
}
function ih(e, r) {
  var t = e.get('startArrowShape'),
    i = e.get('endArrowShape'),
    n = null,
    a = null;
  return (
    t && ((n = t.getCanvasBBox()), (r = $v(r, n))),
    i && ((a = i.getCanvasBBox()), (r = $v(r, a))),
    r
  );
}
function LM(e) {
  for (var r = e.attr(), t = r.points, i = [], n = [], a = 0; a < t.length; a++) {
    var o = t[a];
    i.push(o[0]), n.push(o[1]);
  }
  var s = In(i, n),
    l = s.x,
    u = s.y,
    c = s.width,
    h = s.height,
    f = { minX: l, minY: u, maxX: l + c, maxY: u + h };
  return (f = ih(e, f)), { x: f.minX, y: f.minY, width: f.maxX - f.minX, height: f.maxY - f.minY };
}
function OM(e) {
  for (var r = e.attr(), t = r.points, i = [], n = [], a = 0; a < t.length; a++) {
    var o = t[a];
    i.push(o[0]), n.push(o[1]);
  }
  return In(i, n);
}
var Ql = null;
function tl() {
  if (!Ql) {
    var e = document.createElement('canvas');
    (e.width = 1), (e.height = 1), (Ql = e.getContext('2d'));
  }
  return Ql;
}
function el(e, r, t) {
  var i = 1;
  if (
    (et(e) &&
      (i = e.split(`
`).length),
    i > 1)
  ) {
    var n = PM(r, t);
    return r * i + n * (i - 1);
  }
  return r;
}
function PM(e, r) {
  return r ? r - e : e * 0.14;
}
function DM(e, r) {
  var t = tl(),
    i = 0;
  if (R(e) || e === '') return i;
  if (
    (t.save(),
    (t.font = r),
    et(e) &&
      e.includes(`
`))
  ) {
    var n = e.split(`
`);
    A(n, function (a) {
      var o = t.measureText(a).width;
      i < o && (i = o);
    });
  } else i = t.measureText(e).width;
  return t.restore(), i;
}
function rl(e) {
  var r = e.fontSize,
    t = e.fontFamily,
    i = e.fontWeight,
    n = e.fontStyle,
    a = e.fontVariant;
  return [n, a, i, r + 'px', t].join(' ').trim();
}
function BM(e) {
  var r = e.attr(),
    t = r.x,
    i = r.y,
    n = r.text,
    a = r.fontSize,
    o = r.lineHeight,
    s = r.font;
  s || (s = rl(r));
  var l = DM(n, s),
    u;
  if (!l) u = { x: t, y: i, width: 0, height: 0 };
  else {
    var c = r.textAlign,
      h = r.textBaseline,
      f = el(n, a, o),
      v = { x: t, y: i - f };
    c && (c === 'end' || c === 'right' ? (v.x -= l) : c === 'center' && (v.x -= l / 2)),
      h && (h === 'top' ? (v.y += f) : h === 'middle' && (v.y += f / 2)),
      (u = { x: v.x, y: v.y, width: l, height: f });
  }
  return u;
}
var RM = /[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,
  $M = /[^\s\,]+/gi;
function NM(e) {
  var r = e || [];
  if ($(r)) return r;
  if (et(r))
    return (
      (r = r.match(RM)),
      A(r, function (t, i) {
        if (((t = t.match($M)), t[0].length > 1)) {
          var n = t[0].charAt(0);
          t.splice(1, 0, t[0].substr(1)), (t[0] = n);
        }
        A(t, function (a, o) {
          isNaN(a) || (t[o] = +a);
        }),
          (r[i] = t);
      }),
      r
    );
}
function zM(e, r, t, i) {
  var n = [],
    a = !!i,
    o,
    s,
    l,
    u,
    c,
    h,
    f;
  if (a) {
    (l = i[0]), (u = i[1]);
    for (var v = 0, d = e.length; v < d; v += 1) {
      var p = e[v];
      (l = jt([0, 0], l, p)), (u = Ut([0, 0], u, p));
    }
  }
  for (var v = 0, g = e.length; v < g; v += 1) {
    var p = e[v];
    if (v === 0 && !t) f = p;
    else if (v === g - 1 && !t) (h = p), n.push(f), n.push(h);
    else {
      var y = [v ? v - 1 : g - 1, v - 1][t ? 0 : 1];
      (o = e[y]), (s = e[t ? (v + 1) % g : v + 1]);
      var m = [0, 0];
      (m = Si(m, s, o)), (m = ce(m, m, r));
      var b = fn(p, o),
        w = fn(p, s),
        S = b + w;
      S !== 0 && ((b /= S), (w /= S));
      var C = ce([0, 0], m, -b),
        F = ce([0, 0], m, w);
      (h = tr([0, 0], p, C)),
        (c = tr([0, 0], p, F)),
        (c = jt([0, 0], c, Ut([0, 0], s, p))),
        (c = Ut([0, 0], c, jt([0, 0], s, p))),
        (C = Si([0, 0], c, p)),
        (C = ce([0, 0], C, -b / w)),
        (h = tr([0, 0], p, C)),
        (h = jt([0, 0], h, Ut([0, 0], o, p))),
        (h = Ut([0, 0], h, jt([0, 0], o, p))),
        (F = Si([0, 0], p, h)),
        (F = ce([0, 0], F, w / b)),
        (c = tr([0, 0], p, F)),
        a &&
          ((h = Ut([0, 0], h, l)),
          (h = jt([0, 0], h, u)),
          (c = Ut([0, 0], c, l)),
          (c = jt([0, 0], c, u))),
        n.push(f),
        n.push(h),
        (f = c);
    }
  }
  return t && n.push(n.shift()), n;
}
function GM(e, r, t) {
  r === void 0 && (r = !1),
    t === void 0 &&
      (t = [
        [0, 0],
        [1, 1],
      ]);
  for (var i = !!r, n = [], a = 0, o = e.length; a < o; a += 2) n.push([e[a], e[a + 1]]);
  for (var s = zM(n, 0.4, i, t), l = n.length, u = [], c, h, f, a = 0; a < l - 1; a += 1)
    (c = s[a * 2]),
      (h = s[a * 2 + 1]),
      (f = n[a + 1]),
      u.push(['C', c[0], c[1], h[0], h[1], f[0], f[1]]);
  return (
    i &&
      ((c = s[l]), (h = s[l + 1]), (f = n[0]), u.push(['C', c[0], c[1], h[0], h[1], f[0], f[1]])),
    u
  );
}
var ua = `	
\v\f\r \u2028\u2029`,
  HM = new RegExp(
    '([a-z])[' + ua + ',]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[' + ua + ']*,?[' + ua + ']*)+)',
    'ig',
  ),
  VM = new RegExp('(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[' + ua + ']*,?[' + ua + ']*', 'ig');
function nh(e) {
  if (!e) return null;
  if ($(e)) return e;
  var r = { a: 7, c: 6, o: 2, h: 1, l: 2, m: 2, r: 4, q: 4, s: 4, t: 2, v: 1, u: 3, z: 0 },
    t = [];
  return (
    String(e).replace(HM, function (i, n, a) {
      var o = [],
        s = n.toLowerCase();
      if (
        (a.replace(VM, function (l, u) {
          u && o.push(+u);
        }),
        s === 'm' &&
          o.length > 2 &&
          (t.push([n].concat(o.splice(0, 2))), (s = 'l'), (n = n === 'm' ? 'l' : 'L')),
        s === 'o' && o.length === 1 && t.push([n, o[0]]),
        s === 'r')
      )
        t.push([n].concat(o));
      else for (; o.length >= r[s] && (t.push([n].concat(o.splice(0, r[s]))), !!r[s]); );
      return '';
    }),
    t
  );
}
var YM = /[a-z]/;
function Nv(e, r) {
  return [r[0] + (r[0] - e[0]), r[1] + (r[1] - e[1])];
}
function Ay(e) {
  var r = nh(e);
  if (!r || !r.length) return [['M', 0, 0]];
  for (var t = !1, i = 0; i < r.length; i++) {
    var n = r[i][0];
    if (YM.test(n) || ['V', 'H', 'T', 'S'].indexOf(n) >= 0) {
      t = !0;
      break;
    }
  }
  if (!t) return r;
  var a = [],
    o = 0,
    s = 0,
    l = 0,
    u = 0,
    c = 0,
    h = r[0];
  (h[0] === 'M' || h[0] === 'm') &&
    ((o = +h[1]), (s = +h[2]), (l = o), (u = s), c++, (a[0] = ['M', o, s]));
  for (var i = c, f = r.length; i < f; i++) {
    var v = r[i],
      d = a[i - 1],
      p = [],
      n = v[0],
      g = n.toUpperCase();
    if (n !== g)
      switch (((p[0] = g), g)) {
        case 'A':
          (p[1] = v[1]),
            (p[2] = v[2]),
            (p[3] = v[3]),
            (p[4] = v[4]),
            (p[5] = v[5]),
            (p[6] = +v[6] + o),
            (p[7] = +v[7] + s);
          break;
        case 'V':
          p[1] = +v[1] + s;
          break;
        case 'H':
          p[1] = +v[1] + o;
          break;
        case 'M':
          (l = +v[1] + o), (u = +v[2] + s), (p[1] = l), (p[2] = u);
          break;
        default:
          for (var y = 1, m = v.length; y < m; y++) p[y] = +v[y] + (y % 2 ? o : s);
      }
    else p = r[i];
    switch (g) {
      case 'Z':
        (o = +l), (s = +u);
        break;
      case 'H':
        (o = p[1]), (p = ['L', o, s]);
        break;
      case 'V':
        (s = p[1]), (p = ['L', o, s]);
        break;
      case 'T':
        (o = p[1]), (s = p[2]);
        var b = Nv([d[1], d[2]], [d[3], d[4]]);
        p = ['Q', b[0], b[1], o, s];
        break;
      case 'S':
        (o = p[p.length - 2]), (s = p[p.length - 1]);
        var w = d.length,
          S = Nv([d[w - 4], d[w - 3]], [d[w - 2], d[w - 1]]);
        p = ['C', S[0], S[1], p[1], p[2], o, s];
        break;
      case 'M':
        (l = p[p.length - 2]), (u = p[p.length - 1]);
        break;
      default:
        (o = p[p.length - 2]), (s = p[p.length - 1]);
    }
    a.push(p);
  }
  return a;
}
function wo(e) {
  return Math.sqrt(e[0] * e[0] + e[1] * e[1]);
}
function Ju(e, r) {
  return wo(e) * wo(r) ? (e[0] * r[0] + e[1] * r[1]) / (wo(e) * wo(r)) : 1;
}
function zv(e, r) {
  return (e[0] * r[1] < e[1] * r[0] ? -1 : 1) * Math.acos(Ju(e, r));
}
function tc(e, r) {
  return e[0] === r[0] && e[1] === r[1];
}
function WM(e, r) {
  var t = r[1],
    i = r[2],
    n = Vc(Yc(r[3]), Math.PI * 2),
    a = r[4],
    o = r[5],
    s = e[0],
    l = e[1],
    u = r[6],
    c = r[7],
    h = (Math.cos(n) * (s - u)) / 2 + (Math.sin(n) * (l - c)) / 2,
    f = (-1 * Math.sin(n) * (s - u)) / 2 + (Math.cos(n) * (l - c)) / 2,
    v = (h * h) / (t * t) + (f * f) / (i * i);
  v > 1 && ((t *= Math.sqrt(v)), (i *= Math.sqrt(v)));
  var d = t * t * (f * f) + i * i * (h * h),
    p = d ? Math.sqrt((t * t * (i * i) - d) / d) : 1;
  a === o && (p *= -1), isNaN(p) && (p = 0);
  var g = i ? (p * t * f) / i : 0,
    y = t ? (p * -i * h) / t : 0,
    m = (s + u) / 2 + Math.cos(n) * g - Math.sin(n) * y,
    b = (l + c) / 2 + Math.sin(n) * g + Math.cos(n) * y,
    w = [(h - g) / t, (f - y) / i],
    S = [(-1 * h - g) / t, (-1 * f - y) / i],
    C = zv([1, 0], w),
    F = zv(w, S);
  return (
    Ju(w, S) <= -1 && (F = Math.PI),
    Ju(w, S) >= 1 && (F = 0),
    o === 0 && F > 0 && (F = F - 2 * Math.PI),
    o === 1 && F < 0 && (F = F + 2 * Math.PI),
    {
      cx: m,
      cy: b,
      rx: tc(e, [u, c]) ? 0 : t,
      ry: tc(e, [u, c]) ? 0 : i,
      startAngle: C,
      endAngle: C + F,
      xRotation: n,
      arcFlag: a,
      sweepFlag: o,
    }
  );
}
function Gv(e, r) {
  return [r[0] + (r[0] - e[0]), r[1] + (r[1] - e[1])];
}
function My(e) {
  e = NM(e);
  for (var r = [], t = null, i = null, n = null, a = 0, o = e.length, s = 0; s < o; s++) {
    var l = e[s];
    i = e[s + 1];
    var u = l[0],
      c = { command: u, prePoint: t, params: l, startTangent: null, endTangent: null };
    switch (u) {
      case 'M':
        (n = [l[1], l[2]]), (a = s);
        break;
      case 'A':
        var h = WM(t, l);
        c.arcParams = h;
        break;
    }
    if (u === 'Z') (t = n), (i = e[a + 1]);
    else {
      var f = l.length;
      t = [l[f - 2], l[f - 1]];
    }
    i && i[0] === 'Z' && ((i = e[a]), r[a] && (r[a].prePoint = t)),
      (c.currentPoint = t),
      r[a] && tc(t, r[a].currentPoint) && (r[a].prePoint = c.prePoint);
    var v = i ? [i[i.length - 2], i[i.length - 1]] : null;
    c.nextPoint = v;
    var d = c.prePoint;
    if (['L', 'H', 'V'].includes(u))
      (c.startTangent = [d[0] - t[0], d[1] - t[1]]), (c.endTangent = [t[0] - d[0], t[1] - d[1]]);
    else if (u === 'Q') {
      var p = [l[1], l[2]];
      (c.startTangent = [d[0] - p[0], d[1] - p[1]]), (c.endTangent = [t[0] - p[0], t[1] - p[1]]);
    } else if (u === 'T') {
      var g = r[s - 1],
        p = Gv(g.currentPoint, d);
      g.command === 'Q'
        ? ((c.command = 'Q'),
          (c.startTangent = [d[0] - p[0], d[1] - p[1]]),
          (c.endTangent = [t[0] - p[0], t[1] - p[1]]))
        : ((c.command = 'TL'),
          (c.startTangent = [d[0] - t[0], d[1] - t[1]]),
          (c.endTangent = [t[0] - d[0], t[1] - d[1]]));
    } else if (u === 'C') {
      var y = [l[1], l[2]],
        m = [l[3], l[4]];
      (c.startTangent = [d[0] - y[0], d[1] - y[1]]),
        (c.endTangent = [t[0] - m[0], t[1] - m[1]]),
        c.startTangent[0] === 0 &&
          c.startTangent[1] === 0 &&
          (c.startTangent = [y[0] - m[0], y[1] - m[1]]),
        c.endTangent[0] === 0 &&
          c.endTangent[1] === 0 &&
          (c.endTangent = [m[0] - y[0], m[1] - y[1]]);
    } else if (u === 'S') {
      var g = r[s - 1],
        y = Gv(g.currentPoint, d),
        m = [l[1], l[2]];
      g.command === 'C'
        ? ((c.command = 'C'),
          (c.startTangent = [d[0] - y[0], d[1] - y[1]]),
          (c.endTangent = [t[0] - m[0], t[1] - m[1]]))
        : ((c.command = 'SQ'),
          (c.startTangent = [d[0] - m[0], d[1] - m[1]]),
          (c.endTangent = [t[0] - m[0], t[1] - m[1]]));
    } else if (u === 'A') {
      var b = 0.001,
        w = c.arcParams || {},
        S = w.cx,
        C = S === void 0 ? 0 : S,
        F = w.cy,
        E = F === void 0 ? 0 : F,
        k = w.rx,
        T = k === void 0 ? 0 : k,
        O = w.ry,
        P = O === void 0 ? 0 : O,
        z = w.sweepFlag,
        W = z === void 0 ? 0 : z,
        j = w.startAngle,
        D = j === void 0 ? 0 : j,
        N = w.endAngle,
        V = N === void 0 ? 0 : N;
      W === 0 && (b *= -1);
      var H = T * Math.cos(D - b) + C,
        G = P * Math.sin(D - b) + E;
      c.startTangent = [H - n[0], G - n[1]];
      var X = T * Math.cos(D + V + b) + C,
        Q = P * Math.sin(D + V - b) + E;
      c.endTangent = [d[0] - X, d[1] - Q];
    }
    r.push(c);
  }
  return r;
}
var Hv = function (e, r, t) {
  return e >= r && e <= t;
};
function XM(e, r, t, i) {
  var n = 0.001,
    a = { x: t.x - e.x, y: t.y - e.y },
    o = { x: r.x - e.x, y: r.y - e.y },
    s = { x: i.x - t.x, y: i.y - t.y },
    l = o.x * s.y - o.y * s.x,
    u = l * l,
    c = o.x * o.x + o.y * o.y,
    h = s.x * s.x + s.y * s.y,
    f = null;
  if (u > n * c * h) {
    var v = (a.x * s.y - a.y * s.x) / l,
      d = (a.x * o.y - a.y * o.x) / l;
    Hv(v, 0, 1) && Hv(d, 0, 1) && (f = { x: e.x + v * o.x, y: e.y + v * o.y });
  }
  return f;
}
var _M = 1e-6;
function Jl(e) {
  return Math.abs(e) < _M ? 0 : e < 0 ? -1 : 1;
}
function jM(e, r, t) {
  return (
    (t[0] - e[0]) * (r[1] - e[1]) === (r[0] - e[0]) * (t[1] - e[1]) &&
    Math.min(e[0], r[0]) <= t[0] &&
    t[0] <= Math.max(e[0], r[0]) &&
    Math.min(e[1], r[1]) <= t[1] &&
    t[1] <= Math.max(e[1], r[1])
  );
}
function Vv(e, r, t) {
  var i = !1,
    n = e.length;
  if (n <= 2) return !1;
  for (var a = 0; a < n; a++) {
    var o = e[a],
      s = e[(a + 1) % n];
    if (jM(o, s, [r, t])) return !0;
    Jl(o[1] - t) > 0 != Jl(s[1] - t) > 0 &&
      Jl(r - ((t - o[1]) * (o[0] - s[0])) / (o[1] - s[1]) - o[0]) < 0 &&
      (i = !i);
  }
  return i;
}
function Yv(e) {
  for (var r = [], t = e.length, i = 0; i < t - 1; i++) {
    var n = e[i],
      a = e[i + 1];
    r.push({ from: { x: n[0], y: n[1] }, to: { x: a[0], y: a[1] } });
  }
  if (r.length > 1) {
    var o = e[0],
      s = e[t - 1];
    r.push({ from: { x: s[0], y: s[1] }, to: { x: o[0], y: o[1] } });
  }
  return r;
}
function UM(e, r) {
  var t = !1;
  return (
    A(e, function (i) {
      if (XM(i.from, i.to, r.from, r.to)) return (t = !0), !1;
    }),
    t
  );
}
function Wv(e) {
  var r = e.map(function (i) {
      return i[0];
    }),
    t = e.map(function (i) {
      return i[1];
    });
  return {
    minX: Math.min.apply(null, r),
    maxX: Math.max.apply(null, r),
    minY: Math.min.apply(null, t),
    maxY: Math.max.apply(null, t),
  };
}
function qM(e, r) {
  return !(r.minX > e.maxX || r.maxX < e.minX || r.minY > e.maxY || r.maxY < e.minY);
}
function ZM(e, r) {
  if (e.length < 2 || r.length < 2) return !1;
  var t = Wv(e),
    i = Wv(r);
  if (!qM(t, i)) return !1;
  var n = !1;
  if (
    (A(r, function (l) {
      if (Vv(e, l[0], l[1])) return (n = !0), !1;
    }),
    n ||
      (A(e, function (l) {
        if (Vv(r, l[0], l[1])) return (n = !0), !1;
      }),
      n))
  )
    return !0;
  var a = Yv(e),
    o = Yv(r),
    s = !1;
  return (
    A(o, function (l) {
      if (UM(a, l)) return (s = !0), !1;
    }),
    s
  );
}
function KM(e, r) {
  for (var t = [], i = [], n = [], a = 0; a < e.length; a++) {
    var o = e[a],
      s = o.currentPoint,
      l = o.params,
      u = o.prePoint,
      c = void 0;
    switch (o.command) {
      case 'Q':
        c = wy.box(u[0], u[1], l[1], l[2], l[3], l[4]);
        break;
      case 'C':
        c = la.box(u[0], u[1], l[1], l[2], l[3], l[4], l[5], l[6]);
        break;
      case 'A':
        var h = o.arcParams;
        c = FM.box(h.cx, h.cy, h.rx, h.ry, h.xRotation, h.startAngle, h.endAngle);
        break;
      default:
        t.push(s[0]), i.push(s[1]);
        break;
    }
    c && ((o.box = c), t.push(c.x, c.x + c.width), i.push(c.y, c.y + c.height)),
      r && (o.command === 'L' || o.command === 'M') && o.prePoint && o.nextPoint && n.push(o);
  }
  (t = t.filter(function (y) {
    return !Number.isNaN(y) && y !== 1 / 0 && y !== -1 / 0;
  })),
    (i = i.filter(function (y) {
      return !Number.isNaN(y) && y !== 1 / 0 && y !== -1 / 0;
    }));
  var f = ae(t),
    v = ae(i),
    d = te(t),
    p = te(i);
  if (n.length === 0) return { x: f, y: v, width: d - f, height: p - v };
  for (var a = 0; a < n.length; a++) {
    var o = n[a],
      s = o.currentPoint,
      g = void 0;
    s[0] === f
      ? ((g = bo(o, r)), (f = f - g.xExtra))
      : s[0] === d && ((g = bo(o, r)), (d = d + g.xExtra)),
      s[1] === v
        ? ((g = bo(o, r)), (v = v - g.yExtra))
        : s[1] === p && ((g = bo(o, r)), (p = p + g.yExtra));
  }
  return { x: f, y: v, width: d - f, height: p - v };
}
function bo(e, r) {
  var t = e.prePoint,
    i = e.currentPoint,
    n = e.nextPoint,
    a = Math.pow(i[0] - t[0], 2) + Math.pow(i[1] - t[1], 2),
    o = Math.pow(i[0] - n[0], 2) + Math.pow(i[1] - n[1], 2),
    s = Math.pow(t[0] - n[0], 2) + Math.pow(t[1] - n[1], 2),
    l = Math.acos((a + o - s) / (2 * Math.sqrt(a) * Math.sqrt(o)));
  if (!l || Math.sin(l) === 0 || qt(l, 0)) return { xExtra: 0, yExtra: 0 };
  var u = Math.abs(Math.atan2(n[1] - i[1], n[0] - i[0])),
    c = Math.abs(Math.atan2(n[0] - i[0], n[1] - i[1]));
  (u = u > Math.PI / 2 ? Math.PI - u : u), (c = c > Math.PI / 2 ? Math.PI - c : c);
  var h = {
    xExtra: Math.cos(l / 2 - u) * ((r / 2) * (1 / Math.sin(l / 2))) - r / 2 || 0,
    yExtra: Math.cos(c - l / 2) * ((r / 2) * (1 / Math.sin(l / 2))) - r / 2 || 0,
  };
  return h;
}
function QM(e) {
  var r = e.attr(),
    t = r.path,
    i = r.stroke,
    n = i ? r.lineWidth : 0,
    a = e.get('segments') || My(t),
    o = KM(a, n),
    s = o.x,
    l = o.y,
    u = o.width,
    c = o.height,
    h = { minX: s, minY: l, maxX: s + u, maxY: l + c };
  return (h = ih(e, h)), { x: h.minX, y: h.minY, width: h.maxX - h.minX, height: h.maxY - h.minY };
}
function JM(e) {
  var r = e.attr(),
    t = r.x1,
    i = r.y1,
    n = r.x2,
    a = r.y2,
    o = Math.min(t, n),
    s = Math.max(t, n),
    l = Math.min(i, a),
    u = Math.max(i, a),
    c = { minX: o, maxX: s, minY: l, maxY: u };
  return (c = ih(e, c)), { x: c.minX, y: c.minY, width: c.maxX - c.minX, height: c.maxY - c.minY };
}
function tF(e) {
  var r = e.attr(),
    t = r.x,
    i = r.y,
    n = r.rx,
    a = r.ry;
  return { x: t - n, y: i - a, width: n * 2, height: a * 2 };
}
Ne('rect', gy);
Ne('image', gy);
Ne('circle', yy);
Ne('marker', yy);
Ne('polyline', LM);
Ne('polygon', OM);
Ne('text', BM);
Ne('path', QM);
Ne('line', JM);
Ne('ellipse', tF);
var Xv = 0,
  eF = 1 / 2,
  rF = 1 / 2,
  iF = 0.05,
  il = (function () {
    function e(r) {
      var t = r.xField,
        i = r.yField,
        n = r.adjustNames,
        a = n === void 0 ? ['x', 'y'] : n,
        o = r.dimValuesMap;
      (this.adjustNames = a), (this.xField = t), (this.yField = i), (this.dimValuesMap = o);
    }
    return (
      (e.prototype.isAdjust = function (r) {
        return this.adjustNames.indexOf(r) >= 0;
      }),
      (e.prototype.getAdjustRange = function (r, t, i) {
        var n = this.yField,
          a = i.indexOf(t),
          o = i.length,
          s,
          l;
        return (
          !n && this.isAdjust('y')
            ? ((s = 0), (l = 1))
            : o > 1
            ? ((s = i[a === 0 ? 0 : a - 1]),
              (l = i[a === o - 1 ? o - 1 : a + 1]),
              a !== 0 ? (s += (t - s) / 2) : (s -= (l - t) / 2),
              a !== o - 1 ? (l -= (l - t) / 2) : (l += (t - i[o - 2]) / 2))
            : ((s = t === 0 ? 0 : t - 0.5), (l = t === 0 ? 1 : t + 0.5)),
          { pre: s, next: l }
        );
      }),
      (e.prototype.adjustData = function (r, t) {
        var i = this,
          n = this.getDimValues(t);
        A(r, function (a, o) {
          A(n, function (s, l) {
            i.adjustDim(l, s, a, o);
          });
        });
      }),
      (e.prototype.groupData = function (r, t) {
        return (
          A(r, function (i) {
            i[t] === void 0 && (i[t] = Xv);
          }),
          Fe(r, t)
        );
      }),
      (e.prototype.adjustDim = function (r, t, i, n) {}),
      (e.prototype.getDimValues = function (r) {
        var t = this,
          i = t.xField,
          n = t.yField,
          a = xt({}, this.dimValuesMap),
          o = [];
        if (
          (i && this.isAdjust('x') && o.push(i),
          n && this.isAdjust('y') && o.push(n),
          o.forEach(function (l) {
            (a && a[l]) ||
              (a[l] = _e(r, l).sort(function (u, c) {
                return u - c;
              }));
          }),
          !n && this.isAdjust('y'))
        ) {
          var s = 'y';
          a[s] = [Xv, 1];
        }
        return a;
      }),
      e
    );
  })(),
  Fy = {},
  Ey = function (e) {
    return Fy[e.toLowerCase()];
  },
  nl = function (e, r) {
    if (Ey(e)) throw new Error("Adjust type '" + e + "' existed.");
    Fy[e.toLowerCase()] = r;
  };
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */ var ec = function (
  e,
  r,
) {
  return (
    (ec =
      Object.setPrototypeOf ||
      ({ __proto__: [] } instanceof Array &&
        function (t, i) {
          t.__proto__ = i;
        }) ||
      function (t, i) {
        for (var n in i) i.hasOwnProperty(n) && (t[n] = i[n]);
      }),
    ec(e, r)
  );
};
function Er(e, r) {
  ec(e, r);
  function t() {
    this.constructor = e;
  }
  e.prototype = r === null ? Object.create(r) : ((t.prototype = r.prototype), new t());
}
var er = function () {
    return (
      (er =
        Object.assign ||
        function (r) {
          for (var t, i = 1, n = arguments.length; i < n; i++) {
            t = arguments[i];
            for (var a in t) Object.prototype.hasOwnProperty.call(t, a) && (r[a] = t[a]);
          }
          return r;
        }),
      er.apply(this, arguments)
    );
  },
  nF = (function (e) {
    Er(r, e);
    function r(t) {
      var i = e.call(this, t) || this;
      (i.cacheMap = {}), (i.adjustDataArray = []), (i.mergeData = []);
      var n = t.marginRatio,
        a = n === void 0 ? eF : n,
        o = t.dodgeRatio,
        s = o === void 0 ? rF : o,
        l = t.dodgeBy,
        u = t.intervalPadding,
        c = t.dodgePadding,
        h = t.xDimensionLength,
        f = t.groupNum,
        v = t.defaultSize,
        d = t.maxColumnWidth,
        p = t.minColumnWidth,
        g = t.columnWidthRatio,
        y = t.customOffset;
      return (
        (i.marginRatio = a),
        (i.dodgeRatio = s),
        (i.dodgeBy = l),
        (i.intervalPadding = u),
        (i.dodgePadding = c),
        (i.xDimensionLegenth = h),
        (i.groupNum = f),
        (i.defaultSize = v),
        (i.maxColumnWidth = d),
        (i.minColumnWidth = p),
        (i.columnWidthRatio = g),
        (i.customOffset = y),
        i
      );
    }
    return (
      (r.prototype.process = function (t) {
        var i = ue(t),
          n = Te(i),
          a = this.dodgeBy,
          o = a ? GS(n, a) : i;
        return (
          (this.cacheMap = {}),
          (this.adjustDataArray = o),
          (this.mergeData = n),
          this.adjustData(o, n),
          (this.adjustDataArray = []),
          (this.mergeData = []),
          i
        );
      }),
      (r.prototype.adjustDim = function (t, i, n, a) {
        var o = this,
          s = this.customOffset,
          l = this.getDistribution(t),
          u = this.groupData(n, t);
        return (
          A(u, function (c, h) {
            var f;
            i.length === 1
              ? (f = { pre: i[0] - 1, next: i[0] + 1 })
              : (f = o.getAdjustRange(t, parseFloat(h), i)),
              A(c, function (v) {
                var d = v[t],
                  p = l[d],
                  g = p.indexOf(a);
                if (R(s)) v[t] = o.getDodgeOffset(f, g, p.length);
                else {
                  var y = f.pre,
                    m = f.next;
                  v[t] = q(s) ? s(v, f) : (y + m) / 2 + s;
                }
              });
          }),
          []
        );
      }),
      (r.prototype.getDodgeOffset = function (t, i, n) {
        var a = this,
          o = a.dodgeRatio,
          s = a.marginRatio,
          l = a.intervalPadding,
          u = a.dodgePadding,
          c = t.pre,
          h = t.next,
          f = h - c,
          v;
        if (!R(l) && R(u) && l >= 0) {
          var d = this.getIntervalOnlyOffset(n, i);
          v = c + d;
        } else if (!R(u) && R(l) && u >= 0) {
          var d = this.getDodgeOnlyOffset(n, i);
          v = c + d;
        } else if (!R(l) && !R(u) && l >= 0 && u >= 0) {
          var d = this.getIntervalAndDodgeOffset(n, i);
          v = c + d;
        } else {
          var p = (f * o) / n,
            g = s * p,
            d =
              (1 / 2) * (f - n * p - (n - 1) * g) +
              ((i + 1) * p + i * g) -
              (1 / 2) * p -
              (1 / 2) * f;
          v = (c + h) / 2 + d;
        }
        return v;
      }),
      (r.prototype.getIntervalOnlyOffset = function (t, i) {
        var n = this,
          a = n.defaultSize,
          o = n.intervalPadding,
          s = n.xDimensionLegenth,
          l = n.groupNum,
          u = n.dodgeRatio,
          c = n.maxColumnWidth,
          h = n.minColumnWidth,
          f = n.columnWidthRatio,
          v = o / s,
          d = (((1 - (l - 1) * v) / l) * u) / (t - 1),
          p = ((1 - v * (l - 1)) / l - d * (t - 1)) / t;
        if (((p = R(f) ? p : (1 / l / t) * f), !R(c))) {
          var g = c / s;
          p = Math.min(p, g);
        }
        if (!R(h)) {
          var y = h / s;
          p = Math.max(p, y);
        }
        (p = a ? a / s : p), (d = ((1 - (l - 1) * v) / l - t * p) / (t - 1));
        var m = ((1 / 2 + i) * p + i * d + (1 / 2) * v) * l - v / 2;
        return m;
      }),
      (r.prototype.getDodgeOnlyOffset = function (t, i) {
        var n = this,
          a = n.defaultSize,
          o = n.dodgePadding,
          s = n.xDimensionLegenth,
          l = n.groupNum,
          u = n.marginRatio,
          c = n.maxColumnWidth,
          h = n.minColumnWidth,
          f = n.columnWidthRatio,
          v = o / s,
          d = (1 * u) / (l - 1),
          p = ((1 - d * (l - 1)) / l - v * (t - 1)) / t;
        if (((p = f ? (1 / l / t) * f : p), !R(c))) {
          var g = c / s;
          p = Math.min(p, g);
        }
        if (!R(h)) {
          var y = h / s;
          p = Math.max(p, y);
        }
        (p = a ? a / s : p), (d = (1 - (p * t + v * (t - 1)) * l) / (l - 1));
        var m = ((1 / 2 + i) * p + i * v + (1 / 2) * d) * l - d / 2;
        return m;
      }),
      (r.prototype.getIntervalAndDodgeOffset = function (t, i) {
        var n = this,
          a = n.intervalPadding,
          o = n.dodgePadding,
          s = n.xDimensionLegenth,
          l = n.groupNum,
          u = a / s,
          c = o / s,
          h = ((1 - u * (l - 1)) / l - c * (t - 1)) / t,
          f = ((1 / 2 + i) * h + i * c + (1 / 2) * u) * l - u / 2;
        return f;
      }),
      (r.prototype.getDistribution = function (t) {
        var i = this.adjustDataArray,
          n = this.cacheMap,
          a = n[t];
        return (
          a ||
            ((a = {}),
            A(i, function (o, s) {
              var l = _e(o, t);
              l.length || l.push(0),
                A(l, function (u) {
                  a[u] || (a[u] = []), a[u].push(s);
                });
            }),
            (n[t] = a)),
          a
        );
      }),
      r
    );
  })(il);
function aF(e, r) {
  return (r - e) * Math.random() + e;
}
var oF = (function (e) {
    Er(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.process = function (t) {
        var i = ue(t),
          n = Te(i);
        return this.adjustData(i, n), i;
      }),
      (r.prototype.adjustDim = function (t, i, n) {
        var a = this,
          o = this.groupData(n, t);
        return A(o, function (s, l) {
          return a.adjustGroup(s, t, parseFloat(l), i);
        });
      }),
      (r.prototype.getAdjustOffset = function (t) {
        var i = t.pre,
          n = t.next,
          a = (n - i) * iF;
        return aF(i + a, n - a);
      }),
      (r.prototype.adjustGroup = function (t, i, n, a) {
        var o = this,
          s = this.getAdjustRange(i, n, a);
        return (
          A(t, function (l) {
            l[i] = o.getAdjustOffset(s);
          }),
          t
        );
      }),
      r
    );
  })(il),
  tu = nC,
  sF = (function (e) {
    Er(r, e);
    function r(t) {
      var i = e.call(this, t) || this,
        n = t.adjustNames,
        a = n === void 0 ? ['y'] : n,
        o = t.height,
        s = o === void 0 ? NaN : o,
        l = t.size,
        u = l === void 0 ? 10 : l,
        c = t.reverseOrder,
        h = c === void 0 ? !1 : c;
      return (i.adjustNames = a), (i.height = s), (i.size = u), (i.reverseOrder = h), i;
    }
    return (
      (r.prototype.process = function (t) {
        var i = this,
          n = i.yField,
          a = i.reverseOrder,
          o = n ? this.processStack(t) : this.processOneDimStack(t);
        return a ? this.reverse(o) : o;
      }),
      (r.prototype.reverse = function (t) {
        return t.slice(0).reverse();
      }),
      (r.prototype.processStack = function (t) {
        var i = this,
          n = i.xField,
          a = i.yField,
          o = i.reverseOrder,
          s = o ? this.reverse(t) : t,
          l = new tu(),
          u = new tu();
        return s.map(function (c) {
          return c.map(function (h) {
            var f,
              v = M(h, n, 0),
              d = M(h, [a]),
              p = v.toString();
            if (((d = $(d) ? d[1] : d), !R(d))) {
              var g = d >= 0 ? l : u;
              g.has(p) || g.set(p, 0);
              var y = g.get(p),
                m = d + y;
              return g.set(p, m), er(er({}, h), ((f = {}), (f[a] = [y, m]), f));
            }
            return h;
          });
        });
      }),
      (r.prototype.processOneDimStack = function (t) {
        var i = this,
          n = this,
          a = n.xField,
          o = n.height,
          s = n.reverseOrder,
          l = 'y',
          u = s ? this.reverse(t) : t,
          c = new tu();
        return u.map(function (h) {
          return h.map(function (f) {
            var v,
              d = i.size,
              p = f[a],
              g = (d * 2) / o;
            c.has(p) || c.set(p, g / 2);
            var y = c.get(p);
            return c.set(p, y + g), er(er({}, f), ((v = {}), (v[l] = y), v));
          });
        });
      }),
      r
    );
  })(il),
  lF = (function (e) {
    Er(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.process = function (t) {
        var i = Te(t),
          n = this,
          a = n.xField,
          o = n.yField,
          s = this.getXValuesMaxMap(i),
          l = Math.max.apply(
            Math,
            Object.keys(s).map(function (u) {
              return s[u];
            }),
          );
        return Tt(t, function (u) {
          return Tt(u, function (c) {
            var h,
              f,
              v = c[o],
              d = c[a];
            if ($(v)) {
              var p = (l - s[d]) / 2;
              return er(
                er({}, c),
                ((h = {}),
                (h[o] = Tt(v, function (y) {
                  return p + y;
                })),
                h),
              );
            }
            var g = (l - v) / 2;
            return er(er({}, c), ((f = {}), (f[o] = [g, v + g]), f));
          });
        });
      }),
      (r.prototype.getXValuesMaxMap = function (t) {
        var i = this,
          n = this,
          a = n.xField,
          o = n.yField,
          s = Fe(t, function (l) {
            return l[a];
          });
        return tC(s, function (l) {
          return i.getDimMaxValue(l, o);
        });
      }),
      (r.prototype.getDimMaxValue = function (t, i) {
        var n = Tt(t, function (o) {
            return M(o, i, []);
          }),
          a = Te(n);
        return Math.max.apply(Math, a);
      }),
      r
    );
  })(il);
nl('Dodge', nF);
nl('Jitter', oF);
nl('Stack', sF);
nl('Symmetric', lF);
var _v = function (e, r) {
    return et(r) ? r : e.invert(e.scale(r));
  },
  qa = (function () {
    function e(r) {
      (this.names = []),
        (this.scales = []),
        (this.linear = !1),
        (this.values = []),
        (this.callback = function () {
          return [];
        }),
        this._parseCfg(r);
    }
    return (
      (e.prototype.mapping = function () {
        for (var r = this, t = [], i = 0; i < arguments.length; i++) t[i] = arguments[i];
        var n = t.map(function (a, o) {
          return r._toOriginParam(a, r.scales[o]);
        });
        return this.callback.apply(this, n);
      }),
      (e.prototype.getLinearValue = function (r) {
        var t = this.values.length - 1,
          i = Math.floor(t * r),
          n = t * r - i,
          a = this.values[i],
          o = i === t ? a : this.values[i + 1];
        return a + (o - a) * n;
      }),
      (e.prototype.getNames = function () {
        for (
          var r = this.scales, t = this.names, i = Math.min(r.length, t.length), n = [], a = 0;
          a < i;
          a += 1
        )
          n.push(t[a]);
        return n;
      }),
      (e.prototype.getFields = function () {
        return this.scales.map(function (r) {
          return r.field;
        });
      }),
      (e.prototype.getScale = function (r) {
        return this.scales[this.names.indexOf(r)];
      }),
      (e.prototype.defaultCallback = function () {
        for (var r = this, t = [], i = 0; i < arguments.length; i++) t[i] = arguments[i];
        return t.length === 0
          ? this.values
          : t.map(function (n, a) {
              var o = r.scales[a];
              return o.type === 'identity' ? o.values[0] : r._getAttributeValue(o, n);
            });
      }),
      (e.prototype._parseCfg = function (r) {
        var t = this,
          i = r.type,
          n = i === void 0 ? 'base' : i,
          a = r.names,
          o = a === void 0 ? [] : a,
          s = r.scales,
          l = s === void 0 ? [] : s,
          u = r.values,
          c = u === void 0 ? [] : u,
          h = r.callback;
        (this.type = n),
          (this.scales = l),
          (this.values = c),
          (this.names = o),
          (this.callback = function () {
            for (var f = [], v = 0; v < arguments.length; v++) f[v] = arguments[v];
            if (h) {
              var d = h.apply(void 0, f);
              if (!R(d)) return [d];
            }
            return t.defaultCallback.apply(t, f);
          });
      }),
      (e.prototype._getAttributeValue = function (r, t) {
        if (r.isCategory && !this.linear) {
          var i = r.translate(t);
          return this.values[i % this.values.length];
        }
        var n = r.scale(t);
        return this.getLinearValue(n);
      }),
      (e.prototype._toOriginParam = function (r, t) {
        return t.isLinear
          ? r
          : $(r)
          ? r.map(function (i) {
              return _v(t, i);
            })
          : _v(t, r);
      }),
      e
    );
  })(),
  uF = /rgba?\(([\s.,0-9]+)\)/,
  cF = /^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,
  hF = /^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,
  fF = /[\d.]+:(#[^\s]+|[^\)]+\))/gi,
  vF = function (e) {
    return /^[r,R,L,l]{1}[\s]*\(/.test(e);
  },
  dF = function () {
    var e = document.createElement('i');
    return (
      (e.title = 'Web Colour Picker'), (e.style.display = 'none'), document.body.appendChild(e), e
    );
  },
  eu = function (e, r, t, i) {
    return e[i] + (r[i] - e[i]) * t;
  };
function Ty(e) {
  return '#' + ru(e[0]) + ru(e[1]) + ru(e[2]);
}
var ky = function (e) {
    return [
      parseInt(e.substr(1, 2), 16),
      parseInt(e.substr(3, 2), 16),
      parseInt(e.substr(5, 2), 16),
    ];
  },
  ru = function (e) {
    var r = Math.round(e).toString(16);
    return r.length === 1 ? '0' + r : r;
  },
  pF = function (e, r) {
    var t = isNaN(Number(r)) || r < 0 ? 0 : r > 1 ? 1 : Number(r),
      i = e.length - 1,
      n = Math.floor(i * t),
      a = i * t - n,
      o = e[n],
      s = n === i ? o : e[n + 1];
    return Ty([eu(o, s, a, 0), eu(o, s, a, 1), eu(o, s, a, 2)]);
  },
  So,
  Iy = function (e) {
    if (e[0] === '#' && e.length === 7) return e;
    So || (So = dF()), (So.style.color = e);
    var r = document.defaultView.getComputedStyle(So, '').getPropertyValue('color'),
      t = uF.exec(r),
      i = t[1].split(/\s*,\s*/).map(function (n) {
        return Number(n);
      });
    return (r = Ty(i)), r;
  },
  gF = function (e) {
    var r = et(e) ? e.split('-') : e,
      t = Tt(r, function (i) {
        return ky(i.indexOf('#') === -1 ? Iy(i) : i);
      });
    return function (i) {
      return pF(t, i);
    };
  },
  yF = function (e) {
    if (vF(e)) {
      var r,
        t = void 0;
      if (e[0] === 'l') {
        var i = cF.exec(e),
          n = +i[1] + 90;
        (t = i[2]), (r = 'linear-gradient(' + n + 'deg, ');
      } else if (e[0] === 'r') {
        r = 'radial-gradient(';
        var i = hF.exec(e);
        t = i[4];
      }
      var a = t.match(fF);
      return (
        A(a, function (o, s) {
          var l = o.split(':');
          (r += l[1] + ' ' + l[0] * 100 + '%'), s !== a.length - 1 && (r += ', ');
        }),
        (r += ')'),
        r
      );
    }
    return e;
  };
const Yr = { rgb2arr: ky, gradient: gF, toRGB: kn(Iy), toCSSGradient: yF };
var mF = (function (e) {
    Er(r, e);
    function r(t) {
      var i = e.call(this, t) || this;
      return (
        (i.type = 'color'),
        (i.names = ['color']),
        et(i.values) && (i.linear = !0),
        (i.gradient = Yr.gradient(i.values)),
        i
      );
    }
    return (
      (r.prototype.getLinearValue = function (t) {
        return this.gradient(t);
      }),
      r
    );
  })(qa),
  xF = (function (e) {
    Er(r, e);
    function r(t) {
      var i = e.call(this, t) || this;
      return (i.type = 'opacity'), (i.names = ['opacity']), i;
    }
    return r;
  })(qa),
  wF = (function (e) {
    Er(r, e);
    function r(t) {
      var i = e.call(this, t) || this;
      return (i.names = ['x', 'y']), (i.type = 'position'), i;
    }
    return (
      (r.prototype.mapping = function (t, i) {
        var n = this.scales,
          a = n[0],
          o = n[1];
        return R(t) || R(i)
          ? []
          : [
              $(t)
                ? t.map(function (s) {
                    return a.scale(s);
                  })
                : a.scale(t),
              $(i)
                ? i.map(function (s) {
                    return o.scale(s);
                  })
                : o.scale(i),
            ];
      }),
      r
    );
  })(qa),
  bF = (function (e) {
    Er(r, e);
    function r(t) {
      var i = e.call(this, t) || this;
      return (i.type = 'shape'), (i.names = ['shape']), i;
    }
    return (
      (r.prototype.getLinearValue = function (t) {
        var i = Math.round((this.values.length - 1) * t);
        return this.values[i];
      }),
      r
    );
  })(qa),
  SF = (function (e) {
    Er(r, e);
    function r(t) {
      var i = e.call(this, t) || this;
      return (i.type = 'size'), (i.names = ['size']), i;
    }
    return r;
  })(qa),
  Ly = {};
function CF(e) {
  return Ly[e];
}
function sr(e, r) {
  Ly[e] = r;
}
var ah = (function () {
    function e(r) {
      (this.type = 'base'),
        (this.isCategory = !1),
        (this.isLinear = !1),
        (this.isContinuous = !1),
        (this.isIdentity = !1),
        (this.values = []),
        (this.range = [0, 1]),
        (this.ticks = []),
        (this.__cfg__ = r),
        this.initCfg(),
        this.init();
    }
    return (
      (e.prototype.translate = function (r) {
        return r;
      }),
      (e.prototype.change = function (r) {
        xt(this.__cfg__, r), this.init();
      }),
      (e.prototype.clone = function () {
        return this.constructor(this.__cfg__);
      }),
      (e.prototype.getTicks = function () {
        var r = this;
        return Tt(this.ticks, function (t, i) {
          return yt(t) ? t : { text: r.getText(t, i), tickValue: t, value: r.scale(t) };
        });
      }),
      (e.prototype.getText = function (r, t) {
        var i = this.formatter,
          n = i ? i(r, t) : r;
        return R(n) || !q(n.toString) ? '' : n.toString();
      }),
      (e.prototype.getConfig = function (r) {
        return this.__cfg__[r];
      }),
      (e.prototype.init = function () {
        xt(this, this.__cfg__),
          this.setDomain(),
          we(this.getConfig('ticks')) && (this.ticks = this.calculateTicks());
      }),
      (e.prototype.initCfg = function () {}),
      (e.prototype.setDomain = function () {}),
      (e.prototype.calculateTicks = function () {
        var r = this.tickMethod,
          t = [];
        if (et(r)) {
          var i = CF(r);
          if (!i) throw new Error('There is no method to to calculate ticks!');
          t = i(this);
        } else q(r) && (t = r(this));
        return t;
      }),
      (e.prototype.rangeMin = function () {
        return this.range[0];
      }),
      (e.prototype.rangeMax = function () {
        return this.range[1];
      }),
      (e.prototype.calcPercent = function (r, t, i) {
        return it(r) ? (r - t) / (i - t) : NaN;
      }),
      (e.prototype.calcValue = function (r, t, i) {
        return t + r * (i - t);
      }),
      e
    );
  })(),
  al = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'cat'), (t.isCategory = !0), t;
    }
    return (
      (r.prototype.buildIndexMap = function () {
        if (!this.translateIndexMap) {
          this.translateIndexMap = new Map();
          for (var t = 0; t < this.values.length; t++)
            this.translateIndexMap.set(this.values[t], t);
        }
      }),
      (r.prototype.translate = function (t) {
        this.buildIndexMap();
        var i = this.translateIndexMap.get(t);
        return i === void 0 && (i = it(t) ? t : NaN), i;
      }),
      (r.prototype.scale = function (t) {
        var i = this.translate(t),
          n = this.calcPercent(i, this.min, this.max);
        return this.calcValue(n, this.rangeMin(), this.rangeMax());
      }),
      (r.prototype.invert = function (t) {
        var i = this.max - this.min,
          n = this.calcPercent(t, this.rangeMin(), this.rangeMax()),
          a = Math.round(i * n) + this.min;
        return a < this.min || a > this.max ? NaN : this.values[a];
      }),
      (r.prototype.getText = function (t) {
        for (var i = [], n = 1; n < arguments.length; n++) i[n - 1] = arguments[n];
        var a = t;
        return (
          it(t) && !this.values.includes(t) && (a = this.values[a]),
          e.prototype.getText.apply(this, Ct([a], i))
        );
      }),
      (r.prototype.initCfg = function () {
        this.tickMethod = 'cat';
      }),
      (r.prototype.setDomain = function () {
        if ((R(this.getConfig('min')) && (this.min = 0), R(this.getConfig('max')))) {
          var t = this.values.length;
          this.max = t > 1 ? t - 1 : t;
        }
        this.translateIndexMap && (this.translateIndexMap = void 0);
      }),
      r
    );
  })(ah),
  Oy = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,
  Pr = '\\d\\d?',
  Ir = '\\d\\d',
  AF = '\\d{3}',
  MF = '\\d{4}',
  ca = '[^\\s]+',
  Py = /\[([^]*?)\]/gm;
function Dy(e, r) {
  for (var t = [], i = 0, n = e.length; i < n; i++) t.push(e[i].substr(0, r));
  return t;
}
var jv = function (e) {
  return function (r, t) {
    var i = t[e].map(function (a) {
        return a.toLowerCase();
      }),
      n = i.indexOf(r.toLowerCase());
    return n > -1 ? n : null;
  };
};
function qr(e) {
  for (var r = [], t = 1; t < arguments.length; t++) r[t - 1] = arguments[t];
  for (var i = 0, n = r; i < n.length; i++) {
    var a = n[i];
    for (var o in a) e[o] = a[o];
  }
  return e;
}
var By = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
  Ry = [
    'January',
    'February',
    'March',
    'April',
    'May',
    'June',
    'July',
    'August',
    'September',
    'October',
    'November',
    'December',
  ],
  FF = Dy(Ry, 3),
  EF = Dy(By, 3),
  oh = {
    dayNamesShort: EF,
    dayNames: By,
    monthNamesShort: FF,
    monthNames: Ry,
    amPm: ['am', 'pm'],
    DoFn: function (e) {
      return (
        e + ['th', 'st', 'nd', 'rd'][e % 10 > 3 ? 0 : ((e - (e % 10) !== 10 ? 1 : 0) * e) % 10]
      );
    },
  },
  ps = qr({}, oh),
  $y = function (e) {
    return (ps = qr(ps, e));
  },
  Uv = function (e) {
    return e.replace(/[|\\{()[^$+*?.-]/g, '\\$&');
  },
  fe = function (e, r) {
    for (r === void 0 && (r = 2), e = String(e); e.length < r; ) e = '0' + e;
    return e;
  },
  TF = {
    D: function (e) {
      return String(e.getDate());
    },
    DD: function (e) {
      return fe(e.getDate());
    },
    Do: function (e, r) {
      return r.DoFn(e.getDate());
    },
    d: function (e) {
      return String(e.getDay());
    },
    dd: function (e) {
      return fe(e.getDay());
    },
    ddd: function (e, r) {
      return r.dayNamesShort[e.getDay()];
    },
    dddd: function (e, r) {
      return r.dayNames[e.getDay()];
    },
    M: function (e) {
      return String(e.getMonth() + 1);
    },
    MM: function (e) {
      return fe(e.getMonth() + 1);
    },
    MMM: function (e, r) {
      return r.monthNamesShort[e.getMonth()];
    },
    MMMM: function (e, r) {
      return r.monthNames[e.getMonth()];
    },
    YY: function (e) {
      return fe(String(e.getFullYear()), 4).substr(2);
    },
    YYYY: function (e) {
      return fe(e.getFullYear(), 4);
    },
    h: function (e) {
      return String(e.getHours() % 12 || 12);
    },
    hh: function (e) {
      return fe(e.getHours() % 12 || 12);
    },
    H: function (e) {
      return String(e.getHours());
    },
    HH: function (e) {
      return fe(e.getHours());
    },
    m: function (e) {
      return String(e.getMinutes());
    },
    mm: function (e) {
      return fe(e.getMinutes());
    },
    s: function (e) {
      return String(e.getSeconds());
    },
    ss: function (e) {
      return fe(e.getSeconds());
    },
    S: function (e) {
      return String(Math.round(e.getMilliseconds() / 100));
    },
    SS: function (e) {
      return fe(Math.round(e.getMilliseconds() / 10), 2);
    },
    SSS: function (e) {
      return fe(e.getMilliseconds(), 3);
    },
    a: function (e, r) {
      return e.getHours() < 12 ? r.amPm[0] : r.amPm[1];
    },
    A: function (e, r) {
      return e.getHours() < 12 ? r.amPm[0].toUpperCase() : r.amPm[1].toUpperCase();
    },
    ZZ: function (e) {
      var r = e.getTimezoneOffset();
      return (r > 0 ? '-' : '+') + fe(Math.floor(Math.abs(r) / 60) * 100 + (Math.abs(r) % 60), 4);
    },
    Z: function (e) {
      var r = e.getTimezoneOffset();
      return (
        (r > 0 ? '-' : '+') + fe(Math.floor(Math.abs(r) / 60), 2) + ':' + fe(Math.abs(r) % 60, 2)
      );
    },
  },
  qv = function (e) {
    return +e - 1;
  },
  Zv = [null, Pr],
  Kv = [null, ca],
  Qv = [
    'isPm',
    ca,
    function (e, r) {
      var t = e.toLowerCase();
      return t === r.amPm[0] ? 0 : t === r.amPm[1] ? 1 : null;
    },
  ],
  Jv = [
    'timezoneOffset',
    '[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?',
    function (e) {
      var r = (e + '').match(/([+-]|\d\d)/gi);
      if (r) {
        var t = +r[1] * 60 + parseInt(r[2], 10);
        return r[0] === '+' ? t : -t;
      }
      return 0;
    },
  ],
  kF = {
    D: ['day', Pr],
    DD: ['day', Ir],
    Do: [
      'day',
      Pr + ca,
      function (e) {
        return parseInt(e, 10);
      },
    ],
    M: ['month', Pr, qv],
    MM: ['month', Ir, qv],
    YY: [
      'year',
      Ir,
      function (e) {
        var r = new Date(),
          t = +('' + r.getFullYear()).substr(0, 2);
        return +('' + (+e > 68 ? t - 1 : t) + e);
      },
    ],
    h: ['hour', Pr, void 0, 'isPm'],
    hh: ['hour', Ir, void 0, 'isPm'],
    H: ['hour', Pr],
    HH: ['hour', Ir],
    m: ['minute', Pr],
    mm: ['minute', Ir],
    s: ['second', Pr],
    ss: ['second', Ir],
    YYYY: ['year', MF],
    S: [
      'millisecond',
      '\\d',
      function (e) {
        return +e * 100;
      },
    ],
    SS: [
      'millisecond',
      Ir,
      function (e) {
        return +e * 10;
      },
    ],
    SSS: ['millisecond', AF],
    d: Zv,
    dd: Zv,
    ddd: Kv,
    dddd: Kv,
    MMM: ['month', ca, jv('monthNamesShort')],
    MMMM: ['month', ca, jv('monthNames')],
    a: Qv,
    A: Qv,
    ZZ: Jv,
    Z: Jv,
  },
  gs = {
    default: 'ddd MMM DD YYYY HH:mm:ss',
    shortDate: 'M/D/YY',
    mediumDate: 'MMM D, YYYY',
    longDate: 'MMMM D, YYYY',
    fullDate: 'dddd, MMMM D, YYYY',
    isoDate: 'YYYY-MM-DD',
    isoDateTime: 'YYYY-MM-DDTHH:mm:ssZ',
    shortTime: 'HH:mm',
    mediumTime: 'HH:mm:ss',
    longTime: 'HH:mm:ss.SSS',
  },
  Ny = function (e) {
    return qr(gs, e);
  },
  zy = function (e, r, t) {
    if (
      (r === void 0 && (r = gs.default),
      t === void 0 && (t = {}),
      typeof e == 'number' && (e = new Date(e)),
      Object.prototype.toString.call(e) !== '[object Date]' || isNaN(e.getTime()))
    )
      throw new Error('Invalid Date pass to format');
    r = gs[r] || r;
    var i = [];
    r = r.replace(Py, function (a, o) {
      return i.push(o), '@@@';
    });
    var n = qr(qr({}, ps), t);
    return (
      (r = r.replace(Oy, function (a) {
        return TF[a](e, n);
      })),
      r.replace(/@@@/g, function () {
        return i.shift();
      })
    );
  };
function Gy(e, r, t) {
  if ((t === void 0 && (t = {}), typeof r != 'string'))
    throw new Error('Invalid format in fecha parse');
  if (((r = gs[r] || r), e.length > 1e3)) return null;
  var i = new Date(),
    n = {
      year: i.getFullYear(),
      month: 0,
      day: 1,
      hour: 0,
      minute: 0,
      second: 0,
      millisecond: 0,
      isPm: null,
      timezoneOffset: null,
    },
    a = [],
    o = [],
    s = r.replace(Py, function (w, S) {
      return o.push(Uv(S)), '@@@';
    }),
    l = {},
    u = {};
  (s = Uv(s).replace(Oy, function (w) {
    var S = kF[w],
      C = S[0],
      F = S[1],
      E = S[3];
    if (l[C]) throw new Error('Invalid format. ' + C + ' specified twice in format');
    return (l[C] = !0), E && (u[E] = !0), a.push(S), '(' + F + ')';
  })),
    Object.keys(u).forEach(function (w) {
      if (!l[w]) throw new Error('Invalid format. ' + w + ' is required in specified format');
    }),
    (s = s.replace(/@@@/g, function () {
      return o.shift();
    }));
  var c = e.match(new RegExp(s, 'i'));
  if (!c) return null;
  for (var h = qr(qr({}, ps), t), f = 1; f < c.length; f++) {
    var v = a[f - 1],
      d = v[0],
      p = v[2],
      g = p ? p(c[f], h) : +c[f];
    if (g == null) return null;
    n[d] = g;
  }
  n.isPm === 1 && n.hour != null && +n.hour != 12
    ? (n.hour = +n.hour + 12)
    : n.isPm === 0 && +n.hour == 12 && (n.hour = 0);
  var y;
  if (n.timezoneOffset == null) {
    y = new Date(n.year, n.month, n.day, n.hour, n.minute, n.second, n.millisecond);
    for (
      var m = [
          ['month', 'getMonth'],
          ['day', 'getDate'],
          ['hour', 'getHours'],
          ['minute', 'getMinutes'],
          ['second', 'getSeconds'],
        ],
        f = 0,
        b = m.length;
      f < b;
      f++
    )
      if (l[m[f][0]] && n[m[f][0]] !== y[m[f][1]]()) return null;
  } else if (
    ((y = new Date(
      Date.UTC(
        n.year,
        n.month,
        n.day,
        n.hour,
        n.minute - n.timezoneOffset,
        n.second,
        n.millisecond,
      ),
    )),
    n.month > 11 ||
      n.month < 0 ||
      n.day > 31 ||
      n.day < 1 ||
      n.hour > 23 ||
      n.hour < 0 ||
      n.minute > 59 ||
      n.minute < 0 ||
      n.second > 59 ||
      n.second < 0)
  )
    return null;
  return y;
}
var Hy = { format: zy, parse: Gy, defaultI18n: oh, setGlobalDateI18n: $y, setGlobalDateMasks: Ny };
const IF = Object.freeze(
  Object.defineProperty(
    {
      __proto__: null,
      assign: qr,
      default: Hy,
      defaultI18n: oh,
      format: zy,
      parse: Gy,
      setGlobalDateI18n: $y,
      setGlobalDateMasks: Ny,
    },
    Symbol.toStringTag,
    { value: 'Module' },
  ),
);
function LF(e) {
  return function (r, t, i, n) {
    for (var a = R(i) ? 0 : i, o = R(n) ? r.length : n; a < o; ) {
      var s = (a + o) >>> 1;
      e(r[s]) > t ? (o = s) : (a = s + 1);
    }
    return a;
  };
}
var td = 'format';
function Vy(e, r) {
  var t = IF[td] || Hy[td];
  return t(e, r);
}
function ys(e) {
  return (
    et(e) &&
      (e.indexOf('T') > 0
        ? (e = new Date(e).getTime())
        : (e = new Date(e.replace(/-/gi, '/')).getTime())),
    Og(e) && (e = e.getTime()),
    e
  );
}
var Ve = 1e3,
  Ai = 60 * Ve,
  Mi = 60 * Ai,
  yr = 24 * Mi,
  ha = yr * 31,
  ed = yr * 365,
  Xn = [
    ['HH:mm:ss', Ve],
    ['HH:mm:ss', Ve * 10],
    ['HH:mm:ss', Ve * 30],
    ['HH:mm', Ai],
    ['HH:mm', Ai * 10],
    ['HH:mm', Ai * 30],
    ['HH', Mi],
    ['HH', Mi * 6],
    ['HH', Mi * 12],
    ['YYYY-MM-DD', yr],
    ['YYYY-MM-DD', yr * 4],
    ['YYYY-WW', yr * 7],
    ['YYYY-MM', ha],
    ['YYYY-MM', ha * 4],
    ['YYYY-MM', ha * 6],
    ['YYYY', yr * 380],
  ];
function OF(e, r, t) {
  var i = (r - e) / t,
    n =
      LF(function (o) {
        return o[1];
      })(Xn, i) - 1,
    a = Xn[n];
  return n < 0 ? (a = Xn[0]) : n >= Xn.length && (a = Vt(Xn)), a;
}
var PF = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'timeCat'), t;
    }
    return (
      (r.prototype.translate = function (t) {
        t = ys(t);
        var i = this.values.indexOf(t);
        return i === -1 && (it(t) && t < this.values.length ? (i = t) : (i = NaN)), i;
      }),
      (r.prototype.getText = function (t, i) {
        var n = this.translate(t);
        if (n > -1) {
          var a = this.values[n],
            o = this.formatter;
          return (a = o ? o(a, i) : Vy(a, this.mask)), a;
        }
        return t;
      }),
      (r.prototype.initCfg = function () {
        (this.tickMethod = 'time-cat'), (this.mask = 'YYYY-MM-DD'), (this.tickCount = 7);
      }),
      (r.prototype.setDomain = function () {
        var t = this.values;
        A(t, function (i, n) {
          t[n] = ys(i);
        }),
          t.sort(function (i, n) {
            return i - n;
          }),
          e.prototype.setDomain.call(this);
      }),
      r
    );
  })(al),
  ol = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.isContinuous = !0), t;
    }
    return (
      (r.prototype.scale = function (t) {
        if (R(t)) return NaN;
        var i = this.rangeMin(),
          n = this.rangeMax(),
          a = this.max,
          o = this.min;
        if (a === o) return i;
        var s = this.getScalePercent(t);
        return i + s * (n - i);
      }),
      (r.prototype.init = function () {
        e.prototype.init.call(this);
        var t = this.ticks,
          i = Me(t),
          n = Vt(t);
        i < this.min && (this.min = i),
          n > this.max && (this.max = n),
          R(this.minLimit) || (this.min = i),
          R(this.maxLimit) || (this.max = n);
      }),
      (r.prototype.setDomain = function () {
        var t = Tg(this.values),
          i = t.min,
          n = t.max;
        R(this.min) && (this.min = i),
          R(this.max) && (this.max = n),
          this.min > this.max && ((this.min = i), (this.max = n));
      }),
      (r.prototype.calculateTicks = function () {
        var t = this,
          i = e.prototype.calculateTicks.call(this);
        return (
          this.nice ||
            (i = Qt(i, function (n) {
              return n >= t.min && n <= t.max;
            })),
          i
        );
      }),
      (r.prototype.getScalePercent = function (t) {
        var i = this.max,
          n = this.min;
        return (t - n) / (i - n);
      }),
      (r.prototype.getInvertPercent = function (t) {
        return (t - this.rangeMin()) / (this.rangeMax() - this.rangeMin());
      }),
      r
    );
  })(ah),
  sl = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'linear'), (t.isLinear = !0), t;
    }
    return (
      (r.prototype.invert = function (t) {
        var i = this.getInvertPercent(t);
        return this.min + i * (this.max - this.min);
      }),
      (r.prototype.initCfg = function () {
        (this.tickMethod = 'wilkinson-extended'), (this.nice = !1);
      }),
      r
    );
  })(ol);
function Rr(e, r) {
  var t = Math.E,
    i;
  return r >= 0 ? (i = Math.pow(t, Math.log(r) / e)) : (i = Math.pow(t, Math.log(-r) / e) * -1), i;
}
function De(e, r) {
  return e === 1 ? 1 : Math.log(r) / Math.log(e);
}
function Yy(e, r, t) {
  R(t) && (t = Math.max.apply(null, e));
  var i = t;
  return (
    A(e, function (n) {
      n > 0 && n < i && (i = n);
    }),
    i === t && (i = t / r),
    i > 1 && (i = 1),
    i
  );
}
var DF = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'log'), t;
    }
    return (
      (r.prototype.invert = function (t) {
        var i = this.base,
          n = De(i, this.max),
          a = this.rangeMin(),
          o = this.rangeMax() - a,
          s,
          l = this.positiveMin;
        if (l) {
          if (t === 0) return 0;
          s = De(i, l / i);
          var u = (1 / (n - s)) * o;
          if (t < u) return (t / u) * l;
        } else s = De(i, this.min);
        var c = (t - a) / o,
          h = c * (n - s) + s;
        return Math.pow(i, h);
      }),
      (r.prototype.initCfg = function () {
        (this.tickMethod = 'log'), (this.base = 10), (this.tickCount = 6), (this.nice = !0);
      }),
      (r.prototype.setDomain = function () {
        e.prototype.setDomain.call(this);
        var t = this.min;
        if (t < 0)
          throw new Error('When you use log scale, the minimum value must be greater than zero!');
        t === 0 && (this.positiveMin = Yy(this.values, this.base, this.max));
      }),
      (r.prototype.getScalePercent = function (t) {
        var i = this.max,
          n = this.min;
        if (i === n || t <= 0) return 0;
        var a = this.base,
          o = this.positiveMin;
        o && (n = (o * 1) / a);
        var s;
        return (
          t < o
            ? (s = t / o / (De(a, i) - De(a, n)))
            : (s = (De(a, t) - De(a, n)) / (De(a, i) - De(a, n))),
          s
        );
      }),
      r
    );
  })(ol),
  BF = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'pow'), t;
    }
    return (
      (r.prototype.invert = function (t) {
        var i = this.getInvertPercent(t),
          n = this.exponent,
          a = Rr(n, this.max),
          o = Rr(n, this.min),
          s = i * (a - o) + o,
          l = s >= 0 ? 1 : -1;
        return Math.pow(s, n) * l;
      }),
      (r.prototype.initCfg = function () {
        (this.tickMethod = 'pow'), (this.exponent = 2), (this.tickCount = 5), (this.nice = !0);
      }),
      (r.prototype.getScalePercent = function (t) {
        var i = this.max,
          n = this.min;
        if (i === n) return 0;
        var a = this.exponent,
          o = (Rr(a, t) - Rr(a, n)) / (Rr(a, i) - Rr(a, n));
        return o;
      }),
      r
    );
  })(ol),
  RF = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'time'), t;
    }
    return (
      (r.prototype.getText = function (t, i) {
        var n = this.translate(t),
          a = this.formatter;
        return a ? a(n, i) : Vy(n, this.mask);
      }),
      (r.prototype.scale = function (t) {
        var i = t;
        return (et(i) || Og(i)) && (i = this.translate(i)), e.prototype.scale.call(this, i);
      }),
      (r.prototype.translate = function (t) {
        return ys(t);
      }),
      (r.prototype.initCfg = function () {
        (this.tickMethod = 'time-pretty'),
          (this.mask = 'YYYY-MM-DD'),
          (this.tickCount = 7),
          (this.nice = !1);
      }),
      (r.prototype.setDomain = function () {
        var t = this.values,
          i = this.getConfig('min'),
          n = this.getConfig('max');
        if (
          ((!R(i) || !it(i)) && (this.min = this.translate(this.min)),
          (!R(n) || !it(n)) && (this.max = this.translate(this.max)),
          t && t.length)
        ) {
          var a = [],
            o = 1 / 0,
            s = o,
            l = 0;
          A(t, function (u) {
            var c = ys(u);
            if (isNaN(c)) throw new TypeError('Invalid Time: ' + u + ' in time scale!');
            o > c ? ((s = o), (o = c)) : s > c && (s = c), l < c && (l = c), a.push(c);
          }),
            t.length > 1 && (this.minTickInterval = s - o),
            R(i) && (this.min = o),
            R(n) && (this.max = l);
        }
      }),
      r
    );
  })(sl),
  Wy = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'quantize'), t;
    }
    return (
      (r.prototype.invert = function (t) {
        var i = this.ticks,
          n = i.length,
          a = this.getInvertPercent(t),
          o = Math.floor(a * (n - 1));
        if (o >= n - 1) return Vt(i);
        if (o < 0) return Me(i);
        var s = i[o],
          l = i[o + 1],
          u = o / (n - 1),
          c = (o + 1) / (n - 1);
        return s + ((a - u) / (c - u)) * (l - s);
      }),
      (r.prototype.initCfg = function () {
        (this.tickMethod = 'r-pretty'), (this.tickCount = 5), (this.nice = !0);
      }),
      (r.prototype.calculateTicks = function () {
        var t = e.prototype.calculateTicks.call(this);
        return (
          this.nice ||
            (Vt(t) !== this.max && t.push(this.max), Me(t) !== this.min && t.unshift(this.min)),
          t
        );
      }),
      (r.prototype.getScalePercent = function (t) {
        var i = this.ticks;
        if (t < Me(i)) return 0;
        if (t > Vt(i)) return 1;
        var n = 0;
        return (
          A(i, function (a, o) {
            if (t >= a) n = o;
            else return !1;
          }),
          n / (i.length - 1)
        );
      }),
      r
    );
  })(ol),
  $F = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'quantile'), t;
    }
    return (
      (r.prototype.initCfg = function () {
        (this.tickMethod = 'quantile'), (this.tickCount = 5), (this.nice = !0);
      }),
      r
    );
  })(Wy),
  Xy = {};
function rc(e) {
  return Xy[e];
}
function lr(e, r) {
  if (rc(e)) throw new Error("type '" + e + "' existed.");
  Xy[e] = r;
}
var NF = (function (e) {
  I(r, e);
  function r() {
    var t = (e !== null && e.apply(this, arguments)) || this;
    return (t.type = 'identity'), (t.isIdentity = !0), t;
  }
  return (
    (r.prototype.calculateTicks = function () {
      return this.values;
    }),
    (r.prototype.scale = function (t) {
      return this.values[0] !== t && it(t) ? t : this.range[0];
    }),
    (r.prototype.invert = function (t) {
      var i = this.range;
      return t < i[0] || t > i[1] ? NaN : this.values[0];
    }),
    r
  );
})(ah);
function _y(e) {
  var r = e.values,
    t = e.tickInterval,
    i = e.tickCount,
    n = e.showLast;
  if (it(t)) {
    var a = Qt(r, function (d, p) {
        return p % t === 0;
      }),
      o = Vt(r);
    return n && Vt(a) !== o && a.push(o), a;
  }
  var s = r.length,
    l = e.min,
    u = e.max;
  if ((R(l) && (l = 0), R(u) && (u = r.length - 1), !it(i) || i >= s)) return r.slice(l, u + 1);
  if (i <= 0 || u <= 0) return [];
  for (var c = i === 1 ? s : Math.floor(s / (i - 1)), h = [], f = l, v = 0; v < i && !(f >= u); v++)
    (f = Math.min(l + v * c, u)), v === i - 1 && n ? h.push(r[u]) : h.push(r[f]);
  return h;
}
function zF(e) {
  var r = e.min,
    t = e.max,
    i = e.nice,
    n = e.tickCount,
    a = new GF();
  return a.domain([r, t]), i && a.nice(n), a.ticks(n);
}
var iu = 5,
  rd = Math.sqrt(50),
  id = Math.sqrt(10),
  nd = Math.sqrt(2),
  GF = (function () {
    function e() {
      this._domain = [0, 1];
    }
    return (
      (e.prototype.domain = function (r) {
        return r ? ((this._domain = Array.from(r, Number)), this) : this._domain.slice();
      }),
      (e.prototype.nice = function (r) {
        var t, i;
        r === void 0 && (r = iu);
        var n = this._domain.slice(),
          a = 0,
          o = this._domain.length - 1,
          s = this._domain[a],
          l = this._domain[o],
          u;
        return (
          l < s && ((t = [l, s]), (s = t[0]), (l = t[1]), (i = [o, a]), (a = i[0]), (o = i[1])),
          (u = Zo(s, l, r)),
          u > 0
            ? ((s = Math.floor(s / u) * u), (l = Math.ceil(l / u) * u), (u = Zo(s, l, r)))
            : u < 0 && ((s = Math.ceil(s * u) / u), (l = Math.floor(l * u) / u), (u = Zo(s, l, r))),
          u > 0
            ? ((n[a] = Math.floor(s / u) * u), (n[o] = Math.ceil(l / u) * u), this.domain(n))
            : u < 0 &&
              ((n[a] = Math.ceil(s * u) / u), (n[o] = Math.floor(l * u) / u), this.domain(n)),
          this
        );
      }),
      (e.prototype.ticks = function (r) {
        return (
          r === void 0 && (r = iu),
          HF(this._domain[0], this._domain[this._domain.length - 1], r || iu)
        );
      }),
      e
    );
  })();
function HF(e, r, t) {
  var i,
    n = -1,
    a,
    o,
    s;
  if (((r = +r), (e = +e), (t = +t), e === r && t > 0)) return [e];
  if (((i = r < e) && ((a = e), (e = r), (r = a)), (s = Zo(e, r, t)) === 0 || !isFinite(s)))
    return [];
  if (s > 0)
    for (
      e = Math.ceil(e / s), r = Math.floor(r / s), o = new Array((a = Math.ceil(r - e + 1)));
      ++n < a;

    )
      o[n] = (e + n) * s;
  else
    for (
      e = Math.floor(e * s), r = Math.ceil(r * s), o = new Array((a = Math.ceil(e - r + 1)));
      ++n < a;

    )
      o[n] = (e - n) / s;
  return i && o.reverse(), o;
}
function Zo(e, r, t) {
  var i = (r - e) / Math.max(0, t),
    n = Math.floor(Math.log(i) / Math.LN10),
    a = i / Math.pow(10, n);
  return n >= 0
    ? (a >= rd ? 10 : a >= id ? 5 : a >= nd ? 2 : 1) * Math.pow(10, n)
    : -Math.pow(10, -n) / (a >= rd ? 10 : a >= id ? 5 : a >= nd ? 2 : 1);
}
function ad(e, r, t) {
  var i;
  return (
    t === 'ceil'
      ? (i = Math.ceil(e / r))
      : t === 'floor'
      ? (i = Math.floor(e / r))
      : (i = Math.round(e / r)),
    i * r
  );
}
function sh(e, r, t) {
  var i = ad(e, t, 'floor'),
    n = ad(r, t, 'ceil');
  (i = Wl(i, t)), (n = Wl(n, t));
  for (var a = [], o = Math.max((n - i) / (Math.pow(2, 12) - 1), t), s = i; s <= n; s = s + o) {
    var l = Wl(s, o);
    a.push(l);
  }
  return { min: i, max: n, ticks: a };
}
function lh(e, r, t) {
  var i,
    n = e.minLimit,
    a = e.maxLimit,
    o = e.min,
    s = e.max,
    l = e.tickCount,
    u = l === void 0 ? 5 : l,
    c = R(n) ? (R(r) ? o : r) : n,
    h = R(a) ? (R(t) ? s : t) : a;
  if ((c > h && ((i = [c, h]), (h = i[0]), (c = i[1])), u <= 2)) return [c, h];
  for (var f = (h - c) / (u - 1), v = [], d = 0; d < u; d++) v.push(c + f * d);
  return v;
}
function VF(e) {
  var r = e.min,
    t = e.max,
    i = e.tickInterval,
    n = e.minLimit,
    a = e.maxLimit,
    o = zF(e);
  return !R(n) || !R(a) ? lh(e, Me(o), Vt(o)) : i ? sh(r, t, i).ticks : o;
}
function ci(e) {
  return Math.abs(e) < 1e-15 ? e : parseFloat(e.toFixed(15));
}
var YF = [1, 5, 2, 2.5, 4, 3],
  od = Number.EPSILON * 100;
function WF(e, r) {
  return ((e % r) + r) % r;
}
function XF(e) {
  return Math.round(e * 1e12) / 1e12;
}
function _F(e, r, t, i, n, a) {
  var o = Xt(r),
    s = Rg(r, e),
    l = 0,
    u = WF(i, a);
  return (u < od || a - u < od) && i <= 0 && n >= 0 && (l = 1), 1 - s / (o - 1) - t + l;
}
function jF(e, r, t) {
  var i = Xt(r),
    n = Rg(r, e),
    a = 1;
  return 1 - n / (i - 1) - t + a;
}
function UF(e, r, t, i, n, a) {
  var o = (e - 1) / (a - n),
    s = (r - 1) / (Math.max(a, i) - Math.min(t, n));
  return 2 - Math.max(o / s, s / o);
}
function qF(e, r) {
  return e >= r ? 2 - (e - 1) / (r - 1) : 1;
}
function ZF(e, r, t, i) {
  var n = r - e;
  return 1 - (0.5 * (Math.pow(r - i, 2) + Math.pow(e - t, 2))) / Math.pow(0.1 * n, 2);
}
function KF(e, r, t) {
  var i = r - e;
  if (t > i) {
    var n = (t - i) / 2;
    return 1 - Math.pow(n, 2) / Math.pow(0.1 * i, 2);
  }
  return 1;
}
function QF() {
  return 1;
}
function JF(e, r, t, i, n, a) {
  t === void 0 && (t = 5),
    i === void 0 && (i = !0),
    n === void 0 && (n = YF),
    a === void 0 && (a = [0.25, 0.2, 0.5, 0.05]);
  var o = t < 0 ? 0 : Math.round(t);
  if (Number.isNaN(e) || Number.isNaN(r) || typeof e != 'number' || typeof r != 'number' || !o)
    return { min: 0, max: 0, ticks: [] };
  if (r - e < 1e-15 || o === 1) return { min: e, max: r, ticks: [e] };
  if (r - e > 1e148) {
    var s = t || 5,
      l = (r - e) / s;
    return {
      min: e,
      max: r,
      ticks: Array(s)
        .fill(null)
        .map(function (X, Q) {
          return ci(e + l * Q);
        }),
    };
  }
  for (var u = { score: -2, lmin: 0, lmax: 0, lstep: 0 }, c = 1; c < 1 / 0; ) {
    for (var h = 0; h < n.length; h += 1) {
      var f = n[h],
        v = jF(f, n, c);
      if (a[0] * v + a[1] + a[2] + a[3] < u.score) {
        c = 1 / 0;
        break;
      }
      for (var d = 2; d < 1 / 0; ) {
        var p = qF(d, o);
        if (a[0] * v + a[1] + a[2] * p + a[3] < u.score) break;
        for (var g = (r - e) / (d + 1) / c / f, y = Math.ceil(Math.log10(g)); y < 1 / 0; ) {
          var m = c * f * Math.pow(10, y),
            b = KF(e, r, m * (d - 1));
          if (a[0] * v + a[1] * b + a[2] * p + a[3] < u.score) break;
          var w = Math.floor(r / m) * c - (d - 1) * c,
            S = Math.ceil(e / m) * c;
          if (w <= S)
            for (var s = S - w, C = 0; C <= s; C += 1) {
              var F = w + C,
                E = F * (m / c),
                k = E + m * (d - 1),
                T = m,
                O = _F(f, n, c, E, k, T),
                P = ZF(e, r, E, k),
                z = UF(d, o, e, r, E, k),
                W = QF(),
                j = a[0] * O + a[1] * P + a[2] * z + a[3] * W;
              j > u.score &&
                (!i || (E <= e && k >= r)) &&
                ((u.lmin = E), (u.lmax = k), (u.lstep = T), (u.score = j));
            }
          y += 1;
        }
        d += 1;
      }
    }
    c += 1;
  }
  var D = ci(u.lmax),
    N = ci(u.lmin),
    V = ci(u.lstep),
    H = Math.floor(XF((D - N) / V)) + 1,
    G = new Array(H);
  G[0] = ci(N);
  for (var h = 1; h < H; h++) G[h] = ci(G[h - 1] + V);
  return { min: Math.min(e, Me(G)), max: Math.max(r, Vt(G)), ticks: G };
}
function t2(e) {
  var r = e.min,
    t = e.max,
    i = e.tickCount,
    n = e.nice,
    a = e.tickInterval,
    o = e.minLimit,
    s = e.maxLimit,
    l = JF(r, t, i, n).ticks;
  return !R(o) || !R(s) ? lh(e, Me(l), Vt(l)) : a ? sh(r, t, a).ticks : l;
}
function e2(e) {
  var r = e.base,
    t = e.tickCount,
    i = e.min,
    n = e.max,
    a = e.values,
    o,
    s = De(r, n);
  if (i > 0) o = Math.floor(De(r, i));
  else {
    var l = Yy(a, r, n);
    o = Math.floor(De(r, l));
  }
  for (var u = s - o, c = Math.ceil(u / t), h = [], f = o; f < s + c; f = f + c)
    h.push(Math.pow(r, f));
  return i <= 0 && h.unshift(0), h;
}
function jy(e, r, t) {
  if ((t === void 0 && (t = 5), e === r)) return { max: r, min: e, ticks: [e] };
  var i = t < 0 ? 0 : Math.round(t);
  if (i === 0) return { max: r, min: e, ticks: [] };
  var n = 1.5,
    a = 0.5 + 1.5 * n,
    o = r - e,
    s = o / i,
    l = Math.pow(10, Math.floor(Math.log10(s))),
    u = l;
  2 * l - s < n * (s - u) &&
    ((u = 2 * l),
    5 * l - s < a * (s - u) && ((u = 5 * l), 10 * l - s < n * (s - u) && (u = 10 * l)));
  for (
    var c = Math.ceil(r / u),
      h = Math.floor(e / u),
      f = Math.max(c * u, r),
      v = Math.min(h * u, e),
      d = Math.floor((f - v) / u) + 1,
      p = new Array(d),
      g = 0;
    g < d;
    g++
  )
    p[g] = ci(v + g * u);
  return { min: v, max: f, ticks: p };
}
function r2(e) {
  var r = e.exponent,
    t = e.tickCount,
    i = Math.ceil(Rr(r, e.max)),
    n = Math.floor(Rr(r, e.min)),
    a = jy(n, i, t).ticks;
  return a.map(function (o) {
    var s = o >= 0 ? 1 : -1;
    return Math.pow(o, r) * s;
  });
}
function i2(e, r) {
  var t = e.length * r;
  return r === 1
    ? e[e.length - 1]
    : r === 0
    ? e[0]
    : t % 1 !== 0
    ? e[Math.ceil(t) - 1]
    : e.length % 2 === 0
    ? (e[t - 1] + e[t]) / 2
    : e[t];
}
function n2(e) {
  var r = e.tickCount,
    t = e.values;
  if (!t || !t.length) return [];
  for (
    var i = t.slice().sort(function (s, l) {
        return s - l;
      }),
      n = [],
      a = 0;
    a < r;
    a++
  ) {
    var o = a / (r - 1);
    n.push(i2(i, o));
  }
  return n;
}
function a2(e) {
  var r = e.min,
    t = e.max,
    i = e.tickCount,
    n = e.tickInterval,
    a = e.minLimit,
    o = e.maxLimit,
    s = jy(r, t, i).ticks;
  return !R(a) || !R(o) ? lh(e, Me(s), Vt(s)) : n ? sh(r, t, n).ticks : s;
}
function o2(e) {
  var r = e.min,
    t = e.max,
    i = e.minTickInterval,
    n = e.tickInterval,
    a = e.tickCount;
  if (n) a = Math.ceil((t - r) / n);
  else {
    n = OF(r, t, a)[1];
    var o = (t - r) / n,
      s = o / a;
    s > 1 && (n = n * Math.ceil(s)), i && n < i && (n = i);
  }
  n = Math.max(Math.floor((t - r) / (Math.pow(2, 12) - 1)), n);
  for (var l = [], u = r; u < t + n; u += n) l.push(u);
  return l;
}
function s2(e) {
  var r = _y(x({ showLast: !0 }, e));
  return r;
}
function ms(e) {
  return new Date(e).getFullYear();
}
function l2(e) {
  return new Date(e, 0, 1).getTime();
}
function ic(e) {
  return new Date(e).getMonth();
}
function u2(e, r) {
  var t = ms(e),
    i = ms(r),
    n = ic(e),
    a = ic(r);
  return (i - t) * 12 + ((a - n) % 12);
}
function c2(e, r) {
  return new Date(e, r, 1).getTime();
}
function h2(e, r) {
  return Math.ceil((r - e) / yr);
}
function f2(e, r) {
  return Math.ceil((r - e) / Mi);
}
function v2(e, r) {
  return Math.ceil((r - e) / (60 * 1e3));
}
function d2(e) {
  var r = e.min,
    t = e.max,
    i = e.minTickInterval,
    n = e.tickCount,
    a = e.tickInterval,
    o = [];
  a || ((a = (t - r) / n), i && a < i && (a = i)),
    (a = Math.max(Math.floor((t - r) / (Math.pow(2, 12) - 1)), a));
  var s = ms(r);
  if (a > ed)
    for (var l = ms(t), u = Math.ceil(a / ed), c = s; c <= l + u; c = c + u) o.push(l2(c));
  else if (a > ha)
    for (var h = Math.ceil(a / ha), f = ic(r), v = u2(r, t), c = 0; c <= v + h; c = c + h)
      o.push(c2(s, c + f));
  else if (a > yr)
    for (
      var d = new Date(r),
        p = d.getFullYear(),
        g = d.getMonth(),
        y = d.getDate(),
        m = Math.ceil(a / yr),
        b = h2(r, t),
        c = 0;
      c < b + m;
      c = c + m
    )
      o.push(new Date(p, g, y + c).getTime());
  else if (a > Mi)
    for (
      var d = new Date(r),
        p = d.getFullYear(),
        g = d.getMonth(),
        m = d.getDate(),
        w = d.getHours(),
        S = Math.ceil(a / Mi),
        C = f2(r, t),
        c = 0;
      c <= C + S;
      c = c + S
    )
      o.push(new Date(p, g, m, w + c).getTime());
  else if (a > Ai)
    for (var F = v2(r, t), E = Math.ceil(a / Ai), c = 0; c <= F + E; c = c + E) o.push(r + c * Ai);
  else {
    var k = a;
    k < Ve && (k = Ve);
    for (
      var T = Math.floor(r / Ve) * Ve, O = Math.ceil((t - r) / Ve), P = Math.ceil(k / Ve), c = 0;
      c < O + P;
      c = c + P
    )
      o.push(T + c * Ve);
  }
  return (
    o.length >= 512 &&
      console.warn(
        'Notice: current ticks length(' +
          o.length +
          ') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is ' +
          a +
          ') is too small, increase the value to solve the problem!',
      ),
    o
  );
}
sr('cat', _y);
sr('time-cat', s2);
sr('wilkinson-extended', t2);
sr('r-pretty', a2);
sr('time', o2);
sr('time-pretty', d2);
sr('log', e2);
sr('pow', r2);
sr('quantile', n2);
sr('d3-linear', VF);
lr('cat', al);
lr('category', al);
lr('identity', NF);
lr('linear', sl);
lr('log', DF);
lr('pow', BF);
lr('time', RF);
lr('timeCat', PF);
lr('quantize', Wy);
lr('quantile', $F);
var Uy = {},
  qy = function (e) {
    return Uy[e.toLowerCase()];
  },
  Za = function (e, r) {
    if (qy(e)) throw new Error("Attribute type '" + e + "' existed.");
    Uy[e.toLowerCase()] = r;
  };
Za('Color', mF);
Za('Opacity', xF);
Za('Position', wF);
Za('Shape', bF);
Za('Size', SF);
var uh = (function () {
    function e(r) {
      (this.type = 'coordinate'),
        (this.isRect = !1),
        (this.isHelix = !1),
        (this.isPolar = !1),
        (this.isReflectX = !1),
        (this.isReflectY = !1);
      var t = r.start,
        i = r.end,
        n = r.matrix,
        a = n === void 0 ? [1, 0, 0, 0, 1, 0, 0, 0, 1] : n,
        o = r.isTransposed,
        s = o === void 0 ? !1 : o;
      (this.start = t),
        (this.end = i),
        (this.matrix = a),
        (this.originalMatrix = Et([], a)),
        (this.isTransposed = s);
    }
    return (
      (e.prototype.initial = function () {
        (this.center = { x: (this.start.x + this.end.x) / 2, y: (this.start.y + this.end.y) / 2 }),
          (this.width = Math.abs(this.end.x - this.start.x)),
          (this.height = Math.abs(this.end.y - this.start.y));
      }),
      (e.prototype.update = function (r) {
        xt(this, r), this.initial();
      }),
      (e.prototype.convertDim = function (r, t) {
        var i,
          n = this[t],
          a = n.start,
          o = n.end;
        return this.isReflect(t) && ((i = [o, a]), (a = i[0]), (o = i[1])), a + r * (o - a);
      }),
      (e.prototype.invertDim = function (r, t) {
        var i,
          n = this[t],
          a = n.start,
          o = n.end;
        return this.isReflect(t) && ((i = [o, a]), (a = i[0]), (o = i[1])), (r - a) / (o - a);
      }),
      (e.prototype.applyMatrix = function (r, t, i) {
        i === void 0 && (i = 0);
        var n = this.matrix,
          a = [r, t, i];
        return ba(a, a, n), a;
      }),
      (e.prototype.invertMatrix = function (r, t, i) {
        i === void 0 && (i = 0);
        var n = this.matrix,
          a = VC([0, 0, 0, 0, 0, 0, 0, 0, 0], n),
          o = [r, t, i];
        return a && ba(o, o, a), o;
      }),
      (e.prototype.convert = function (r) {
        var t = this.convertPoint(r),
          i = t.x,
          n = t.y,
          a = this.applyMatrix(i, n, 1);
        return { x: a[0], y: a[1] };
      }),
      (e.prototype.invert = function (r) {
        var t = this.invertMatrix(r.x, r.y, 1);
        return this.invertPoint({ x: t[0], y: t[1] });
      }),
      (e.prototype.rotate = function (r) {
        var t = this.matrix,
          i = this.center;
        return qi(t, t, [-i.x, -i.y]), qc(t, t, r), qi(t, t, [i.x, i.y]), this;
      }),
      (e.prototype.reflect = function (r) {
        return (
          r === 'x' ? (this.isReflectX = !this.isReflectX) : (this.isReflectY = !this.isReflectY),
          this
        );
      }),
      (e.prototype.scale = function (r, t) {
        var i = this.matrix,
          n = this.center;
        return qi(i, i, [-n.x, -n.y]), Zg(i, i, [r, t]), qi(i, i, [n.x, n.y]), this;
      }),
      (e.prototype.translate = function (r, t) {
        var i = this.matrix;
        return qi(i, i, [r, t]), this;
      }),
      (e.prototype.transpose = function () {
        return (this.isTransposed = !this.isTransposed), this;
      }),
      (e.prototype.getCenter = function () {
        return this.center;
      }),
      (e.prototype.getWidth = function () {
        return this.width;
      }),
      (e.prototype.getHeight = function () {
        return this.height;
      }),
      (e.prototype.getRadius = function () {
        return this.radius;
      }),
      (e.prototype.isReflect = function (r) {
        return r === 'x' ? this.isReflectX : this.isReflectY;
      }),
      (e.prototype.resetMatrix = function (r) {
        this.matrix = r || Et([], this.originalMatrix);
      }),
      e
    );
  })(),
  Zy = (function (e) {
    I(r, e);
    function r(t) {
      var i = e.call(this, t) || this;
      return (i.isRect = !0), (i.type = 'cartesian'), i.initial(), i;
    }
    return (
      (r.prototype.initial = function () {
        e.prototype.initial.call(this);
        var t = this.start,
          i = this.end;
        (this.x = { start: t.x, end: i.x }), (this.y = { start: t.y, end: i.y });
      }),
      (r.prototype.convertPoint = function (t) {
        var i,
          n = t.x,
          a = t.y;
        return (
          this.isTransposed && ((i = [a, n]), (n = i[0]), (a = i[1])),
          { x: this.convertDim(n, 'x'), y: this.convertDim(a, 'y') }
        );
      }),
      (r.prototype.invertPoint = function (t) {
        var i,
          n = this.invertDim(t.x, 'x'),
          a = this.invertDim(t.y, 'y');
        return this.isTransposed && ((i = [a, n]), (n = i[0]), (a = i[1])), { x: n, y: a };
      }),
      r
    );
  })(uh),
  p2 = (function (e) {
    I(r, e);
    function r(t) {
      var i = e.call(this, t) || this;
      (i.isHelix = !0), (i.type = 'helix');
      var n = t.startAngle,
        a = n === void 0 ? 1.25 * Math.PI : n,
        o = t.endAngle,
        s = o === void 0 ? 7.25 * Math.PI : o,
        l = t.innerRadius,
        u = l === void 0 ? 0 : l,
        c = t.radius;
      return (
        (i.startAngle = a), (i.endAngle = s), (i.innerRadius = u), (i.radius = c), i.initial(), i
      );
    }
    return (
      (r.prototype.initial = function () {
        e.prototype.initial.call(this);
        var t = (this.endAngle - this.startAngle) / (2 * Math.PI) + 1,
          i = Math.min(this.width, this.height) / 2;
        this.radius && this.radius >= 0 && this.radius <= 1 && (i = i * this.radius),
          (this.d = Math.floor((i * (1 - this.innerRadius)) / t)),
          (this.a = this.d / (Math.PI * 2)),
          (this.x = { start: this.startAngle, end: this.endAngle }),
          (this.y = { start: this.innerRadius * i, end: this.innerRadius * i + this.d * 0.99 });
      }),
      (r.prototype.convertPoint = function (t) {
        var i,
          n = t.x,
          a = t.y;
        this.isTransposed && ((i = [a, n]), (n = i[0]), (a = i[1]));
        var o = this.convertDim(n, 'x'),
          s = this.a * o,
          l = this.convertDim(a, 'y');
        return {
          x: this.center.x + Math.cos(o) * (s + l),
          y: this.center.y + Math.sin(o) * (s + l),
        };
      }),
      (r.prototype.invertPoint = function (t) {
        var i,
          n = this.d + this.y.start,
          a = Ug([0, 0], [t.x, t.y], [this.center.x, this.center.y]),
          o = Zc(a, [1, 0], !0),
          s = o * this.a;
        tn(a) < s && (s = tn(a));
        var l = Math.floor((tn(a) - s) / n);
        o = 2 * l * Math.PI + o;
        var u = this.a * o,
          c = tn(a) - u;
        c = qt(c, 0) ? 0 : c;
        var h = this.invertDim(o, 'x'),
          f = this.invertDim(c, 'y');
        return (
          (h = qt(h, 0) ? 0 : h),
          (f = qt(f, 0) ? 0 : f),
          this.isTransposed && ((i = [f, h]), (h = i[0]), (f = i[1])),
          { x: h, y: f }
        );
      }),
      r
    );
  })(uh),
  g2 = (function (e) {
    I(r, e);
    function r(t) {
      var i = e.call(this, t) || this;
      (i.isPolar = !0), (i.type = 'polar');
      var n = t.startAngle,
        a = n === void 0 ? -Math.PI / 2 : n,
        o = t.endAngle,
        s = o === void 0 ? (Math.PI * 3) / 2 : o,
        l = t.innerRadius,
        u = l === void 0 ? 0 : l,
        c = t.radius;
      return (
        (i.startAngle = a), (i.endAngle = s), (i.innerRadius = u), (i.radius = c), i.initial(), i
      );
    }
    return (
      (r.prototype.initial = function () {
        for (e.prototype.initial.call(this); this.endAngle < this.startAngle; )
          this.endAngle += Math.PI * 2;
        var t = this.getOneBox(),
          i = t.maxX - t.minX,
          n = t.maxY - t.minY,
          a = Math.abs(t.minX) / i,
          o = Math.abs(t.minY) / n,
          s;
        this.height / n > this.width / i
          ? ((s = this.width / i),
            (this.circleCenter = {
              x: this.center.x - (0.5 - a) * this.width,
              y: this.center.y - (0.5 - o) * s * n,
            }))
          : ((s = this.height / n),
            (this.circleCenter = {
              x: this.center.x - (0.5 - a) * s * i,
              y: this.center.y - (0.5 - o) * this.height,
            })),
          (this.polarRadius = this.radius),
          this.radius
            ? this.radius > 0 && this.radius <= 1
              ? (this.polarRadius = s * this.radius)
              : (this.radius <= 0 || this.radius > s) && (this.polarRadius = s)
            : (this.polarRadius = s),
          (this.x = { start: this.startAngle, end: this.endAngle }),
          (this.y = { start: this.innerRadius * this.polarRadius, end: this.polarRadius });
      }),
      (r.prototype.getRadius = function () {
        return this.polarRadius;
      }),
      (r.prototype.convertPoint = function (t) {
        var i,
          n = this.getCenter(),
          a = t.x,
          o = t.y;
        return (
          this.isTransposed && ((i = [o, a]), (a = i[0]), (o = i[1])),
          (a = this.convertDim(a, 'x')),
          (o = this.convertDim(o, 'y')),
          { x: n.x + Math.cos(a) * o, y: n.y + Math.sin(a) * o }
        );
      }),
      (r.prototype.invertPoint = function (t) {
        var i,
          n = this.getCenter(),
          a = [t.x - n.x, t.y - n.y],
          o = this,
          s = o.startAngle,
          l = o.endAngle;
        this.isReflect('x') && ((i = [l, s]), (s = i[0]), (l = i[1]));
        var u = [1, 0, 0, 0, 1, 0, 0, 0, 1];
        qc(u, u, s);
        var c = [1, 0, 0];
        ba(c, c, u);
        var h = [c[0], c[1]],
          f = Zc(h, a, l < s);
        qt(f, Math.PI * 2) && (f = 0);
        var v = tn(a),
          d = f / (l - s);
        d = l - s > 0 ? d : -d;
        var p = this.invertDim(v, 'y'),
          g = { x: 0, y: 0 };
        return (g.x = this.isTransposed ? p : d), (g.y = this.isTransposed ? d : p), g;
      }),
      (r.prototype.getCenter = function () {
        return this.circleCenter;
      }),
      (r.prototype.getOneBox = function () {
        var t = this.startAngle,
          i = this.endAngle;
        if (Math.abs(i - t) >= Math.PI * 2) return { minX: -1, maxX: 1, minY: -1, maxY: 1 };
        for (
          var n = [0, Math.cos(t), Math.cos(i)],
            a = [0, Math.sin(t), Math.sin(i)],
            o = Math.min(t, i);
          o < Math.max(t, i);
          o += Math.PI / 18
        )
          n.push(Math.cos(o)), a.push(Math.sin(o));
        return {
          minX: Math.min.apply(Math, n),
          maxX: Math.max.apply(Math, n),
          minY: Math.min.apply(Math, a),
          maxY: Math.max.apply(Math, a),
        };
      }),
      r
    );
  })(uh),
  Ky = {},
  y2 = function (e) {
    return Ky[e.toLowerCase()];
  },
  ll = function (e, r) {
    Ky[e.toLowerCase()] = r;
  };
ll('rect', Zy);
ll('cartesian', Zy);
ll('polar', g2);
ll('helix', p2);
function Qy(e, r, t) {
  var i = new ja(r, t);
  (i.target = e), i.propagationPath.push(e), e.emitDelegation(r, i);
  for (var n = e.getParent(); n; )
    n.emitDelegation(r, i), i.propagationPath.push(n), (n = n.getParent());
}
var Jy = [1, 0, 0, 0, 1, 0, 0, 0, 1];
function Oi(e, r, t) {
  if ((t === void 0 && (t = Jy), !r)) return null;
  var i = Ht(t, [
    ['t', -e.x, -e.y],
    ['r', r],
    ['t', e.x, e.y],
  ]);
  return i;
}
function ch(e, r) {
  return !e.x && !e.y ? null : Ht(r || Jy, [['t', e.x, e.y]]);
}
function m2(e) {
  var r = [1, 0, 0],
    t = [0, 0, 0];
  return ba(t, r, e), Math.atan2(t[1], t[0]);
}
function Co(e, r) {
  var t = [0, 0];
  return qC(t, r, e), t;
}
function x2(e, r) {
  var t = Co(e, [r.minX, r.minY]),
    i = Co(e, [r.maxX, r.minY]),
    n = Co(e, [r.minX, r.maxY]),
    a = Co(e, [r.maxX, r.maxY]),
    o = Math.min(t[0], i[0], n[0], a[0]),
    s = Math.max(t[0], i[0], n[0], a[0]),
    l = Math.min(t[1], i[1], n[1], a[1]),
    u = Math.max(t[1], i[1], n[1], a[1]);
  return { x: o, y: l, minX: o, minY: l, maxX: s, maxY: u, width: s - o, height: u - l };
}
function tm(e, r, t, i) {
  if (r) {
    var n = Oi({ x: t, y: i }, r, e.getMatrix());
    e.setMatrix(n);
  }
}
function fa(e, r, t) {
  var i = ch({ x: r, y: t });
  e.attr('matrix', i);
}
function xs(e) {
  var r = 0,
    t = 0,
    i = 0,
    n = 0;
  return (
    it(e)
      ? (r = t = i = n = e)
      : $(e) &&
        ((r = e[0]),
        (i = R(e[1]) ? e[0] : e[1]),
        (n = R(e[2]) ? e[0] : e[2]),
        (t = R(e[3]) ? i : e[3])),
    [r, i, n, t]
  );
}
function hh(e) {
  for (var r = e.childNodes, t = r.length, i = t - 1; i >= 0; i--) e.removeChild(r[i]);
}
function w2(e, r) {
  return !!e.className.match(new RegExp('(\\s|^)' + r + '(\\s|$)'));
}
function Ea(e) {
  var r = e.start,
    t = e.end,
    i = Math.min(r.x, t.x),
    n = Math.min(r.y, t.y),
    a = Math.max(r.x, t.x),
    o = Math.max(r.y, t.y);
  return { x: i, y: n, minX: i, minY: n, maxX: a, maxY: o, width: a - i, height: o - n };
}
function b2(e) {
  var r = e.map(function (s) {
      return s.x;
    }),
    t = e.map(function (s) {
      return s.y;
    }),
    i = Math.min.apply(Math, r),
    n = Math.min.apply(Math, t),
    a = Math.max.apply(Math, r),
    o = Math.max.apply(Math, t);
  return { x: i, y: n, minX: i, minY: n, maxX: a, maxY: o, width: a - i, height: o - n };
}
function ul(e, r, t, i) {
  var n = e + t,
    a = r + i;
  return {
    x: e,
    y: r,
    width: t,
    height: i,
    minX: e,
    minY: r,
    maxX: isNaN(n) ? 0 : n,
    maxY: isNaN(a) ? 0 : a,
  };
}
function Fi(e, r, t) {
  return (1 - t) * e + r * t;
}
function on(e, r, t) {
  return { x: e.x + Math.cos(t) * r, y: e.y + Math.sin(t) * r };
}
function S2(e, r) {
  var t = r.x - e.x,
    i = r.y - e.y;
  return Math.sqrt(t * t + i * i);
}
var ws = function (e, r, t) {
  return (
    t === void 0 && (t = Math.pow(Number.EPSILON, 0.5)),
    [e, r].includes(1 / 0) ? Math.abs(e) === Math.abs(r) : Math.abs(e - r) < t
  );
};
function C2(e, r) {
  var t = Math.max(e.minX, r.minX),
    i = Math.max(e.minY, r.minY),
    n = Math.min(e.maxX, r.maxX),
    a = Math.min(e.maxY, r.maxY);
  return ul(t, i, n - t, a - i);
}
function em(e) {
  var r = e.getClip(),
    t = r && r.getBBox(),
    i;
  if (!e.isGroup()) i = e.getBBox();
  else {
    var n = 1 / 0,
      a = -1 / 0,
      o = 1 / 0,
      s = -1 / 0,
      l = e.getChildren();
    l.length > 0
      ? A(l, function (u) {
          if (u.get('visible')) {
            if (u.isGroup() && u.get('children').length === 0) return !0;
            var c = em(u),
              h = u.applyToMatrix([c.minX, c.minY, 1]),
              f = u.applyToMatrix([c.minX, c.maxY, 1]),
              v = u.applyToMatrix([c.maxX, c.minY, 1]),
              d = u.applyToMatrix([c.maxX, c.maxY, 1]),
              p = Math.min(h[0], f[0], v[0], d[0]),
              g = Math.max(h[0], f[0], v[0], d[0]),
              y = Math.min(h[1], f[1], v[1], d[1]),
              m = Math.max(h[1], f[1], v[1], d[1]);
            p < n && (n = p), g > a && (a = g), y < o && (o = y), m > s && (s = m);
          }
        })
      : ((n = 0), (a = 0), (o = 0), (s = 0)),
      (i = ul(n, o, a - n, s - o));
  }
  return t ? C2(i, t) : i;
}
function A2(e, r) {
  if (!(!e.getClip() && !r.getClip())) {
    var t = r.getClip();
    if (!t) {
      e.setClip(null);
      return;
    }
    var i = { type: t.get('type'), attrs: t.attr() };
    e.setClip(i);
  }
}
function pe(e) {
  return e + 'px';
}
function rm(e, r, t, i) {
  var n = S2(e, r),
    a = i / n,
    o = 0;
  return (
    t === 'start' ? (o = 0 - a) : t === 'end' && (o = 1 + a),
    { x: Fi(e.x, r.x, o), y: Fi(e.y, r.y, o) }
  );
}
var M2 = {
    none: [],
    point: ['x', 'y'],
    region: ['start', 'end'],
    points: ['points'],
    circle: ['center', 'radius', 'startAngle', 'endAngle'],
  },
  im = (function (e) {
    I(r, e);
    function r(t) {
      var i = e.call(this, t) || this;
      return i.initCfg(), i;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        return {
          id: '',
          name: '',
          type: '',
          locationType: 'none',
          offsetX: 0,
          offsetY: 0,
          animate: !1,
          capture: !0,
          updateAutoRender: !1,
          animateOption: {
            appear: null,
            update: { duration: 400, easing: 'easeQuadInOut' },
            enter: { duration: 400, easing: 'easeQuadInOut' },
            leave: { duration: 350, easing: 'easeQuadIn' },
          },
          events: null,
          defaultCfg: {},
          visible: !0,
        };
      }),
      (r.prototype.clear = function () {}),
      (r.prototype.update = function (t) {
        var i = this,
          n = this.get('defaultCfg') || {};
        A(t, function (a, o) {
          var s = i.get(o),
            l = a;
          s !== a && (yt(a) && n[o] && (l = _({}, n[o], a)), i.set(o, l));
        }),
          this.updateInner(t),
          this.afterUpdate(t);
      }),
      (r.prototype.updateInner = function (t) {}),
      (r.prototype.afterUpdate = function (t) {
        jr(t, 'visible') && (t.visible ? this.show() : this.hide()),
          jr(t, 'capture') && this.setCapture(t.capture);
      }),
      (r.prototype.getLayoutBBox = function () {
        return this.getBBox();
      }),
      (r.prototype.getLocationType = function () {
        return this.get('locationType');
      }),
      (r.prototype.getOffset = function () {
        return { offsetX: this.get('offsetX'), offsetY: this.get('offsetY') };
      }),
      (r.prototype.setOffset = function (t, i) {
        this.update({ offsetX: t, offsetY: i });
      }),
      (r.prototype.setLocation = function (t) {
        var i = x({}, t);
        this.update(i);
      }),
      (r.prototype.getLocation = function () {
        var t = this,
          i = {},
          n = this.get('locationType'),
          a = M2[n];
        return (
          A(a, function (o) {
            i[o] = t.get(o);
          }),
          i
        );
      }),
      (r.prototype.isList = function () {
        return !1;
      }),
      (r.prototype.isSlider = function () {
        return !1;
      }),
      (r.prototype.init = function () {}),
      (r.prototype.initCfg = function () {
        var t = this,
          i = this.get('defaultCfg');
        A(i, function (n, a) {
          var o = t.get(a);
          if (yt(o)) {
            var s = _({}, n, o);
            t.set(a, s);
          }
        });
      }),
      r
    );
  })(Xs),
  li = 'update_status',
  F2 = ['visible', 'tip', 'delegateObject'],
  E2 = ['container', 'group', 'shapesMap', 'isRegister', 'isUpdating', 'destroyed'],
  ie = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return x(x({}, t), {
          container: null,
          shapesMap: {},
          group: null,
          capture: !0,
          isRegister: !1,
          isUpdating: !1,
          isInit: !0,
        });
      }),
      (r.prototype.remove = function () {
        this.clear();
        var t = this.get('group');
        t.remove();
      }),
      (r.prototype.clear = function () {
        var t = this.get('group');
        t.clear(), this.set('shapesMap', {}), this.clearOffScreenCache(), this.set('isInit', !0);
      }),
      (r.prototype.getChildComponentById = function (t) {
        var i = this.getElementById(t),
          n = i && i.get('component');
        return n;
      }),
      (r.prototype.getElementById = function (t) {
        return this.get('shapesMap')[t];
      }),
      (r.prototype.getElementByLocalId = function (t) {
        var i = this.getElementId(t);
        return this.getElementById(i);
      }),
      (r.prototype.getElementsByName = function (t) {
        var i = [];
        return (
          A(this.get('shapesMap'), function (n) {
            n.get('name') === t && i.push(n);
          }),
          i
        );
      }),
      (r.prototype.getContainer = function () {
        return this.get('container');
      }),
      (r.prototype.updateInner = function (t) {
        this.offScreenRender(), this.get('updateAutoRender') && this.render();
      }),
      (r.prototype.render = function () {
        var t = this.get('offScreenGroup');
        t || (t = this.offScreenRender());
        var i = this.get('group');
        this.updateElements(t, i),
          this.deleteElements(),
          this.applyOffset(),
          this.get('eventInitted') || (this.initEvent(), this.set('eventInitted', !0)),
          this.set('isInit', !1);
      }),
      (r.prototype.show = function () {
        var t = this.get('group');
        t.show(), this.set('visible', !0);
      }),
      (r.prototype.hide = function () {
        var t = this.get('group');
        t.hide(), this.set('visible', !1);
      }),
      (r.prototype.setCapture = function (t) {
        var i = this.get('group');
        i.set('capture', t), this.set('capture', t);
      }),
      (r.prototype.destroy = function () {
        this.removeEvent(), this.remove(), e.prototype.destroy.call(this);
      }),
      (r.prototype.getBBox = function () {
        return this.get('group').getCanvasBBox();
      }),
      (r.prototype.getLayoutBBox = function () {
        var t = this.get('group'),
          i = this.getInnerLayoutBBox(),
          n = t.getTotalMatrix();
        return n && (i = x2(n, i)), i;
      }),
      (r.prototype.on = function (t, i, n) {
        var a = this.get('group');
        return a.on(t, i, n), this;
      }),
      (r.prototype.off = function (t, i) {
        var n = this.get('group');
        return n && n.off(t, i), this;
      }),
      (r.prototype.emit = function (t, i) {
        var n = this.get('group');
        n.emit(t, i);
      }),
      (r.prototype.init = function () {
        e.prototype.init.call(this), this.get('group') || this.initGroup(), this.offScreenRender();
      }),
      (r.prototype.getInnerLayoutBBox = function () {
        return this.get('offScreenBBox') || this.get('group').getBBox();
      }),
      (r.prototype.delegateEmit = function (t, i) {
        var n = this.get('group');
        (i.target = n), n.emit(t, i), Qy(n, t, i);
      }),
      (r.prototype.createOffScreenGroup = function () {
        var t = this.get('group'),
          i = t.getGroupBase(),
          n = new i({ delegateObject: this.getDelegateObject() });
        return n;
      }),
      (r.prototype.applyOffset = function () {
        var t = this.get('offsetX'),
          i = this.get('offsetY');
        this.moveElementTo(this.get('group'), { x: t, y: i });
      }),
      (r.prototype.initGroup = function () {
        var t = this.get('container');
        this.set(
          'group',
          t.addGroup({
            id: this.get('id'),
            name: this.get('name'),
            capture: this.get('capture'),
            visible: this.get('visible'),
            isComponent: !0,
            component: this,
            delegateObject: this.getDelegateObject(),
          }),
        );
      }),
      (r.prototype.offScreenRender = function () {
        this.clearOffScreenCache();
        var t = this.createOffScreenGroup();
        return (
          this.renderInner(t), this.set('offScreenGroup', t), this.set('offScreenBBox', em(t)), t
        );
      }),
      (r.prototype.addGroup = function (t, i) {
        this.appendDelegateObject(t, i);
        var n = t.addGroup(i);
        return this.get('isRegister') && this.registerElement(n), n;
      }),
      (r.prototype.addShape = function (t, i) {
        this.appendDelegateObject(t, i);
        var n = t.addShape(i);
        return this.get('isRegister') && this.registerElement(n), n;
      }),
      (r.prototype.addComponent = function (t, i) {
        var n = i.id,
          a = i.component,
          o = mt(i, ['id', 'component']),
          s = new a(
            x(x({}, o), { id: n, container: t, updateAutoRender: this.get('updateAutoRender') }),
          );
        return (
          s.init(), s.render(), this.get('isRegister') && this.registerElement(s.get('group')), s
        );
      }),
      (r.prototype.initEvent = function () {}),
      (r.prototype.removeEvent = function () {
        var t = this.get('group');
        t.off();
      }),
      (r.prototype.getElementId = function (t) {
        var i = this.get('id'),
          n = this.get('name');
        return i + '-' + n + '-' + t;
      }),
      (r.prototype.registerElement = function (t) {
        var i = t.get('id');
        this.get('shapesMap')[i] = t;
      }),
      (r.prototype.unregisterElement = function (t) {
        var i = t.get('id');
        delete this.get('shapesMap')[i];
      }),
      (r.prototype.moveElementTo = function (t, i) {
        var n = ch(i);
        t.attr('matrix', n);
      }),
      (r.prototype.addAnimation = function (t, i, n) {
        var a = i.attr('opacity');
        R(a) && (a = 1), i.attr('opacity', 0), i.animate({ opacity: a }, n);
      }),
      (r.prototype.removeAnimation = function (t, i, n) {
        i.animate({ opacity: 0 }, n);
      }),
      (r.prototype.updateAnimation = function (t, i, n, a) {
        i.animate(n, a);
      }),
      (r.prototype.updateElements = function (t, i) {
        var n = this,
          a = this.get('animate'),
          o = this.get('animateOption'),
          s = t.getChildren().slice(0),
          l;
        A(s, function (u) {
          var c = u.get('id'),
            h = n.getElementById(c),
            f = u.get('name');
          if (h)
            if (u.get('isComponent')) {
              var v = u.get('component'),
                d = h.get('component'),
                p = Wc(v.cfg, OS(En(v.cfg), E2));
              d.update(p), h.set(li, 'update');
            } else {
              var g = n.getReplaceAttrs(h, u);
              a && o.update ? n.updateAnimation(f, h, g, o.update) : h.attr(g),
                u.isGroup() && n.updateElements(u, h),
                A(F2, function (w) {
                  h.set(w, u.get(w));
                }),
                A2(h, u),
                (l = h),
                h.set(li, 'update');
            }
          else {
            i.add(u);
            var y = i.getChildren();
            if ((y.splice(y.length - 1, 1), l)) {
              var m = y.indexOf(l);
              y.splice(m + 1, 0, u);
            } else y.unshift(u);
            if ((n.registerElement(u), u.set(li, 'add'), u.get('isComponent'))) {
              var v = u.get('component');
              v.set('container', i);
            } else u.isGroup() && n.registerNewGroup(u);
            if (((l = u), a)) {
              var b = n.get('isInit') ? o.appear : o.enter;
              b && n.addAnimation(f, u, b);
            }
          }
        });
      }),
      (r.prototype.clearUpdateStatus = function (t) {
        var i = t.getChildren();
        A(i, function (n) {
          n.set(li, null);
        });
      }),
      (r.prototype.clearOffScreenCache = function () {
        var t = this.get('offScreenGroup');
        t && t.destroy(), this.set('offScreenGroup', null), this.set('offScreenBBox', null);
      }),
      (r.prototype.getDelegateObject = function () {
        var t,
          i = this.get('name'),
          n = ((t = {}), (t[i] = this), (t.component = this), t);
        return n;
      }),
      (r.prototype.appendDelegateObject = function (t, i) {
        var n = t.get('delegateObject');
        i.delegateObject || (i.delegateObject = {}), xt(i.delegateObject, n);
      }),
      (r.prototype.getReplaceAttrs = function (t, i) {
        var n = t.attr(),
          a = i.attr();
        return (
          A(n, function (o, s) {
            a[s] === void 0 && (a[s] = void 0);
          }),
          a
        );
      }),
      (r.prototype.registerNewGroup = function (t) {
        var i = this,
          n = t.getChildren();
        A(n, function (a) {
          i.registerElement(a), a.set(li, 'add'), a.isGroup() && i.registerNewGroup(a);
        });
      }),
      (r.prototype.deleteElements = function () {
        var t = this,
          i = this.get('shapesMap'),
          n = [];
        A(i, function (s, l) {
          !s.get(li) || s.destroyed ? n.push([l, s]) : s.set(li, null);
        });
        var a = this.get('animate'),
          o = this.get('animateOption');
        A(n, function (s) {
          var l = s[0],
            u = s[1];
          if (!u.destroyed) {
            var c = u.get('name');
            if (a && o.leave) {
              var h = xt(
                {
                  callback: function () {
                    t.removeElement(u);
                  },
                },
                o.leave,
              );
              t.removeAnimation(c, u, h);
            } else t.removeElement(u);
          }
          delete i[l];
        });
      }),
      (r.prototype.removeElement = function (t) {
        if (t.get('isGroup')) {
          var i = t.get('component');
          i && i.destroy();
        }
        t.remove();
      }),
      r
    );
  })(im),
  nu = '';
function T2(e) {
  for (var r = 0, t = 0; t < e.length; t++) r += hi(e, t);
  return r;
}
function hi(e, r) {
  return e.charCodeAt(r) > 0 && e.charCodeAt(r) < 128 ? 1 : 2;
}
function k2(e, r, t) {
  t === void 0 && (t = 'tail');
  var i = e.length,
    n = '';
  if (t === 'tail') {
    for (var a = 0, o = 0; a < r; ) {
      var s = hi(e, o);
      if (a + s <= r) (n += e[o]), (a += hi(e, o)), o++;
      else break;
    }
    n += nu;
  } else if (t === 'head') {
    for (var a = 0, o = i - 1; a < r; ) {
      var s = hi(e, o);
      if (a + s <= r) (n += e[o]), (a += hi(e, o)), o--;
      else break;
    }
    n = nu + n;
  } else {
    for (var l = '', u = '', a = 0, c = 0, h = i - 1; a < r; ) {
      var f = hi(e, c),
        v = !1;
      f + a <= r && ((l += e[c]), c++, (a += f), (v = !0));
      var d = hi(e, h);
      if ((d + a <= r && ((u = e[h] + u), (a += d), h--, (v = !0)), !v)) break;
    }
    n = l + nu + u;
  }
  return n;
}
var I2 = '',
  L2 = 2,
  O2 = 400;
function P2(e) {
  for (
    var r = e.map(function (l) {
        var u = l.attr('text');
        return R(u) ? '' : '' + u;
      }),
      t = 0,
      i = 0,
      n = 0;
    n < r.length;
    n += 1
  ) {
    for (var a = 0, o = 0; o <= r[n].length; o += 1) {
      var s = r[n].charCodeAt(o);
      s >= 19968 && s <= 40869 ? (a += 2) : (a += 1);
    }
    a > t && ((t = a), (i = n));
  }
  return e[i].getBBox().width;
}
function nc(e) {
  if (e.length > O2) return P2(e);
  var r = 0;
  return (
    A(e, function (t) {
      var i = t.getBBox(),
        n = i.width;
      r < n && (r = n);
    }),
    r
  );
}
function D2(e, r) {
  var t = r.getCanvasBBox();
  return e ? t.width : t.height;
}
function va(e, r, t, i) {
  var n;
  i === void 0 && (i = 'tail');
  var a = (n = r.attr('text')) !== null && n !== void 0 ? n : '';
  if (i === 'tail') {
    var o = Wc(r.attr(), ['fontSize', 'fontFamily', 'fontWeight', 'fontStyle', 'fontVariant']),
      s = iC(a, t, o, '');
    return a !== s ? (r.attr('text', s), r.set('tip', a), !0) : (r.set('tip', null), !1);
  }
  var l = D2(e, r),
    u = T2(a),
    c = !1;
  if (t < l) {
    var h = Math.floor((t / l) * u) - L2,
      f = void 0;
    h >= 0 ? (f = k2(a, h, i)) : (f = I2), f && (r.attr('text', f), (c = !0));
  }
  return c ? r.set('tip', a) : r.set('tip', null), c;
}
function cl(e, r) {
  var t = r.x,
    i = r.y,
    n = r.content,
    a = r.style,
    o = r.id,
    s = r.name,
    l = r.rotate,
    u = r.maxLength,
    c = r.autoEllipsis,
    h = r.isVertical,
    f = r.ellipsisPosition,
    v = r.background,
    d = e.addGroup({ id: o + '-group', name: s + '-group', attrs: { x: t, y: i } }),
    p = d.addShape({ type: 'text', id: o, name: s, attrs: x({ x: 0, y: 0, text: n }, a) }),
    g = xs(M(v, 'padding', 0));
  if (u && c) {
    var y = u - (g[1] + g[3]);
    va(!h, p, y, f);
  }
  if (v) {
    var m = M(v, 'style', {}),
      b = p.getCanvasBBox(),
      w = b.minX,
      S = b.minY,
      C = b.width,
      F = b.height,
      E = d.addShape('rect', {
        id: o + '-bg',
        name: o + '-bg',
        attrs: x({ x: w - g[3], y: S - g[0], width: C + g[1] + g[3], height: F + g[0] + g[2] }, m),
      });
    E.toBack();
  }
  fa(d, t, i), tm(d, l, t, i);
}
const ut = {
  fontFamily: `
  BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,
  textColor: '#2C3542',
  activeTextColor: '#333333',
  uncheckedColor: '#D8D8D8',
  lineColor: '#416180',
  regionColor: '#CCD7EB',
  verticalAxisRotate: -Math.PI / 4,
  horizontalAxisRotate: Math.PI / 4,
  descriptionIconStroke: '#fff',
  descriptionIconFill: 'rgba(58, 73, 101, .25)',
};
var B2 = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return x(x({}, t), {
          name: 'annotation',
          type: 'line',
          locationType: 'region',
          start: null,
          end: null,
          style: {},
          text: null,
          defaultCfg: {
            style: {
              fill: ut.textColor,
              fontSize: 12,
              textAlign: 'center',
              textBaseline: 'bottom',
              fontFamily: ut.fontFamily,
            },
            text: {
              position: 'center',
              autoRotate: !0,
              content: null,
              offsetX: 0,
              offsetY: 0,
              style: { stroke: ut.lineColor, lineWidth: 1 },
            },
          },
        });
      }),
      (r.prototype.renderInner = function (t) {
        this.renderLine(t), this.get('text') && this.renderLabel(t);
      }),
      (r.prototype.renderLine = function (t) {
        var i = this.get('start'),
          n = this.get('end'),
          a = this.get('style');
        this.addShape(t, {
          type: 'line',
          id: this.getElementId('line'),
          name: 'annotation-line',
          attrs: x({ x1: i.x, y1: i.y, x2: n.x, y2: n.y }, a),
        });
      }),
      (r.prototype.getLabelPoint = function (t, i, n) {
        var a;
        return (
          n === 'start'
            ? (a = 0)
            : n === 'center'
            ? (a = 0.5)
            : et(n) && n.indexOf('%') !== -1
            ? (a = parseInt(n, 10) / 100)
            : it(n)
            ? (a = n)
            : (a = 1),
          (a > 1 || a < 0) && (a = 1),
          { x: Fi(t.x, i.x, a), y: Fi(t.y, i.y, a) }
        );
      }),
      (r.prototype.renderLabel = function (t) {
        var i = this.get('text'),
          n = this.get('start'),
          a = this.get('end'),
          o = i.position,
          s = i.content,
          l = i.style,
          u = i.offsetX,
          c = i.offsetY,
          h = i.autoRotate,
          f = i.maxLength,
          v = i.autoEllipsis,
          d = i.ellipsisPosition,
          p = i.background,
          g = i.isVertical,
          y = g === void 0 ? !1 : g,
          m = this.getLabelPoint(n, a, o),
          b = m.x + u,
          w = m.y + c,
          S = {
            id: this.getElementId('line-text'),
            name: 'annotation-line-text',
            x: b,
            y: w,
            content: s,
            style: l,
            maxLength: f,
            autoEllipsis: v,
            ellipsisPosition: d,
            background: p,
            isVertical: y,
          };
        if (h) {
          var C = [a.x - n.x, a.y - n.y];
          S.rotate = Math.atan2(C[1], C[0]);
        }
        cl(t, S);
      }),
      r
    );
  })(ie),
  R2 = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return x(x({}, t), {
          name: 'annotation',
          type: 'text',
          locationType: 'point',
          x: 0,
          y: 0,
          content: '',
          rotate: null,
          style: {},
          background: null,
          maxLength: null,
          autoEllipsis: !0,
          isVertical: !1,
          ellipsisPosition: 'tail',
          defaultCfg: {
            style: {
              fill: ut.textColor,
              fontSize: 12,
              textAlign: 'center',
              textBaseline: 'middle',
              fontFamily: ut.fontFamily,
            },
          },
        });
      }),
      (r.prototype.setLocation = function (t) {
        this.set('x', t.x), this.set('y', t.y), this.resetLocation();
      }),
      (r.prototype.renderInner = function (t) {
        var i = this.getLocation(),
          n = i.x,
          a = i.y,
          o = this.get('content'),
          s = this.get('style'),
          l = this.getElementId('text'),
          u = this.get('name') + '-text',
          c = this.get('maxLength'),
          h = this.get('autoEllipsis'),
          f = this.get('isVertical'),
          v = this.get('ellipsisPosition'),
          d = this.get('background'),
          p = this.get('rotate'),
          g = {
            id: l,
            name: u,
            x: n,
            y: a,
            content: o,
            style: s,
            maxLength: c,
            autoEllipsis: h,
            isVertical: f,
            ellipsisPosition: v,
            background: d,
            rotate: p,
          };
        cl(t, g);
      }),
      (r.prototype.resetLocation = function () {
        var t = this.getElementByLocalId('text-group');
        if (t) {
          var i = this.getLocation(),
            n = i.x,
            a = i.y,
            o = this.get('rotate');
          fa(t, n, a), tm(t, o, n, a);
        }
      }),
      r
    );
  })(ie),
  $2 = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return x(x({}, t), {
          name: 'annotation',
          type: 'arc',
          locationType: 'circle',
          center: null,
          radius: 100,
          startAngle: -Math.PI / 2,
          endAngle: (Math.PI * 3) / 2,
          style: { stroke: '#999', lineWidth: 1 },
        });
      }),
      (r.prototype.renderInner = function (t) {
        this.renderArc(t);
      }),
      (r.prototype.getArcPath = function () {
        var t = this.getLocation(),
          i = t.center,
          n = t.radius,
          a = t.startAngle,
          o = t.endAngle,
          s = on(i, n, a),
          l = on(i, n, o),
          u = o - a > Math.PI ? 1 : 0,
          c = [['M', s.x, s.y]];
        if (o - a === Math.PI * 2) {
          var h = on(i, n, a + Math.PI);
          c.push(['A', n, n, 0, u, 1, h.x, h.y]), c.push(['A', n, n, 0, u, 1, l.x, l.y]);
        } else c.push(['A', n, n, 0, u, 1, l.x, l.y]);
        return c;
      }),
      (r.prototype.renderArc = function (t) {
        var i = this.getArcPath(),
          n = this.get('style');
        this.addShape(t, {
          type: 'path',
          id: this.getElementId('arc'),
          name: 'annotation-arc',
          attrs: x({ path: i }, n),
        });
      }),
      r
    );
  })(ie),
  N2 = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return x(x({}, t), {
          name: 'annotation',
          type: 'region',
          locationType: 'region',
          start: null,
          end: null,
          style: {},
          defaultCfg: { style: { lineWidth: 0, fill: ut.regionColor, opacity: 0.4 } },
        });
      }),
      (r.prototype.renderInner = function (t) {
        this.renderRegion(t);
      }),
      (r.prototype.renderRegion = function (t) {
        var i = this.get('start'),
          n = this.get('end'),
          a = this.get('style'),
          o = Ea({ start: i, end: n });
        this.addShape(t, {
          type: 'rect',
          id: this.getElementId('region'),
          name: 'annotation-region',
          attrs: x({ x: o.x, y: o.y, width: o.width, height: o.height }, a),
        });
      }),
      r
    );
  })(ie),
  z2 = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return x(x({}, t), {
          name: 'annotation',
          type: 'image',
          locationType: 'region',
          start: null,
          end: null,
          src: null,
          style: {},
        });
      }),
      (r.prototype.renderInner = function (t) {
        this.renderImage(t);
      }),
      (r.prototype.getImageAttrs = function () {
        var t = this.get('start'),
          i = this.get('end'),
          n = this.get('style'),
          a = Ea({ start: t, end: i }),
          o = this.get('src');
        return x({ x: a.x, y: a.y, img: o, width: a.width, height: a.height }, n);
      }),
      (r.prototype.renderImage = function (t) {
        this.addShape(t, {
          type: 'image',
          id: this.getElementId('image'),
          name: 'annotation-image',
          attrs: this.getImageAttrs(),
        });
      }),
      r
    );
  })(ie),
  G2 = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return x(x({}, t), {
          name: 'annotation',
          type: 'dataMarker',
          locationType: 'point',
          x: 0,
          y: 0,
          point: {},
          line: {},
          text: {},
          direction: 'upward',
          autoAdjust: !0,
          coordinateBBox: null,
          defaultCfg: {
            point: {
              display: !0,
              style: { r: 3, fill: '#FFFFFF', stroke: '#1890FF', lineWidth: 2 },
            },
            line: { display: !0, length: 20, style: { stroke: ut.lineColor, lineWidth: 1 } },
            text: {
              content: '',
              display: !0,
              style: {
                fill: ut.textColor,
                opacity: 0.65,
                fontSize: 12,
                textAlign: 'start',
                fontFamily: ut.fontFamily,
              },
            },
          },
        });
      }),
      (r.prototype.renderInner = function (t) {
        M(this.get('line'), 'display') && this.renderLine(t),
          M(this.get('text'), 'display') && this.renderText(t),
          M(this.get('point'), 'display') && this.renderPoint(t),
          this.get('autoAdjust') && this.autoAdjust(t);
      }),
      (r.prototype.applyOffset = function () {
        this.moveElementTo(this.get('group'), {
          x: this.get('x') + this.get('offsetX'),
          y: this.get('y') + this.get('offsetY'),
        });
      }),
      (r.prototype.renderPoint = function (t) {
        var i = this.getShapeAttrs().point;
        this.addShape(t, {
          type: 'circle',
          id: this.getElementId('point'),
          name: 'annotation-point',
          attrs: i,
        });
      }),
      (r.prototype.renderLine = function (t) {
        var i = this.getShapeAttrs().line;
        this.addShape(t, {
          type: 'path',
          id: this.getElementId('line'),
          name: 'annotation-line',
          attrs: i,
        });
      }),
      (r.prototype.renderText = function (t) {
        var i = this.getShapeAttrs().text,
          n = i.x,
          a = i.y,
          o = i.text,
          s = mt(i, ['x', 'y', 'text']),
          l = this.get('text'),
          u = l.background,
          c = l.maxLength,
          h = l.autoEllipsis,
          f = l.isVertival,
          v = l.ellipsisPosition,
          d = {
            x: n,
            y: a,
            id: this.getElementId('text'),
            name: 'annotation-text',
            content: o,
            style: s,
            background: u,
            maxLength: c,
            autoEllipsis: h,
            isVertival: f,
            ellipsisPosition: v,
          };
        cl(t, d);
      }),
      (r.prototype.autoAdjust = function (t) {
        var i = this.get('direction'),
          n = this.get('x'),
          a = this.get('y'),
          o = M(this.get('line'), 'length', 0),
          s = this.get('coordinateBBox'),
          l = t.getBBox(),
          u = l.minX,
          c = l.maxX,
          h = l.minY,
          f = l.maxY,
          v = t.findById(this.getElementId('text-group')),
          d = t.findById(this.getElementId('text')),
          p = t.findById(this.getElementId('line'));
        if (s) {
          if (v) {
            if (n + u <= s.minX) {
              var g = s.minX - (n + u);
              fa(v, v.attr('x') + g, v.attr('y'));
            }
            if (n + c >= s.maxX) {
              var g = n + c - s.maxX;
              fa(v, v.attr('x') - g, v.attr('y'));
            }
          }
          if ((i === 'upward' && a + h <= s.minY) || (i !== 'upward' && a + f >= s.maxY)) {
            var y = void 0,
              m = void 0;
            i === 'upward' && a + h <= s.minY ? ((y = 'top'), (m = 1)) : ((y = 'bottom'), (m = -1)),
              d.attr('textBaseline', y),
              p &&
                p.attr('path', [
                  ['M', 0, 0],
                  ['L', 0, o * m],
                ]),
              fa(v, v.attr('x'), (o + 2) * m);
          }
        }
      }),
      (r.prototype.getShapeAttrs = function () {
        var t = M(this.get('line'), 'display'),
          i = M(this.get('point'), 'style', {}),
          n = M(this.get('line'), 'style', {}),
          a = M(this.get('text'), 'style', {}),
          o = this.get('direction'),
          s = t ? M(this.get('line'), 'length', 0) : 0,
          l = o === 'upward' ? -1 : 1;
        return {
          point: x({ x: 0, y: 0 }, i),
          line: x(
            {
              path: [
                ['M', 0, 0],
                ['L', 0, s * l],
              ],
            },
            n,
          ),
          text: x(
            {
              x: 0,
              y: (s + 2) * l,
              text: M(this.get('text'), 'content', ''),
              textBaseline: o === 'upward' ? 'bottom' : 'top',
            },
            a,
          ),
        };
      }),
      r
    );
  })(ie),
  H2 = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return x(x({}, t), {
          name: 'annotation',
          type: 'dataRegion',
          locationType: 'points',
          points: [],
          lineLength: 0,
          region: {},
          text: {},
          defaultCfg: {
            region: { style: { lineWidth: 0, fill: ut.regionColor, opacity: 0.4 } },
            text: {
              content: '',
              style: {
                textAlign: 'center',
                textBaseline: 'bottom',
                fontSize: 12,
                fill: ut.textColor,
                fontFamily: ut.fontFamily,
              },
            },
          },
        });
      }),
      (r.prototype.renderInner = function (t) {
        var i = M(this.get('region'), 'style', {});
        M(this.get('text'), 'style', {});
        var n = this.get('lineLength') || 0,
          a = this.get('points');
        if (a.length) {
          var o = b2(a),
            s = [];
          s.push(['M', a[0].x, o.minY - n]),
            a.forEach(function (u) {
              s.push(['L', u.x, u.y]);
            }),
            s.push(['L', a[a.length - 1].x, a[a.length - 1].y - n]),
            this.addShape(t, {
              type: 'path',
              id: this.getElementId('region'),
              name: 'annotation-region',
              attrs: x({ path: s }, i),
            });
          var l = x(
            {
              id: this.getElementId('text'),
              name: 'annotation-text',
              x: (o.minX + o.maxX) / 2,
              y: o.minY - n,
            },
            this.get('text'),
          );
          cl(t, l);
        }
      }),
      r
    );
  })(ie),
  V2 = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return x(x({}, t), {
          name: 'annotation',
          type: 'regionFilter',
          locationType: 'region',
          start: null,
          end: null,
          color: null,
          shape: [],
        });
      }),
      (r.prototype.renderInner = function (t) {
        var i = this,
          n = this.get('start'),
          a = this.get('end'),
          o = this.addGroup(t, { id: this.getElementId('region-filter'), capture: !1 });
        A(this.get('shapes'), function (l, u) {
          var c = l.get('type'),
            h = ue(l.attr());
          i.adjustShapeAttrs(h),
            i.addShape(o, {
              id: i.getElementId('shape-' + c + '-' + u),
              capture: !1,
              type: c,
              attrs: h,
            });
        });
        var s = Ea({ start: n, end: a });
        o.setClip({
          type: 'rect',
          attrs: { x: s.minX, y: s.minY, width: s.width, height: s.height },
        });
      }),
      (r.prototype.adjustShapeAttrs = function (t) {
        var i = this.get('color');
        t.fill && (t.fill = t.fillStyle = i), (t.stroke = t.strokeStyle = i);
      }),
      r
    );
  })(ie),
  Y2 = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return x(x({}, t), { name: 'annotation', type: 'shape', draw: Nr });
      }),
      (r.prototype.renderInner = function (t) {
        var i = this.get('render');
        q(i) && i(t);
      }),
      r
    );
  })(ie),
  fh = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return x(x({}, t), {
          container: null,
          containerTpl: '<div></div>',
          updateAutoRender: !0,
          containerClassName: '',
          parent: null,
        });
      }),
      (r.prototype.getContainer = function () {
        return this.get('container');
      }),
      (r.prototype.show = function () {
        var t = this.get('container');
        (t.style.display = ''), this.set('visible', !0);
      }),
      (r.prototype.hide = function () {
        var t = this.get('container');
        (t.style.display = 'none'), this.set('visible', !1);
      }),
      (r.prototype.setCapture = function (t) {
        var i = this.getContainer(),
          n = t ? 'auto' : 'none';
        (i.style.pointerEvents = n), this.set('capture', t);
      }),
      (r.prototype.getBBox = function () {
        var t = this.getContainer(),
          i = parseFloat(t.style.left) || 0,
          n = parseFloat(t.style.top) || 0;
        return ul(i, n, t.clientWidth, t.clientHeight);
      }),
      (r.prototype.clear = function () {
        var t = this.get('container');
        hh(t);
      }),
      (r.prototype.destroy = function () {
        this.removeEvent(), this.removeDom(), e.prototype.destroy.call(this);
      }),
      (r.prototype.init = function () {
        e.prototype.init.call(this),
          this.initContainer(),
          this.initDom(),
          this.resetStyles(),
          this.applyStyles(),
          this.initEvent(),
          this.initCapture(),
          this.initVisible();
      }),
      (r.prototype.initCapture = function () {
        this.setCapture(this.get('capture'));
      }),
      (r.prototype.initVisible = function () {
        this.get('visible') ? this.show() : this.hide();
      }),
      (r.prototype.initDom = function () {}),
      (r.prototype.initContainer = function () {
        var t = this.get('container');
        if (R(t)) {
          t = this.createDom();
          var i = this.get('parent');
          et(i) && ((i = document.getElementById(i)), this.set('parent', i)),
            i.appendChild(t),
            this.get('containerId') && t.setAttribute('id', this.get('containerId')),
            this.set('container', t);
        } else et(t) && ((t = document.getElementById(t)), this.set('container', t));
        this.get('parent') || this.set('parent', t.parentNode);
      }),
      (r.prototype.resetStyles = function () {
        var t = this.get('domStyles'),
          i = this.get('defaultStyles');
        t ? (t = _({}, i, t)) : (t = i), this.set('domStyles', t);
      }),
      (r.prototype.applyStyles = function () {
        var t = this.get('domStyles');
        if (t) {
          var i = this.getContainer();
          this.applyChildrenStyles(i, t);
          var n = this.get('containerClassName');
          if (n && w2(i, n)) {
            var a = t[n];
            ne(i, a);
          }
        }
      }),
      (r.prototype.applyChildrenStyles = function (t, i) {
        A(i, function (n, a) {
          var o = t.getElementsByClassName(a);
          A(o, function (s) {
            ne(s, n);
          });
        });
      }),
      (r.prototype.applyStyle = function (t, i) {
        var n = this.get('domStyles');
        ne(i, n[t]);
      }),
      (r.prototype.createDom = function () {
        var t = this.get('containerTpl');
        return Vr(t);
      }),
      (r.prototype.initEvent = function () {}),
      (r.prototype.removeDom = function () {
        var t = this.get('container');
        t && t.parentNode && t.parentNode.removeChild(t);
      }),
      (r.prototype.removeEvent = function () {}),
      (r.prototype.updateInner = function (t) {
        jr(t, 'domStyles') && (this.resetStyles(), this.applyStyles()), this.resetPosition();
      }),
      (r.prototype.resetPosition = function () {}),
      r
    );
  })(im),
  W2 = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return x(x({}, t), {
          name: 'annotation',
          type: 'html',
          locationType: 'point',
          x: 0,
          y: 0,
          containerTpl: '<div class="g2-html-annotation" style="position:absolute"></div>',
          alignX: 'left',
          alignY: 'top',
          html: '',
          zIndex: 7,
        });
      }),
      (r.prototype.render = function () {
        var t = this.getContainer(),
          i = this.get('html');
        hh(t);
        var n = q(i) ? i(t) : i;
        if (Pg(n)) t.appendChild(n);
        else if (et(n) || it(n)) {
          var a = Vr('' + n);
          a && t.appendChild(a);
        }
        this.resetPosition();
      }),
      (r.prototype.resetPosition = function () {
        var t = this.getContainer(),
          i = this.getLocation(),
          n = i.x,
          a = i.y,
          o = this.get('alignX'),
          s = this.get('alignY'),
          l = this.get('offsetX'),
          u = this.get('offsetY'),
          c = cC(t),
          h = lC(t),
          f = { x: n, y: a };
        o === 'middle' ? (f.x -= Math.round(c / 2)) : o === 'right' && (f.x -= Math.round(c)),
          s === 'middle' ? (f.y -= Math.round(h / 2)) : s === 'bottom' && (f.y -= Math.round(h)),
          l && (f.x += l),
          u && (f.y += u),
          ne(t, {
            position: 'absolute',
            left: f.x + 'px',
            top: f.y + 'px',
            zIndex: this.get('zIndex'),
          });
      }),
      r
    );
  })(fh);
const X2 = Object.freeze(
  Object.defineProperty(
    {
      __proto__: null,
      Arc: $2,
      DataMarker: G2,
      DataRegion: H2,
      Html: W2,
      Image: z2,
      Line: B2,
      Region: N2,
      RegionFilter: V2,
      Shape: Y2,
      Text: R2,
    },
    Symbol.toStringTag,
    { value: 'Module' },
  ),
);
function ra(e, r, t) {
  var i = r + 'Style',
    n = null;
  return (
    A(t, function (a, o) {
      e[o] && a[i] && (n || (n = {}), xt(n, a[i]));
    }),
    n
  );
}
var nm = (function (e) {
  I(r, e);
  function r() {
    return (e !== null && e.apply(this, arguments)) || this;
  }
  return (
    (r.prototype.getDefaultCfg = function () {
      var t = e.prototype.getDefaultCfg.call(this);
      return x(x({}, t), {
        name: 'axis',
        ticks: [],
        line: {},
        tickLine: {},
        subTickLine: null,
        title: null,
        label: {},
        verticalFactor: 1,
        verticalLimitLength: null,
        overlapOrder: ['autoRotate', 'autoEllipsis', 'autoHide'],
        tickStates: {},
        optimize: {},
        defaultCfg: {
          line: { style: { lineWidth: 1, stroke: ut.lineColor } },
          tickLine: {
            style: { lineWidth: 1, stroke: ut.lineColor },
            alignTick: !0,
            length: 5,
            displayWithLabel: !0,
          },
          subTickLine: { style: { lineWidth: 1, stroke: ut.lineColor }, count: 4, length: 2 },
          label: {
            autoRotate: !0,
            autoHide: !1,
            autoEllipsis: !1,
            style: {
              fontSize: 12,
              fill: ut.textColor,
              fontFamily: ut.fontFamily,
              fontWeight: 'normal',
            },
            offset: 10,
            offsetX: 0,
            offsetY: 0,
          },
          title: {
            autoRotate: !0,
            spacing: 5,
            position: 'center',
            style: {
              fontSize: 12,
              fill: ut.textColor,
              textBaseline: 'middle',
              fontFamily: ut.fontFamily,
              textAlign: 'center',
            },
            iconStyle: { fill: ut.descriptionIconFill, stroke: ut.descriptionIconStroke },
            description: '',
          },
          tickStates: {
            active: { labelStyle: { fontWeight: 500 }, tickLineStyle: { lineWidth: 2 } },
            inactive: { labelStyle: { fill: ut.uncheckedColor } },
          },
          optimize: { enable: !0, threshold: 400 },
        },
        theme: {},
      });
    }),
    (r.prototype.renderInner = function (t) {
      this.get('line') && this.drawLine(t),
        this.drawTicks(t),
        this.get('title') && this.drawTitle(t);
    }),
    (r.prototype.isList = function () {
      return !0;
    }),
    (r.prototype.getItems = function () {
      return this.get('ticks');
    }),
    (r.prototype.setItems = function (t) {
      this.update({ ticks: t });
    }),
    (r.prototype.updateItem = function (t, i) {
      xt(t, i), this.clear(), this.render();
    }),
    (r.prototype.clearItems = function () {
      var t = this.getElementByLocalId('label-group');
      t && t.clear();
    }),
    (r.prototype.setItemState = function (t, i, n) {
      (t[i] = n), this.updateTickStates(t);
    }),
    (r.prototype.hasState = function (t, i) {
      return !!t[i];
    }),
    (r.prototype.getItemStates = function (t) {
      var i = this.get('tickStates'),
        n = [];
      return (
        A(i, function (a, o) {
          t[o] && n.push(o);
        }),
        n
      );
    }),
    (r.prototype.clearItemsState = function (t) {
      var i = this,
        n = this.getItemsByState(t);
      A(n, function (a) {
        i.setItemState(a, t, !1);
      });
    }),
    (r.prototype.getItemsByState = function (t) {
      var i = this,
        n = this.getItems();
      return Qt(n, function (a) {
        return i.hasState(a, t);
      });
    }),
    (r.prototype.getSidePoint = function (t, i) {
      var n = this,
        a = n.getSideVector(i, t);
      return { x: t.x + a[0], y: t.y + a[1] };
    }),
    (r.prototype.getTextAnchor = function (t) {
      var i;
      return qt(t[0], 0) ? (i = 'center') : t[0] > 0 ? (i = 'start') : t[0] < 0 && (i = 'end'), i;
    }),
    (r.prototype.getTextBaseline = function (t) {
      var i;
      return qt(t[1], 0) ? (i = 'middle') : t[1] > 0 ? (i = 'top') : t[1] < 0 && (i = 'bottom'), i;
    }),
    (r.prototype.processOverlap = function (t) {}),
    (r.prototype.drawLine = function (t) {
      var i = this.getLinePath(),
        n = this.get('line');
      this.addShape(t, {
        type: 'path',
        id: this.getElementId('line'),
        name: 'axis-line',
        attrs: xt({ path: i }, n.style),
      });
    }),
    (r.prototype.getTickLineItems = function (t) {
      var i = this,
        n = [],
        a = this.get('tickLine'),
        o = a.alignTick,
        s = a.length,
        l = 1,
        u = t.length;
      return (
        u >= 2 && (l = t[1].value - t[0].value),
        A(t, function (c) {
          var h = c.point;
          o || (h = i.getTickPoint(c.value - l / 2));
          var f = i.getSidePoint(h, s);
          n.push({
            startPoint: h,
            tickValue: c.value,
            endPoint: f,
            tickId: c.id,
            id: 'tickline-' + c.id,
          });
        }),
        n
      );
    }),
    (r.prototype.getSubTickLineItems = function (t) {
      var i = [],
        n = this.get('subTickLine'),
        a = n.count,
        o = t.length;
      if (o >= 2)
        for (var s = 0; s < o - 1; s++)
          for (var l = t[s], u = t[s + 1], c = 0; c < a; c++) {
            var h = (c + 1) / (a + 1),
              f = (1 - h) * l.tickValue + h * u.tickValue,
              v = this.getTickPoint(f),
              d = this.getSidePoint(v, n.length);
            i.push({ startPoint: v, endPoint: d, tickValue: f, id: 'sub-' + l.id + '-' + c });
          }
      return i;
    }),
    (r.prototype.getTickLineAttrs = function (t, i, n, a) {
      var o = this.get(i).style,
        s = { points: [t.startPoint, t.endPoint] },
        l = M(this.get('theme'), ['tickLine', 'style'], {});
      o = q(o) ? xt({}, l, o(s, n, a)) : o;
      var u = t.startPoint,
        c = t.endPoint;
      return x({ x1: u.x, y1: u.y, x2: c.x, y2: c.y }, o);
    }),
    (r.prototype.drawTick = function (t, i, n, a, o) {
      this.addShape(i, {
        type: 'line',
        id: this.getElementId(t.id),
        name: 'axis-' + n,
        attrs: this.getTickLineAttrs(t, n, a, o),
      });
    }),
    (r.prototype.drawTickLines = function (t) {
      var i = this,
        n = this.get('ticks'),
        a = this.get('subTickLine'),
        o = this.getTickLineItems(n),
        s = this.addGroup(t, {
          name: 'axis-tickline-group',
          id: this.getElementId('tickline-group'),
        }),
        l = this.get('tickLine');
      if (
        (A(o, function (c, h) {
          if (l.displayWithLabel) {
            var f = i.getElementId('label-' + c.tickId);
            t.findById(f) && i.drawTick(c, s, 'tickLine', h, o);
          } else i.drawTick(c, s, 'tickLine', h, o);
        }),
        a)
      ) {
        var u = this.getSubTickLineItems(o);
        A(u, function (c, h) {
          i.drawTick(c, s, 'subTickLine', h, u);
        });
      }
    }),
    (r.prototype.processTicks = function () {
      var t = this,
        i = this.get('ticks');
      A(i, function (n) {
        (n.point = t.getTickPoint(n.value)), R(n.id) && (n.id = n.name);
      });
    }),
    (r.prototype.drawTicks = function (t) {
      var i = this;
      this.optimizeTicks(),
        this.processTicks(),
        this.get('label') && this.drawLabels(t),
        this.get('tickLine') && this.drawTickLines(t);
      var n = this.get('ticks');
      A(n, function (a) {
        i.applyTickStates(a, t);
      });
    }),
    (r.prototype.optimizeTicks = function () {
      var t = this.get('optimize'),
        i = this.get('ticks');
      if (t && t.enable && t.threshold > 0) {
        var n = Xt(i);
        if (n > t.threshold) {
          var a = Math.ceil(n / t.threshold),
            o = i.filter(function (s, l) {
              return l % a === 0;
            });
          this.set('ticks', o), this.set('originalTicks', i);
        }
      }
    }),
    (r.prototype.getLabelAttrs = function (t, i, n) {
      var a = this.get('label'),
        o = a.offset,
        s = a.offsetX,
        l = a.offsetY,
        u = a.rotate,
        c = a.formatter,
        h = this.getSidePoint(t.point, o),
        f = this.getSideVector(o, h),
        v = c ? c(t.name, t, i) : t.name,
        d = a.style;
      d = q(d) ? M(this.get('theme'), ['label', 'style'], {}) : d;
      var p = xt(
        {
          x: h.x + s,
          y: h.y + l,
          text: v,
          textAlign: this.getTextAnchor(f),
          textBaseline: this.getTextBaseline(f),
        },
        d,
      );
      return u && (p.matrix = Oi(h, u)), p;
    }),
    (r.prototype.drawLabels = function (t) {
      var i = this,
        n = this.get('ticks'),
        a = this.addGroup(t, { name: 'axis-label-group', id: this.getElementId('label-group') });
      A(n, function (f, v) {
        i.addShape(a, {
          type: 'text',
          name: 'axis-label',
          id: i.getElementId('label-' + f.id),
          attrs: i.getLabelAttrs(f, v, n),
          delegateObject: { tick: f, item: f, index: v },
        });
      }),
        this.processOverlap(a);
      var o = a.getChildren(),
        s = M(this.get('theme'), ['label', 'style'], {}),
        l = this.get('label'),
        u = l.style,
        c = l.formatter;
      if (q(u)) {
        var h = o.map(function (f) {
          return M(f.get('delegateObject'), 'tick');
        });
        A(o, function (f, v) {
          var d = f.get('delegateObject').tick,
            p = c ? c(d.name, d, v) : d.name,
            g = xt({}, s, u(p, v, h));
          f.attr(g);
        });
      }
    }),
    (r.prototype.getTitleAttrs = function () {
      var t = this.get('title'),
        i = t.style,
        n = t.position,
        a = t.offset,
        o = t.spacing,
        s = o === void 0 ? 0 : o,
        l = t.autoRotate,
        u = i.fontSize,
        c = 0.5;
      n === 'start' ? (c = 0) : n === 'end' && (c = 1);
      var h = this.getTickPoint(c),
        f = this.getSidePoint(h, a || s + u / 2),
        v = xt({ x: f.x, y: f.y, text: t.text }, i),
        d = t.rotate,
        p = d;
      if (R(d) && l) {
        var g = this.getAxisVector(h),
          y = [1, 0];
        p = Zc(g, y, !0);
      }
      if (p) {
        var m = Oi(f, p);
        v.matrix = m;
      }
      return v;
    }),
    (r.prototype.drawTitle = function (t) {
      var i,
        n = this.getTitleAttrs(),
        a = this.addShape(t, {
          type: 'text',
          id: this.getElementId('title'),
          name: 'axis-title',
          attrs: n,
        });
      !((i = this.get('title')) === null || i === void 0) &&
        i.description &&
        this.drawDescriptionIcon(t, a, n.matrix);
    }),
    (r.prototype.drawDescriptionIcon = function (t, i, n) {
      var a = this.addGroup(t, {
          name: 'axis-description',
          id: this.getElementById('description'),
        }),
        o = i.getBBox(),
        s = o.maxX,
        l = o.maxY,
        u = o.height,
        c = this.get('title').iconStyle,
        h = 4,
        f = u / 2,
        v = f / 6,
        d = s + h,
        p = l - u / 2,
        g = [d + f, p - f],
        y = g[0],
        m = g[1],
        b = [y + f, m + f],
        w = b[0],
        S = b[1],
        C = [y, S + f],
        F = C[0],
        E = C[1],
        k = [d, m + f],
        T = k[0],
        O = k[1],
        P = [d + f, p - u / 4],
        z = P[0],
        W = P[1],
        j = [z, W + v],
        D = j[0],
        N = j[1],
        V = [D, N + v],
        H = V[0],
        G = V[1],
        X = [H, G + (f * 3) / 4],
        Q = X[0],
        J = X[1];
      this.addShape(a, {
        type: 'path',
        id: this.getElementId('title-description-icon'),
        name: 'axis-title-description-icon',
        attrs: x(
          {
            path: [
              ['M', y, m],
              ['A', f, f, 0, 0, 1, w, S],
              ['A', f, f, 0, 0, 1, F, E],
              ['A', f, f, 0, 0, 1, T, O],
              ['A', f, f, 0, 0, 1, y, m],
              ['M', z, W],
              ['L', D, N],
              ['M', H, G],
              ['L', Q, J],
            ],
            lineWidth: v,
            matrix: n,
          },
          c,
        ),
      }),
        this.addShape(a, {
          type: 'rect',
          id: this.getElementId('title-description-rect'),
          name: 'axis-title-description-rect',
          attrs: {
            x: d,
            y: p - u / 2,
            width: u,
            height: u,
            stroke: '#000',
            fill: '#000',
            opacity: 0,
            matrix: n,
            cursor: 'pointer',
          },
        });
    }),
    (r.prototype.applyTickStates = function (t, i) {
      var n = this.getItemStates(t);
      if (n.length) {
        var a = this.get('tickStates'),
          o = this.getElementId('label-' + t.id),
          s = i.findById(o);
        if (s) {
          var l = ra(t, 'label', a);
          l && s.attr(l);
        }
        var u = this.getElementId('tickline-' + t.id),
          c = i.findById(u);
        if (c) {
          var h = ra(t, 'tickLine', a);
          h && c.attr(h);
        }
      }
    }),
    (r.prototype.updateTickStates = function (t) {
      var i = this.getItemStates(t),
        n = this.get('tickStates'),
        a = this.get('label'),
        o = this.getElementByLocalId('label-' + t.id),
        s = this.get('tickLine'),
        l = this.getElementByLocalId('tickline-' + t.id);
      if (i.length) {
        if (o) {
          var u = ra(t, 'label', n);
          u && o.attr(u);
        }
        if (l) {
          var c = ra(t, 'tickLine', n);
          c && l.attr(c);
        }
      } else o && o.attr(a.style), l && l.attr(s.style);
    }),
    r
  );
})(ie);
function vh(e, r, t, i) {
  var n = r.getChildren(),
    a = !1;
  return (
    A(n, function (o) {
      var s = va(e, o, t, i);
      a = a || s;
    }),
    a
  );
}
function _2() {
  return am;
}
function j2(e, r, t) {
  return vh(e, r, t, 'head');
}
function am(e, r, t) {
  return vh(e, r, t, 'tail');
}
function U2(e, r, t) {
  return vh(e, r, t, 'middle');
}
const q2 = Object.freeze(
  Object.defineProperty(
    { __proto__: null, ellipsisHead: j2, ellipsisMiddle: U2, ellipsisTail: am, getDefault: _2 },
    Symbol.toStringTag,
    { value: 'Module' },
  ),
);
function Z2(e) {
  var r = e.attr('matrix');
  return r && r[0] !== 1;
}
function om(e) {
  var r = Z2(e) ? m2(e.attr('matrix')) : 0;
  return r % 360;
}
function ac(e, r, t, i) {
  var n = !1,
    a = om(r),
    o = Math.abs(e ? t.attr('y') - r.attr('y') : t.attr('x') - r.attr('x')),
    s = (e ? t.attr('y') > r.attr('y') : t.attr('x') > r.attr('x')) ? r.getBBox() : t.getBBox();
  if (e) {
    var l = Math.abs(Math.cos(a));
    ws(l, 0, Math.PI / 180) ? (n = s.width + i > o) : (n = s.height / l + i > o);
  } else {
    var l = Math.abs(Math.sin(a));
    ws(l, 0, Math.PI / 180) ? (n = s.width + i > o) : (n = s.height / l + i > o);
  }
  return n;
}
function Ta(e, r, t, i) {
  var n = (i == null ? void 0 : i.minGap) || 0,
    a = r
      .getChildren()
      .slice()
      .filter(function (v) {
        return v.get('visible');
      });
  if (!a.length) return !1;
  var o = !1;
  t && a.reverse();
  for (var s = a.length, l = a[0], u = l, c = 1; c < s; c++) {
    var h = a[c];
    h.getBBox();
    var f = ac(e, u, h, n);
    f ? (h.hide(), (o = !0)) : (u = h);
  }
  return o;
}
function sm(e, r, t) {
  var i = (t == null ? void 0 : t.minGap) || 0,
    n = r.getChildren().slice();
  if (n.length < 2) return !1;
  var a = !1,
    o = n[0],
    s = o.getBBox(),
    l = n[1],
    u = n.length,
    c = om(o),
    h = Math.abs(e ? l.attr('y') - o.attr('y') : l.attr('x') - o.attr('x')),
    f = 0;
  if (e) {
    var v = Math.abs(Math.cos(c));
    if (ws(v, 0, Math.PI / 180)) {
      var d = nc(n);
      f = (d + i) / h;
    } else f = (s.height / v + i) / h;
  } else {
    var v = Math.abs(Math.sin(c));
    if (ws(v, 0, Math.PI / 180)) {
      var d = nc(n);
      f = (d + i) / h;
    } else f = (s.height / v + i) / h;
  }
  if (f > 1) {
    f = Math.ceil(f);
    for (var p = 0; p < u; p++) p % f !== 0 && (n[p].hide(), (a = !0));
  }
  return a;
}
function K2() {
  return lm;
}
function Q2(e, r, t, i) {
  return Ta(e, r, !1, i);
}
function J2(e, r, t, i) {
  return Ta(e, r, !0, i);
}
function tE(e, r, t, i) {
  var n = (i == null ? void 0 : i.minGap) || 0,
    a = r.getChildren().slice();
  if (a.length <= 2) return !1;
  for (var o = !1, s = a.length, l = a[0], u = a[s - 1], c = l, h = 1; h < s - 1; h++) {
    var f = a[h];
    f.getBBox();
    var v = ac(e, c, f, n);
    v ? (f.hide(), (o = !0)) : (c = f);
  }
  var d = ac(e, c, u, n);
  return d && (c.hide(), (o = !0)), o;
}
function lm(e, r, t, i) {
  var n = sm(e, r, i);
  return Ta(e, r, !1) && (n = !0), n;
}
function eE(e, r, t, i) {
  var n = r.getChildren().slice(),
    a = sm(e, r, i);
  if (n.length > 2) {
    var o = n[0],
      s = n[n.length - 1];
    o.get('visible') || (o.show(), Ta(e, r, !1, i) && (a = !0)),
      s.get('visible') || (s.show(), Ta(e, r, !0, i) && (a = !0));
  }
  return a;
}
const rE = Object.freeze(
  Object.defineProperty(
    {
      __proto__: null,
      equidistance: lm,
      equidistanceWithReverseBoth: eE,
      getDefault: K2,
      reserveBoth: tE,
      reserveFirst: Q2,
      reserveLast: J2,
    },
    Symbol.toStringTag,
    { value: 'Module' },
  ),
);
function iE(e, r) {
  A(e, function (t) {
    var i = t.attr('x'),
      n = t.attr('y'),
      a = Oi({ x: i, y: n }, r);
    t.attr('matrix', a);
  });
}
function um(e, r, t, i) {
  var n = r.getChildren();
  if (!n.length || (!e && n.length < 2)) return !1;
  var a = nc(n),
    o = !1;
  if (e) o = !!t && a > t;
  else {
    var s = Math.abs(n[1].attr('x') - n[0].attr('x'));
    o = a > s;
  }
  if (o) {
    var l = i(t, a);
    iE(n, l);
  }
  return o;
}
function nE() {
  return cm;
}
function cm(e, r, t, i) {
  return um(e, r, t, function () {
    return it(i) ? i : e ? ut.verticalAxisRotate : ut.horizontalAxisRotate;
  });
}
function aE(e, r, t) {
  return um(e, r, t, function (i, n) {
    if (!i) return e ? ut.verticalAxisRotate : ut.horizontalAxisRotate;
    if (e) return -Math.acos(i / n);
    var a = 0;
    return (
      i > n ? (a = Math.PI / 4) : ((a = Math.asin(i / n)), a > Math.PI / 4 && (a = Math.PI / 4)), a
    );
  });
}
const oE = Object.freeze(
    Object.defineProperty(
      { __proto__: null, fixedAngle: cm, getDefault: nE, unfixedAngle: aE },
      Symbol.toStringTag,
      { value: 'Module' },
    ),
  ),
  hm = Object.freeze(
    Object.defineProperty(
      { __proto__: null, autoEllipsis: q2, autoHide: rE, autoRotate: oE },
      Symbol.toStringTag,
      { value: 'Module' },
    ),
  );
var sE = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return x(x({}, t), { type: 'line', locationType: 'region', start: null, end: null });
      }),
      (r.prototype.getLinePath = function () {
        var t = this.get('start'),
          i = this.get('end'),
          n = [];
        return n.push(['M', t.x, t.y]), n.push(['L', i.x, i.y]), n;
      }),
      (r.prototype.getInnerLayoutBBox = function () {
        var t = this.get('start'),
          i = this.get('end'),
          n = e.prototype.getInnerLayoutBBox.call(this),
          a = Math.min(t.x, i.x, n.x),
          o = Math.min(t.y, i.y, n.y),
          s = Math.max(t.x, i.x, n.maxX),
          l = Math.max(t.y, i.y, n.maxY);
        return { x: a, y: o, minX: a, minY: o, maxX: s, maxY: l, width: s - a, height: l - o };
      }),
      (r.prototype.isVertical = function () {
        var t = this.get('start'),
          i = this.get('end');
        return qt(t.x, i.x);
      }),
      (r.prototype.isHorizontal = function () {
        var t = this.get('start'),
          i = this.get('end');
        return qt(t.y, i.y);
      }),
      (r.prototype.getTickPoint = function (t) {
        var i = this,
          n = i.get('start'),
          a = i.get('end'),
          o = a.x - n.x,
          s = a.y - n.y;
        return { x: n.x + o * t, y: n.y + s * t };
      }),
      (r.prototype.getSideVector = function (t) {
        var i = this.getAxisVector(),
          n = qg([0, 0], i),
          a = this.get('verticalFactor'),
          o = [n[1], n[0] * -1];
        return ce([0, 0], o, t * a);
      }),
      (r.prototype.getAxisVector = function () {
        var t = this.get('start'),
          i = this.get('end');
        return [i.x - t.x, i.y - t.y];
      }),
      (r.prototype.processOverlap = function (t) {
        var i = this,
          n = this.isVertical(),
          a = this.isHorizontal();
        if (!(!n && !a)) {
          var o = this.get('label'),
            s = this.get('title'),
            l = this.get('verticalLimitLength'),
            u = o.offset,
            c = l,
            h = 0,
            f = 0;
          s && ((h = s.style.fontSize), (f = s.spacing)), c && (c = c - u - f - h);
          var v = this.get('overlapOrder');
          if (
            (A(v, function (g) {
              o[g] && i.canProcessOverlap(g) && i.autoProcessOverlap(g, o[g], t, c);
            }),
            s && R(s.offset))
          ) {
            var d = t.getCanvasBBox(),
              p = n ? d.width : d.height;
            s.offset = u + p + f + h / 2;
          }
        }
      }),
      (r.prototype.canProcessOverlap = function (t) {
        var i = this.get('label');
        return t === 'autoRotate' ? R(i.rotate) : !0;
      }),
      (r.prototype.autoProcessOverlap = function (t, i, n, a) {
        var o = this,
          s = this.isVertical(),
          l = !1,
          u = hm[t];
        if (i === !0) this.get('label'), (l = u.getDefault()(s, n, a));
        else if (q(i)) l = i(s, n, a);
        else if (yt(i)) {
          var c = i;
          u[c.type] && (l = u[c.type](s, n, a, c.cfg));
        } else u[i] && (l = u[i](s, n, a));
        if (t === 'autoRotate') {
          if (l) {
            var h = n.getChildren(),
              f = this.get('verticalFactor');
            A(h, function (d) {
              var p = d.attr('textAlign');
              if (p === 'center') {
                var g = f > 0 ? 'end' : 'start';
                d.attr('textAlign', g);
              }
            });
          }
        } else if (t === 'autoHide') {
          var v = n.getChildren().slice(0);
          A(v, function (d) {
            d.get('visible') || (o.get('isRegister') && o.unregisterElement(d), d.remove());
          });
        }
      }),
      r
    );
  })(nm),
  lE = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return x(x({}, t), {
          type: 'circle',
          locationType: 'circle',
          center: null,
          radius: null,
          startAngle: -Math.PI / 2,
          endAngle: (Math.PI * 3) / 2,
        });
      }),
      (r.prototype.getLinePath = function () {
        var t = this.get('center'),
          i = t.x,
          n = t.y,
          a = this.get('radius'),
          o = a,
          s = this.get('startAngle'),
          l = this.get('endAngle'),
          u = [];
        if (Math.abs(l - s) === Math.PI * 2)
          u = [
            ['M', i, n - o],
            ['A', a, o, 0, 1, 1, i, n + o],
            ['A', a, o, 0, 1, 1, i, n - o],
            ['Z'],
          ];
        else {
          var c = this.getCirclePoint(s),
            h = this.getCirclePoint(l),
            f = Math.abs(l - s) > Math.PI ? 1 : 0,
            v = s > l ? 0 : 1;
          u = [
            ['M', i, n],
            ['L', c.x, c.y],
            ['A', a, o, 0, f, v, h.x, h.y],
            ['L', i, n],
          ];
        }
        return u;
      }),
      (r.prototype.getTickPoint = function (t) {
        var i = this.get('startAngle'),
          n = this.get('endAngle'),
          a = i + (n - i) * t;
        return this.getCirclePoint(a);
      }),
      (r.prototype.getSideVector = function (t, i) {
        var n = this.get('center'),
          a = [i.x - n.x, i.y - n.y],
          o = this.get('verticalFactor'),
          s = tn(a);
        return ce(a, a, (o * t) / s), a;
      }),
      (r.prototype.getAxisVector = function (t) {
        var i = this.get('center'),
          n = [t.x - i.x, t.y - i.y];
        return [n[1], -1 * n[0]];
      }),
      (r.prototype.getCirclePoint = function (t, i) {
        var n = this.get('center');
        return (
          (i = i || this.get('radius')), { x: n.x + Math.cos(t) * i, y: n.y + Math.sin(t) * i }
        );
      }),
      (r.prototype.canProcessOverlap = function (t) {
        var i = this.get('label');
        return t === 'autoRotate' ? R(i.rotate) : !0;
      }),
      (r.prototype.processOverlap = function (t) {
        var i = this,
          n = this.get('label'),
          a = this.get('title'),
          o = this.get('verticalLimitLength'),
          s = n.offset,
          l = o,
          u = 0,
          c = 0;
        a && ((u = a.style.fontSize), (c = a.spacing)), l && (l = l - s - c - u);
        var h = this.get('overlapOrder');
        if (
          (A(h, function (v) {
            n[v] && i.canProcessOverlap(v) && i.autoProcessOverlap(v, n[v], t, l);
          }),
          a && R(a.offset))
        ) {
          var f = t.getCanvasBBox().height;
          a.offset = s + f + c + u / 2;
        }
      }),
      (r.prototype.autoProcessOverlap = function (t, i, n, a) {
        var o = this,
          s = !1,
          l = hm[t];
        if (a > 0)
          if (i === !0) s = l.getDefault()(!1, n, a);
          else if (q(i)) s = i(!1, n, a);
          else if (yt(i)) {
            var u = i;
            l[u.type] && (s = l[u.type](!1, n, a, u.cfg));
          } else l[i] && (s = l[i](!1, n, a));
        if (t === 'autoRotate') {
          if (s) {
            var c = n.getChildren(),
              h = this.get('verticalFactor');
            A(c, function (v) {
              var d = v.attr('textAlign');
              if (d === 'center') {
                var p = h > 0 ? 'end' : 'start';
                v.attr('textAlign', p);
              }
            });
          }
        } else if (t === 'autoHide') {
          var f = n.getChildren().slice(0);
          A(f, function (v) {
            v.get('visible') || (o.get('isRegister') && o.unregisterElement(v), v.remove());
          });
        }
      }),
      r
    );
  })(nm),
  dh = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return x(x({}, t), {
          name: 'crosshair',
          type: 'base',
          line: {},
          text: null,
          textBackground: {},
          capture: !1,
          defaultCfg: {
            line: { style: { lineWidth: 1, stroke: ut.lineColor } },
            text: {
              position: 'start',
              offset: 10,
              autoRotate: !1,
              content: null,
              style: {
                fill: ut.textColor,
                textAlign: 'center',
                textBaseline: 'middle',
                fontFamily: ut.fontFamily,
              },
            },
            textBackground: { padding: 5, style: { stroke: ut.lineColor } },
          },
        });
      }),
      (r.prototype.renderInner = function (t) {
        this.get('line') && this.renderLine(t),
          this.get('text') && (this.renderText(t), this.renderBackground(t));
      }),
      (r.prototype.renderText = function (t) {
        var i = this.get('text'),
          n = i.style,
          a = i.autoRotate,
          o = i.content;
        if (!R(o)) {
          var s = this.getTextPoint(),
            l = null;
          if (a) {
            var u = this.getRotateAngle();
            l = Oi(s, u);
          }
          this.addShape(t, {
            type: 'text',
            name: 'crosshair-text',
            id: this.getElementId('text'),
            attrs: x(x(x({}, s), { text: o, matrix: l }), n),
          });
        }
      }),
      (r.prototype.renderLine = function (t) {
        var i = this.getLinePath(),
          n = this.get('line'),
          a = n.style;
        this.addShape(t, {
          type: 'path',
          name: 'crosshair-line',
          id: this.getElementId('line'),
          attrs: x({ path: i }, a),
        });
      }),
      (r.prototype.renderBackground = function (t) {
        var i = this.getElementId('text'),
          n = t.findById(i),
          a = this.get('textBackground');
        if (a && n) {
          var o = n.getBBox(),
            s = xs(a.padding),
            l = a.style,
            u = this.addShape(t, {
              type: 'rect',
              name: 'crosshair-text-background',
              id: this.getElementId('text-background'),
              attrs: x(
                {
                  x: o.x - s[3],
                  y: o.y - s[0],
                  width: o.width + s[1] + s[3],
                  height: o.height + s[0] + s[2],
                  matrix: n.attr('matrix'),
                },
                l,
              ),
            });
          u.toBack();
        }
      }),
      r
    );
  })(ie),
  fm = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return x(x({}, t), { type: 'line', locationType: 'region', start: null, end: null });
      }),
      (r.prototype.getRotateAngle = function () {
        var t = this.getLocation(),
          i = t.start,
          n = t.end,
          a = this.get('text').position,
          o = Math.atan2(n.y - i.y, n.x - i.x),
          s = a === 'start' ? o - Math.PI / 2 : o + Math.PI / 2;
        return s;
      }),
      (r.prototype.getTextPoint = function () {
        var t = this.getLocation(),
          i = t.start,
          n = t.end,
          a = this.get('text'),
          o = a.position,
          s = a.offset;
        return rm(i, n, o, s);
      }),
      (r.prototype.getLinePath = function () {
        var t = this.getLocation(),
          i = t.start,
          n = t.end;
        return [
          ['M', i.x, i.y],
          ['L', n.x, n.y],
        ];
      }),
      r
    );
  })(dh),
  uE = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return x(x({}, t), {
          type: 'circle',
          locationType: 'circle',
          center: null,
          radius: 100,
          startAngle: -Math.PI / 2,
          endAngle: (Math.PI * 3) / 2,
        });
      }),
      (r.prototype.getRotateAngle = function () {
        var t = this.getLocation(),
          i = t.startAngle,
          n = t.endAngle,
          a = this.get('text').position,
          o = a === 'start' ? i + Math.PI / 2 : n - Math.PI / 2;
        return o;
      }),
      (r.prototype.getTextPoint = function () {
        var t = this.get('text'),
          i = t.position,
          n = t.offset,
          a = this.getLocation(),
          o = a.center,
          s = a.radius,
          l = a.startAngle,
          u = a.endAngle,
          c = i === 'start' ? l : u,
          h = this.getRotateAngle() - Math.PI,
          f = on(o, s, c),
          v = Math.cos(h) * n,
          d = Math.sin(h) * n;
        return { x: f.x + v, y: f.y + d };
      }),
      (r.prototype.getLinePath = function () {
        var t = this.getLocation(),
          i = t.center,
          n = t.radius,
          a = t.startAngle,
          o = t.endAngle,
          s = null;
        if (o - a === Math.PI * 2) {
          var l = i.x,
            u = i.y;
          s = [
            ['M', l, u - n],
            ['A', n, n, 0, 1, 1, l, u + n],
            ['A', n, n, 0, 1, 1, l, u - n],
            ['Z'],
          ];
        } else {
          var c = on(i, n, a),
            h = on(i, n, o),
            f = Math.abs(o - a) > Math.PI ? 1 : 0,
            v = a > o ? 0 : 1;
          s = [
            ['M', c.x, c.y],
            ['A', n, n, 0, f, v, h.x, h.y],
          ];
        }
        return s;
      }),
      r
    );
  })(dh),
  ka = 'g2-crosshair',
  oc = ka + '-line',
  sc = ka + '-text',
  _n;
const cE =
  ((_n = {}),
  (_n['' + ka] = { position: 'relative' }),
  (_n['' + oc] = { position: 'absolute', backgroundColor: 'rgba(0, 0, 0, 0.25)' }),
  (_n['' + sc] = { position: 'absolute', color: ut.textColor, fontFamily: ut.fontFamily }),
  _n);
var hE = (function (e) {
  I(r, e);
  function r() {
    return (e !== null && e.apply(this, arguments)) || this;
  }
  return (
    (r.prototype.getDefaultCfg = function () {
      var t = e.prototype.getDefaultCfg.call(this);
      return x(x({}, t), {
        name: 'crosshair',
        type: 'html',
        locationType: 'region',
        start: { x: 0, y: 0 },
        end: { x: 0, y: 0 },
        capture: !1,
        text: null,
        containerTpl: '<div class="' + ka + '"></div>',
        crosshairTpl: '<div class="' + oc + '"></div>',
        textTpl: '<span class="' + sc + '">{content}</span>',
        domStyles: null,
        containerClassName: ka,
        defaultStyles: cE,
        defaultCfg: { text: { position: 'start', content: null, align: 'center', offset: 10 } },
      });
    }),
    (r.prototype.render = function () {
      this.resetText(), this.resetPosition();
    }),
    (r.prototype.initCrossHair = function () {
      var t = this.getContainer(),
        i = this.get('crosshairTpl'),
        n = Vr(i);
      t.appendChild(n), this.applyStyle(oc, n), this.set('crosshairEl', n);
    }),
    (r.prototype.getTextPoint = function () {
      var t = this.getLocation(),
        i = t.start,
        n = t.end,
        a = this.get('text'),
        o = a.position,
        s = a.offset;
      return rm(i, n, o, s);
    }),
    (r.prototype.resetText = function () {
      var t = this.get('text'),
        i = this.get('textEl');
      if (t) {
        var n = t.content;
        if (!i) {
          var a = this.getContainer(),
            o = Lg(this.get('textTpl'), t);
          (i = Vr(o)), a.appendChild(i), this.applyStyle(sc, i), this.set('textEl', i);
        }
        i.innerHTML = n;
      } else i && i.remove();
    }),
    (r.prototype.isVertical = function (t, i) {
      return t.x === i.x;
    }),
    (r.prototype.resetPosition = function () {
      var t = this.get('crosshairEl');
      t || (this.initCrossHair(), (t = this.get('crosshairEl')));
      var i = this.get('start'),
        n = this.get('end'),
        a = Math.min(i.x, n.x),
        o = Math.min(i.y, n.y);
      this.isVertical(i, n)
        ? ne(t, { width: '1px', height: pe(Math.abs(n.y - i.y)) })
        : ne(t, { height: '1px', width: pe(Math.abs(n.x - i.x)) }),
        ne(t, { top: pe(o), left: pe(a) }),
        this.alignText();
    }),
    (r.prototype.alignText = function () {
      var t = this.get('textEl');
      if (t) {
        var i = this.get('text').align,
          n = t.clientWidth,
          a = this.getTextPoint();
        switch (i) {
          case 'center':
            a.x = a.x - n / 2;
            break;
          case 'right':
            a.x = a.x - n;
        }
        ne(t, { top: pe(a.y), left: pe(a.x) });
      }
    }),
    (r.prototype.updateInner = function (t) {
      jr(t, 'text') && this.resetText(), e.prototype.updateInner.call(this, t);
    }),
    r
  );
})(fh);
const sd = Object.freeze(
  Object.defineProperty(
    { __proto__: null, Base: dh, Circle: uE, Html: hE, Line: fm },
    Symbol.toStringTag,
    { value: 'Module' },
  ),
);
var vm = (function (e) {
  I(r, e);
  function r() {
    return (e !== null && e.apply(this, arguments)) || this;
  }
  return (
    (r.prototype.getDefaultCfg = function () {
      var t = e.prototype.getDefaultCfg.call(this);
      return x(x({}, t), {
        name: 'grid',
        line: {},
        alternateColor: null,
        capture: !1,
        items: [],
        closed: !1,
        defaultCfg: { line: { type: 'line', style: { lineWidth: 1, stroke: ut.lineColor } } },
      });
    }),
    (r.prototype.getLineType = function () {
      var t = this.get('line') || this.get('defaultCfg').line;
      return t.type;
    }),
    (r.prototype.renderInner = function (t) {
      this.drawGrid(t);
    }),
    (r.prototype.getAlternatePath = function (t, i) {
      var n = this.getGridPath(t),
        a = i.slice(0).reverse(),
        o = this.getGridPath(a, !0),
        s = this.get('closed');
      return s ? (n = n.concat(o)) : ((o[0][0] = 'L'), (n = n.concat(o)), n.push(['Z'])), n;
    }),
    (r.prototype.getPathStyle = function () {
      return this.get('line').style;
    }),
    (r.prototype.drawGrid = function (t) {
      var i = this,
        n = this.get('line'),
        a = this.get('items'),
        o = this.get('alternateColor'),
        s = null;
      A(a, function (l, u) {
        var c = l.id || u;
        if (n) {
          var h = i.getPathStyle();
          h = q(h) ? h(l, u, a) : h;
          var f = i.getElementId('line-' + c),
            v = i.getGridPath(l.points);
          i.addShape(t, { type: 'path', name: 'grid-line', id: f, attrs: xt({ path: v }, h) });
        }
        if (o && u > 0) {
          var d = i.getElementId('region-' + c),
            p = u % 2 === 0;
          if (et(o)) p && i.drawAlternateRegion(d, t, s.points, l.points, o);
          else {
            var g = p ? o[1] : o[0];
            i.drawAlternateRegion(d, t, s.points, l.points, g);
          }
        }
        s = l;
      });
    }),
    (r.prototype.drawAlternateRegion = function (t, i, n, a, o) {
      var s = this.getAlternatePath(n, a);
      this.addShape(i, { type: 'path', id: t, name: 'grid-region', attrs: { path: s, fill: o } });
    }),
    r
  );
})(ie);
function fE(e, r, t, i) {
  var n = t - e,
    a = i - r;
  return Math.sqrt(n * n + a * a);
}
var vE = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return x(x({}, t), { type: 'circle', center: null, closed: !0 });
      }),
      (r.prototype.getGridPath = function (t, i) {
        var n = this.getLineType(),
          a = this.get('closed'),
          o = [];
        if (t.length)
          if (n === 'circle') {
            var s = this.get('center'),
              l = t[0],
              u = fE(s.x, s.y, l.x, l.y),
              c = i ? 0 : 1;
            a
              ? (o.push(['M', s.x, s.y - u]),
                o.push(['A', u, u, 0, 0, c, s.x, s.y + u]),
                o.push(['A', u, u, 0, 0, c, s.x, s.y - u]),
                o.push(['Z']))
              : A(t, function (h, f) {
                  f === 0 ? o.push(['M', h.x, h.y]) : o.push(['A', u, u, 0, 0, c, h.x, h.y]);
                });
          } else
            A(t, function (h, f) {
              f === 0 ? o.push(['M', h.x, h.y]) : o.push(['L', h.x, h.y]);
            }),
              a && o.push(['Z']);
        return o;
      }),
      r
    );
  })(vm),
  dE = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return x(x({}, t), { type: 'line' });
      }),
      (r.prototype.getGridPath = function (t) {
        var i = [];
        return (
          A(t, function (n, a) {
            a === 0 ? i.push(['M', n.x, n.y]) : i.push(['L', n.x, n.y]);
          }),
          i
        );
      }),
      r
    );
  })(vm),
  dm = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return x(x({}, t), {
          name: 'legend',
          layout: 'horizontal',
          locationType: 'point',
          x: 0,
          y: 0,
          offsetX: 0,
          offsetY: 0,
          title: null,
          background: null,
        });
      }),
      (r.prototype.getLayoutBBox = function () {
        var t = e.prototype.getLayoutBBox.call(this),
          i = this.get('maxWidth'),
          n = this.get('maxHeight'),
          a = t.width,
          o = t.height;
        return i && (a = Math.min(a, i)), n && (o = Math.min(o, n)), ul(t.minX, t.minY, a, o);
      }),
      (r.prototype.setLocation = function (t) {
        this.set('x', t.x), this.set('y', t.y), this.resetLocation();
      }),
      (r.prototype.resetLocation = function () {
        var t = this.get('x'),
          i = this.get('y'),
          n = this.get('offsetX'),
          a = this.get('offsetY');
        this.moveElementTo(this.get('group'), { x: t + n, y: i + a });
      }),
      (r.prototype.applyOffset = function () {
        this.resetLocation();
      }),
      (r.prototype.getDrawPoint = function () {
        return this.get('currentPoint');
      }),
      (r.prototype.setDrawPoint = function (t) {
        return this.set('currentPoint', t);
      }),
      (r.prototype.renderInner = function (t) {
        this.resetDraw(),
          this.get('title') && this.drawTitle(t),
          this.drawLegendContent(t),
          this.get('background') && this.drawBackground(t);
      }),
      (r.prototype.drawBackground = function (t) {
        var i = this.get('background'),
          n = t.getBBox(),
          a = xs(i.padding),
          o = x(
            { x: 0, y: 0, width: n.width + a[1] + a[3], height: n.height + a[0] + a[2] },
            i.style,
          ),
          s = this.addShape(t, {
            type: 'rect',
            id: this.getElementId('background'),
            name: 'legend-background',
            attrs: o,
          });
        s.toBack();
      }),
      (r.prototype.drawTitle = function (t) {
        var i = this.get('currentPoint'),
          n = this.get('title'),
          a = n.spacing,
          o = n.style,
          s = n.text,
          l = this.addShape(t, {
            type: 'text',
            id: this.getElementId('title'),
            name: 'legend-title',
            attrs: x({ text: s, x: i.x, y: i.y }, o),
          }),
          u = l.getBBox();
        this.set('currentPoint', { x: i.x, y: u.maxY + a });
      }),
      (r.prototype.resetDraw = function () {
        var t = this.get('background'),
          i = { x: 0, y: 0 };
        if (t) {
          var n = xs(t.padding);
          (i.x = n[3]), (i.y = n[0]);
        }
        this.set('currentPoint', i);
      }),
      r
    );
  })(ie),
  au = {
    marker: {
      style: { inactiveFill: '#000', inactiveOpacity: 0.45, fill: '#000', opacity: 1, size: 12 },
    },
    text: { style: { fill: '#ccc', fontSize: 12 } },
  },
  Ao = {
    fill: ut.textColor,
    fontSize: 12,
    textAlign: 'start',
    textBaseline: 'middle',
    fontFamily: ut.fontFamily,
    fontWeight: 'normal',
    lineHeight: 12,
  },
  ou = 'navigation-arrow-right',
  su = 'navigation-arrow-left',
  ld = {
    right: (90 * Math.PI) / 180,
    left: ((360 - 90) * Math.PI) / 180,
    up: 0,
    down: (180 * Math.PI) / 180,
  },
  pE = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (
        (t.currentPageIndex = 1),
        (t.totalPagesCnt = 1),
        (t.pageWidth = 0),
        (t.pageHeight = 0),
        (t.startX = 0),
        (t.startY = 0),
        (t.onNavigationBack = function () {
          var i = t.getElementByLocalId('item-group');
          if (t.currentPageIndex > 1) {
            (t.currentPageIndex -= 1), t.updateNavigation();
            var n = t.getCurrentNavigationMatrix();
            t.get('animate') ? i.animate({ matrix: n }, 100) : i.attr({ matrix: n });
          }
        }),
        (t.onNavigationAfter = function () {
          var i = t.getElementByLocalId('item-group');
          if (t.currentPageIndex < t.totalPagesCnt) {
            (t.currentPageIndex += 1), t.updateNavigation();
            var n = t.getCurrentNavigationMatrix();
            t.get('animate') ? i.animate({ matrix: n }, 100) : i.attr({ matrix: n });
          }
        }),
        t
      );
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return x(x({}, t), {
          name: 'legend',
          type: 'category',
          itemSpacing: 24,
          itemMarginBottom: 8,
          maxItemWidth: null,
          itemWidth: null,
          itemHeight: null,
          itemName: {},
          itemValue: null,
          maxWidth: null,
          maxHeight: null,
          marker: {},
          radio: null,
          items: [],
          itemStates: {},
          itemBackground: {},
          pageNavigator: {},
          defaultCfg: {
            title: {
              spacing: 5,
              style: { fill: ut.textColor, fontSize: 12, textAlign: 'start', textBaseline: 'top' },
            },
            background: { padding: 5, style: { stroke: ut.lineColor } },
            itemBackground: { style: { opacity: 0, fill: '#fff' } },
            pageNavigator: au,
            itemName: { spacing: 16, style: Ao },
            marker: { spacing: 8, style: { r: 6, symbol: 'circle' } },
            itemValue: { alignRight: !1, formatter: null, style: Ao, spacing: 6 },
            itemStates: {
              active: { nameStyle: { opacity: 0.8 } },
              unchecked: {
                nameStyle: { fill: ut.uncheckedColor },
                markerStyle: { fill: ut.uncheckedColor, stroke: ut.uncheckedColor },
              },
              inactive: { nameStyle: { fill: ut.uncheckedColor }, markerStyle: { opacity: 0.2 } },
            },
          },
        });
      }),
      (r.prototype.isList = function () {
        return !0;
      }),
      (r.prototype.getItems = function () {
        return this.get('items');
      }),
      (r.prototype.setItems = function (t) {
        this.update({ items: t });
      }),
      (r.prototype.updateItem = function (t, i) {
        xt(t, i), this.clear(), this.render();
      }),
      (r.prototype.clearItems = function () {
        var t = this.getElementByLocalId('item-group');
        t && t.clear();
      }),
      (r.prototype.setItemState = function (t, i, n) {
        t[i] = n;
        var a = this.getElementByLocalId('item-' + t.id);
        if (a) {
          var o = this.getItems(),
            s = o.indexOf(t),
            l = this.createOffScreenGroup(),
            u = this.drawItem(t, s, this.getItemHeight(), l);
          this.updateElements(u, a), this.clearUpdateStatus(a);
        }
      }),
      (r.prototype.hasState = function (t, i) {
        return !!t[i];
      }),
      (r.prototype.getItemStates = function (t) {
        var i = this.get('itemStates'),
          n = [];
        return (
          A(i, function (a, o) {
            t[o] && n.push(o);
          }),
          n
        );
      }),
      (r.prototype.clearItemsState = function (t) {
        var i = this,
          n = this.getItemsByState(t);
        A(n, function (a) {
          i.setItemState(a, t, !1);
        });
      }),
      (r.prototype.getItemsByState = function (t) {
        var i = this,
          n = this.getItems();
        return Qt(n, function (a) {
          return i.hasState(a, t);
        });
      }),
      (r.prototype.drawLegendContent = function (t) {
        this.processItems(), this.drawItems(t);
      }),
      (r.prototype.processItems = function () {
        var t = this.get('items');
        A(t, function (i) {
          i.id || (i.id = i.name);
        });
      }),
      (r.prototype.drawItems = function (t) {
        var i = this,
          n = this.addGroup(t, {
            id: this.getElementId('item-container-group'),
            name: 'legend-item-container-group',
          }),
          a = this.addGroup(n, { id: this.getElementId('item-group'), name: 'legend-item-group' }),
          o = this.getItemHeight(),
          s = this.get('itemWidth'),
          l = this.get('itemSpacing'),
          u = this.get('itemMarginBottom'),
          c = this.get('currentPoint'),
          h = c.x,
          f = c.y,
          v = this.get('layout'),
          d = this.get('items'),
          p = !1,
          g = 0,
          y = this.get('maxWidth'),
          m = this.get('maxHeight');
        A(d, function (b, w) {
          var S = i.drawItem(b, w, o, a),
            C = S.getBBox(),
            F = s || C.width;
          F > g && (g = F),
            v === 'horizontal'
              ? (y && y < c.x + F - h && ((p = !0), (c.x = h), (c.y += o + u)),
                i.moveElementTo(S, c),
                (c.x += F + l))
              : (m && m < c.y + o + u - f && ((p = !0), (c.x += g + l), (c.y = f), (g = 0)),
                i.moveElementTo(S, c),
                (c.y += o + u));
        }),
          p &&
            this.get('flipPage') &&
            ((this.pageHeight = 0),
            (this.pageWidth = 0),
            (this.totalPagesCnt = 1),
            (this.startX = h),
            (this.startY = f),
            this.adjustNavigation(t, a));
      }),
      (r.prototype.getItemHeight = function () {
        var t = this.get('itemHeight');
        if (!t) {
          var i = (this.get('itemName') || {}).style;
          if (q(i)) {
            var n = this.getItems();
            n.forEach(function (a, o) {
              var s = x(x({}, Ao), i(a, o, n)).fontSize;
              t < s && (t = s);
            });
          } else i && (t = i.fontSize);
        }
        return t;
      }),
      (r.prototype.drawMarker = function (t, i, n, a) {
        var o = x(
            x(x({ x: 0, y: a / 2 }, i.style), { symbol: M(n.marker, 'symbol', 'circle') }),
            M(n.marker, 'style', {}),
          ),
          s = this.addShape(t, {
            type: 'marker',
            id: this.getElementId('item-' + n.id + '-marker'),
            name: 'legend-item-marker',
            attrs: o,
          }),
          l = s.getBBox();
        s.attr('x', l.width / 2);
        var u = s.attr(),
          c = u.stroke,
          h = u.fill;
        return c && s.set('isStroke', !0), h && s.set('isFill', !0), s;
      }),
      (r.prototype.drawItemText = function (t, i, n, a, o, s, l) {
        var u = n.formatter,
          c = n.style,
          h = x(
            x({ x: s, y: o / 2, text: u ? u(a[i], a, l) : a[i] }, Ao),
            q(c) ? c(a, l, this.getItems()) : c,
          );
        return this.addShape(t, {
          type: 'text',
          id: this.getElementId('item-' + a.id + '-' + i),
          name: 'legend-item-' + i,
          attrs: h,
        });
      }),
      (r.prototype.drawRadio = function (t, i, n, a, o) {
        var s,
          l,
          u = i.style || {},
          c = (s = u.r) !== null && s !== void 0 ? s : a / 2,
          h = (c * 3.6) / 8,
          f = [o + c, a / 2 - c],
          v = f[0],
          d = f[1],
          p = [v + c, d + c],
          g = p[0],
          y = p[1],
          m = [v, y + c],
          b = m[0],
          w = m[1],
          S = [o, d + c],
          C = S[0],
          F = S[1],
          E = n.showRadio,
          k = x(
            x(
              {
                path: [
                  ['M', v, d],
                  ['A', c, c, 0, 0, 1, g, y],
                  ['L', g - h, y],
                  ['L', g, y],
                  ['A', c, c, 0, 0, 1, b, w],
                  ['L', b, w - h],
                  ['L', b, w],
                  ['A', c, c, 0, 0, 1, C, F],
                  ['L', C + h, F],
                  ['L', C, F],
                  ['A', c, c, 0, 0, 1, v, d],
                  ['L', v, d + h],
                ],
                stroke: '#000000',
                fill: '#ffffff',
              },
              u,
            ),
            {
              opacity: E
                ? (l = u == null ? void 0 : u.opacity) !== null && l !== void 0
                  ? l
                  : 0.45
                : 0,
            },
          ),
          T = this.addShape(t, {
            type: 'path',
            id: this.getElementId('item-' + n.id + '-radio'),
            name: 'legend-item-radio',
            attrs: k,
          });
        return T.set('tip', i.tip), T;
      }),
      (r.prototype.drawItem = function (t, i, n, a) {
        var o = 'item-' + t.id,
          s = this.addGroup(a, {
            name: 'legend-item-container',
            id: this.getElementId('item-container-' + o),
            delegateObject: { item: t, index: i },
          }),
          l = this.addGroup(s, {
            name: 'legend-item',
            id: this.getElementId(o),
            delegateObject: { item: t, index: i },
          }),
          u = this.get('marker'),
          c = this.get('itemName'),
          h = this.get('itemValue'),
          f = this.get('itemBackground'),
          v = this.get('radio'),
          d = this.getLimitItemWidth(),
          p = 0;
        if (u) {
          var g = this.drawMarker(l, u, t, n),
            y = u.spacing,
            m = M(t, ['marker', 'spacing']);
          it(m) && (y = m), (p = g.getBBox().maxX + y);
        }
        if (c) {
          var b = this.drawItemText(l, 'name', c, t, n, p, i);
          d && va(!0, b, Mt(d - p, 0, d)), (p = b.getBBox().maxX + c.spacing);
        }
        if (h) {
          var w = this.drawItemText(l, 'value', h, t, n, p, i);
          d &&
            (h.alignRight
              ? (w.attr({ textAlign: 'right', x: d }), va(!0, w, Mt(d - p, 0, d), 'head'))
              : va(!0, w, Mt(d - p, 0, d))),
            (p = w.getBBox().maxX + h.spacing);
        }
        if ((v && this.drawRadio(l, v, t, n, p), f)) {
          var S = l.getBBox(),
            C = this.addShape(l, {
              type: 'rect',
              name: 'legend-item-background',
              id: this.getElementId(o + '-background'),
              attrs: x({ x: 0, y: 0, width: S.width, height: n }, f.style),
            });
          C.toBack();
        }
        return this.applyItemStates(t, l), l;
      }),
      (r.prototype.adjustNavigation = function (t, i) {
        var n = this,
          a = this.startX,
          o = this.startY,
          s = this.get('layout'),
          l = i.findAll(function (T) {
            return T.get('name') === 'legend-item';
          }),
          u = this.get('maxWidth'),
          c = this.get('maxHeight'),
          h = this.get('itemWidth'),
          f = this.get('itemSpacing'),
          v = this.getItemHeight(),
          d = _({}, au, this.get('pageNavigator')),
          p = this.drawNavigation(t, s, '00/00', d),
          g = p.getBBox(),
          y = { x: a, y: o },
          m = 1,
          b = 0,
          w = 0,
          S = 0,
          C = this.get('itemMarginBottom');
        if (s === 'horizontal') {
          var F = this.get('maxRow') || 1,
            E = v + (F === 1 ? 0 : C);
          (this.pageHeight = E * F),
            A(l, function (T) {
              var O = T.getBBox(),
                P = h || O.width;
              ((b && b < y.x + P + f) || u < y.x + P + f + g.width) &&
                (m === 1 &&
                  ((b = y.x + f),
                  (n.pageWidth = b),
                  n.moveElementTo(p, {
                    x: u - f - g.width - g.minX,
                    y: y.y + v / 2 - g.height / 2 - g.minY,
                  })),
                (m += 1),
                (y.x = a),
                (y.y += E)),
                n.moveElementTo(T, y),
                T.getParent().setClip({
                  type: 'rect',
                  attrs: { x: y.x, y: y.y, width: P + f, height: v },
                }),
                (y.x += P + f);
            });
        } else {
          A(l, function (T) {
            var O = T.getBBox();
            O.width > w && (w = O.width);
          }),
            (S = w),
            (w += f),
            u && ((w = Math.min(u, w)), (S = Math.min(u, S))),
            (this.pageWidth = w),
            (this.pageHeight = c - Math.max(g.height, v + C));
          var k = Math.floor(this.pageHeight / (v + C));
          A(l, function (T, O) {
            O !== 0 && O % k === 0 && ((m += 1), (y.x += w), (y.y = o)),
              n.moveElementTo(T, y),
              T.getParent().setClip({
                type: 'rect',
                attrs: { x: y.x, y: y.y, width: w, height: v },
              }),
              (y.y += v + C);
          }),
            (this.totalPagesCnt = m),
            this.moveElementTo(p, {
              x: a + S / 2 - g.width / 2 - g.minX,
              y: c - g.height - g.minY,
            });
        }
        this.pageHeight &&
          this.pageWidth &&
          i
            .getParent()
            .setClip({
              type: 'rect',
              attrs: {
                x: this.startX,
                y: this.startY,
                width: this.pageWidth,
                height: this.pageHeight,
              },
            }),
          s === 'horizontal' && this.get('maxRow')
            ? (this.totalPagesCnt = Math.ceil(m / this.get('maxRow')))
            : (this.totalPagesCnt = m),
          this.currentPageIndex > this.totalPagesCnt && (this.currentPageIndex = 1),
          this.updateNavigation(p),
          i.attr('matrix', this.getCurrentNavigationMatrix());
      }),
      (r.prototype.drawNavigation = function (t, i, n, a) {
        var o = { x: 0, y: 0 },
          s = this.addGroup(t, {
            id: this.getElementId('navigation-group'),
            name: 'legend-navigation',
          }),
          l = M(a.marker, 'style', {}),
          u = l.size,
          c = u === void 0 ? 12 : u,
          h = mt(l, ['size']),
          f = this.drawArrow(s, o, su, i === 'horizontal' ? 'up' : 'left', c, h);
        f.on('click', this.onNavigationBack);
        var v = f.getBBox();
        o.x += v.width + 2;
        var d = this.addShape(s, {
            type: 'text',
            id: this.getElementId('navigation-text'),
            name: 'navigation-text',
            attrs: x(
              { x: o.x, y: o.y + c / 2, text: n, textBaseline: 'middle' },
              M(a.text, 'style'),
            ),
          }),
          p = d.getBBox();
        o.x += p.width + 2;
        var g = this.drawArrow(s, o, ou, i === 'horizontal' ? 'down' : 'right', c, h);
        return g.on('click', this.onNavigationAfter), s;
      }),
      (r.prototype.updateNavigation = function (t) {
        var i = _({}, au, this.get('pageNavigator')),
          n = i.marker.style,
          a = n.fill,
          o = n.opacity,
          s = n.inactiveFill,
          l = n.inactiveOpacity,
          u = this.currentPageIndex + '/' + this.totalPagesCnt,
          c = t ? t.getChildren()[1] : this.getElementByLocalId('navigation-text'),
          h = t ? t.findById(this.getElementId(su)) : this.getElementByLocalId(su),
          f = t ? t.findById(this.getElementId(ou)) : this.getElementByLocalId(ou);
        c.attr('text', u),
          h.attr('opacity', this.currentPageIndex === 1 ? l : o),
          h.attr('fill', this.currentPageIndex === 1 ? s : a),
          h.attr('cursor', this.currentPageIndex === 1 ? 'not-allowed' : 'pointer'),
          f.attr('opacity', this.currentPageIndex === this.totalPagesCnt ? l : o),
          f.attr('fill', this.currentPageIndex === this.totalPagesCnt ? s : a),
          f.attr(
            'cursor',
            this.currentPageIndex === this.totalPagesCnt ? 'not-allowed' : 'pointer',
          );
        var v = h.getBBox().maxX + 2;
        c.attr('x', v), (v += c.getBBox().width + 2), this.updateArrowPath(f, { x: v, y: 0 });
      }),
      (r.prototype.drawArrow = function (t, i, n, a, o, s) {
        var l = i.x,
          u = i.y,
          c = this.addShape(t, {
            type: 'path',
            id: this.getElementId(n),
            name: n,
            attrs: x(
              {
                size: o,
                direction: a,
                path: [['M', l + o / 2, u], ['L', l, u + o], ['L', l + o, u + o], ['Z']],
                cursor: 'pointer',
              },
              s,
            ),
          });
        return c.attr('matrix', Oi({ x: l + o / 2, y: u + o / 2 }, ld[a])), c;
      }),
      (r.prototype.updateArrowPath = function (t, i) {
        var n = i.x,
          a = i.y,
          o = t.attr(),
          s = o.size,
          l = o.direction,
          u = Oi({ x: n + s / 2, y: a + s / 2 }, ld[l]);
        t.attr('path', [['M', n + s / 2, a], ['L', n, a + s], ['L', n + s, a + s], ['Z']]),
          t.attr('matrix', u);
      }),
      (r.prototype.getCurrentNavigationMatrix = function () {
        var t = this,
          i = t.currentPageIndex,
          n = t.pageWidth,
          a = t.pageHeight,
          o = this.get('layout'),
          s = o === 'horizontal' ? { x: 0, y: a * (1 - i) } : { x: n * (1 - i), y: 0 };
        return ch(s);
      }),
      (r.prototype.applyItemStates = function (t, i) {
        var n = this.getItemStates(t),
          a = n.length > 0;
        if (a) {
          var o = i.getChildren(),
            s = this.get('itemStates');
          A(o, function (l) {
            var u = l.get('name'),
              c = u.split('-')[2],
              h = ra(t, c, s);
            h &&
              (l.attr(h),
              c === 'marker' &&
                !(l.get('isStroke') && l.get('isFill')) &&
                (l.get('isStroke') && l.attr('fill', null),
                l.get('isFill') && l.attr('stroke', null)));
          });
        }
      }),
      (r.prototype.getLimitItemWidth = function () {
        var t = this.get('itemWidth'),
          i = this.get('maxItemWidth');
        return i ? t && (i = t <= i ? t : i) : t && (i = t), i;
      }),
      r
    );
  })(dm),
  gE = 1.4,
  ud = 0.4,
  yE = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return x(x({}, t), {
          type: 'continue',
          min: 0,
          max: 100,
          value: null,
          colors: [],
          track: {},
          rail: {},
          label: {},
          handler: {},
          slidable: !0,
          tip: null,
          step: null,
          maxWidth: null,
          maxHeight: null,
          defaultCfg: {
            label: {
              align: 'rail',
              spacing: 5,
              formatter: null,
              style: {
                fontSize: 12,
                fill: ut.textColor,
                textBaseline: 'middle',
                fontFamily: ut.fontFamily,
              },
            },
            handler: { size: 10, style: { fill: '#fff', stroke: '#333' } },
            track: {},
            rail: { type: 'color', size: 20, defaultLength: 100, style: { fill: '#DCDEE2' } },
            title: {
              spacing: 5,
              style: { fill: ut.textColor, fontSize: 12, textAlign: 'start', textBaseline: 'top' },
            },
          },
        });
      }),
      (r.prototype.isSlider = function () {
        return !0;
      }),
      (r.prototype.getValue = function () {
        return this.getCurrentValue();
      }),
      (r.prototype.getRange = function () {
        return { min: this.get('min'), max: this.get('max') };
      }),
      (r.prototype.setRange = function (t, i) {
        this.update({ min: t, max: i });
      }),
      (r.prototype.setValue = function (t) {
        var i = this.getValue();
        this.set('value', t);
        var n = this.get('group');
        this.resetTrackClip(),
          this.get('slidable') && this.resetHandlers(n),
          this.delegateEmit('valuechanged', { originValue: i, value: t });
      }),
      (r.prototype.initEvent = function () {
        var t = this.get('group');
        this.bindSliderEvent(t), this.bindRailEvent(t), this.bindTrackEvent(t);
      }),
      (r.prototype.drawLegendContent = function (t) {
        this.drawRail(t),
          this.drawLabels(t),
          this.fixedElements(t),
          this.resetTrack(t),
          this.resetTrackClip(t),
          this.get('slidable') && this.resetHandlers(t);
      }),
      (r.prototype.bindSliderEvent = function (t) {
        this.bindHandlersEvent(t);
      }),
      (r.prototype.bindHandlersEvent = function (t) {
        var i = this;
        t.on('legend-handler-min:drag', function (n) {
          var a = i.getValueByCanvasPoint(n.x, n.y),
            o = i.getCurrentValue(),
            s = o[1];
          s < a && (s = a), i.setValue([a, s]);
        }),
          t.on('legend-handler-max:drag', function (n) {
            var a = i.getValueByCanvasPoint(n.x, n.y),
              o = i.getCurrentValue(),
              s = o[0];
            s > a && (s = a), i.setValue([s, a]);
          });
      }),
      (r.prototype.bindRailEvent = function (t) {}),
      (r.prototype.bindTrackEvent = function (t) {
        var i = this,
          n = null;
        t.on('legend-track:dragstart', function (a) {
          n = { x: a.x, y: a.y };
        }),
          t.on('legend-track:drag', function (a) {
            if (n) {
              var o = i.getValueByCanvasPoint(n.x, n.y),
                s = i.getValueByCanvasPoint(a.x, a.y),
                l = i.getCurrentValue(),
                u = l[1] - l[0],
                c = i.getRange(),
                h = s - o;
              h < 0
                ? l[0] + h > c.min
                  ? i.setValue([l[0] + h, l[1] + h])
                  : i.setValue([c.min, c.min + u])
                : h > 0 &&
                  (h > 0 && l[1] + h < c.max
                    ? i.setValue([l[0] + h, l[1] + h])
                    : i.setValue([c.max - u, c.max])),
                (n = { x: a.x, y: a.y });
            }
          }),
          t.on('legend-track:dragend', function (a) {
            n = null;
          });
      }),
      (r.prototype.drawLabels = function (t) {
        this.drawLabel('min', t), this.drawLabel('max', t);
      }),
      (r.prototype.drawLabel = function (t, i) {
        var n = this.get('label'),
          a = n.style,
          o = n.align,
          s = n.formatter,
          l = this.get(t),
          u = this.getLabelAlignAttrs(t, o),
          c = 'label-' + t;
        this.addShape(i, {
          type: 'text',
          id: this.getElementId(c),
          name: 'legend-label-' + t,
          attrs: x(x({ x: 0, y: 0, text: q(s) ? s(l) : l }, a), u),
        });
      }),
      (r.prototype.getLabelAlignAttrs = function (t, i) {
        var n = this.isVertical(),
          a = 'center',
          o = 'middle';
        return (
          n
            ? ((a = 'start'),
              i !== 'rail' ? (t === 'min' ? (o = 'top') : (o = 'bottom')) : (o = 'top'))
            : i !== 'rail'
            ? ((o = 'top'), t === 'min' ? (a = 'start') : (a = 'end'))
            : ((a = 'start'), (o = 'middle')),
          { textAlign: a, textBaseline: o }
        );
      }),
      (r.prototype.getRailPath = function (t, i, n, a) {
        var o = this.get('rail'),
          s = o.size,
          l = o.defaultLength,
          u = o.type,
          c = this.isVertical(),
          h = l,
          f = n,
          v = a;
        f || (f = c ? s : h), v || (v = c ? h : s);
        var d = [];
        return (
          u === 'color'
            ? (d.push(['M', t, i]),
              d.push(['L', t + f, i]),
              d.push(['L', t + f, i + v]),
              d.push(['L', t, i + v]),
              d.push(['Z']))
            : (d.push(['M', t + f, i]),
              d.push(['L', t + f, i + v]),
              d.push(['L', t, i + v]),
              d.push(['Z'])),
          d
        );
      }),
      (r.prototype.drawRail = function (t) {
        var i = this.get('rail'),
          n = i.style;
        this.addShape(t, {
          type: 'path',
          id: this.getElementId('rail'),
          name: 'legend-rail',
          attrs: x({ path: this.getRailPath(0, 0) }, n),
        });
      }),
      (r.prototype.getTrackColor = function (t) {
        var i = t.length;
        if (!i) return null;
        if (i === 1) return t[0];
        var n;
        this.isVertical() ? (n = 'l(90)') : (n = 'l(0)');
        for (var a = 0; a < i; a++) {
          var o = a / (i - 1);
          n += ' ' + o + ':' + t[a];
        }
        return n;
      }),
      (r.prototype.getTrackPath = function (t) {
        var i = this.getRailShape(t),
          n = i.attr('path');
        return ue(n);
      }),
      (r.prototype.getClipTrackAttrs = function (t) {
        var i = this.getCurrentValue(),
          n = i[0],
          a = i[1],
          o = this.getRailBBox(t),
          s = this.getPointByValue(n, t),
          l = this.getPointByValue(a, t),
          u = this.isVertical(),
          c,
          h,
          f,
          v;
        return (
          u
            ? ((c = o.minX), (h = s.y), (f = o.width), (v = l.y - s.y))
            : ((c = s.x), (h = o.minY), (f = l.x - s.x), (v = o.height)),
          { x: c, y: h, width: f, height: v }
        );
      }),
      (r.prototype.getTrackAttrs = function (t) {
        var i = this.get('track'),
          n = this.get('colors'),
          a = this.getTrackPath(t);
        return xt({ path: a, fill: this.getTrackColor(n) }, i.style);
      }),
      (r.prototype.resetTrackClip = function (t) {
        var i = t || this.get('group'),
          n = this.getElementId('track'),
          a = i.findById(n),
          o = a.getClip(),
          s = this.getClipTrackAttrs(t);
        o ? o.attr(s) : a.setClip({ type: 'rect', attrs: s });
      }),
      (r.prototype.resetTrack = function (t) {
        var i = this.getElementId('track'),
          n = t.findById(i),
          a = this.getTrackAttrs(t);
        n
          ? n.attr(a)
          : this.addShape(t, {
              type: 'path',
              id: i,
              draggable: this.get('slidable'),
              name: 'legend-track',
              attrs: a,
            });
      }),
      (r.prototype.getPointByValue = function (t, i) {
        var n = this.getRange(),
          a = n.min,
          o = n.max,
          s = (t - a) / (o - a),
          l = this.getRailBBox(i),
          u = this.isVertical(),
          c = { x: 0, y: 0 };
        return (
          u
            ? ((c.x = l.minX + l.width / 2), (c.y = Fi(l.minY, l.maxY, s)))
            : ((c.x = Fi(l.minX, l.maxX, s)), (c.y = l.minY + l.height / 2)),
          c
        );
      }),
      (r.prototype.getRailShape = function (t) {
        var i = t || this.get('group');
        return i.findById(this.getElementId('rail'));
      }),
      (r.prototype.getRailBBox = function (t) {
        var i = this.getRailShape(t),
          n = i.getBBox();
        return n;
      }),
      (r.prototype.getRailCanvasBBox = function () {
        var t = this.get('group'),
          i = t.findById(this.getElementId('rail')),
          n = i.getCanvasBBox();
        return n;
      }),
      (r.prototype.isVertical = function () {
        return this.get('layout') === 'vertical';
      }),
      (r.prototype.getValueByCanvasPoint = function (t, i) {
        var n = this.getRange(),
          a = n.min,
          o = n.max,
          s = this.getRailCanvasBBox(),
          l = this.isVertical(),
          u = this.get('step'),
          c;
        l ? (c = (i - s.minY) / s.height) : (c = (t - s.minX) / s.width);
        var h = Fi(a, o, c);
        if (u) {
          var f = Math.round((h - a) / u);
          h = a + f * u;
        }
        return h > o && (h = o), h < a && (h = a), h;
      }),
      (r.prototype.getCurrentValue = function () {
        var t = this.get('value');
        if (!t) {
          var i = this.get('values');
          return i
            ? [
                Math.max(Math.min.apply(Math, Ct(i, [this.get('max')])), this.get('min')),
                Math.min(Math.max.apply(Math, Ct(i, [this.get('min')])), this.get('max')),
              ]
            : [this.get('min'), this.get('max')];
        }
        return t;
      }),
      (r.prototype.resetHandlers = function (t) {
        var i = this.getCurrentValue(),
          n = i[0],
          a = i[1];
        this.resetHandler(t, 'min', n), this.resetHandler(t, 'max', a);
      }),
      (r.prototype.getHandlerPath = function (t, i) {
        var n = this.isVertical(),
          a = [],
          o = t.size,
          s = i.x,
          l = i.y,
          u = o * gE,
          c = o / 2,
          h = o / 6;
        if (n) {
          var f = s + u * ud;
          a.push(['M', s, l]),
            a.push(['L', f, l + c]),
            a.push(['L', s + u, l + c]),
            a.push(['L', s + u, l - c]),
            a.push(['L', f, l - c]),
            a.push(['Z']),
            a.push(['M', f, l + h]),
            a.push(['L', s + u - 2, l + h]),
            a.push(['M', f, l - h]),
            a.push(['L', s + u - 2, l - h]);
        } else {
          var v = l + u * ud;
          a.push(['M', s, l]),
            a.push(['L', s - c, v]),
            a.push(['L', s - c, l + u]),
            a.push(['L', s + c, l + u]),
            a.push(['L', s + c, v]),
            a.push(['Z']),
            a.push(['M', s - h, v]),
            a.push(['L', s - h, l + u - 2]),
            a.push(['M', s + h, v]),
            a.push(['L', s + h, l + u - 2]);
        }
        return a;
      }),
      (r.prototype.resetHandler = function (t, i, n) {
        var a = this.getPointByValue(n, t),
          o = this.get('handler'),
          s = this.getHandlerPath(o, a),
          l = this.getElementId('handler-' + i),
          u = t.findById(l),
          c = this.isVertical();
        u
          ? u.attr('path', s)
          : this.addShape(t, {
              type: 'path',
              name: 'legend-handler-' + i,
              draggable: !0,
              id: l,
              attrs: x(x({ path: s }, o.style), { cursor: c ? 'ns-resize' : 'ew-resize' }),
            });
      }),
      (r.prototype.fixedElements = function (t) {
        var i = t.findById(this.getElementId('rail')),
          n = t.findById(this.getElementId('label-min')),
          a = t.findById(this.getElementId('label-max')),
          o = this.getDrawPoint();
        this.isVertical() ? this.fixedVertail(n, a, i, o) : this.fixedHorizontal(n, a, i, o);
      }),
      (r.prototype.fitRailLength = function (t, i, n, a) {
        var o = this.isVertical(),
          s = o ? 'height' : 'width',
          l = this.get('label'),
          u = l.align,
          c = l.spacing,
          h = this.get('max' + zi(s));
        if (h) {
          var f = u === 'rail' ? n[s] + t[s] + i[s] + c * 2 : n[s],
            v = f - h;
          v > 0 && this.changeRailLength(a, s, n[s] - v);
        }
      }),
      (r.prototype.changeRailLength = function (t, i, n) {
        var a = t.getBBox(),
          o;
        i === 'height'
          ? (o = this.getRailPath(a.x, a.y, a.width, n))
          : (o = this.getRailPath(a.x, a.y, n, a.height)),
          t.attr('path', o);
      }),
      (r.prototype.changeRailPosition = function (t, i, n) {
        var a = t.getBBox(),
          o = this.getRailPath(i, n, a.width, a.height);
        t.attr('path', o);
      }),
      (r.prototype.fixedHorizontal = function (t, i, n, a) {
        var o = this.get('label'),
          s = o.align,
          l = o.spacing,
          u = n.getBBox(),
          c = t.getBBox(),
          h = i.getBBox(),
          f = u.height;
        this.fitRailLength(c, h, u, n),
          (u = n.getBBox()),
          s === 'rail'
            ? (t.attr({ x: a.x, y: a.y + f / 2 }),
              this.changeRailPosition(n, a.x + c.width + l, a.y),
              i.attr({ x: a.x + c.width + u.width + l * 2, y: a.y + f / 2 }))
            : s === 'top'
            ? (t.attr({ x: a.x, y: a.y }),
              i.attr({ x: a.x + u.width, y: a.y }),
              this.changeRailPosition(n, a.x, a.y + c.height + l))
            : (this.changeRailPosition(n, a.x, a.y),
              t.attr({ x: a.x, y: a.y + u.height + l }),
              i.attr({ x: a.x + u.width, y: a.y + u.height + l }));
      }),
      (r.prototype.fixedVertail = function (t, i, n, a) {
        var o = this.get('label'),
          s = o.align,
          l = o.spacing,
          u = n.getBBox(),
          c = t.getBBox(),
          h = i.getBBox();
        if ((this.fitRailLength(c, h, u, n), (u = n.getBBox()), s === 'rail'))
          t.attr({ x: a.x, y: a.y }),
            this.changeRailPosition(n, a.x, a.y + c.height + l),
            i.attr({ x: a.x, y: a.y + c.height + u.height + l * 2 });
        else if (s === 'right')
          t.attr({ x: a.x + u.width + l, y: a.y }),
            this.changeRailPosition(n, a.x, a.y),
            i.attr({ x: a.x + u.width + l, y: a.y + u.height });
        else {
          var f = Math.max(c.width, h.width);
          t.attr({ x: a.x, y: a.y }),
            this.changeRailPosition(n, a.x + f + l, a.y),
            i.attr({ x: a.x, y: a.y + u.height });
        }
      }),
      r
    );
  })(dm),
  Cr = 'g2-tooltip',
  Ar = 'g2-tooltip-title',
  Ia = 'g2-tooltip-list',
  hl = 'g2-tooltip-list-item',
  fl = 'g2-tooltip-marker',
  vl = 'g2-tooltip-value',
  pm = 'g2-tooltip-name',
  ph = 'g2-tooltip-crosshair-x',
  gh = 'g2-tooltip-crosshair-y';
const mE = Object.freeze(
  Object.defineProperty(
    {
      __proto__: null,
      CONTAINER_CLASS: Cr,
      CROSSHAIR_X: ph,
      CROSSHAIR_Y: gh,
      LIST_CLASS: Ia,
      LIST_ITEM_CLASS: hl,
      MARKER_CLASS: fl,
      NAME_CLASS: pm,
      TITLE_CLASS: Ar,
      VALUE_CLASS: vl,
    },
    Symbol.toStringTag,
    { value: 'Module' },
  ),
);
var Ke;
const xE =
  ((Ke = {}),
  (Ke['' + Cr] = {
    position: 'absolute',
    visibility: 'visible',
    zIndex: 8,
    transition:
      'visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)',
    backgroundColor: 'rgba(255, 255, 255, 0.9)',
    boxShadow: '0px 0px 10px #aeaeae',
    borderRadius: '3px',
    color: 'rgb(87, 87, 87)',
    fontSize: '12px',
    fontFamily: ut.fontFamily,
    lineHeight: '20px',
    padding: '10px 10px 6px 10px',
  }),
  (Ke['' + Ar] = { marginBottom: '4px' }),
  (Ke['' + Ia] = { margin: '0px', listStyleType: 'none', padding: '0px' }),
  (Ke['' + hl] = { listStyleType: 'none', marginBottom: '4px' }),
  (Ke['' + fl] = {
    width: '8px',
    height: '8px',
    borderRadius: '50%',
    display: 'inline-block',
    marginRight: '8px',
  }),
  (Ke['' + vl] = { display: 'inline-block', float: 'right', marginLeft: '30px' }),
  (Ke['' + ph] = { position: 'absolute', width: '1px', backgroundColor: 'rgba(0, 0, 0, 0.25)' }),
  (Ke['' + gh] = { position: 'absolute', height: '1px', backgroundColor: 'rgba(0, 0, 0, 0.25)' }),
  Ke);
function wE(e, r, t, i, n) {
  var a = {
    left: e < n.x,
    right: e + t > n.x + n.width,
    top: r < n.y,
    bottom: r + i > n.y + n.height,
  };
  return a;
}
function bE(e, r, t, i, n, a) {
  var o = e,
    s = r;
  switch (a) {
    case 'left':
      (o = e - i - t), (s = r - n / 2);
      break;
    case 'right':
      (o = e + t), (s = r - n / 2);
      break;
    case 'top':
      (o = e - i / 2), (s = r - n - t);
      break;
    case 'bottom':
      (o = e - i / 2), (s = r + t);
      break;
    default:
      (o = e + t), (s = r - n - t);
      break;
  }
  return { x: o, y: s };
}
function SE(e, r, t, i, n, a, o) {
  var s = bE(e, r, t, i, n, a);
  if (o) {
    var l = wE(s.x, s.y, i, n, o);
    a === 'auto'
      ? (l.right && (s.x = Math.max(0, e - i - t)), l.top && (s.y = Math.max(0, r - n - t)))
      : a === 'top' || a === 'bottom'
      ? (l.left && (s.x = o.x),
        l.right && (s.x = o.x + o.width - i),
        a === 'top' && l.top && (s.y = r + t),
        a === 'bottom' && l.bottom && (s.y = r - n - t))
      : (l.top && (s.y = o.y),
        l.bottom && (s.y = o.y + o.height - n),
        a === 'left' && l.left && (s.x = e + t),
        a === 'right' && l.right && (s.x = e - i - t));
  }
  return s;
}
function CE(e, r) {
  var t = !1;
  return (
    A(r, function (i) {
      if (jr(e, i)) return (t = !0), !1;
    }),
    t
  );
}
var AE = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return x(x({}, t), {
          name: 'tooltip',
          type: 'html',
          x: 0,
          y: 0,
          items: [],
          customContent: null,
          containerTpl:
            '<div class="' +
            Cr +
            '"><div class="' +
            Ar +
            '"></div><ul class="' +
            Ia +
            '"></ul></div>',
          itemTpl:
            '<li class="' +
            hl +
            `" data-index={index}>
          <span class="` +
            fl +
            `" style="background:{color}"></span>
          <span class="` +
            pm +
            `">{name}</span>:
          <span class="` +
            vl +
            `">{value}</span>
        </li>`,
          xCrosshairTpl: '<div class="' + ph + '"></div>',
          yCrosshairTpl: '<div class="' + gh + '"></div>',
          title: null,
          showTitle: !0,
          region: null,
          crosshairsRegion: null,
          containerClassName: Cr,
          crosshairs: null,
          offset: 10,
          position: 'right',
          domStyles: null,
          defaultStyles: xE,
        });
      }),
      (r.prototype.render = function () {
        this.get('customContent')
          ? this.renderCustomContent()
          : (this.resetTitle(), this.renderItems()),
          this.resetPosition();
      }),
      (r.prototype.clear = function () {
        this.clearCrosshairs(), this.setTitle(''), this.clearItemDoms();
      }),
      (r.prototype.show = function () {
        var t = this.getContainer();
        !t ||
          this.destroyed ||
          (this.set('visible', !0),
          ne(t, { visibility: 'visible' }),
          this.setCrossHairsVisible(!0));
      }),
      (r.prototype.hide = function () {
        var t = this.getContainer();
        !t ||
          this.destroyed ||
          (this.set('visible', !1), ne(t, { visibility: 'hidden' }), this.setCrossHairsVisible(!1));
      }),
      (r.prototype.getLocation = function () {
        return { x: this.get('x'), y: this.get('y') };
      }),
      (r.prototype.setLocation = function (t) {
        this.set('x', t.x), this.set('y', t.y), this.resetPosition();
      }),
      (r.prototype.setCrossHairsVisible = function (t) {
        var i = t ? '' : 'none',
          n = this.get('xCrosshairDom'),
          a = this.get('yCrosshairDom');
        n && ne(n, { display: i }), a && ne(a, { display: i });
      }),
      (r.prototype.initContainer = function () {
        if ((e.prototype.initContainer.call(this), this.get('customContent'))) {
          this.get('container') && this.get('container').remove();
          var t = this.getHtmlContentNode();
          this.get('parent').appendChild(t),
            this.set('container', t),
            this.resetStyles(),
            this.applyStyles();
        }
      }),
      (r.prototype.updateInner = function (t) {
        this.get('customContent')
          ? this.renderCustomContent()
          : (CE(t, ['title', 'showTitle']) && this.resetTitle(),
            jr(t, 'items') && this.renderItems()),
          e.prototype.updateInner.call(this, t);
      }),
      (r.prototype.initDom = function () {
        this.cacheDoms();
      }),
      (r.prototype.removeDom = function () {
        e.prototype.removeDom.call(this), this.clearCrosshairs();
      }),
      (r.prototype.resetPosition = function () {
        var t = this.get('x'),
          i = this.get('y'),
          n = this.get('offset'),
          a = this.getOffset(),
          o = a.offsetX,
          s = a.offsetY,
          l = this.get('position'),
          u = this.get('region'),
          c = this.getContainer(),
          h = this.getBBox(),
          f = h.width,
          v = h.height,
          d;
        u && (d = Ea(u));
        var p = SE(t, i, n, f, v, l, d);
        ne(c, { left: pe(p.x + o), top: pe(p.y + s) }), this.resetCrosshairs();
      }),
      (r.prototype.renderCustomContent = function () {
        var t = this.getHtmlContentNode(),
          i = this.get('parent'),
          n = this.get('container');
        n && n.parentNode === i ? i.replaceChild(t, n) : i.appendChild(t),
          this.set('container', t),
          this.resetStyles(),
          this.applyStyles();
      }),
      (r.prototype.getHtmlContentNode = function () {
        var t,
          i = this.get('customContent');
        if (i) {
          var n = i(this.get('title'), this.get('items'));
          Pg(n) ? (t = n) : (t = Vr(n));
        }
        return t;
      }),
      (r.prototype.cacheDoms = function () {
        var t = this.getContainer(),
          i = t.getElementsByClassName(Ar)[0],
          n = t.getElementsByClassName(Ia)[0];
        this.set('titleDom', i), this.set('listDom', n);
      }),
      (r.prototype.resetTitle = function () {
        var t = this.get('title'),
          i = this.get('showTitle');
        i && t ? this.setTitle(t) : this.setTitle('');
      }),
      (r.prototype.setTitle = function (t) {
        var i = this.get('titleDom');
        i && (i.innerText = t);
      }),
      (r.prototype.resetCrosshairs = function () {
        var t = this.get('crosshairsRegion'),
          i = this.get('crosshairs');
        if (!t || !i) this.clearCrosshairs();
        else {
          var n = Ea(t),
            a = this.get('xCrosshairDom'),
            o = this.get('yCrosshairDom');
          i === 'x'
            ? (this.resetCrosshair('x', n), o && (o.remove(), this.set('yCrosshairDom', null)))
            : i === 'y'
            ? (this.resetCrosshair('y', n), a && (a.remove(), this.set('xCrosshairDom', null)))
            : (this.resetCrosshair('x', n), this.resetCrosshair('y', n)),
            this.setCrossHairsVisible(this.get('visible'));
        }
      }),
      (r.prototype.resetCrosshair = function (t, i) {
        var n = this.checkCrosshair(t),
          a = this.get(t);
        t === 'x'
          ? ne(n, { left: pe(a), top: pe(i.y), height: pe(i.height) })
          : ne(n, { top: pe(a), left: pe(i.x), width: pe(i.width) });
      }),
      (r.prototype.checkCrosshair = function (t) {
        var i = t + 'CrosshairDom',
          n = t + 'CrosshairTpl',
          a = 'CROSSHAIR_' + t.toUpperCase(),
          o = mE[a],
          s = this.get(i),
          l = this.get('parent');
        return (
          s || ((s = Vr(this.get(n))), this.applyStyle(o, s), l.appendChild(s), this.set(i, s)), s
        );
      }),
      (r.prototype.renderItems = function () {
        this.clearItemDoms();
        var t = this.get('items'),
          i = this.get('itemTpl'),
          n = this.get('listDom');
        n &&
          (A(t, function (a) {
            var o = Yr.toCSSGradient(a.color),
              s = x(x({}, a), { color: o }),
              l = Lg(i, s),
              u = Vr(l);
            n.appendChild(u);
          }),
          this.applyChildrenStyles(n, this.get('domStyles')));
      }),
      (r.prototype.clearItemDoms = function () {
        this.get('listDom') && hh(this.get('listDom'));
      }),
      (r.prototype.clearCrosshairs = function () {
        var t = this.get('xCrosshairDom'),
          i = this.get('yCrosshairDom');
        t && t.remove(),
          i && i.remove(),
          this.set('xCrosshairDom', null),
          this.set('yCrosshairDom', null);
      }),
      r
    );
  })(fh),
  ME = { opacity: 0 },
  FE = { stroke: '#C5C5C5', strokeOpacity: 0.85 },
  EE = { fill: '#CACED4', opacity: 0.85 };
function TE(e) {
  return Tt(e, function (r, t) {
    var i = t === 0 ? 'M' : 'L',
      n = r[0],
      a = r[1];
    return [i, n, a];
  });
}
function gm(e) {
  return TE(e);
}
function kE(e) {
  if (e.length <= 2) return gm(e);
  var r = [];
  A(e, function (o) {
    Bt(o, r.slice(r.length - 2)) || r.push(o[0], o[1]);
  });
  var t = GM(r, !1),
    i = Me(e),
    n = i[0],
    a = i[1];
  return t.unshift(['M', n, a]), t;
}
function IE(e, r, t, i) {
  i === void 0 && (i = !0);
  var n = new sl({ values: e }),
    a = new al({
      values: Tt(e, function (s, l) {
        return l;
      }),
    }),
    o = Tt(e, function (s, l) {
      return [a.scale(l) * r, t - n.scale(s) * t];
    });
  return i ? kE(o) : gm(o);
}
function LE(e, r) {
  var t = new sl({ values: e }),
    i = t.max < 0 ? t.max : Math.max(0, t.min);
  return r - t.scale(i) * r;
}
function OE(e, r, t, i) {
  var n = Ct(e),
    a = LE(i, t);
  return n.push(['L', r, a]), n.push(['L', 0, a]), n.push(['Z']), n;
}
var PE = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return x(x({}, t), {
          name: 'trend',
          x: 0,
          y: 0,
          width: 200,
          height: 16,
          smooth: !0,
          isArea: !1,
          data: [],
          backgroundStyle: ME,
          lineStyle: FE,
          areaStyle: EE,
        });
      }),
      (r.prototype.renderInner = function (t) {
        var i = this.cfg,
          n = i.width,
          a = i.height,
          o = i.data,
          s = i.smooth,
          l = i.isArea,
          u = i.backgroundStyle,
          c = i.lineStyle,
          h = i.areaStyle;
        this.addShape(t, {
          id: this.getElementId('background'),
          type: 'rect',
          attrs: x({ x: 0, y: 0, width: n, height: a }, u),
        });
        var f = IE(o, n, a, s);
        if (
          (this.addShape(t, {
            id: this.getElementId('line'),
            type: 'path',
            attrs: x({ path: f }, c),
          }),
          l)
        ) {
          var v = OE(f, n, a, o);
          this.addShape(t, {
            id: this.getElementId('area'),
            type: 'path',
            attrs: x({ path: v }, h),
          });
        }
      }),
      (r.prototype.applyOffset = function () {
        var t = this.cfg,
          i = t.x,
          n = t.y;
        this.moveElementTo(this.get('group'), { x: i, y: n });
      }),
      r
    );
  })(ie),
  ym = {
    fill: '#F7F7F7',
    stroke: '#BFBFBF',
    radius: 2,
    opacity: 1,
    cursor: 'ew-resize',
    highLightFill: '#FFF',
  },
  cd = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return x(x({}, t), { name: 'handler', x: 0, y: 0, width: 10, height: 24, style: ym });
      }),
      (r.prototype.renderInner = function (t) {
        var i = this.cfg,
          n = i.width,
          a = i.height,
          o = i.style,
          s = o.fill,
          l = o.stroke,
          u = o.radius,
          c = o.opacity,
          h = o.cursor;
        this.addShape(t, {
          type: 'rect',
          id: this.getElementId('background'),
          attrs: {
            x: 0,
            y: 0,
            width: n,
            height: a,
            fill: s,
            stroke: l,
            radius: u,
            opacity: c,
            cursor: h,
          },
        });
        var f = (1 / 3) * n,
          v = (2 / 3) * n,
          d = (1 / 4) * a,
          p = (3 / 4) * a;
        this.addShape(t, {
          id: this.getElementId('line-left'),
          type: 'line',
          attrs: { x1: f, y1: d, x2: f, y2: p, stroke: l, cursor: h },
        }),
          this.addShape(t, {
            id: this.getElementId('line-right'),
            type: 'line',
            attrs: { x1: v, y1: d, x2: v, y2: p, stroke: l, cursor: h },
          });
      }),
      (r.prototype.applyOffset = function () {
        this.moveElementTo(this.get('group'), { x: this.get('x'), y: this.get('y') });
      }),
      (r.prototype.initEvent = function () {
        this.bindEvents();
      }),
      (r.prototype.bindEvents = function () {
        var t = this;
        this.get('group').on('mouseenter', function () {
          var i = t.get('style').highLightFill;
          t.getElementByLocalId('background').attr('fill', i), t.draw();
        }),
          this.get('group').on('mouseleave', function () {
            var i = t.get('style').fill;
            t.getElementByLocalId('background').attr('fill', i), t.draw();
          });
      }),
      (r.prototype.draw = function () {
        var t = this.get('container').get('canvas');
        t && t.draw();
      }),
      r
    );
  })(ie),
  DE = { fill: '#416180', opacity: 0.05 },
  BE = { fill: '#5B8FF9', opacity: 0.15, cursor: 'move' },
  Ko = 10,
  RE = { width: Ko, height: 24 },
  $E = { textBaseline: 'middle', fill: '#000', opacity: 0.45 },
  NE = 'sliderchange',
  zE = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (
        (t.onMouseDown = function (i) {
          return function (n) {
            t.currentTarget = i;
            var a = n.originalEvent;
            a.stopPropagation(),
              a.preventDefault(),
              (t.prevX = M(a, 'touches.0.pageX', a.pageX)),
              (t.prevY = M(a, 'touches.0.pageY', a.pageY));
            var o = t.getContainerDOM();
            o.addEventListener('mousemove', t.onMouseMove),
              o.addEventListener('mouseup', t.onMouseUp),
              o.addEventListener('mouseleave', t.onMouseUp),
              o.addEventListener('touchmove', t.onMouseMove),
              o.addEventListener('touchend', t.onMouseUp),
              o.addEventListener('touchcancel', t.onMouseUp);
          };
        }),
        (t.onMouseMove = function (i) {
          var n = t.cfg.width,
            a = [t.get('start'), t.get('end')];
          i.stopPropagation(), i.preventDefault();
          var o = M(i, 'touches.0.pageX', i.pageX),
            s = M(i, 'touches.0.pageY', i.pageY),
            l = o - t.prevX,
            u = t.adjustOffsetRange(l / n);
          t.updateStartEnd(u),
            t.updateUI(
              t.getElementByLocalId('foreground'),
              t.getElementByLocalId('minText'),
              t.getElementByLocalId('maxText'),
            ),
            (t.prevX = o),
            (t.prevY = s),
            t.draw(),
            t.emit(NE, [t.get('start'), t.get('end')].sort()),
            t.delegateEmit('valuechanged', {
              originValue: a,
              value: [t.get('start'), t.get('end')],
            });
        }),
        (t.onMouseUp = function () {
          t.currentTarget && (t.currentTarget = void 0);
          var i = t.getContainerDOM();
          i &&
            (i.removeEventListener('mousemove', t.onMouseMove),
            i.removeEventListener('mouseup', t.onMouseUp),
            i.removeEventListener('mouseleave', t.onMouseUp),
            i.removeEventListener('touchmove', t.onMouseMove),
            i.removeEventListener('touchend', t.onMouseUp),
            i.removeEventListener('touchcancel', t.onMouseUp));
        }),
        t
      );
    }
    return (
      (r.prototype.setRange = function (t, i) {
        this.set('minLimit', t), this.set('maxLimit', i);
        var n = this.get('start'),
          a = this.get('end'),
          o = Mt(n, t, i),
          s = Mt(a, t, i);
        !this.get('isInit') && (n !== o || a !== s) && this.setValue([o, s]);
      }),
      (r.prototype.getRange = function () {
        return { min: this.get('minLimit') || 0, max: this.get('maxLimit') || 1 };
      }),
      (r.prototype.setValue = function (t) {
        var i = this.getRange();
        if ($(t) && t.length === 2) {
          var n = [this.get('start'), this.get('end')];
          this.update({ start: Mt(t[0], i.min, i.max), end: Mt(t[1], i.min, i.max) }),
            this.get('updateAutoRender') || this.render(),
            this.delegateEmit('valuechanged', { originValue: n, value: t });
        }
      }),
      (r.prototype.getValue = function () {
        return [this.get('start'), this.get('end')];
      }),
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return x(x({}, t), {
          name: 'slider',
          x: 0,
          y: 0,
          width: 100,
          height: 16,
          backgroundStyle: {},
          foregroundStyle: {},
          handlerStyle: {},
          textStyle: {},
          defaultCfg: { backgroundStyle: DE, foregroundStyle: BE, handlerStyle: RE, textStyle: $E },
        });
      }),
      (r.prototype.update = function (t) {
        var i = t.start,
          n = t.end,
          a = x({}, t);
        R(i) || (a.start = Mt(i, 0, 1)),
          R(n) || (a.end = Mt(n, 0, 1)),
          e.prototype.update.call(this, a),
          (this.minHandler = this.getChildComponentById(this.getElementId('minHandler'))),
          (this.maxHandler = this.getChildComponentById(this.getElementId('maxHandler'))),
          (this.trend = this.getChildComponentById(this.getElementId('trend')));
      }),
      (r.prototype.init = function () {
        this.set('start', Mt(this.get('start'), 0, 1)),
          this.set('end', Mt(this.get('end'), 0, 1)),
          e.prototype.init.call(this);
      }),
      (r.prototype.render = function () {
        e.prototype.render.call(this),
          this.updateUI(
            this.getElementByLocalId('foreground'),
            this.getElementByLocalId('minText'),
            this.getElementByLocalId('maxText'),
          );
      }),
      (r.prototype.renderInner = function (t) {
        var i = this.cfg;
        i.start, i.end;
        var n = i.width,
          a = i.height,
          o = i.trendCfg,
          s = o === void 0 ? {} : o,
          l = i.minText,
          u = i.maxText,
          c = i.backgroundStyle,
          h = c === void 0 ? {} : c,
          f = i.foregroundStyle,
          v = f === void 0 ? {} : f,
          d = i.textStyle,
          p = d === void 0 ? {} : d,
          g = _({}, ym, this.cfg.handlerStyle);
        Xt(M(s, 'data')) &&
          (this.trend = this.addComponent(
            t,
            x(
              { component: PE, id: this.getElementId('trend'), x: 0, y: 0, width: n, height: a },
              s,
            ),
          )),
          this.addShape(t, {
            id: this.getElementId('background'),
            type: 'rect',
            attrs: x({ x: 0, y: 0, width: n, height: a }, h),
          }),
          this.addShape(t, {
            id: this.getElementId('minText'),
            type: 'text',
            attrs: x({ y: a / 2, textAlign: 'right', text: l, silent: !1 }, p),
          }),
          this.addShape(t, {
            id: this.getElementId('maxText'),
            type: 'text',
            attrs: x({ y: a / 2, textAlign: 'left', text: u, silent: !1 }, p),
          }),
          this.addShape(t, {
            id: this.getElementId('foreground'),
            name: 'foreground',
            type: 'rect',
            attrs: x({ y: 0, height: a }, v),
          });
        var y = M(g, 'width', Ko),
          m = M(g, 'height', 24);
        (this.minHandler = this.addComponent(t, {
          component: cd,
          id: this.getElementId('minHandler'),
          name: 'handler-min',
          x: 0,
          y: (a - m) / 2,
          width: y,
          height: m,
          cursor: 'ew-resize',
          style: g,
        })),
          (this.maxHandler = this.addComponent(t, {
            component: cd,
            id: this.getElementId('maxHandler'),
            name: 'handler-max',
            x: 0,
            y: (a - m) / 2,
            width: y,
            height: m,
            cursor: 'ew-resize',
            style: g,
          }));
      }),
      (r.prototype.applyOffset = function () {
        this.moveElementTo(this.get('group'), { x: this.get('x'), y: this.get('y') });
      }),
      (r.prototype.initEvent = function () {
        this.bindEvents();
      }),
      (r.prototype.updateUI = function (t, i, n) {
        var a = this.cfg,
          o = a.start,
          s = a.end,
          l = a.width,
          u = a.minText,
          c = a.maxText,
          h = a.handlerStyle,
          f = a.height,
          v = o * l,
          d = s * l;
        this.trend &&
          (this.trend.update({ width: l, height: f }),
          this.get('updateAutoRender') || this.trend.render()),
          t.attr('x', v),
          t.attr('width', d - v);
        var p = M(h, 'width', Ko);
        i.attr('text', u), n.attr('text', c);
        var g = this._dodgeText([v, d], i, n),
          y = g[0],
          m = g[1];
        this.minHandler &&
          (this.minHandler.update({ x: v - p / 2 }),
          this.get('updateAutoRender') || this.minHandler.render()),
          A(y, function (b, w) {
            return i.attr(w, b);
          }),
          this.maxHandler &&
            (this.maxHandler.update({ x: d - p / 2 }),
            this.get('updateAutoRender') || this.maxHandler.render()),
          A(m, function (b, w) {
            return n.attr(w, b);
          });
      }),
      (r.prototype.bindEvents = function () {
        var t = this.get('group');
        t.on('handler-min:mousedown', this.onMouseDown('minHandler')),
          t.on('handler-min:touchstart', this.onMouseDown('minHandler')),
          t.on('handler-max:mousedown', this.onMouseDown('maxHandler')),
          t.on('handler-max:touchstart', this.onMouseDown('maxHandler'));
        var i = t.findById(this.getElementId('foreground'));
        i.on('mousedown', this.onMouseDown('foreground')),
          i.on('touchstart', this.onMouseDown('foreground'));
      }),
      (r.prototype.adjustOffsetRange = function (t) {
        var i = this.cfg,
          n = i.start,
          a = i.end;
        switch (this.currentTarget) {
          case 'minHandler': {
            var o = 0 - n,
              s = 1 - n;
            return Math.min(s, Math.max(o, t));
          }
          case 'maxHandler': {
            var o = 0 - a,
              s = 1 - a;
            return Math.min(s, Math.max(o, t));
          }
          case 'foreground': {
            var o = 0 - n,
              s = 1 - a;
            return Math.min(s, Math.max(o, t));
          }
        }
      }),
      (r.prototype.updateStartEnd = function (t) {
        var i = this.cfg,
          n = i.start,
          a = i.end;
        switch (this.currentTarget) {
          case 'minHandler':
            n += t;
            break;
          case 'maxHandler':
            a += t;
            break;
          case 'foreground':
            (n += t), (a += t);
            break;
        }
        this.set('start', n), this.set('end', a);
      }),
      (r.prototype._dodgeText = function (t, i, n) {
        var a,
          o,
          s = this.cfg,
          l = s.handlerStyle,
          u = s.width,
          c = 2,
          h = M(l, 'width', Ko),
          f = t[0],
          v = t[1],
          d = !1;
        f > v &&
          ((a = [v, f]), (f = a[0]), (v = a[1]), (o = [n, i]), (i = o[0]), (n = o[1]), (d = !0));
        var p = i.getBBox(),
          g = n.getBBox(),
          y =
            p.width > f - c
              ? { x: f + h / 2 + c, textAlign: 'left' }
              : { x: f - h / 2 - c, textAlign: 'right' },
          m =
            g.width > u - v - c
              ? { x: v - h / 2 - c, textAlign: 'right' }
              : { x: v + h / 2 + c, textAlign: 'left' };
        return d ? [m, y] : [y, m];
      }),
      (r.prototype.draw = function () {
        var t = this.get('container'),
          i = t && t.get('canvas');
        i && i.draw();
      }),
      (r.prototype.getContainerDOM = function () {
        var t = this.get('container'),
          i = t && t.get('canvas');
        return i && i.get('container');
      }),
      r
    );
  })(ie),
  GE = { trackColor: 'rgba(0,0,0,0)', thumbColor: 'rgba(0,0,0,0.15)', size: 8, lineCap: 'round' },
  lu = { default: GE, hover: { thumbColor: 'rgba(0,0,0,0.2)' } },
  HE = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (
        (t.clearEvents = Nr),
        (t.onStartEvent = function (i) {
          return function (n) {
            (t.isMobile = i), n.originalEvent.preventDefault();
            var a = i ? M(n.originalEvent, 'touches.0.clientX') : n.clientX,
              o = i ? M(n.originalEvent, 'touches.0.clientY') : n.clientY;
            (t.startPos = t.cfg.isHorizontal ? a : o), t.bindLaterEvent();
          };
        }),
        (t.bindLaterEvent = function () {
          var i = t.getContainerDOM(),
            n = [];
          t.isMobile
            ? (n = [
                Xi(i, 'touchmove', t.onMouseMove),
                Xi(i, 'touchend', t.onMouseUp),
                Xi(i, 'touchcancel', t.onMouseUp),
              ])
            : (n = [
                Xi(i, 'mousemove', t.onMouseMove),
                Xi(i, 'mouseup', t.onMouseUp),
                Xi(i, 'mouseleave', t.onMouseUp),
              ]),
            (t.clearEvents = function () {
              n.forEach(function (a) {
                a.remove();
              });
            });
        }),
        (t.onMouseMove = function (i) {
          var n = t.cfg,
            a = n.isHorizontal,
            o = n.thumbOffset;
          i.preventDefault();
          var s = t.isMobile ? M(i, 'touches.0.clientX') : i.clientX,
            l = t.isMobile ? M(i, 'touches.0.clientY') : i.clientY,
            u = a ? s : l,
            c = u - t.startPos;
          (t.startPos = u), t.updateThumbOffset(o + c);
        }),
        (t.onMouseUp = function (i) {
          i.preventDefault(), t.clearEvents();
        }),
        (t.onTrackClick = function (i) {
          var n = t.cfg,
            a = n.isHorizontal,
            o = n.x,
            s = n.y,
            l = n.thumbLen,
            u = t.getContainerDOM(),
            c = u.getBoundingClientRect(),
            h = i.clientX,
            f = i.clientY,
            v = a ? h - c.left - o - l / 2 : f - c.top - s - l / 2,
            d = t.validateRange(v);
          t.updateThumbOffset(d);
        }),
        (t.onThumbMouseOver = function () {
          var i = t.cfg.theme.hover.thumbColor;
          t.getElementByLocalId('thumb').attr('stroke', i), t.draw();
        }),
        (t.onThumbMouseOut = function () {
          var i = t.cfg.theme.default.thumbColor;
          t.getElementByLocalId('thumb').attr('stroke', i), t.draw();
        }),
        t
      );
    }
    return (
      (r.prototype.setRange = function (t, i) {
        this.set('minLimit', t), this.set('maxLimit', i);
        var n = this.getValue(),
          a = Mt(n, t, i);
        n !== a && !this.get('isInit') && this.setValue(a);
      }),
      (r.prototype.getRange = function () {
        var t = this.get('minLimit') || 0,
          i = this.get('maxLimit') || 1;
        return { min: t, max: i };
      }),
      (r.prototype.setValue = function (t) {
        var i = this.getRange(),
          n = this.getValue();
        this.update({
          thumbOffset: (this.get('trackLen') - this.get('thumbLen')) * Mt(t, i.min, i.max),
        }),
          this.delegateEmit('valuechange', { originalValue: n, value: this.getValue() });
      }),
      (r.prototype.getValue = function () {
        return Mt(this.get('thumbOffset') / (this.get('trackLen') - this.get('thumbLen')), 0, 1);
      }),
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return x(x({}, t), {
          name: 'scrollbar',
          isHorizontal: !0,
          minThumbLen: 20,
          thumbOffset: 0,
          theme: lu,
        });
      }),
      (r.prototype.renderInner = function (t) {
        this.renderTrackShape(t), this.renderThumbShape(t);
      }),
      (r.prototype.applyOffset = function () {
        this.moveElementTo(this.get('group'), { x: this.get('x'), y: this.get('y') });
      }),
      (r.prototype.initEvent = function () {
        this.bindEvents();
      }),
      (r.prototype.renderTrackShape = function (t) {
        var i = this.cfg,
          n = i.trackLen,
          a = i.theme,
          o = a === void 0 ? { default: {} } : a,
          s = _({}, lu, o).default,
          l = s.lineCap,
          u = s.trackColor,
          c = s.size,
          h = M(this.cfg, 'size', c),
          f = this.get('isHorizontal')
            ? {
                x1: 0 + h / 2,
                y1: h / 2,
                x2: n - h / 2,
                y2: h / 2,
                lineWidth: h,
                stroke: u,
                lineCap: l,
              }
            : {
                x1: h / 2,
                y1: 0 + h / 2,
                x2: h / 2,
                y2: n - h / 2,
                lineWidth: h,
                stroke: u,
                lineCap: l,
              };
        return this.addShape(t, {
          id: this.getElementId('track'),
          name: 'track',
          type: 'line',
          attrs: f,
        });
      }),
      (r.prototype.renderThumbShape = function (t) {
        var i = this.cfg,
          n = i.thumbOffset,
          a = i.thumbLen,
          o = i.theme,
          s = _({}, lu, o).default,
          l = s.size,
          u = s.lineCap,
          c = s.thumbColor,
          h = M(this.cfg, 'size', l),
          f = this.get('isHorizontal')
            ? {
                x1: n + h / 2,
                y1: h / 2,
                x2: n + a - h / 2,
                y2: h / 2,
                lineWidth: h,
                stroke: c,
                lineCap: u,
                cursor: 'default',
              }
            : {
                x1: h / 2,
                y1: n + h / 2,
                x2: h / 2,
                y2: n + a - h / 2,
                lineWidth: h,
                stroke: c,
                lineCap: u,
                cursor: 'default',
              };
        return this.addShape(t, {
          id: this.getElementId('thumb'),
          name: 'thumb',
          type: 'line',
          attrs: f,
        });
      }),
      (r.prototype.bindEvents = function () {
        var t = this.get('group');
        t.on('mousedown', this.onStartEvent(!1)),
          t.on('mouseup', this.onMouseUp),
          t.on('touchstart', this.onStartEvent(!0)),
          t.on('touchend', this.onMouseUp);
        var i = t.findById(this.getElementId('track'));
        i.on('click', this.onTrackClick);
        var n = t.findById(this.getElementId('thumb'));
        n.on('mouseover', this.onThumbMouseOver), n.on('mouseout', this.onThumbMouseOut);
      }),
      (r.prototype.getContainerDOM = function () {
        var t = this.get('container'),
          i = t && t.get('canvas');
        return i && i.get('container');
      }),
      (r.prototype.validateRange = function (t) {
        var i = this.cfg,
          n = i.thumbLen,
          a = i.trackLen,
          o = t;
        return t + n > a ? (o = a - n) : t + n < n && (o = 0), o;
      }),
      (r.prototype.draw = function () {
        var t = this.get('container'),
          i = t && t.get('canvas');
        i && i.draw();
      }),
      (r.prototype.updateThumbOffset = function (t) {
        var i = this.cfg,
          n = i.thumbOffset,
          a = i.isHorizontal,
          o = i.thumbLen,
          s = i.size,
          l = this.validateRange(t);
        if (l !== n) {
          var u = this.getElementByLocalId('thumb');
          a
            ? u.attr({ x1: l + s / 2, x2: l + o - s / 2 })
            : u.attr({ y1: l + s / 2, y2: l + o - s / 2 }),
            this.emitOffsetChange(l);
        }
      }),
      (r.prototype.emitOffsetChange = function (t) {
        var i = this.cfg,
          n = i.thumbOffset,
          a = i.trackLen,
          o = i.thumbLen;
        (this.cfg.thumbOffset = t),
          this.emit('scrollchange', { thumbOffset: t, ratio: Mt(t / (a - o), 0, 1) }),
          this.delegateEmit('valuechange', { originalValue: n, value: t });
      }),
      r
    );
  })(ie),
  VE = sE,
  YE = lE,
  WE = dE,
  XE = vE,
  hd = pE,
  _E = yE,
  dl = AE;
function jE(e) {
  if (we(e)) return null;
  var r = e[0].x,
    t = e[0].x,
    i = e[0].y,
    n = e[0].y;
  return (
    A(e, function (a) {
      (r = r > a.x ? a.x : r),
        (t = t < a.x ? a.x : t),
        (i = i > a.y ? a.y : i),
        (n = n < a.y ? a.y : n);
    }),
    { minX: r, maxX: t, minY: i, maxY: n, centerX: (r + t) / 2, centerY: (i + n) / 2 }
  );
}
function fd(e) {
  return Array.from(new Set(e)).length === 1;
}
function vd(e) {
  return (ae(e) + te(e)) / 2;
}
function zt(e, r, t, i) {
  return { x: e + t * Math.cos(i), y: r + t * Math.sin(i) };
}
function Wr(e, r, t, i, n, a) {
  a === void 0 && (a = 0);
  var o = zt(e, r, t, i),
    s = zt(e, r, t, n),
    l = zt(e, r, a, i),
    u = zt(e, r, a, n);
  if (n - i === Math.PI * 2) {
    var c = zt(e, r, t, i + Math.PI),
      h = zt(e, r, a, i + Math.PI),
      f = [
        ['M', o.x, o.y],
        ['A', t, t, 0, 1, 1, c.x, c.y],
        ['A', t, t, 0, 1, 1, s.x, s.y],
        ['M', l.x, l.y],
      ];
    return (
      a && (f.push(['A', a, a, 0, 1, 0, h.x, h.y]), f.push(['A', a, a, 0, 1, 0, u.x, u.y])),
      f.push(['M', o.x, o.y]),
      f.push(['Z']),
      f
    );
  }
  var v = n - i <= Math.PI ? 0 : 1,
    d = [
      ['M', o.x, o.y],
      ['A', t, t, 0, v, 1, s.x, s.y],
      ['L', u.x, u.y],
    ];
  return a && d.push(['A', a, a, 0, v, 0, l.x, l.y]), d.push(['L', o.x, o.y]), d.push(['Z']), d;
}
function mm(e, r, t, i, n) {
  var a = zt(e, r, t, i),
    o = zt(e, r, t, n);
  if (qt(n - i, Math.PI * 2)) {
    var s = zt(e, r, t, i + Math.PI);
    return [
      ['M', a.x, a.y],
      ['A', t, t, 0, 1, 1, s.x, s.y],
      ['A', t, t, 0, 1, 1, a.x, a.y],
      ['A', t, t, 0, 1, 0, s.x, s.y],
      ['A', t, t, 0, 1, 0, a.x, a.y],
      ['Z'],
    ];
  }
  var l = n - i <= Math.PI ? 0 : 1;
  return [
    ['M', a.x, a.y],
    ['A', t, t, 0, l, 1, o.x, o.y],
  ];
}
function La(e, r) {
  var t = e.points,
    i = jE(t),
    n,
    a,
    o = r.startAngle,
    s = r.endAngle,
    l = s - o;
  return (
    r.isTransposed ? ((n = i.maxY * l), (a = i.minY * l)) : ((n = i.maxX * l), (a = i.minX * l)),
    (n += o),
    (a += o),
    { startAngle: a, endAngle: n }
  );
}
function UE(e, r) {
  if (it(e) && it(r)) return [e, r];
  if (((e = e), (r = r), fd(e) || fd(r))) return [vd(e), vd(r)];
  for (var t = -1, i = 0, n = 0, a, o = e.length - 1, s, l = 0; ++t < e.length; )
    (a = o),
      (o = t),
      (l += s = e[a] * r[o] - e[o] * r[a]),
      (i += (e[a] + e[o]) * s),
      (n += (r[a] + r[o]) * s);
  return (l *= 3), [i / l, n / l];
}
function xm(e, r) {
  var t = e.attr(),
    i = r.attr();
  return (
    A(t, function (n, a) {
      i[a] === void 0 && (i[a] = void 0);
    }),
    i
  );
}
function en(e, r, t) {
  var i = Math.min(r, t),
    n = Math.max(r, t);
  return e >= i && e <= n;
}
function qE(e, r, t) {
  if (et(e)) return e.padEnd(r, t);
  if ($(e)) {
    var i = e.length;
    if (i < r) for (var n = r - i, a = 0; a < n; a++) e.push(t);
  }
  return e;
}
function ge(e, r) {
  return (
    typeof e == 'object' &&
      r.forEach(function (t) {
        delete e[t];
      }),
    e
  );
}
function $r(e, r, t) {
  var i, n;
  r === void 0 && (r = []), t === void 0 && (t = new Map());
  try {
    for (var a = vt(e), o = a.next(); !o.done; o = a.next()) {
      var s = o.value;
      t.has(s) || (r.push(s), t.set(s, !0));
    }
  } catch (l) {
    i = { error: l };
  } finally {
    try {
      o && !o.done && (n = a.return) && n.call(a);
    } finally {
      if (i) throw i.error;
    }
  }
  return r;
}
var he = (function () {
  function e(r, t, i, n) {
    r === void 0 && (r = 0),
      t === void 0 && (t = 0),
      i === void 0 && (i = 0),
      n === void 0 && (n = 0),
      (this.x = r),
      (this.y = t),
      (this.height = n),
      (this.width = i);
  }
  return (
    (e.fromRange = function (r, t, i, n) {
      return new e(r, t, i - r, n - t);
    }),
    (e.fromObject = function (r) {
      return new e(r.minX, r.minY, r.width, r.height);
    }),
    Object.defineProperty(e.prototype, 'minX', {
      get: function () {
        return this.x;
      },
      enumerable: !1,
      configurable: !0,
    }),
    Object.defineProperty(e.prototype, 'maxX', {
      get: function () {
        return this.x + this.width;
      },
      enumerable: !1,
      configurable: !0,
    }),
    Object.defineProperty(e.prototype, 'minY', {
      get: function () {
        return this.y;
      },
      enumerable: !1,
      configurable: !0,
    }),
    Object.defineProperty(e.prototype, 'maxY', {
      get: function () {
        return this.y + this.height;
      },
      enumerable: !1,
      configurable: !0,
    }),
    Object.defineProperty(e.prototype, 'tl', {
      get: function () {
        return { x: this.x, y: this.y };
      },
      enumerable: !1,
      configurable: !0,
    }),
    Object.defineProperty(e.prototype, 'tr', {
      get: function () {
        return { x: this.maxX, y: this.y };
      },
      enumerable: !1,
      configurable: !0,
    }),
    Object.defineProperty(e.prototype, 'bl', {
      get: function () {
        return { x: this.x, y: this.maxY };
      },
      enumerable: !1,
      configurable: !0,
    }),
    Object.defineProperty(e.prototype, 'br', {
      get: function () {
        return { x: this.maxX, y: this.maxY };
      },
      enumerable: !1,
      configurable: !0,
    }),
    Object.defineProperty(e.prototype, 'top', {
      get: function () {
        return { x: this.x + this.width / 2, y: this.minY };
      },
      enumerable: !1,
      configurable: !0,
    }),
    Object.defineProperty(e.prototype, 'right', {
      get: function () {
        return { x: this.maxX, y: this.y + this.height / 2 };
      },
      enumerable: !1,
      configurable: !0,
    }),
    Object.defineProperty(e.prototype, 'bottom', {
      get: function () {
        return { x: this.x + this.width / 2, y: this.maxY };
      },
      enumerable: !1,
      configurable: !0,
    }),
    Object.defineProperty(e.prototype, 'left', {
      get: function () {
        return { x: this.minX, y: this.y + this.height / 2 };
      },
      enumerable: !1,
      configurable: !0,
    }),
    (e.prototype.isEqual = function (r) {
      return this.x === r.x && this.y === r.y && this.width === r.width && this.height === r.height;
    }),
    (e.prototype.contains = function (r) {
      return (
        r.minX >= this.minX && r.maxX <= this.maxX && r.minY >= this.minY && r.maxY <= this.maxY
      );
    }),
    (e.prototype.clone = function () {
      return new e(this.x, this.y, this.width, this.height);
    }),
    (e.prototype.add = function () {
      for (var r = [], t = 0; t < arguments.length; t++) r[t] = arguments[t];
      var i = this.clone();
      return (
        A(r, function (n) {
          (i.x = Math.min(n.x, i.x)),
            (i.y = Math.min(n.y, i.y)),
            (i.width = Math.max(n.maxX, i.maxX) - i.x),
            (i.height = Math.max(n.maxY, i.maxY) - i.y);
        }),
        i
      );
    }),
    (e.prototype.merge = function () {
      for (var r = [], t = 0; t < arguments.length; t++) r[t] = arguments[t];
      var i = this.clone();
      return (
        A(r, function (n) {
          (i.x = Math.max(n.x, i.x)),
            (i.y = Math.max(n.y, i.y)),
            (i.width = Math.min(n.maxX, i.maxX) - i.x),
            (i.height = Math.min(n.maxY, i.maxY) - i.y);
        }),
        i
      );
    }),
    (e.prototype.cut = function (r, t) {
      var i = r.width,
        n = r.height;
      switch (t) {
        case Y.TOP:
        case Y.TOP_LEFT:
        case Y.TOP_RIGHT:
          return e.fromRange(this.minX, this.minY + n, this.maxX, this.maxY);
        case Y.RIGHT:
        case Y.RIGHT_TOP:
        case Y.RIGHT_BOTTOM:
          return e.fromRange(this.minX, this.minY, this.maxX - i, this.maxY);
        case Y.BOTTOM:
        case Y.BOTTOM_LEFT:
        case Y.BOTTOM_RIGHT:
          return e.fromRange(this.minX, this.minY, this.maxX, this.maxY - n);
        case Y.LEFT:
        case Y.LEFT_TOP:
        case Y.LEFT_BOTTOM:
          return e.fromRange(this.minX + i, this.minY, this.maxX, this.maxY);
        default:
          return this;
      }
    }),
    (e.prototype.shrink = function (r) {
      var t = K(r, 4),
        i = t[0],
        n = t[1],
        a = t[2],
        o = t[3];
      return new e(this.x + o, this.y + i, this.width - o - n, this.height - i - a);
    }),
    (e.prototype.expand = function (r) {
      var t = K(r, 4),
        i = t[0],
        n = t[1],
        a = t[2],
        o = t[3];
      return new e(this.x - o, this.y - i, this.width + o + n, this.height + i + a);
    }),
    (e.prototype.exceed = function (r) {
      return [
        Math.max(-this.minY + r.minY, 0),
        Math.max(this.maxX - r.maxX, 0),
        Math.max(this.maxY - r.maxY, 0),
        Math.max(-this.minX + r.minX, 0),
      ];
    }),
    (e.prototype.collide = function (r) {
      return this.minX < r.maxX && this.maxX > r.minX && this.minY < r.maxY && this.maxY > r.minY;
    }),
    (e.prototype.size = function () {
      return this.width * this.height;
    }),
    (e.prototype.isPointIn = function (r) {
      return r.x >= this.minX && r.x <= this.maxX && r.y >= this.minY && r.y <= this.maxY;
    }),
    e
  );
})();
function ZE(e) {
  return [
    [e.minX, e.minY],
    [e.maxX, e.minY],
    [e.maxX, e.maxY],
    [e.minX, e.maxY],
  ];
}
function Ka(e) {
  if (e.isPolar && !e.isTransposed) return (e.endAngle - e.startAngle) * e.getRadius();
  var r = e.convert({ x: 0, y: 0 }),
    t = e.convert({ x: 1, y: 0 });
  return Math.sqrt(Math.pow(t.x - r.x, 2) + Math.pow(t.y - r.y, 2));
}
function KE(e) {
  if (e.isPolar) {
    var r = e.startAngle,
      t = e.endAngle;
    return t - r === Math.PI * 2;
  }
  return !1;
}
function pl(e, r) {
  var t = e.getCenter();
  return Math.sqrt(Math.pow(r.x - t.x, 2) + Math.pow(r.y - t.y, 2));
}
function QE(e, r) {
  var t = !1;
  if (e)
    if (e.type === 'theta') {
      var i = e.start,
        n = e.end;
      t = en(r.x, i.x, n.x) && en(r.y, i.y, n.y);
    } else {
      var a = e.invert(r);
      t = en(a.x, 0, 1) && en(a.y, 0, 1);
    }
  return t;
}
function pn(e, r) {
  var t = e.getCenter();
  return Math.atan2(r.y - t.y, r.x - t.x);
}
function yh(e, r) {
  r === void 0 && (r = 0);
  var t = e.start,
    i = e.end,
    n = e.getWidth(),
    a = e.getHeight();
  if (e.isPolar) {
    var o = e.startAngle,
      s = e.endAngle,
      l = e.getCenter(),
      u = e.getRadius();
    return {
      type: 'path',
      startState: { path: Wr(l.x, l.y, u + r, o, o) },
      endState: function (h) {
        var f = (s - o) * h + o,
          v = Wr(l.x, l.y, u + r, o, f);
        return { path: v };
      },
      attrs: { path: Wr(l.x, l.y, u + r, o, s) },
    };
  }
  var c;
  return (
    e.isTransposed ? (c = { height: a + r * 2 }) : (c = { width: n + r * 2 }),
    {
      type: 'rect',
      startState: {
        x: t.x - r,
        y: i.y - r,
        width: e.isTransposed ? n + r * 2 : 0,
        height: e.isTransposed ? 0 : a + r * 2,
      },
      endState: c,
      attrs: { x: t.x - r, y: i.y - r, width: n + r * 2, height: a + r * 2 },
    }
  );
}
function JE(e, r) {
  r === void 0 && (r = 0);
  var t = e.start,
    i = e.end,
    n = e.getWidth(),
    a = e.getHeight(),
    o = Math.min(t.x, i.x),
    s = Math.min(t.y, i.y);
  return he.fromRange(o - r, s - r, o + n + r, s + a + r);
}
var tT =
  /^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;
function eT(e) {
  var r = 'linear';
  return tT.test(e) ? (r = 'timeCat') : et(e) && (r = 'cat'), r;
}
function wm(e, r, t, i) {
  return (
    r === void 0 && (r = {}),
    r.type
      ? r.type
      : (e.type !== 'identity' && Qi.includes(t) && ['interval'].includes(i)) || e.isCategory
      ? 'cat'
      : e.type
  );
}
function rT(e, r, t) {
  var i = r || [];
  if (it(e) || (R(DS(i, e)) && we(t))) {
    var n = rc('identity');
    return new n({ field: e.toString(), values: [e] });
  }
  var a = _e(i, e),
    o = M(t, 'type', eT(a[0])),
    s = rc(o);
  return new s(x({ field: e, values: a }, t));
}
function iT(e, r) {
  if (e.type !== 'identity' && r.type !== 'identity') {
    var t = {};
    for (var i in r) Object.prototype.hasOwnProperty.call(r, i) && (t[i] = r[i]);
    e.change(t);
  }
}
function Oa(e) {
  return e.alias || e.field;
}
function bm(e, r, t) {
  var i = e.values,
    n = i.length,
    a;
  if (n === 1) a = [0.5, 1];
  else {
    var o = 1,
      s = 0;
    KE(r)
      ? r.isTransposed
        ? ((o = M(t, 'widthRatio.multiplePie', 1 / 1.3)),
          (s = (1 / n) * o),
          (a = [s / 2, 1 - s / 2]))
        : (a = [0, 1 - 1 / n])
      : ((s = 1 / n / 2), (a = [s, 1 - s]));
  }
  return a;
}
function nT(e) {
  var r = e.values.filter(function (t) {
    return !R(t) && !isNaN(t);
  });
  return Math.max.apply(Math, Et(Et([], K(r), !1), [R(e.max) ? -1 / 0 : e.max], !1));
}
function aT(e) {
  var r, t;
  switch (e) {
    case Y.TOP:
      (r = { x: 0, y: 1 }), (t = { x: 1, y: 1 });
      break;
    case Y.RIGHT:
      (r = { x: 1, y: 0 }), (t = { x: 1, y: 1 });
      break;
    case Y.BOTTOM:
      (r = { x: 0, y: 0 }), (t = { x: 1, y: 0 });
      break;
    case Y.LEFT:
      (r = { x: 0, y: 0 }), (t = { x: 0, y: 1 });
      break;
    default:
      r = t = { x: 0, y: 0 };
  }
  return { start: r, end: t };
}
function oT(e) {
  var r, t;
  return (
    e.isTransposed
      ? ((r = { x: 0, y: 0 }), (t = { x: 1, y: 0 }))
      : ((r = { x: 0, y: 0 }), (t = { x: 0, y: 1 })),
    { start: r, end: t }
  );
}
function Mo(e, r) {
  var t = { start: { x: 0, y: 0 }, end: { x: 0, y: 0 } };
  e.isRect ? (t = aT(r)) : e.isPolar && (t = oT(e));
  var i = t.start,
    n = t.end;
  return { start: e.convert(i), end: e.convert(n) };
}
function Sm(e) {
  var r = e.start,
    t = e.end;
  return r.x === t.x;
}
function dd(e, r) {
  var t = e.start,
    i = e.end,
    n = Sm(e);
  return n ? ((t.y - i.y) * (r.x - t.x) > 0 ? 1 : -1) : (i.x - t.x) * (t.y - r.y) > 0 ? -1 : 1;
}
function Fo(e, r) {
  var t = M(e, ['components', 'axis'], {});
  return _({}, M(t, ['common'], {}), _({}, M(t, [r], {})));
}
function pd(e, r, t) {
  var i = M(e, ['components', 'axis'], {});
  return _({}, M(i, ['common', 'title'], {}), _({}, M(i, [r, 'title'], {})), t);
}
function uu(e) {
  var r = e.x,
    t = e.y,
    i = e.circleCenter,
    n = t.start > t.end,
    a = e.isTransposed ? e.convert({ x: n ? 0 : 1, y: 0 }) : e.convert({ x: 0, y: n ? 0 : 1 }),
    o = [a.x - i.x, a.y - i.y],
    s = [1, 0],
    l = a.y > i.y ? Yu(o, s) : Yu(o, s) * -1,
    u = l + (r.end - r.start),
    c = Math.sqrt(Math.pow(a.x - i.x, 2) + Math.pow(a.y - i.y, 2));
  return { center: i, radius: c, startAngle: l, endAngle: u };
}
function bs(e, r) {
  return hn(e) ? (e === !1 ? !1 : {}) : M(e, [r]);
}
function gd(e, r) {
  return M(e, 'position', r);
}
function yd(e, r) {
  return M(r, ['title', 'text'], Oa(e));
}
var Ln = (function () {
    function e(r, t) {
      (this.destroyed = !1),
        (this.facets = []),
        (this.view = r),
        (this.cfg = _({}, this.getDefaultCfg(), t));
    }
    return (
      (e.prototype.init = function () {
        this.container || (this.container = this.createContainer());
        var r = this.view.getData();
        this.facets = this.generateFacets(r);
      }),
      (e.prototype.render = function () {
        this.renderViews();
      }),
      (e.prototype.update = function () {}),
      (e.prototype.clear = function () {
        this.clearFacetViews();
      }),
      (e.prototype.destroy = function () {
        this.clear(),
          this.container && (this.container.remove(!0), (this.container = void 0)),
          (this.destroyed = !0),
          (this.view = void 0),
          (this.facets = []);
      }),
      (e.prototype.facetToView = function (r) {
        var t = r.region,
          i = r.data,
          n = r.padding,
          a = n === void 0 ? this.cfg.padding : n,
          o = this.view.createView({ region: t, padding: a });
        o.data(i || []), (r.view = o), this.beforeEachView(o, r);
        var s = this.cfg.eachView;
        return s && s(o, r), this.afterEachView(o, r), o;
      }),
      (e.prototype.createContainer = function () {
        var r = this.view.getLayer($t.FORE);
        return r.addGroup();
      }),
      (e.prototype.renderViews = function () {
        this.createFacetViews();
      }),
      (e.prototype.createFacetViews = function () {
        var r = this;
        return this.facets.map(function (t) {
          return r.facetToView(t);
        });
      }),
      (e.prototype.clearFacetViews = function () {
        var r = this;
        A(this.facets, function (t) {
          t.view && (r.view.removeView(t.view), (t.view = void 0));
        });
      }),
      (e.prototype.parseSpacing = function () {
        var r = this.view.viewBBox,
          t = r.width,
          i = r.height,
          n = this.cfg.spacing;
        return n.map(function (a, o) {
          return it(a) ? a / (o === 0 ? t : i) : parseFloat(a) / 100;
        });
      }),
      (e.prototype.getFieldValues = function (r, t) {
        var i = [],
          n = {};
        return (
          A(r, function (a) {
            var o = a[t];
            !R(o) && !n[o] && (i.push(o), (n[o] = !0));
          }),
          i
        );
      }),
      (e.prototype.getRegion = function (r, t, i, n) {
        var a = K(this.parseSpacing(), 2),
          o = a[0],
          s = a[1],
          l = (1 + o) / (t === 0 ? 1 : t) - o,
          u = (1 + s) / (r === 0 ? 1 : r) - s,
          c = { x: (l + o) * i, y: (u + s) * n },
          h = { x: c.x + l, y: c.y + u };
        return { start: c, end: h };
      }),
      (e.prototype.getDefaultCfg = function () {
        return { eachView: void 0, showTitle: !0, spacing: [0, 0], padding: 10, fields: [] };
      }),
      (e.prototype.getDefaultTitleCfg = function () {
        var r = this.view.getTheme().fontFamily;
        return { style: { fontSize: 14, fill: '#666', fontFamily: r } };
      }),
      (e.prototype.processAxis = function (r, t) {
        var i = r.getOptions(),
          n = i.coordinate,
          a = r.geometries,
          o = M(n, 'type', 'rect');
        if (o === 'rect' && a.length) {
          R(i.axes) && (i.axes = {});
          var s = i.axes,
            l = K(a[0].getXYFields(), 2),
            u = l[0],
            c = l[1],
            h = bs(s, u),
            f = bs(s, c);
          h !== !1 && (i.axes[u] = this.getXAxisOption(u, s, h, t)),
            f !== !1 && (i.axes[c] = this.getYAxisOption(c, s, f, t));
        }
      }),
      (e.prototype.getFacetDataFilter = function (r) {
        return function (t) {
          return Hc(r, function (i) {
            var n = i.field,
              a = i.value;
            return !R(a) && n ? t[n] === a : !0;
          });
        };
      }),
      e
    );
  })(),
  Cm = {},
  sT = function (e) {
    return Cm[Tn(e)];
  },
  On = function (e, r) {
    Cm[Tn(e)] = r;
  },
  Ft = (function () {
    function e(r, t) {
      (this.context = r), (this.cfg = t), r.addAction(this);
    }
    return (
      (e.prototype.applyCfg = function (r) {
        xt(this, r);
      }),
      (e.prototype.init = function () {
        this.applyCfg(this.cfg);
      }),
      (e.prototype.destroy = function () {
        this.context.removeAction(this), (this.context = null);
      }),
      e
    );
  })(),
  lT = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.execute = function () {
        this.callback && this.callback(this.context);
      }),
      (r.prototype.destroy = function () {
        e.prototype.destroy.call(this), (this.callback = null);
      }),
      r
    );
  })(Ft),
  mh = {};
function uT(e, r) {
  var t = mh[e],
    i = null;
  if (t) {
    var n = t.ActionClass,
      a = t.cfg;
    (i = new n(r, a)), (i.name = e), i.init();
  }
  return i;
}
function gl(e) {
  var r = mh[e];
  return M(r, 'ActionClass');
}
function tt(e, r, t) {
  mh[e] = { ActionClass: r, cfg: t };
}
function cT(e, r) {
  var t = new lT(r);
  return (t.callback = e), (t.name = 'callback'), t;
}
function hT(e, r) {
  var t = [];
  if (e.length) {
    t.push(['M', e[0].x, e[0].y]);
    for (var i = 1, n = e.length; i < n; i += 1) {
      var a = e[i];
      t.push(['L', a.x, a.y]);
    }
    r && t.push(['Z']);
  }
  return t;
}
function lc(e, r) {
  for (var t = [e[0]], i = 1, n = e.length; i < n; i = i + 2) {
    var a = r.convert({ x: e[i], y: e[i + 1] });
    t.push(a.x, a.y);
  }
  return t;
}
function Am(e, r) {
  var t = r.isTransposed,
    i = e[1],
    n = e[6],
    a = e[7],
    o = r.convert({ x: n, y: a }),
    s = t ? 0 : 1;
  return ['A', i, i, 0, 0, s, o.x, o.y];
}
function fT(e, r, t) {
  var i = t.isTransposed,
    n = t.startAngle,
    a = t.endAngle,
    o = e[0].toLowerCase() === 'a' ? { x: e[6], y: e[7] } : { x: e[1], y: e[2] },
    s = { x: r[1], y: r[2] },
    l = [],
    u = i ? 'y' : 'x',
    c = Math.abs(s[u] - o[u]) * (a - n),
    h = s[u] >= o[u] ? 1 : 0,
    f = c > Math.PI ? 1 : 0,
    v = t.convert(s),
    d = pl(t, v);
  if (d >= 0.5)
    if (c === Math.PI * 2) {
      var p = { x: (s.x + o.x) / 2, y: (s.y + o.y) / 2 },
        g = t.convert(p);
      l.push(['A', d, d, 0, f, h, g.x, g.y]), l.push(['A', d, d, 0, f, h, v.x, v.y]);
    } else l.push(['A', d, d, 0, f, h, v.x, v.y]);
  return l;
}
function vT(e) {
  A(e, function (r, t) {
    var i = r;
    if (i[0].toLowerCase() === 'a') {
      var n = e[t - 1],
        a = e[t + 1];
      a && a[0].toLowerCase() === 'a'
        ? n && n[0].toLowerCase() === 'l' && (n[0] = 'M')
        : n && n[0].toLowerCase() === 'a' && a && a[0].toLowerCase() === 'l' && (a[0] = 'M');
    }
  });
}
var dT = function (e, r, t, i) {
  var n,
    a = [],
    o = !!i,
    s,
    l,
    u,
    c,
    h,
    f,
    v;
  if (o) {
    (n = K(i, 2)), (u = n[0]), (c = n[1]);
    for (var d = 0, p = e.length; d < p; d++) {
      var g = e[d];
      (u = jt([0, 0], u, g)), (c = Ut([0, 0], c, g));
    }
  }
  for (var d = 0, y = e.length; d < y; d++) {
    var g = e[d];
    if (d === 0 && !t) v = g;
    else if (d === y - 1 && !t) (f = g), a.push(v), a.push(f);
    else {
      (s = e[t ? (d ? d - 1 : y - 1) : d - 1]), (l = e[t ? (d + 1) % y : d + 1]);
      var m = [0, 0];
      (m = Si(m, l, s)), (m = ce(m, m, r));
      var b = fn(g, s),
        w = fn(g, l),
        S = b + w;
      S !== 0 && ((b /= S), (w /= S));
      var C = ce([0, 0], m, -b),
        F = ce([0, 0], m, w);
      (f = tr([0, 0], g, C)),
        (h = tr([0, 0], g, F)),
        (h = jt([0, 0], h, Ut([0, 0], l, g))),
        (h = Ut([0, 0], h, jt([0, 0], l, g))),
        (C = Si([0, 0], h, g)),
        (C = ce([0, 0], C, -b / w)),
        (f = tr([0, 0], g, C)),
        (f = jt([0, 0], f, Ut([0, 0], s, g))),
        (f = Ut([0, 0], f, jt([0, 0], s, g))),
        (F = Si([0, 0], g, f)),
        (F = ce([0, 0], F, w / b)),
        (h = tr([0, 0], g, F)),
        o &&
          ((f = Ut([0, 0], f, u)),
          (f = jt([0, 0], f, c)),
          (h = Ut([0, 0], h, u)),
          (h = jt([0, 0], h, c))),
        a.push(v),
        a.push(f),
        (v = h);
    }
  }
  return t && a.push(a.shift()), a;
};
function Mm(e, r, t) {
  for (var i = !!r, n = [], a = 0, o = e.length; a < o; a += 2) n.push([e[a], e[a + 1]]);
  for (var s = dT(n, 0.4, i, t), l = n.length, u = [], c, h, f, a = 0; a < l - 1; a++)
    (c = s[a * 2]),
      (h = s[a * 2 + 1]),
      (f = n[a + 1]),
      u.push(['C', c[0], c[1], h[0], h[1], f[0], f[1]]);
  return (
    i &&
      ((c = s[l]), (h = s[l + 1]), (f = n[0]), u.push(['C', c[0], c[1], h[0], h[1], f[0], f[1]])),
    u
  );
}
function Qa(e, r) {
  return hT(e, r);
}
function Ss(e, r, t) {
  var i = [],
    n = e[0],
    a = null;
  if (e.length <= 2) return Qa(e, r);
  for (var o = 0, s = e.length; o < s; o++) {
    var l = e[o];
    (!a || !(a.x === l.x && a.y === l.y)) && (i.push(l.x), i.push(l.y), (a = l));
  }
  var u = t || [
      [0, 0],
      [1, 1],
    ],
    c = Mm(i, r, u);
  return c.unshift(['M', n.x, n.y]), c;
}
function pT(e, r) {
  var t = [];
  return (
    A(r, function (i) {
      var n = i[0];
      switch (n.toLowerCase()) {
        case 'm':
        case 'l':
        case 'c':
          t.push(lc(i, e));
          break;
        case 'a':
          t.push(Am(i, e));
          break;
        case 'z':
        default:
          t.push(i);
          break;
      }
    }),
    t
  );
}
function gT(e, r) {
  var t = [],
    i,
    n,
    a,
    o;
  return (
    A(r, function (s, l) {
      var u = s[0];
      switch (u.toLowerCase()) {
        case 'm':
        case 'c':
        case 'q':
          t.push(lc(s, e));
          break;
        case 'l':
          (i = r[l - 1]),
            (n = s),
            (a = e.isTransposed),
            (o = a ? i[i.length - 2] === n[1] : i[i.length - 1] === n[2]),
            o ? (t = t.concat(fT(i, n, e))) : t.push(lc(s, e));
          break;
        case 'a':
          t.push(Am(s, e));
          break;
        case 'z':
        default:
          t.push(s);
          break;
      }
    }),
    vT(t),
    t
  );
}
function Fm(e, r) {
  var t = e.event,
    i = t.target,
    n = i.getCanvasBBox();
  return n.width >= r || n.height >= r ? n : null;
}
function yT(e, r) {
  var t = e.event,
    i = t.target,
    n = i.getCanvasBBox();
  return n.width >= r || n.height >= r ? i.attr('path') : null;
}
function Zr(e) {
  var r = e.event,
    t,
    i = r.target;
  return i && (t = i.get('element')), t;
}
function Pi(e) {
  var r = e.event,
    t = r.target,
    i;
  return t && (i = t.get('delegateObject')), i;
}
function Em(e) {
  var r = e.event.gEvent;
  return !(
    r &&
    r.fromShape &&
    r.toShape &&
    r.fromShape.get('element') === r.toShape.get('element')
  );
}
function Pa(e) {
  return e && e.component && e.component.isList();
}
function Tm(e) {
  return e && e.component && e.component.isSlider();
}
function Da(e) {
  var r = e.event,
    t = r.target;
  return t && t.get('name') === 'mask';
}
function xh(e, r) {
  var t = e.event.target;
  if (t.get('type') === 'path') {
    var i = yT(e, r);
    return i ? wT(e.view, i) : void 0;
  }
  var n = Fm(e, r);
  return n ? wh(e.view, n) : null;
}
function km(e, r, t) {
  var i = Fm(e, t);
  if (!i) return null;
  var n = e.view,
    a = uc(n, r, { x: i.x, y: i.y }),
    o = uc(n, r, { x: i.maxX, y: i.maxY }),
    s = { minX: a.x, minY: a.y, maxX: o.x, maxY: o.y };
  return wh(r, s);
}
function Kt(e) {
  var r = e.geometries,
    t = [];
  return (
    A(r, function (i) {
      var n = i.elements;
      t = t.concat(n);
    }),
    e.views &&
      e.views.length &&
      A(e.views, function (i) {
        t = t.concat(Kt(i));
      }),
    t
  );
}
function mT(e, r, t) {
  var i = Kt(e);
  return i.filter(function (n) {
    return je(n, r) === t;
  });
}
function Im(e, r) {
  var t = e.geometries,
    i = [];
  return (
    A(t, function (n) {
      var a = n.getElementsBy(function (o) {
        return o.hasState(r);
      });
      i = i.concat(a);
    }),
    i
  );
}
function je(e, r) {
  var t = e.getModel(),
    i = t.data,
    n;
  return $(i) ? (n = i[0][r]) : (n = i[r]), n;
}
function xT(e, r) {
  return !(r.minX > e.maxX || r.maxX < e.minX || r.minY > e.maxY || r.maxY < e.minY);
}
function wh(e, r) {
  var t = Kt(e),
    i = [];
  return (
    A(t, function (n) {
      var a = n.shape,
        o = a.getCanvasBBox();
      xT(r, o) && i.push(n);
    }),
    i
  );
}
function md(e) {
  var r = [];
  return (
    A(e, function (t) {
      var i = t[0];
      if (i !== 'A') for (var n = 1; n < t.length; n = n + 2) r.push([t[n], t[n + 1]]);
      else {
        var a = t.length;
        r.push([t[a - 2], t[a - 1]]);
      }
    }),
    r
  );
}
function wT(e, r) {
  var t = Kt(e),
    i = md(r),
    n = t.filter(function (a) {
      var o = a.shape,
        s;
      if (o.get('type') === 'path') s = md(o.attr('path'));
      else {
        var l = o.getCanvasBBox();
        s = ZE(l);
      }
      return ZM(i, s);
    });
  return n;
}
function Lm(e) {
  return e.getComponents().map(function (r) {
    return r.component;
  });
}
function bh(e, r) {
  var t = r.x - e.x,
    i = r.y - e.y;
  return Math.sqrt(t * t + i * i);
}
function bT(e, r) {
  if (e.length <= 2) return Qa(e, !1);
  var t = e[0],
    i = [];
  A(e, function (a) {
    i.push(a.x), i.push(a.y);
  });
  var n = Mm(i, r, null);
  return n.unshift(['M', t.x, t.y]), n;
}
function xd(e, r) {
  return e.x <= r.x && e.maxX >= r.x && e.y <= r.y && e.maxY > r.y;
}
function nr(e) {
  var r = e.parent,
    t = null;
  return (
    r &&
      (t = r.views.filter(function (i) {
        return i !== e;
      })),
    t
  );
}
function ST(e, r) {
  var t = e.getCoordinate();
  return t.invert(r);
}
function uc(e, r, t) {
  var i = ST(e, t);
  return r.getCoordinate().convert(i);
}
function Om(e, r, t, i) {
  var n = !1;
  return (
    A(e, function (a) {
      if (a[t] === r[t] && a[i] === r[i]) return (n = !0), !1;
    }),
    n
  );
}
function gn(e, r) {
  var t = e.getScaleByField(r);
  return (
    !t &&
      e.views &&
      A(e.views, function (i) {
        if (((t = gn(i, r)), t)) return !1;
      }),
    t
  );
}
var CT = (function () {
    function e(r) {
      (this.actions = []), (this.event = null), (this.cacheMap = {}), (this.view = r);
    }
    return (
      (e.prototype.cache = function () {
        for (var r = [], t = 0; t < arguments.length; t++) r[t] = arguments[t];
        if (r.length === 1) return this.cacheMap[r[0]];
        r.length === 2 && (this.cacheMap[r[0]] = r[1]);
      }),
      (e.prototype.getAction = function (r) {
        return this.actions.find(function (t) {
          return t.name === r;
        });
      }),
      (e.prototype.addAction = function (r) {
        this.actions.push(r);
      }),
      (e.prototype.removeAction = function (r) {
        var t = this.actions,
          i = this.actions.indexOf(r);
        i >= 0 && t.splice(i, 1);
      }),
      (e.prototype.getCurrentPoint = function () {
        var r = this.event;
        if (r)
          if (r.target instanceof HTMLElement) {
            var t = this.view.getCanvas(),
              i = t.getPointByClient(r.clientX, r.clientY);
            return i;
          } else return { x: r.x, y: r.y };
        return null;
      }),
      (e.prototype.getCurrentShape = function () {
        return M(this.event, ['gEvent', 'shape']);
      }),
      (e.prototype.isInPlot = function () {
        var r = this.getCurrentPoint();
        return r ? this.view.isPointInPlot(r) : !1;
      }),
      (e.prototype.isInShape = function (r) {
        var t = this.getCurrentShape();
        return t ? t.get('name') === r : !1;
      }),
      (e.prototype.isInComponent = function (r) {
        var t = Lm(this.view),
          i = this.getCurrentPoint();
        return i
          ? !!t.find(function (n) {
              var a = n.getBBox();
              return r ? n.get('name') === r && xd(a, i) : xd(a, i);
            })
          : !1;
      }),
      (e.prototype.destroy = function () {
        A(this.actions.slice(), function (r) {
          r.destroy();
        }),
          (this.view = null),
          (this.event = null),
          (this.actions = null),
          (this.cacheMap = null);
      }),
      e
    );
  })(),
  AT = (function () {
    function e(r, t) {
      (this.view = r), (this.cfg = t);
    }
    return (
      (e.prototype.init = function () {
        this.initEvents();
      }),
      (e.prototype.initEvents = function () {}),
      (e.prototype.clearEvents = function () {}),
      (e.prototype.destroy = function () {
        this.clearEvents();
      }),
      e
    );
  })();
function wd(e, r, t) {
  var i = e.split(':'),
    n = i[0],
    a = r.getAction(n) || uT(n, r);
  if (!a) throw new Error('There is no action named '.concat(n));
  var o = i[1];
  return { action: a, methodName: o, arg: t };
}
function bd(e) {
  var r = e.action,
    t = e.methodName,
    i = e.arg;
  if (r[t]) r[t](i);
  else throw new Error('Action('.concat(r.name, ") doesn't have a method called ").concat(t));
}
var Ae = {
    START: 'start',
    SHOW_ENABLE: 'showEnable',
    END: 'end',
    ROLLBACK: 'rollback',
    PROCESSING: 'processing',
  },
  MT = (function (e) {
    I(r, e);
    function r(t, i) {
      var n = e.call(this, t, i) || this;
      return (n.callbackCaches = {}), (n.emitCaches = {}), (n.steps = i), n;
    }
    return (
      (r.prototype.init = function () {
        this.initContext(), e.prototype.init.call(this);
      }),
      (r.prototype.destroy = function () {
        e.prototype.destroy.call(this),
          (this.steps = null),
          this.context && (this.context.destroy(), (this.context = null)),
          (this.callbackCaches = null),
          (this.view = null);
      }),
      (r.prototype.initEvents = function () {
        var t = this;
        A(this.steps, function (i, n) {
          A(i, function (a) {
            var o = t.getActionCallback(n, a);
            o && t.bindEvent(a.trigger, o);
          });
        });
      }),
      (r.prototype.clearEvents = function () {
        var t = this;
        A(this.steps, function (i, n) {
          A(i, function (a) {
            var o = t.getActionCallback(n, a);
            o && t.offEvent(a.trigger, o);
          });
        });
      }),
      (r.prototype.initContext = function () {
        var t = this.view,
          i = new CT(t);
        this.context = i;
        var n = this.steps;
        A(n, function (a) {
          A(a, function (o) {
            if (q(o.action)) o.actionObject = { action: cT(o.action, i), methodName: 'execute' };
            else if (et(o.action)) o.actionObject = wd(o.action, i, o.arg);
            else if ($(o.action)) {
              var s = o.action,
                l = $(o.arg) ? o.arg : [o.arg];
              (o.actionObject = []),
                A(s, function (u, c) {
                  o.actionObject.push(wd(u, i, l[c]));
                });
            }
          });
        });
      }),
      (r.prototype.isAllowStep = function (t) {
        var i = this.currentStepName,
          n = this.steps;
        if (i === t || t === Ae.SHOW_ENABLE) return !0;
        if (t === Ae.PROCESSING) return i === Ae.START;
        if (t === Ae.START) return i !== Ae.PROCESSING;
        if (t === Ae.END) return i === Ae.PROCESSING || i === Ae.START;
        if (t === Ae.ROLLBACK) {
          if (n[Ae.END]) return i === Ae.END;
          if (i === Ae.START) return !0;
        }
        return !1;
      }),
      (r.prototype.isAllowExecute = function (t, i) {
        if (this.isAllowStep(t)) {
          var n = this.getKey(t, i);
          return i.once && this.emitCaches[n] ? !1 : i.isEnable ? i.isEnable(this.context) : !0;
        }
        return !1;
      }),
      (r.prototype.enterStep = function (t) {
        (this.currentStepName = t), (this.emitCaches = {});
      }),
      (r.prototype.afterExecute = function (t, i) {
        t !== Ae.SHOW_ENABLE && this.currentStepName !== t && this.enterStep(t);
        var n = this.getKey(t, i);
        this.emitCaches[n] = !0;
      }),
      (r.prototype.getKey = function (t, i) {
        return t + i.trigger + i.action;
      }),
      (r.prototype.getActionCallback = function (t, i) {
        var n = this,
          a = this.context,
          o = this.callbackCaches,
          s = i.actionObject;
        if (i.action && s) {
          var l = this.getKey(t, i);
          if (!o[l]) {
            var u = function (c) {
              (a.event = c),
                n.isAllowExecute(t, i)
                  ? ($(s)
                      ? A(s, function (h) {
                          (a.event = c), bd(h);
                        })
                      : ((a.event = c), bd(s)),
                    n.afterExecute(t, i),
                    i.callback && ((a.event = c), i.callback(a)))
                  : (a.event = null);
            };
            i.debounce
              ? (o[l] = Dg(u, i.debounce.wait, i.debounce.immediate))
              : i.throttle
              ? (o[l] = Xc(u, i.throttle.wait, {
                  leading: i.throttle.leading,
                  trailing: i.throttle.trailing,
                }))
              : (o[l] = u);
          }
          return o[l];
        }
        return null;
      }),
      (r.prototype.bindEvent = function (t, i) {
        var n = t.split(':');
        n[0] === 'window'
          ? window.addEventListener(n[1], i)
          : n[0] === 'document'
          ? document.addEventListener(n[1], i)
          : this.view.on(t, i);
      }),
      (r.prototype.offEvent = function (t, i) {
        var n = t.split(':');
        n[0] === 'window'
          ? window.removeEventListener(n[1], i)
          : n[0] === 'document'
          ? document.removeEventListener(n[1], i)
          : this.view.off(t, i);
      }),
      r
    );
  })(AT),
  Pm = {};
function FT(e) {
  return Pm[Tn(e)];
}
function nt(e, r) {
  Pm[Tn(e)] = r;
}
function ET(e, r, t) {
  var i = FT(e);
  if (!i) return null;
  if (rr(i)) {
    var n = xt(ue(i), t);
    return new MT(r, n);
  } else {
    var a = i;
    return new a(r, t);
  }
}
function TT(e) {
  return {
    title: {
      autoRotate: !0,
      position: 'center',
      spacing: e.axisTitleSpacing,
      style: {
        fill: e.axisTitleTextFillColor,
        fontSize: e.axisTitleTextFontSize,
        lineHeight: e.axisTitleTextLineHeight,
        textBaseline: 'middle',
        fontFamily: e.fontFamily,
      },
      iconStyle: { fill: e.axisDescriptionIconFillColor },
    },
    label: {
      autoRotate: !1,
      autoEllipsis: !1,
      autoHide: { type: 'equidistance', cfg: { minGap: 6 } },
      offset: e.axisLabelOffset,
      style: {
        fill: e.axisLabelFillColor,
        fontSize: e.axisLabelFontSize,
        lineHeight: e.axisLabelLineHeight,
        fontFamily: e.fontFamily,
      },
    },
    line: { style: { lineWidth: e.axisLineBorder, stroke: e.axisLineBorderColor } },
    grid: {
      line: {
        type: 'line',
        style: {
          stroke: e.axisGridBorderColor,
          lineWidth: e.axisGridBorder,
          lineDash: e.axisGridLineDash,
        },
      },
      alignTick: !0,
      animate: !0,
    },
    tickLine: {
      style: { lineWidth: e.axisTickLineBorder, stroke: e.axisTickLineBorderColor },
      alignTick: !0,
      length: e.axisTickLineLength,
    },
    subTickLine: null,
    animate: !0,
  };
}
function kT(e) {
  return {
    title: null,
    marker: {
      symbol: 'circle',
      spacing: e.legendMarkerSpacing,
      style: { r: e.legendCircleMarkerSize, fill: e.legendMarkerColor },
    },
    itemName: {
      spacing: 5,
      style: {
        fill: e.legendItemNameFillColor,
        fontFamily: e.fontFamily,
        fontSize: e.legendItemNameFontSize,
        lineHeight: e.legendItemNameLineHeight,
        fontWeight: e.legendItemNameFontWeight,
        textAlign: 'start',
        textBaseline: 'middle',
      },
    },
    itemStates: {
      active: { nameStyle: { opacity: 0.8 } },
      unchecked: {
        nameStyle: { fill: '#D8D8D8' },
        markerStyle: { fill: '#D8D8D8', stroke: '#D8D8D8' },
      },
      inactive: { nameStyle: { fill: '#D8D8D8' }, markerStyle: { opacity: 0.2 } },
    },
    flipPage: !0,
    pageNavigator: {
      marker: {
        style: {
          size: e.legendPageNavigatorMarkerSize,
          inactiveFill: e.legendPageNavigatorMarkerInactiveFillColor,
          inactiveOpacity: e.legendPageNavigatorMarkerInactiveFillOpacity,
          fill: e.legendPageNavigatorMarkerFillColor,
          opacity: e.legendPageNavigatorMarkerFillOpacity,
        },
      },
      text: {
        style: {
          fill: e.legendPageNavigatorTextFillColor,
          fontSize: e.legendPageNavigatorTextFontSize,
        },
      },
    },
    animate: !1,
    maxItemWidth: 200,
    itemSpacing: e.legendItemSpacing,
    itemMarginBottom: e.legendItemMarginBottom,
    padding: e.legendPadding,
  };
}
function Dm(e) {
  var r,
    t = {
      point: {
        default: {
          fill: e.pointFillColor,
          r: e.pointSize,
          stroke: e.pointBorderColor,
          lineWidth: e.pointBorder,
          fillOpacity: e.pointFillOpacity,
        },
        active: { stroke: e.pointActiveBorderColor, lineWidth: e.pointActiveBorder },
        selected: { stroke: e.pointSelectedBorderColor, lineWidth: e.pointSelectedBorder },
        inactive: {
          fillOpacity: e.pointInactiveFillOpacity,
          strokeOpacity: e.pointInactiveBorderOpacity,
        },
      },
      hollowPoint: {
        default: {
          fill: e.hollowPointFillColor,
          lineWidth: e.hollowPointBorder,
          stroke: e.hollowPointBorderColor,
          strokeOpacity: e.hollowPointBorderOpacity,
          r: e.hollowPointSize,
        },
        active: {
          stroke: e.hollowPointActiveBorderColor,
          strokeOpacity: e.hollowPointActiveBorderOpacity,
        },
        selected: {
          lineWidth: e.hollowPointSelectedBorder,
          stroke: e.hollowPointSelectedBorderColor,
          strokeOpacity: e.hollowPointSelectedBorderOpacity,
        },
        inactive: { strokeOpacity: e.hollowPointInactiveBorderOpacity },
      },
      area: {
        default: { fill: e.areaFillColor, fillOpacity: e.areaFillOpacity, stroke: null },
        active: { fillOpacity: e.areaActiveFillOpacity },
        selected: { fillOpacity: e.areaSelectedFillOpacity },
        inactive: { fillOpacity: e.areaInactiveFillOpacity },
      },
      hollowArea: {
        default: {
          fill: null,
          stroke: e.hollowAreaBorderColor,
          lineWidth: e.hollowAreaBorder,
          strokeOpacity: e.hollowAreaBorderOpacity,
        },
        active: { fill: null, lineWidth: e.hollowAreaActiveBorder },
        selected: { fill: null, lineWidth: e.hollowAreaSelectedBorder },
        inactive: { strokeOpacity: e.hollowAreaInactiveBorderOpacity },
      },
      interval: {
        default: { fill: e.intervalFillColor, fillOpacity: e.intervalFillOpacity },
        active: { stroke: e.intervalActiveBorderColor, lineWidth: e.intervalActiveBorder },
        selected: { stroke: e.intervalSelectedBorderColor, lineWidth: e.intervalSelectedBorder },
        inactive: {
          fillOpacity: e.intervalInactiveFillOpacity,
          strokeOpacity: e.intervalInactiveBorderOpacity,
        },
      },
      hollowInterval: {
        default: {
          fill: e.hollowIntervalFillColor,
          stroke: e.hollowIntervalBorderColor,
          lineWidth: e.hollowIntervalBorder,
          strokeOpacity: e.hollowIntervalBorderOpacity,
        },
        active: {
          stroke: e.hollowIntervalActiveBorderColor,
          lineWidth: e.hollowIntervalActiveBorder,
          strokeOpacity: e.hollowIntervalActiveBorderOpacity,
        },
        selected: {
          stroke: e.hollowIntervalSelectedBorderColor,
          lineWidth: e.hollowIntervalSelectedBorder,
          strokeOpacity: e.hollowIntervalSelectedBorderOpacity,
        },
        inactive: {
          stroke: e.hollowIntervalInactiveBorderColor,
          lineWidth: e.hollowIntervalInactiveBorder,
          strokeOpacity: e.hollowIntervalInactiveBorderOpacity,
        },
      },
      line: {
        default: {
          stroke: e.lineBorderColor,
          lineWidth: e.lineBorder,
          strokeOpacity: e.lineBorderOpacity,
          fill: null,
          lineAppendWidth: 10,
          lineCap: 'round',
          lineJoin: 'round',
        },
        active: { lineWidth: e.lineActiveBorder },
        selected: { lineWidth: e.lineSelectedBorder },
        inactive: { strokeOpacity: e.lineInactiveBorderOpacity },
      },
    },
    i = TT(e),
    n = kT(e);
  return {
    background: e.backgroundColor,
    defaultColor: e.brandColor,
    subColor: e.subColor,
    semanticRed: e.paletteSemanticRed,
    semanticGreen: e.paletteSemanticGreen,
    padding: 'auto',
    fontFamily: e.fontFamily,
    columnWidthRatio: 1 / 2,
    maxColumnWidth: null,
    minColumnWidth: null,
    roseWidthRatio: 0.9999999,
    multiplePieWidthRatio: 1 / 1.3,
    colors10: e.paletteQualitative10,
    colors20: e.paletteQualitative20,
    sequenceColors: e.paletteSequence,
    shapes: {
      point: [
        'hollow-circle',
        'hollow-square',
        'hollow-bowtie',
        'hollow-diamond',
        'hollow-hexagon',
        'hollow-triangle',
        'hollow-triangle-down',
        'circle',
        'square',
        'bowtie',
        'diamond',
        'hexagon',
        'triangle',
        'triangle-down',
        'cross',
        'tick',
        'plus',
        'hyphen',
        'line',
      ],
      line: ['line', 'dash', 'dot', 'smooth'],
      area: ['area', 'smooth', 'line', 'smooth-line'],
      interval: ['rect', 'hollow-rect', 'line', 'tick'],
    },
    sizes: [1, 10],
    geometries: {
      interval: {
        rect: {
          default: { style: t.interval.default },
          active: { style: t.interval.active },
          inactive: { style: t.interval.inactive },
          selected: {
            style: function (a) {
              var o = a.geometry.coordinate;
              if (o.isPolar && o.isTransposed) {
                var s = La(a.getModel(), o),
                  l = s.startAngle,
                  u = s.endAngle,
                  c = (l + u) / 2,
                  h = 7.5,
                  f = h * Math.cos(c),
                  v = h * Math.sin(c);
                return { matrix: Ht(null, [['t', f, v]]) };
              }
              return t.interval.selected;
            },
          },
        },
        'hollow-rect': {
          default: { style: t.hollowInterval.default },
          active: { style: t.hollowInterval.active },
          inactive: { style: t.hollowInterval.inactive },
          selected: { style: t.hollowInterval.selected },
        },
        line: {
          default: { style: t.hollowInterval.default },
          active: { style: t.hollowInterval.active },
          inactive: { style: t.hollowInterval.inactive },
          selected: { style: t.hollowInterval.selected },
        },
        tick: {
          default: { style: t.hollowInterval.default },
          active: { style: t.hollowInterval.active },
          inactive: { style: t.hollowInterval.inactive },
          selected: { style: t.hollowInterval.selected },
        },
        funnel: {
          default: { style: t.interval.default },
          active: { style: t.interval.active },
          inactive: { style: t.interval.inactive },
          selected: { style: t.interval.selected },
        },
        pyramid: {
          default: { style: t.interval.default },
          active: { style: t.interval.active },
          inactive: { style: t.interval.inactive },
          selected: { style: t.interval.selected },
        },
      },
      line: {
        line: {
          default: { style: t.line.default },
          active: { style: t.line.active },
          inactive: { style: t.line.inactive },
          selected: { style: t.line.selected },
        },
        dot: {
          default: { style: x(x({}, t.line.default), { lineCap: null, lineDash: [1, 1] }) },
          active: { style: x(x({}, t.line.active), { lineCap: null, lineDash: [1, 1] }) },
          inactive: { style: x(x({}, t.line.inactive), { lineCap: null, lineDash: [1, 1] }) },
          selected: { style: x(x({}, t.line.selected), { lineCap: null, lineDash: [1, 1] }) },
        },
        dash: {
          default: { style: x(x({}, t.line.default), { lineCap: null, lineDash: [5.5, 1] }) },
          active: { style: x(x({}, t.line.active), { lineCap: null, lineDash: [5.5, 1] }) },
          inactive: { style: x(x({}, t.line.inactive), { lineCap: null, lineDash: [5.5, 1] }) },
          selected: { style: x(x({}, t.line.selected), { lineCap: null, lineDash: [5.5, 1] }) },
        },
        smooth: {
          default: { style: t.line.default },
          active: { style: t.line.active },
          inactive: { style: t.line.inactive },
          selected: { style: t.line.selected },
        },
        hv: {
          default: { style: t.line.default },
          active: { style: t.line.active },
          inactive: { style: t.line.inactive },
          selected: { style: t.line.selected },
        },
        vh: {
          default: { style: t.line.default },
          active: { style: t.line.active },
          inactive: { style: t.line.inactive },
          selected: { style: t.line.selected },
        },
        hvh: {
          default: { style: t.line.default },
          active: { style: t.line.active },
          inactive: { style: t.line.inactive },
          selected: { style: t.line.selected },
        },
        vhv: {
          default: { style: t.line.default },
          active: { style: t.line.active },
          inactive: { style: t.line.inactive },
          selected: { style: t.line.selected },
        },
      },
      polygon: {
        polygon: {
          default: { style: t.interval.default },
          active: { style: t.interval.active },
          inactive: { style: t.interval.inactive },
          selected: { style: t.interval.selected },
        },
      },
      point: {
        circle: {
          default: { style: t.point.default },
          active: { style: t.point.active },
          inactive: { style: t.point.inactive },
          selected: { style: t.point.selected },
        },
        square: {
          default: { style: t.point.default },
          active: { style: t.point.active },
          inactive: { style: t.point.inactive },
          selected: { style: t.point.selected },
        },
        bowtie: {
          default: { style: t.point.default },
          active: { style: t.point.active },
          inactive: { style: t.point.inactive },
          selected: { style: t.point.selected },
        },
        diamond: {
          default: { style: t.point.default },
          active: { style: t.point.active },
          inactive: { style: t.point.inactive },
          selected: { style: t.point.selected },
        },
        hexagon: {
          default: { style: t.point.default },
          active: { style: t.point.active },
          inactive: { style: t.point.inactive },
          selected: { style: t.point.selected },
        },
        triangle: {
          default: { style: t.point.default },
          active: { style: t.point.active },
          inactive: { style: t.point.inactive },
          selected: { style: t.point.selected },
        },
        'triangle-down': {
          default: { style: t.point.default },
          active: { style: t.point.active },
          inactive: { style: t.point.inactive },
          selected: { style: t.point.selected },
        },
        'hollow-circle': {
          default: { style: t.hollowPoint.default },
          active: { style: t.hollowPoint.active },
          inactive: { style: t.hollowPoint.inactive },
          selected: { style: t.hollowPoint.selected },
        },
        'hollow-square': {
          default: { style: t.hollowPoint.default },
          active: { style: t.hollowPoint.active },
          inactive: { style: t.hollowPoint.inactive },
          selected: { style: t.hollowPoint.selected },
        },
        'hollow-bowtie': {
          default: { style: t.hollowPoint.default },
          active: { style: t.hollowPoint.active },
          inactive: { style: t.hollowPoint.inactive },
          selected: { style: t.hollowPoint.selected },
        },
        'hollow-diamond': {
          default: { style: t.hollowPoint.default },
          active: { style: t.hollowPoint.active },
          inactive: { style: t.hollowPoint.inactive },
          selected: { style: t.hollowPoint.selected },
        },
        'hollow-hexagon': {
          default: { style: t.hollowPoint.default },
          active: { style: t.hollowPoint.active },
          inactive: { style: t.hollowPoint.inactive },
          selected: { style: t.hollowPoint.selected },
        },
        'hollow-triangle': {
          default: { style: t.hollowPoint.default },
          active: { style: t.hollowPoint.active },
          inactive: { style: t.hollowPoint.inactive },
          selected: { style: t.hollowPoint.selected },
        },
        'hollow-triangle-down': {
          default: { style: t.hollowPoint.default },
          active: { style: t.hollowPoint.active },
          inactive: { style: t.hollowPoint.inactive },
          selected: { style: t.hollowPoint.selected },
        },
        cross: {
          default: { style: t.hollowPoint.default },
          active: { style: t.hollowPoint.active },
          inactive: { style: t.hollowPoint.inactive },
          selected: { style: t.hollowPoint.selected },
        },
        tick: {
          default: { style: t.hollowPoint.default },
          active: { style: t.hollowPoint.active },
          inactive: { style: t.hollowPoint.inactive },
          selected: { style: t.hollowPoint.selected },
        },
        plus: {
          default: { style: t.hollowPoint.default },
          active: { style: t.hollowPoint.active },
          inactive: { style: t.hollowPoint.inactive },
          selected: { style: t.hollowPoint.selected },
        },
        hyphen: {
          default: { style: t.hollowPoint.default },
          active: { style: t.hollowPoint.active },
          inactive: { style: t.hollowPoint.inactive },
          selected: { style: t.hollowPoint.selected },
        },
        line: {
          default: { style: t.hollowPoint.default },
          active: { style: t.hollowPoint.active },
          inactive: { style: t.hollowPoint.inactive },
          selected: { style: t.hollowPoint.selected },
        },
      },
      area: {
        area: {
          default: { style: t.area.default },
          active: { style: t.area.active },
          inactive: { style: t.area.inactive },
          selected: { style: t.area.selected },
        },
        smooth: {
          default: { style: t.area.default },
          active: { style: t.area.active },
          inactive: { style: t.area.inactive },
          selected: { style: t.area.selected },
        },
        line: {
          default: { style: t.hollowArea.default },
          active: { style: t.hollowArea.active },
          inactive: { style: t.hollowArea.inactive },
          selected: { style: t.hollowArea.selected },
        },
        'smooth-line': {
          default: { style: t.hollowArea.default },
          active: { style: t.hollowArea.active },
          inactive: { style: t.hollowArea.inactive },
          selected: { style: t.hollowArea.selected },
        },
      },
      schema: {
        candle: {
          default: { style: t.hollowInterval.default },
          active: { style: t.hollowInterval.active },
          inactive: { style: t.hollowInterval.inactive },
          selected: { style: t.hollowInterval.selected },
        },
        box: {
          default: { style: t.hollowInterval.default },
          active: { style: t.hollowInterval.active },
          inactive: { style: t.hollowInterval.inactive },
          selected: { style: t.hollowInterval.selected },
        },
      },
      edge: {
        line: {
          default: { style: t.line.default },
          active: { style: t.line.active },
          inactive: { style: t.line.inactive },
          selected: { style: t.line.selected },
        },
        vhv: {
          default: { style: t.line.default },
          active: { style: t.line.active },
          inactive: { style: t.line.inactive },
          selected: { style: t.line.selected },
        },
        smooth: {
          default: { style: t.line.default },
          active: { style: t.line.active },
          inactive: { style: t.line.inactive },
          selected: { style: t.line.selected },
        },
        arc: {
          default: { style: t.line.default },
          active: { style: t.line.active },
          inactive: { style: t.line.inactive },
          selected: { style: t.line.selected },
        },
      },
      violin: {
        violin: {
          default: { style: t.line.default },
          active: { style: t.line.active },
          inactive: { style: t.line.inactive },
          selected: { style: t.line.selected },
        },
        smooth: {
          default: { style: t.line.default },
          active: { style: t.line.active },
          inactive: { style: t.line.inactive },
          selected: { style: t.line.selected },
        },
        hollow: {
          default: { style: t.hollowArea.default },
          active: { style: t.hollowArea.active },
          inactive: { style: t.hollowArea.inactive },
          selected: { style: t.hollowArea.selected },
        },
        'hollow-smooth': {
          default: { style: t.hollowArea.default },
          active: { style: t.hollowArea.active },
          inactive: { style: t.hollowArea.inactive },
          selected: { style: t.hollowArea.selected },
        },
      },
    },
    components: {
      axis: {
        common: i,
        top: { position: 'top', grid: null, title: null, verticalLimitLength: 1 / 2 },
        bottom: { position: 'bottom', grid: null, title: null, verticalLimitLength: 1 / 2 },
        left: {
          position: 'left',
          title: null,
          line: null,
          tickLine: null,
          verticalLimitLength: 1 / 3,
        },
        right: {
          position: 'right',
          title: null,
          line: null,
          tickLine: null,
          verticalLimitLength: 1 / 3,
        },
        circle: { title: null, grid: _({}, i.grid, { line: { type: 'line' } }) },
        radius: { title: null, grid: _({}, i.grid, { line: { type: 'circle' } }) },
      },
      legend: {
        common: n,
        right: { layout: 'vertical', padding: e.legendVerticalPadding },
        left: { layout: 'vertical', padding: e.legendVerticalPadding },
        top: { layout: 'horizontal', padding: e.legendHorizontalPadding },
        bottom: { layout: 'horizontal', padding: e.legendHorizontalPadding },
        continuous: {
          title: null,
          background: null,
          track: {},
          rail: {
            type: 'color',
            size: e.sliderRailHeight,
            defaultLength: e.sliderRailWidth,
            style: {
              fill: e.sliderRailFillColor,
              stroke: e.sliderRailBorderColor,
              lineWidth: e.sliderRailBorder,
            },
          },
          label: {
            align: 'rail',
            spacing: 4,
            formatter: null,
            style: {
              fill: e.sliderLabelTextFillColor,
              fontSize: e.sliderLabelTextFontSize,
              lineHeight: e.sliderLabelTextLineHeight,
              textBaseline: 'middle',
              fontFamily: e.fontFamily,
            },
          },
          handler: {
            size: e.sliderHandlerWidth,
            style: { fill: e.sliderHandlerFillColor, stroke: e.sliderHandlerBorderColor },
          },
          slidable: !0,
          padding: n.padding,
        },
      },
      tooltip: {
        showContent: !0,
        follow: !0,
        showCrosshairs: !1,
        showMarkers: !0,
        shared: !1,
        enterable: !1,
        position: 'auto',
        marker: {
          symbol: 'circle',
          stroke: '#fff',
          shadowBlur: 10,
          shadowOffsetX: 0,
          shadowOffsetY: 0,
          shadowColor: 'rgba(0,0,0,0.09)',
          lineWidth: 2,
          r: 4,
        },
        crosshairs: {
          line: {
            style: { stroke: e.tooltipCrosshairsBorderColor, lineWidth: e.tooltipCrosshairsBorder },
          },
          text: null,
          textBackground: {
            padding: 2,
            style: { fill: 'rgba(0, 0, 0, 0.25)', lineWidth: 0, stroke: null },
          },
          follow: !1,
        },
        domStyles:
          ((r = {}),
          (r[''.concat(Cr)] = {
            position: 'absolute',
            visibility: 'hidden',
            zIndex: 8,
            transition:
              'left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s',
            backgroundColor: e.tooltipContainerFillColor,
            opacity: e.tooltipContainerFillOpacity,
            boxShadow: e.tooltipContainerShadow,
            borderRadius: ''.concat(e.tooltipContainerBorderRadius, 'px'),
            color: e.tooltipTextFillColor,
            fontSize: ''.concat(e.tooltipTextFontSize, 'px'),
            fontFamily: e.fontFamily,
            lineHeight: ''.concat(e.tooltipTextLineHeight, 'px'),
            padding: '0 12px 0 12px',
          }),
          (r[''.concat(Ar)] = { marginBottom: '12px', marginTop: '12px' }),
          (r[''.concat(Ia)] = { margin: 0, listStyleType: 'none', padding: 0 }),
          (r[''.concat(hl)] = {
            listStyleType: 'none',
            padding: 0,
            marginBottom: '12px',
            marginTop: '12px',
            marginLeft: 0,
            marginRight: 0,
          }),
          (r[''.concat(fl)] = {
            width: '8px',
            height: '8px',
            borderRadius: '50%',
            display: 'inline-block',
            marginRight: '8px',
          }),
          (r[''.concat(vl)] = { display: 'inline-block', float: 'right', marginLeft: '30px' }),
          r),
      },
      annotation: {
        arc: {
          style: { stroke: e.annotationArcBorderColor, lineWidth: e.annotationArcBorder },
          animate: !0,
        },
        line: {
          style: {
            stroke: e.annotationLineBorderColor,
            lineDash: e.annotationLineDash,
            lineWidth: e.annotationLineBorder,
          },
          text: {
            position: 'start',
            autoRotate: !0,
            style: {
              fill: e.annotationTextFillColor,
              stroke: e.annotationTextBorderColor,
              lineWidth: e.annotationTextBorder,
              fontSize: e.annotationTextFontSize,
              textAlign: 'start',
              fontFamily: e.fontFamily,
              textBaseline: 'bottom',
            },
          },
          animate: !0,
        },
        text: {
          style: {
            fill: e.annotationTextFillColor,
            stroke: e.annotationTextBorderColor,
            lineWidth: e.annotationTextBorder,
            fontSize: e.annotationTextFontSize,
            textBaseline: 'middle',
            textAlign: 'start',
            fontFamily: e.fontFamily,
          },
          animate: !0,
        },
        region: {
          top: !1,
          style: {
            lineWidth: e.annotationRegionBorder,
            stroke: e.annotationRegionBorderColor,
            fill: e.annotationRegionFillColor,
            fillOpacity: e.annotationRegionFillOpacity,
          },
          animate: !0,
        },
        image: { top: !1, animate: !0 },
        dataMarker: {
          top: !0,
          point: { style: { r: 3, stroke: e.brandColor, lineWidth: 2 } },
          line: {
            style: { stroke: e.annotationLineBorderColor, lineWidth: e.annotationLineBorder },
            length: e.annotationDataMarkerLineLength,
          },
          text: {
            style: {
              textAlign: 'start',
              fill: e.annotationTextFillColor,
              stroke: e.annotationTextBorderColor,
              lineWidth: e.annotationTextBorder,
              fontSize: e.annotationTextFontSize,
              fontFamily: e.fontFamily,
            },
          },
          direction: 'upward',
          autoAdjust: !0,
          animate: !0,
        },
        dataRegion: {
          style: {
            region: {
              fill: e.annotationRegionFillColor,
              fillOpacity: e.annotationRegionFillOpacity,
            },
            text: {
              textAlign: 'center',
              textBaseline: 'bottom',
              fill: e.annotationTextFillColor,
              stroke: e.annotationTextBorderColor,
              lineWidth: e.annotationTextBorder,
              fontSize: e.annotationTextFontSize,
              fontFamily: e.fontFamily,
            },
          },
          animate: !0,
        },
      },
      slider: {
        common: {
          padding: [8, 8, 8, 8],
          backgroundStyle: {
            fill: e.cSliderBackgroundFillColor,
            opacity: e.cSliderBackgroundFillOpacity,
          },
          foregroundStyle: {
            fill: e.cSliderForegroundFillColor,
            opacity: e.cSliderForegroundFillOpacity,
          },
          handlerStyle: {
            width: e.cSliderHandlerWidth,
            height: e.cSliderHandlerHeight,
            fill: e.cSliderHandlerFillColor,
            opacity: e.cSliderHandlerFillOpacity,
            stroke: e.cSliderHandlerBorderColor,
            lineWidth: e.cSliderHandlerBorder,
            radius: e.cSliderHandlerBorderRadius,
            highLightFill: e.cSliderHandlerHighlightFillColor,
          },
          textStyle: {
            fill: e.cSliderTextFillColor,
            opacity: e.cSliderTextFillOpacity,
            fontSize: e.cSliderTextFontSize,
            lineHeight: e.cSliderTextLineHeight,
            fontWeight: e.cSliderTextFontWeight,
            stroke: e.cSliderTextBorderColor,
            lineWidth: e.cSliderTextBorder,
          },
        },
      },
      scrollbar: {
        common: { padding: [8, 8, 8, 8] },
        default: {
          style: { trackColor: e.scrollbarTrackFillColor, thumbColor: e.scrollbarThumbFillColor },
        },
        hover: { style: { thumbColor: e.scrollbarThumbHighlightFillColor } },
      },
    },
    labels: {
      offset: 12,
      style: {
        fill: e.labelFillColor,
        fontSize: e.labelFontSize,
        fontFamily: e.fontFamily,
        stroke: e.labelBorderColor,
        lineWidth: e.labelBorder,
      },
      fillColorDark: e.labelFillColorDark,
      fillColorLight: e.labelFillColorLight,
      autoRotate: !0,
    },
    innerLabels: {
      style: {
        fill: e.innerLabelFillColor,
        fontSize: e.innerLabelFontSize,
        fontFamily: e.fontFamily,
        stroke: e.innerLabelBorderColor,
        lineWidth: e.innerLabelBorder,
      },
      autoRotate: !0,
    },
    overflowLabels: {
      style: {
        fill: e.overflowLabelFillColor,
        fontSize: e.overflowLabelFontSize,
        fontFamily: e.fontFamily,
        stroke: e.overflowLabelBorderColor,
        lineWidth: e.overflowLabelBorder,
      },
    },
    pieLabels: {
      labelHeight: 14,
      offset: 10,
      labelLine: { style: { lineWidth: e.labelLineBorder } },
      autoRotate: !0,
    },
  };
}
var pt = {
    100: '#000',
    95: '#0D0D0D',
    85: '#262626',
    65: '#595959',
    45: '#8C8C8C',
    25: '#BFBFBF',
    15: '#D9D9D9',
    6: '#F0F0F0',
  },
  _i = {
    100: '#FFFFFF',
    95: '#F2F2F2',
    85: '#D9D9D9',
    65: '#A6A6A6',
    45: '#737373',
    25: '#404040',
    15: '#262626',
    6: '#0F0F0F',
  },
  IT = [
    '#5B8FF9',
    '#5AD8A6',
    '#5D7092',
    '#F6BD16',
    '#6F5EF9',
    '#6DC8EC',
    '#945FB9',
    '#FF9845',
    '#1E9493',
    '#FF99C3',
  ],
  LT = [
    '#5B8FF9',
    '#CDDDFD',
    '#5AD8A6',
    '#CDF3E4',
    '#5D7092',
    '#CED4DE',
    '#F6BD16',
    '#FCEBB9',
    '#6F5EF9',
    '#D3CEFD',
    '#6DC8EC',
    '#D3EEF9',
    '#945FB9',
    '#DECFEA',
    '#FF9845',
    '#FFE0C7',
    '#1E9493',
    '#BBDEDE',
    '#FF99C3',
    '#FFE0ED',
  ],
  OT = [
    '#B8E1FF',
    '#9AC5FF',
    '#7DAAFF',
    '#5B8FF9',
    '#3D76DD',
    '#085EC0',
    '#0047A5',
    '#00318A',
    '#001D70',
  ],
  Bm = function (e) {
    e === void 0 && (e = {});
    var r = e.paletteQualitative10,
      t = r === void 0 ? IT : r,
      i = e.paletteQualitative20,
      n = i === void 0 ? LT : i,
      a = e.brandColor,
      o = a === void 0 ? t[0] : a,
      s = {
        backgroundColor: 'transparent',
        brandColor: o,
        subColor: 'rgba(0,0,0,0.05)',
        paletteQualitative10: t,
        paletteQualitative20: n,
        paletteSemanticRed: '#F4664A',
        paletteSemanticGreen: '#30BF78',
        paletteSemanticYellow: '#FAAD14',
        paletteSequence: OT,
        fontFamily: `"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,
        axisLineBorderColor: pt[25],
        axisLineBorder: 1,
        axisLineDash: null,
        axisTitleTextFillColor: pt[65],
        axisTitleTextFontSize: 12,
        axisTitleTextLineHeight: 12,
        axisTitleTextFontWeight: 'normal',
        axisTitleSpacing: 12,
        axisDescriptionIconFillColor: _i[85],
        axisTickLineBorderColor: pt[25],
        axisTickLineLength: 4,
        axisTickLineBorder: 1,
        axisSubTickLineBorderColor: pt[15],
        axisSubTickLineLength: 2,
        axisSubTickLineBorder: 1,
        axisLabelFillColor: pt[45],
        axisLabelFontSize: 12,
        axisLabelLineHeight: 12,
        axisLabelFontWeight: 'normal',
        axisLabelOffset: 8,
        axisGridBorderColor: pt[15],
        axisGridBorder: 1,
        axisGridLineDash: null,
        legendTitleTextFillColor: pt[45],
        legendTitleTextFontSize: 12,
        legendTitleTextLineHeight: 21,
        legendTitleTextFontWeight: 'normal',
        legendMarkerColor: o,
        legendMarkerSpacing: 8,
        legendMarkerSize: 4,
        legendCircleMarkerSize: 4,
        legendSquareMarkerSize: 4,
        legendLineMarkerSize: 5,
        legendItemNameFillColor: pt[65],
        legendItemNameFontSize: 12,
        legendItemNameLineHeight: 12,
        legendItemNameFontWeight: 'normal',
        legendItemSpacing: 24,
        legendItemMarginBottom: 12,
        legendPadding: [8, 8, 8, 8],
        legendHorizontalPadding: [8, 0, 8, 0],
        legendVerticalPadding: [0, 8, 0, 8],
        legendPageNavigatorMarkerSize: 12,
        legendPageNavigatorMarkerInactiveFillColor: pt[100],
        legendPageNavigatorMarkerInactiveFillOpacity: 0.45,
        legendPageNavigatorMarkerFillColor: pt[100],
        legendPageNavigatorMarkerFillOpacity: 1,
        legendPageNavigatorTextFillColor: pt[45],
        legendPageNavigatorTextFontSize: 12,
        sliderRailFillColor: pt[15],
        sliderRailBorder: 0,
        sliderRailBorderColor: null,
        sliderRailWidth: 100,
        sliderRailHeight: 12,
        sliderLabelTextFillColor: pt[45],
        sliderLabelTextFontSize: 12,
        sliderLabelTextLineHeight: 12,
        sliderLabelTextFontWeight: 'normal',
        sliderHandlerFillColor: pt[6],
        sliderHandlerWidth: 10,
        sliderHandlerHeight: 14,
        sliderHandlerBorder: 1,
        sliderHandlerBorderColor: pt[25],
        annotationArcBorderColor: pt[15],
        annotationArcBorder: 1,
        annotationLineBorderColor: pt[25],
        annotationLineBorder: 1,
        annotationLineDash: null,
        annotationTextFillColor: pt[65],
        annotationTextFontSize: 12,
        annotationTextLineHeight: 12,
        annotationTextFontWeight: 'normal',
        annotationTextBorderColor: null,
        annotationTextBorder: 0,
        annotationRegionFillColor: pt[100],
        annotationRegionFillOpacity: 0.06,
        annotationRegionBorder: 0,
        annotationRegionBorderColor: null,
        annotationDataMarkerLineLength: 16,
        tooltipCrosshairsBorderColor: pt[25],
        tooltipCrosshairsBorder: 1,
        tooltipCrosshairsLineDash: null,
        tooltipContainerFillColor: 'rgb(255, 255, 255)',
        tooltipContainerFillOpacity: 0.95,
        tooltipContainerShadow: '0px 0px 10px #aeaeae',
        tooltipContainerBorderRadius: 3,
        tooltipTextFillColor: pt[65],
        tooltipTextFontSize: 12,
        tooltipTextLineHeight: 12,
        tooltipTextFontWeight: 'bold',
        labelFillColor: pt[65],
        labelFillColorDark: '#2c3542',
        labelFillColorLight: '#ffffff',
        labelFontSize: 12,
        labelLineHeight: 12,
        labelFontWeight: 'normal',
        labelBorderColor: null,
        labelBorder: 0,
        innerLabelFillColor: _i[100],
        innerLabelFontSize: 12,
        innerLabelLineHeight: 12,
        innerLabelFontWeight: 'normal',
        innerLabelBorderColor: null,
        innerLabelBorder: 0,
        overflowLabelFillColor: pt[65],
        overflowLabelFontSize: 12,
        overflowLabelLineHeight: 12,
        overflowLabelFontWeight: 'normal',
        overflowLabelBorderColor: _i[100],
        overflowLabelBorder: 1,
        labelLineBorder: 1,
        labelLineBorderColor: pt[25],
        cSliderRailHieght: 16,
        cSliderBackgroundFillColor: '#416180',
        cSliderBackgroundFillOpacity: 0.05,
        cSliderForegroundFillColor: '#5B8FF9',
        cSliderForegroundFillOpacity: 0.15,
        cSliderHandlerHeight: 24,
        cSliderHandlerWidth: 10,
        cSliderHandlerFillColor: '#F7F7F7',
        cSliderHandlerFillOpacity: 1,
        cSliderHandlerHighlightFillColor: '#FFF',
        cSliderHandlerBorderColor: '#BFBFBF',
        cSliderHandlerBorder: 1,
        cSliderHandlerBorderRadius: 2,
        cSliderTextFillColor: '#000',
        cSliderTextFillOpacity: 0.45,
        cSliderTextFontSize: 12,
        cSliderTextLineHeight: 12,
        cSliderTextFontWeight: 'normal',
        cSliderTextBorderColor: null,
        cSliderTextBorder: 0,
        scrollbarTrackFillColor: 'rgba(0,0,0,0)',
        scrollbarThumbFillColor: 'rgba(0,0,0,0.15)',
        scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.2)',
        pointFillColor: o,
        pointFillOpacity: 0.95,
        pointSize: 4,
        pointBorder: 1,
        pointBorderColor: _i[100],
        pointBorderOpacity: 1,
        pointActiveBorderColor: pt[100],
        pointSelectedBorder: 2,
        pointSelectedBorderColor: pt[100],
        pointInactiveFillOpacity: 0.3,
        pointInactiveBorderOpacity: 0.3,
        hollowPointSize: 4,
        hollowPointBorder: 1,
        hollowPointBorderColor: o,
        hollowPointBorderOpacity: 0.95,
        hollowPointFillColor: _i[100],
        hollowPointActiveBorder: 1,
        hollowPointActiveBorderColor: pt[100],
        hollowPointActiveBorderOpacity: 1,
        hollowPointSelectedBorder: 2,
        hollowPointSelectedBorderColor: pt[100],
        hollowPointSelectedBorderOpacity: 1,
        hollowPointInactiveBorderOpacity: 0.3,
        lineBorder: 2,
        lineBorderColor: o,
        lineBorderOpacity: 1,
        lineActiveBorder: 3,
        lineSelectedBorder: 3,
        lineInactiveBorderOpacity: 0.3,
        areaFillColor: o,
        areaFillOpacity: 0.25,
        areaActiveFillColor: o,
        areaActiveFillOpacity: 0.5,
        areaSelectedFillColor: o,
        areaSelectedFillOpacity: 0.5,
        areaInactiveFillOpacity: 0.3,
        hollowAreaBorderColor: o,
        hollowAreaBorder: 2,
        hollowAreaBorderOpacity: 1,
        hollowAreaActiveBorder: 3,
        hollowAreaActiveBorderColor: pt[100],
        hollowAreaSelectedBorder: 3,
        hollowAreaSelectedBorderColor: pt[100],
        hollowAreaInactiveBorderOpacity: 0.3,
        intervalFillColor: o,
        intervalFillOpacity: 0.95,
        intervalActiveBorder: 1,
        intervalActiveBorderColor: pt[100],
        intervalActiveBorderOpacity: 1,
        intervalSelectedBorder: 2,
        intervalSelectedBorderColor: pt[100],
        intervalSelectedBorderOpacity: 1,
        intervalInactiveBorderOpacity: 0.3,
        intervalInactiveFillOpacity: 0.3,
        hollowIntervalBorder: 2,
        hollowIntervalBorderColor: o,
        hollowIntervalBorderOpacity: 1,
        hollowIntervalFillColor: _i[100],
        hollowIntervalActiveBorder: 2,
        hollowIntervalActiveBorderColor: pt[100],
        hollowIntervalSelectedBorder: 3,
        hollowIntervalSelectedBorderColor: pt[100],
        hollowIntervalSelectedBorderOpacity: 1,
        hollowIntervalInactiveBorderOpacity: 0.3,
      };
    return x(x({}, s), e);
  };
Bm();
function Cs(e) {
  var r = e.styleSheet,
    t = r === void 0 ? {} : r,
    i = mt(e, ['styleSheet']),
    n = Bm(t);
  return _({}, Dm(n), i);
}
var PT = Cs({}),
  cc = { default: PT };
function da(e) {
  return M(cc, Tn(e), cc.default);
}
function DT(e, r) {
  cc[Tn(e)] = Cs(r);
}
function Sd(e, r, t) {
  var i = t.translate(e),
    n = t.translate(r);
  return qt(i, n);
}
function BT(e, r) {
  var t = r.coordinate,
    i = r.getXScale(),
    n = i.range,
    a = n[n.length - 1],
    o = n[0],
    s = t.invert(e),
    l = s.x;
  return t.isPolar && l > (1 + a) / 2 && (l = o), i.translate(i.invert(l));
}
function Cd(e, r, t) {
  var i = t.coordinate,
    n = t.getYScale(),
    a = n.field,
    o = i.invert(r),
    s = n.invert(o.y),
    l = We(e, function (u) {
      var c = u[St];
      return c[a][0] <= s && c[a][1] >= s;
    });
  return l || e[e.length - 1];
}
var RT = kn(function (e) {
  if (e.isCategory) return 1;
  for (var r = e.values, t = r.length, i = e.translate(r[0]), n = i, a = 0; a < t; a++) {
    var o = r[a],
      s = e.translate(o);
    s < i && (i = s), s > n && (n = s);
  }
  return (n - i) / (t - 1);
});
function $T(e, r, t) {
  var i = r.getAttribute('position'),
    n = i.getFields(),
    a = r.scales,
    o = q(t) || !t ? n[0] : t,
    s = a[o],
    l = s ? s.getText(e[o]) : e[o] || o;
  return q(t) ? t(l, e) : l;
}
function NT(e) {
  var r = Ys(e.attributes);
  return Qt(r, function (t) {
    return fi(Qi, t.type);
  });
}
function Rm(e) {
  var r,
    t,
    i = NT(e),
    n;
  try {
    for (var a = vt(i), o = a.next(); !o.done; o = a.next()) {
      var s = o.value,
        l = s.getScale(s.type);
      if (l && l.isLinear) {
        var u = M(e.scaleDefs, l.field),
          c = wm(l, u, s.type, e.type);
        if (c !== 'cat') {
          n = l;
          break;
        }
      }
    }
  } catch (v) {
    r = { error: v };
  } finally {
    try {
      o && !o.done && (t = a.return) && t.call(a);
    } finally {
      if (r) throw r.error;
    }
  }
  var h = e.getXScale(),
    f = e.getYScale();
  return n || f || h;
}
function zT(e, r) {
  var t = r.field,
    i = e[t];
  if ($(i)) {
    var n = i.map(function (a) {
      return r.getText(a);
    });
    return n.join('-');
  }
  return r.getText(i);
}
function GT(e, r) {
  var t,
    i = r.getGroupScales();
  if ((i.length && (t = i[0]), t)) {
    var n = t.field;
    return t.getText(e[n]);
  }
  var a = Rm(r);
  return Oa(a);
}
function $m(e, r, t) {
  if (r.length === 0) return null;
  var i = t.type,
    n = t.getXScale(),
    a = t.getYScale(),
    o = n.field,
    s = a.field,
    l = null;
  if (i === 'heatmap' || i === 'point') {
    for (
      var u = t.coordinate, c = u.invert(e), h = n.invert(c.x), f = a.invert(c.y), v = 1 / 0, d = 0;
      d < r.length;
      d++
    ) {
      var p = r[d],
        g = p[St],
        y = Math.pow(g[o] - h, 2) + Math.pow(g[s] - f, 2);
      y < v && ((v = y), (l = p));
    }
    return l;
  }
  var m = r[0],
    b = r[r.length - 1],
    w = BT(e, t),
    S = m[St][o],
    C = m[St][s],
    F = b[St][o],
    E = a.isLinear && $(C);
  if ($(S)) {
    for (var d = 0; d < r.length; d++) {
      var k = r[d],
        g = k[St];
      if (n.translate(g[o][0]) <= w && n.translate(g[o][1]) >= w)
        if (E) $(l) || (l = []), l.push(k);
        else {
          l = k;
          break;
        }
    }
    $(l) && (l = Cd(l, e, t));
  } else {
    var T = void 0;
    if (!n.isLinear && n.type !== 'timeCat') {
      for (var d = 0; d < r.length; d++) {
        var k = r[d],
          g = k[St];
        if (Sd(g[o], w, n))
          if (E) $(l) || (l = []), l.push(k);
          else {
            l = k;
            break;
          }
        else n.translate(g[o]) <= w && ((b = k), (T = r[d + 1]));
      }
      $(l) && (l = Cd(l, e, t));
    } else {
      if ((w > n.translate(F) || w < n.translate(S)) && (w > n.max || w < n.min)) return null;
      for (var O = 0, P = r.length - 1, z = void 0; O <= P; ) {
        z = Math.floor((O + P) / 2);
        var W = r[z][St][o];
        if (Sd(W, w, n)) return r[z];
        n.translate(W) <= n.translate(w)
          ? ((O = z + 1), (b = r[z]), (T = r[z + 1]))
          : (P === 0 && (b = r[0]), (P = z - 1));
      }
    }
    b && T && Math.abs(n.translate(b[St][o]) - w) > Math.abs(n.translate(T[St][o]) - w) && (b = T);
  }
  var j = RT(t.getXScale());
  return !l && Math.abs(n.translate(b[St][o]) - w) <= j / 2 && (l = b), l;
}
function Sh(e, r, t, i) {
  var n, a;
  t === void 0 && (t = ''), i === void 0 && (i = !1);
  var o = e[St],
    s = $T(o, r, t),
    l = r.tooltipOption,
    u = r.theme.defaultColor,
    c = [],
    h,
    f;
  function v(k, T) {
    if (i || (!R(T) && T !== '')) {
      var O = {
        title: s,
        data: o,
        mappingData: e,
        name: k,
        value: T,
        color: e.color || u,
        marker: !0,
      };
      c.push(O);
    }
  }
  if (yt(l)) {
    var d = l.fields,
      p = l.callback;
    if (p) {
      var g = d.map(function (k) {
          return e[St][k];
        }),
        y = p.apply(void 0, Et([], K(g), !1)),
        m = x({ data: e[St], mappingData: e, title: s, color: e.color || u, marker: !0 }, y);
      c.push(m);
    } else {
      var b = r.scales;
      try {
        for (var w = vt(d), S = w.next(); !S.done; S = w.next()) {
          var C = S.value;
          if (!R(o[C])) {
            var F = b[C];
            (h = Oa(F)), (f = F.getText(o[C])), v(h, f);
          }
        }
      } catch (k) {
        n = { error: k };
      } finally {
        try {
          S && !S.done && (a = w.return) && a.call(w);
        } finally {
          if (n) throw n.error;
        }
      }
    }
  } else {
    var E = Rm(r);
    (f = zT(o, E)), (h = GT(o, r)), v(h, f);
  }
  return c;
}
function Ad(e, r, t, i) {
  var n,
    a,
    o = i.showNil,
    s = [],
    l = e.dataArray;
  if (!we(l)) {
    e.sort(l);
    try {
      for (var u = vt(l), c = u.next(); !c.done; c = u.next()) {
        var h = c.value,
          f = $m(r, h, e);
        if (f) {
          var v = e.getElementId(f),
            d = e.elementsMap[v];
          if (e.type === 'heatmap' || d.visible) {
            var p = Sh(f, e, t, o);
            p.length && s.push(p);
          }
        }
      }
    } catch (g) {
      n = { error: g };
    } finally {
      try {
        c && !c.done && (a = u.return) && a.call(u);
      } finally {
        if (n) throw n.error;
      }
    }
  }
  return s;
}
function Md(e, r, t, i) {
  var n = i.showNil,
    a = [],
    o = e.container,
    s = o.getShape(r.x, r.y);
  if (s && s.get('visible') && s.get('origin')) {
    var l = s.get('origin').mappingData,
      u = Sh(l, e, t, n);
    u.length && a.push(u);
  }
  return a;
}
function hc(e, r, t) {
  var i,
    n,
    a = [],
    o = e.geometries,
    s = t.shared,
    l = t.title,
    u = t.reversed;
  try {
    for (var c = vt(o), h = c.next(); !h.done; h = c.next()) {
      var f = h.value;
      if (f.visible && f.tooltipOption !== !1) {
        var v = f.type,
          d = void 0;
        ['point', 'edge', 'polygon'].includes(v)
          ? (d = Md(f, r, l, t))
          : ['area', 'line', 'path', 'heatmap'].includes(v) || s !== !1
          ? (d = Ad(f, r, l, t))
          : (d = Md(f, r, l, t)),
          d.length && (u && d.reverse(), a.push(d));
      }
    }
  } catch (p) {
    i = { error: p };
  } finally {
    try {
      h && !h.done && (n = c.return) && n.call(c);
    } finally {
      if (i) throw i.error;
    }
  }
  return a;
}
function HT(e, r, t) {
  var i,
    n,
    a = hc(e, r, t);
  try {
    for (var o = vt(e.views), s = o.next(); !s.done; s = o.next()) {
      var l = s.value;
      a = a.concat(hc(l, r, t));
    }
  } catch (u) {
    i = { error: u };
  } finally {
    try {
      s && !s.done && (n = o.return) && n.call(o);
    } finally {
      if (i) throw i.error;
    }
  }
  return a;
}
function VT(e) {
  return !it(e) && !$(e);
}
function Ch(e) {
  e === void 0 && (e = 0);
  var r = $(e) ? e : [e];
  switch (r.length) {
    case 0:
      r = [0, 0, 0, 0];
      break;
    case 1:
      r = new Array(4).fill(r[0]);
      break;
    case 2:
      r = Et(Et([], K(r), !1), K(r), !1);
      break;
    case 3:
      r = Et(Et([], K(r), !1), [r[1]], !1);
      break;
    default:
      r = r.slice(0, 4);
      break;
  }
  return r;
}
var Ah = {};
function Gi(e, r) {
  Ah[e] = r;
}
function YT() {
  return Object.keys(Ah);
}
function WT(e) {
  return Ah[e];
}
var XT = (function () {
    function e(r) {
      this.option = this.wrapperOption(r);
    }
    return (
      (e.prototype.update = function (r) {
        return (this.option = this.wrapperOption(r)), this;
      }),
      (e.prototype.hasAction = function (r) {
        var t = this.option.actions;
        return Vs(t, function (i) {
          return i[0] === r;
        });
      }),
      (e.prototype.create = function (r, t) {
        var i = this.option,
          n = i.type,
          a = i.cfg,
          o = n === 'theta',
          s = x({ start: r, end: t }, a),
          l = y2(o ? 'polar' : n);
        return (
          (this.coordinate = new l(s)),
          (this.coordinate.type = n),
          o && (this.hasAction('transpose') || this.transpose()),
          this.execActions(),
          this.coordinate
        );
      }),
      (e.prototype.adjust = function (r, t) {
        return (
          this.coordinate.update({ start: r, end: t }),
          this.coordinate.resetMatrix(),
          this.execActions(['scale', 'rotate', 'translate']),
          this.coordinate
        );
      }),
      (e.prototype.rotate = function (r) {
        return this.option.actions.push(['rotate', r]), this;
      }),
      (e.prototype.reflect = function (r) {
        return this.option.actions.push(['reflect', r]), this;
      }),
      (e.prototype.scale = function (r, t) {
        return this.option.actions.push(['scale', r, t]), this;
      }),
      (e.prototype.transpose = function () {
        return this.option.actions.push(['transpose']), this;
      }),
      (e.prototype.getOption = function () {
        return this.option;
      }),
      (e.prototype.getCoordinate = function () {
        return this.coordinate;
      }),
      (e.prototype.wrapperOption = function (r) {
        return x({ type: 'rect', actions: [], cfg: {} }, r);
      }),
      (e.prototype.execActions = function (r) {
        var t = this,
          i = this.option.actions;
        A(i, function (n) {
          var a,
            o = K(n),
            s = o[0],
            l = o.slice(1),
            u = R(r) ? !0 : r.includes(s);
          u && (a = t.coordinate)[s].apply(a, Et([], K(l), !1));
        });
      }),
      e
    );
  })(),
  Lt = (function () {
    function e(r, t, i) {
      (this.view = r), (this.gEvent = t), (this.data = i), (this.type = t.type);
    }
    return (
      (e.fromData = function (r, t, i) {
        return new e(r, new ja(t, {}), i);
      }),
      Object.defineProperty(e.prototype, 'target', {
        get: function () {
          return this.gEvent.target;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(e.prototype, 'event', {
        get: function () {
          return this.gEvent.originalEvent;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(e.prototype, 'x', {
        get: function () {
          return this.gEvent.x;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(e.prototype, 'y', {
        get: function () {
          return this.gEvent.y;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(e.prototype, 'clientX', {
        get: function () {
          return this.gEvent.clientX;
        },
        enumerable: !1,
        configurable: !0,
      }),
      Object.defineProperty(e.prototype, 'clientY', {
        get: function () {
          return this.gEvent.clientY;
        },
        enumerable: !1,
        configurable: !0,
      }),
      (e.prototype.toString = function () {
        return '[Event (type='.concat(this.type, ')]');
      }),
      (e.prototype.clone = function () {
        return new e(this.view, this.gEvent, this.data);
      }),
      e
    );
  })();
function _T(e) {
  var r = e.getController('axis'),
    t = e.getController('legend'),
    i = e.getController('annotation'),
    n = e.getController('slider'),
    a = e.getController('scrollbar');
  [r, n, a, t, i].forEach(function (o) {
    o && o.layout();
  });
}
var jT = (function () {
    function e() {
      (this.scales = new Map()), (this.syncScales = new Map());
    }
    return (
      (e.prototype.createScale = function (r, t, i, n) {
        var a = i,
          o = this.getScaleMeta(n);
        if (t.length === 0 && o) {
          var s = o.scale,
            l = { type: s.type };
          s.isCategory && (l.values = s.values), (a = _(l, o.scaleDef, i));
        }
        var u = rT(r, t, a);
        return this.cacheScale(u, i, n), u;
      }),
      (e.prototype.sync = function (r, t) {
        var i = this;
        this.syncScales.forEach(function (n, a) {
          var o = Number.MAX_SAFE_INTEGER,
            s = Number.MIN_SAFE_INTEGER,
            l = [];
          A(n, function (u) {
            var c = i.getScale(u);
            (s = it(c.max) ? Math.max(s, c.max) : s),
              (o = it(c.min) ? Math.min(o, c.min) : o),
              A(c.values, function (h) {
                l.includes(h) || l.push(h);
              });
          }),
            A(n, function (u) {
              var c = i.getScale(u);
              if (c.isContinuous) c.change({ min: o, max: s, values: l });
              else if (c.isCategory) {
                var h = c.range,
                  f = i.getScaleMeta(u);
                l && !M(f, ['scaleDef', 'range']) && (h = bm(_({}, c, { values: l }), r, t)),
                  c.change({ values: l, range: h });
              }
            });
        });
      }),
      (e.prototype.cacheScale = function (r, t, i) {
        var n = this.getScaleMeta(i);
        n && n.scale.type === r.type
          ? (iT(n.scale, r), (n.scaleDef = t))
          : ((n = { key: i, scale: r, scaleDef: t }), this.scales.set(i, n));
        var a = this.getSyncKey(n);
        if (((n.syncKey = a), this.removeFromSyncScales(i), a)) {
          var o = this.syncScales.get(a);
          o || ((o = []), this.syncScales.set(a, o)), o.push(i);
        }
      }),
      (e.prototype.getScale = function (r) {
        var t = this.getScaleMeta(r);
        if (!t) {
          var i = Vt(r.split('-')),
            n = this.syncScales.get(i);
          n && n.length && (t = this.getScaleMeta(n[0]));
        }
        return t && t.scale;
      }),
      (e.prototype.deleteScale = function (r) {
        var t = this.getScaleMeta(r);
        if (t) {
          var i = t.syncKey,
            n = this.syncScales.get(i);
          if (n && n.length) {
            var a = n.indexOf(r);
            a !== -1 && n.splice(a, 1);
          }
        }
        this.scales.delete(r);
      }),
      (e.prototype.clear = function () {
        this.scales.clear(), this.syncScales.clear();
      }),
      (e.prototype.removeFromSyncScales = function (r) {
        var t = this;
        this.syncScales.forEach(function (i, n) {
          var a = i.indexOf(r);
          if (a !== -1) return i.splice(a, 1), i.length === 0 && t.syncScales.delete(n), !1;
        });
      }),
      (e.prototype.getSyncKey = function (r) {
        var t = r.scale,
          i = r.scaleDef,
          n = t.field,
          a = M(i, ['sync']);
        return a === !0 ? n : a === !1 ? void 0 : a;
      }),
      (e.prototype.getScaleMeta = function (r) {
        return this.scales.get(r);
      }),
      e
    );
  })(),
  Qo = (function () {
    function e(r, t, i, n) {
      r === void 0 && (r = 0),
        t === void 0 && (t = 0),
        i === void 0 && (i = 0),
        n === void 0 && (n = 0),
        (this.top = r),
        (this.right = t),
        (this.bottom = i),
        (this.left = n);
    }
    return (
      (e.instance = function (r, t, i, n) {
        return (
          r === void 0 && (r = 0),
          t === void 0 && (t = 0),
          i === void 0 && (i = 0),
          n === void 0 && (n = 0),
          new e(r, t, i, n)
        );
      }),
      (e.prototype.max = function (r) {
        var t = K(r, 4),
          i = t[0],
          n = t[1],
          a = t[2],
          o = t[3];
        return (
          (this.top = Math.max(this.top, i)),
          (this.right = Math.max(this.right, n)),
          (this.bottom = Math.max(this.bottom, a)),
          (this.left = Math.max(this.left, o)),
          this
        );
      }),
      (e.prototype.shrink = function (r) {
        var t = K(r, 4),
          i = t[0],
          n = t[1],
          a = t[2],
          o = t[3];
        return (this.top += i), (this.right += n), (this.bottom += a), (this.left += o), this;
      }),
      (e.prototype.inc = function (r, t) {
        var i = r.width,
          n = r.height;
        switch (t) {
          case Y.TOP:
          case Y.TOP_LEFT:
          case Y.TOP_RIGHT:
            this.top += n;
            break;
          case Y.RIGHT:
          case Y.RIGHT_TOP:
          case Y.RIGHT_BOTTOM:
            this.right += i;
            break;
          case Y.BOTTOM:
          case Y.BOTTOM_LEFT:
          case Y.BOTTOM_RIGHT:
            this.bottom += n;
            break;
          case Y.LEFT:
          case Y.LEFT_TOP:
          case Y.LEFT_BOTTOM:
            this.left += i;
            break;
        }
        return this;
      }),
      (e.prototype.getPadding = function () {
        return [this.top, this.right, this.bottom, this.left];
      }),
      (e.prototype.clone = function () {
        return new (e.bind.apply(e, Et([void 0], K(this.getPadding()), !1)))();
      }),
      e
    );
  })();
function UT(e) {
  var r = e.padding;
  if (!VT(r)) return new (Qo.bind.apply(Qo, Et([void 0], K(Ch(r)), !1)))();
  var t = e.viewBBox,
    i = new Qo(),
    n = [],
    a = [],
    o = [];
  return (
    A(e.getComponents(), function (s) {
      var l = s.type;
      l === Wt.AXIS
        ? n.push(s)
        : [Wt.LEGEND, Wt.SLIDER, Wt.SCROLLBAR].includes(l)
        ? a.push(s)
        : l !== Wt.GRID && l !== Wt.TOOLTIP && o.push(s);
    }),
    A(n, function (s) {
      var l = s.component,
        u = l.getLayoutBBox(),
        c = new he(u.x, u.y, u.width, u.height),
        h = c.exceed(t);
      i.max(h);
    }),
    A(a, function (s) {
      var l = s.component,
        u = s.direction,
        c = l.getLayoutBBox(),
        h = l.get('padding'),
        f = new he(c.x, c.y, c.width, c.height).expand(h);
      i.inc(f, u);
    }),
    A(o, function (s) {
      var l = s.component,
        u = s.direction,
        c = l.getLayoutBBox(),
        h = new he(c.x, c.y, c.width, c.height);
      i.inc(h, u);
    }),
    i
  );
}
function qT(e, r, t) {
  var i = t.instance();
  r.forEach(function (n) {
    n.autoPadding = i.max(n.autoPadding.getPadding());
  });
}
var Nm = (function (e) {
  I(r, e);
  function r(t) {
    var i = e.call(this, { visible: t.visible }) || this;
    (i.views = []),
      (i.geometries = []),
      (i.controllers = []),
      (i.interactions = {}),
      (i.limitInPlot = !1),
      (i.options = { data: [], animate: !0 }),
      (i.usedControllers = YT()),
      (i.scalePool = new jT()),
      (i.layoutFunc = _T),
      (i.isPreMouseInPlot = !1),
      (i.isDataChanged = !1),
      (i.isCoordinateChanged = !1),
      (i.createdScaleKeys = new Map()),
      (i.onCanvasEvent = function (b) {
        var w = b.name;
        if (!w.includes(':')) {
          var S = i.createViewEvent(b);
          i.doPlotEvent(S), i.emit(w, S);
        }
      }),
      (i.onDelegateEvents = function (b) {
        var w = b.name;
        if (w.includes(':')) {
          var S = i.createViewEvent(b);
          i.emit(w, S);
        }
      });
    var n = t.id,
      a = n === void 0 ? ii('view') : n,
      o = t.parent,
      s = t.canvas,
      l = t.backgroundGroup,
      u = t.middleGroup,
      c = t.foregroundGroup,
      h = t.region,
      f = h === void 0 ? { start: { x: 0, y: 0 }, end: { x: 1, y: 1 } } : h,
      v = t.padding,
      d = t.appendPadding,
      p = t.theme,
      g = t.options,
      y = t.limitInPlot,
      m = t.syncViewPadding;
    return (
      (i.parent = o),
      (i.canvas = s),
      (i.backgroundGroup = l),
      (i.middleGroup = u),
      (i.foregroundGroup = c),
      (i.region = f),
      (i.padding = v),
      (i.appendPadding = d),
      (i.options = x(x({}, i.options), g)),
      (i.limitInPlot = y),
      (i.id = a),
      (i.syncViewPadding = m),
      (i.themeObject = yt(p) ? _({}, da('default'), Cs(p)) : da(p)),
      i.init(),
      i
    );
  }
  return (
    (r.prototype.setLayout = function (t) {
      this.layoutFunc = t;
    }),
    (r.prototype.init = function () {
      this.calculateViewBBox(),
        this.initEvents(),
        this.initComponentController(),
        this.initOptions();
    }),
    (r.prototype.render = function (t, i) {
      t === void 0 && (t = !1),
        this.emit(st.BEFORE_RENDER, Lt.fromData(this, st.BEFORE_RENDER, i)),
        this.paint(t),
        this.emit(st.AFTER_RENDER, Lt.fromData(this, st.AFTER_RENDER, i)),
        this.visible === !1 && this.changeVisible(!1);
    }),
    (r.prototype.clear = function () {
      var t = this;
      this.emit(st.BEFORE_CLEAR),
        (this.filteredData = []),
        (this.coordinateInstance = void 0),
        (this.isDataChanged = !1),
        (this.isCoordinateChanged = !1);
      for (var i = this.geometries, n = 0; n < i.length; n++)
        i[n].clear(), i[n].container.remove(!0), i[n].labelsContainer.remove(!0);
      this.geometries = [];
      for (var a = this.controllers, n = 0; n < a.length; n++)
        a[n].name === 'annotation' ? a[n].clear(!0) : a[n].clear();
      this.createdScaleKeys.forEach(function (s, l) {
        t.getRootView().scalePool.deleteScale(l);
      }),
        this.createdScaleKeys.clear();
      for (var o = this.views, n = 0; n < o.length; n++) o[n].clear();
      this.emit(st.AFTER_CLEAR);
    }),
    (r.prototype.destroy = function () {
      this.emit(st.BEFORE_DESTROY);
      var t = this.interactions;
      A(t, function (s) {
        s && s.destroy();
      }),
        this.clear();
      for (var i = this.controllers, n = 0, a = i.length; n < a; n++) {
        var o = i[n];
        o.destroy();
      }
      this.backgroundGroup.remove(!0),
        this.middleGroup.remove(!0),
        this.foregroundGroup.remove(!0),
        e.prototype.destroy.call(this);
    }),
    (r.prototype.changeVisible = function (t) {
      e.prototype.changeVisible.call(this, t);
      for (var i = this.geometries, n = 0, a = i.length; n < a; n++) {
        var o = i[n];
        o.changeVisible(t);
      }
      for (var s = this.controllers, n = 0, a = s.length; n < a; n++) {
        var l = s[n];
        l.changeVisible(t);
      }
      return (
        this.foregroundGroup.set('visible', t),
        this.middleGroup.set('visible', t),
        this.backgroundGroup.set('visible', t),
        this.getCanvas().draw(),
        this
      );
    }),
    (r.prototype.data = function (t) {
      return Gt(this.options, 'data', t), (this.isDataChanged = !0), this;
    }),
    (r.prototype.source = function (t) {
      return (
        console.warn('This method will be removed at G2 V4.1. Please use chart.data() instead.'),
        this.data(t)
      );
    }),
    (r.prototype.filter = function (t, i) {
      return q(i)
        ? (Gt(this.options, ['filters', t], i), this)
        : (!i && M(this.options, ['filters', t]) && delete this.options.filters[t], this);
    }),
    (r.prototype.axis = function (t, i) {
      return hn(t) ? Gt(this.options, ['axes'], t) : Gt(this.options, ['axes', t], i), this;
    }),
    (r.prototype.legend = function (t, i) {
      return (
        hn(t)
          ? Gt(this.options, ['legends'], t)
          : et(t)
          ? (Gt(this.options, ['legends', t], i),
            rr(i) &&
              i != null &&
              i.selected &&
              Gt(this.options, ['filters', t], function (n) {
                var a;
                return (a = i == null ? void 0 : i.selected[n]) !== null && a !== void 0 ? a : !0;
              }))
          : Gt(this.options, ['legends'], t),
        this
      );
    }),
    (r.prototype.scale = function (t, i) {
      var n = this;
      return (
        et(t)
          ? Gt(this.options, ['scales', t], i)
          : yt(t) &&
            A(t, function (a, o) {
              Gt(n.options, ['scales', o], a);
            }),
        this
      );
    }),
    (r.prototype.tooltip = function (t) {
      return Gt(this.options, 'tooltip', t), this;
    }),
    (r.prototype.annotation = function () {
      return this.getController('annotation');
    }),
    (r.prototype.guide = function () {
      return (
        console.warn(
          'This method will be removed at G2 V4.1. Please use chart.annotation() instead.',
        ),
        this.annotation()
      );
    }),
    (r.prototype.coordinate = function (t, i) {
      return (
        et(t)
          ? Gt(this.options, 'coordinate', { type: t, cfg: i })
          : Gt(this.options, 'coordinate', t),
        this.coordinateController.update(this.options.coordinate),
        this.coordinateController
      );
    }),
    (r.prototype.coord = function (t, i) {
      return (
        console.warn(
          'This method will be removed at G2 V4.1. Please use chart.coordinate() instead.',
        ),
        this.coordinate(t, i)
      );
    }),
    (r.prototype.facet = function (t, i) {
      this.facetInstance && this.facetInstance.destroy();
      var n = sT(t);
      if (!n) throw new Error("facet '".concat(t, "' is not exist!"));
      return (this.facetInstance = new n(this, x(x({}, i), { type: t }))), this;
    }),
    (r.prototype.animate = function (t) {
      return Gt(this.options, 'animate', t), this;
    }),
    (r.prototype.updateOptions = function (t) {
      return (
        this.clear(),
        xt(this.options, t),
        this.views.forEach(function (i) {
          return i.destroy();
        }),
        (this.views = []),
        this.initOptions(),
        (this.coordinateBBox = this.viewBBox),
        this
      );
    }),
    (r.prototype.option = function (t, i) {
      if (r.prototype[t])
        throw new Error(
          `Can't use built in variable name "`.concat(t, '", please change another one.'),
        );
      return Gt(this.options, t, i), this;
    }),
    (r.prototype.theme = function (t) {
      return (this.themeObject = yt(t) ? _({}, this.themeObject, Cs(t)) : da(t)), this;
    }),
    (r.prototype.interaction = function (t, i) {
      var n = this.interactions[t];
      n && n.destroy();
      var a = ET(t, this, i);
      return a && (a.init(), (this.interactions[t] = a)), this;
    }),
    (r.prototype.removeInteraction = function (t) {
      var i = this.interactions[t];
      i && (i.destroy(), (this.interactions[t] = void 0));
    }),
    (r.prototype.changeData = function (t) {
      (this.isDataChanged = !0),
        this.emit(st.BEFORE_CHANGE_DATA, Lt.fromData(this, st.BEFORE_CHANGE_DATA, null)),
        this.data(t),
        this.paint(!0);
      for (var i = this.views, n = 0, a = i.length; n < a; n++) {
        var o = i[n];
        o.changeData(t);
      }
      this.emit(st.AFTER_CHANGE_DATA, Lt.fromData(this, st.AFTER_CHANGE_DATA, null));
    }),
    (r.prototype.createView = function (t) {
      this.parent &&
        this.parent.parent &&
        console.warn(
          'The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.',
        );
      var i = {
          data: this.options.data,
          scales: ue(this.options.scales),
          axes: ue(this.options.axes),
          coordinate: ue(this.coordinateController.getOption()),
          tooltip: ue(this.options.tooltip),
          legends: ue(this.options.legends),
          animate: this.options.animate,
          visible: this.visible,
        },
        n = new r(
          x(
            x(
              {
                parent: this,
                canvas: this.canvas,
                backgroundGroup: this.backgroundGroup.addGroup({ zIndex: nn.BG }),
                middleGroup: this.middleGroup.addGroup({ zIndex: nn.MID }),
                foregroundGroup: this.foregroundGroup.addGroup({ zIndex: nn.FORE }),
                theme: this.themeObject,
                padding: this.padding,
              },
              t,
            ),
            { options: x(x({}, i), M(t, 'options', {})) },
          ),
        );
      return this.views.push(n), n;
    }),
    (r.prototype.view = function (t) {
      return (
        console.warn(
          'This method will be removed at G2 V4.1. Please use chart.createView() instead.',
        ),
        this.createView(t)
      );
    }),
    (r.prototype.removeView = function (t) {
      var i = $S(this.views, function (n) {
        return n === t;
      })[0];
      return i && i.destroy(), i;
    }),
    (r.prototype.getCoordinate = function () {
      return this.coordinateInstance;
    }),
    (r.prototype.getTheme = function () {
      return this.themeObject;
    }),
    (r.prototype.getXScale = function () {
      var t = this.geometries[0];
      return t ? t.getXScale() : null;
    }),
    (r.prototype.getYScales = function () {
      var t = {},
        i = [];
      return (
        this.geometries.forEach(function (n) {
          var a = n.getYScale(),
            o = a.field;
          t[o] || ((t[o] = !0), i.push(a));
        }),
        i
      );
    }),
    (r.prototype.getScalesByDim = function (t) {
      for (var i = this.geometries, n = {}, a = 0, o = i.length; a < o; a++) {
        var s = i[a],
          l = t === 'x' ? s.getXScale() : s.getYScale();
        l && !n[l.field] && (n[l.field] = l);
      }
      return n;
    }),
    (r.prototype.getScale = function (t, i) {
      var n = i || this.getScaleKey(t);
      return this.getRootView().scalePool.getScale(n);
    }),
    (r.prototype.getScaleByField = function (t, i) {
      return this.getScale(t, i);
    }),
    (r.prototype.getOptions = function () {
      return this.options;
    }),
    (r.prototype.getData = function () {
      return this.filteredData;
    }),
    (r.prototype.getOriginalData = function () {
      return this.options.data;
    }),
    (r.prototype.getPadding = function () {
      return this.autoPadding.getPadding();
    }),
    (r.prototype.getGeometries = function () {
      return this.geometries;
    }),
    (r.prototype.getElements = function () {
      return oe(
        this.geometries,
        function (t, i) {
          return t.concat(i.getElements());
        },
        [],
      );
    }),
    (r.prototype.getElementsBy = function (t) {
      return this.getElements().filter(function (i) {
        return t(i);
      });
    }),
    (r.prototype.getLayer = function (t) {
      return t === $t.BG
        ? this.backgroundGroup
        : t === $t.MID
        ? this.middleGroup
        : t === $t.FORE
        ? this.foregroundGroup
        : this.foregroundGroup;
    }),
    (r.prototype.isPointInPlot = function (t) {
      return QE(this.getCoordinate(), t);
    }),
    (r.prototype.getLegendAttributes = function () {
      return Te(
        this.geometries.map(function (t) {
          return t.getGroupAttributes();
        }),
      );
    }),
    (r.prototype.getGroupScales = function () {
      var t = this.geometries.map(function (i) {
        return i.getGroupScales();
      });
      return $r(Te(t));
    }),
    (r.prototype.getCanvas = function () {
      return this.getRootView().canvas;
    }),
    (r.prototype.getRootView = function () {
      for (var t = this; ; ) {
        if (t.parent) {
          t = t.parent;
          continue;
        }
        break;
      }
      return t;
    }),
    (r.prototype.getXY = function (t) {
      var i = this.getCoordinate(),
        n = this.getScalesByDim('x'),
        a = this.getScalesByDim('y'),
        o,
        s;
      if (
        (A(t, function (l, u) {
          n[u] && (o = n[u].scale(l)), a[u] && (s = a[u].scale(l));
        }),
        !R(o) && !R(s))
      )
        return i.convert({ x: o, y: s });
    }),
    (r.prototype.getController = function (t) {
      return We(this.controllers, function (i) {
        return i.name === t;
      });
    }),
    (r.prototype.showTooltip = function (t) {
      var i = this.getController('tooltip');
      return i && i.showTooltip(t), this;
    }),
    (r.prototype.hideTooltip = function () {
      var t = this.getController('tooltip');
      return t && t.hideTooltip(), this;
    }),
    (r.prototype.lockTooltip = function () {
      var t = this.getController('tooltip');
      return t && t.lockTooltip(), this;
    }),
    (r.prototype.unlockTooltip = function () {
      var t = this.getController('tooltip');
      return t && t.unlockTooltip(), this;
    }),
    (r.prototype.isTooltipLocked = function () {
      var t = this.getController('tooltip');
      return t && t.isTooltipLocked();
    }),
    (r.prototype.getTooltipItems = function (t) {
      var i = this.getController('tooltip');
      return i ? i.getTooltipItems(t) : [];
    }),
    (r.prototype.getSnapRecords = function (t) {
      for (var i = this.geometries, n = [], a = 0, o = i.length; a < o; a++) {
        var s = i[a],
          l = s.dataArray;
        s.sort(l);
        for (var u = void 0, c = 0, h = l.length; c < h; c++) {
          var f = l[c];
          (u = $m(t, f, s)), u && n.push(u);
        }
      }
      for (var v = this.views, a = 0, o = v.length; a < o; a++) {
        var d = v[a],
          p = d.getSnapRecords(t);
        n = n.concat(p);
      }
      return n;
    }),
    (r.prototype.getComponents = function () {
      for (var t = [], i = this.controllers, n = 0, a = i.length; n < a; n++) {
        var o = i[n];
        t = t.concat(o.getComponents());
      }
      return t;
    }),
    (r.prototype.filterData = function (t) {
      var i = this.options.filters;
      return Xt(i) === 0
        ? t
        : Qt(t, function (n, a) {
            var o = Object.keys(i);
            return o.every(function (s) {
              var l = i[s];
              return l(n[s], n, a);
            });
          });
    }),
    (r.prototype.filterFieldData = function (t, i) {
      var n = this.options.filters,
        a = M(n, t);
      return pi(a)
        ? i
        : i.filter(function (o, s) {
            return a(o[t], o, s);
          });
    }),
    (r.prototype.adjustCoordinate = function () {
      var t = this.getCoordinate(),
        i = t.start,
        n = t.end,
        a = this.coordinateBBox.bl,
        o = this.coordinateBBox.tr;
      if (Bt(i, a) && Bt(n, o)) {
        this.isCoordinateChanged = !1;
        return;
      }
      (this.isCoordinateChanged = !0),
        (this.coordinateInstance = this.coordinateController.adjust(a, o));
    }),
    (r.prototype.paint = function (t) {
      this.renderDataRecursive(t),
        this.syncScale(),
        this.emit(st.BEFORE_PAINT),
        this.renderPaddingRecursive(t),
        this.renderLayoutRecursive(t),
        this.renderBackgroundStyleShape(),
        this.renderPaintRecursive(t),
        this.emit(st.AFTER_PAINT),
        (this.isDataChanged = !1);
    }),
    (r.prototype.renderBackgroundStyleShape = function () {
      if (!this.parent) {
        var t = M(this.themeObject, 'background');
        if (t) {
          this.backgroundStyleRectShape ||
            ((this.backgroundStyleRectShape = this.backgroundGroup.addShape('rect', {
              attrs: {},
              zIndex: -1,
              capture: !1,
            })),
            this.backgroundStyleRectShape.toBack());
          var i = this.viewBBox,
            n = i.x,
            a = i.y,
            o = i.width,
            s = i.height;
          this.backgroundStyleRectShape.attr({ fill: t, x: n, y: a, width: o, height: s });
        } else
          this.backgroundStyleRectShape &&
            (this.backgroundStyleRectShape.remove(!0), (this.backgroundStyleRectShape = void 0));
      }
    }),
    (r.prototype.renderPaddingRecursive = function (t) {
      this.calculateViewBBox(),
        this.adjustCoordinate(),
        this.initComponents(t),
        (this.autoPadding = UT(this).shrink(Ch(this.appendPadding))),
        (this.coordinateBBox = this.viewBBox.shrink(this.autoPadding.getPadding())),
        this.adjustCoordinate();
      var i = this.controllers.find(function (l) {
        return l.name === 'tooltip';
      });
      i.update();
      for (var n = this.views, a = 0, o = n.length; a < o; a++) {
        var s = n[a];
        s.renderPaddingRecursive(t);
      }
    }),
    (r.prototype.renderLayoutRecursive = function (t) {
      var i =
        this.syncViewPadding === !0 ? qT : q(this.syncViewPadding) ? this.syncViewPadding : void 0;
      i &&
        (i(this, this.views, Qo),
        this.views.forEach(function (l) {
          (l.coordinateBBox = l.viewBBox.shrink(l.autoPadding.getPadding())), l.adjustCoordinate();
        })),
        this.doLayout();
      for (var n = this.views, a = 0, o = n.length; a < o; a++) {
        var s = n[a];
        s.renderLayoutRecursive(t);
      }
    }),
    (r.prototype.renderPaintRecursive = function (t) {
      var i = this.middleGroup;
      if (this.limitInPlot) {
        var n = yh(this.coordinateInstance),
          a = n.type,
          o = n.attrs;
        i.setClip({ type: a, attrs: o });
      } else i.setClip(void 0);
      this.paintGeometries(t), this.renderComponents(t);
      for (var s = this.views, l = 0, u = s.length; l < u; l++) {
        var c = s[l];
        c.renderPaintRecursive(t);
      }
    }),
    (r.prototype.createScale = function (t, i, n, a) {
      var o = M(this.options.scales, [t]),
        s = x(x({}, o), n);
      return this.parent
        ? this.parent.createScale(t, i, s, a)
        : this.scalePool.createScale(t, i, s, a);
    }),
    (r.prototype.renderDataRecursive = function (t) {
      this.doFilterData(), this.createCoordinate(), this.initGeometries(t), this.renderFacet(t);
      for (var i = this.views, n = 0, a = i.length; n < a; n++) {
        var o = i[n];
        o.renderDataRecursive(t);
      }
    }),
    (r.prototype.calculateViewBBox = function () {
      var t, i, n, a;
      if (this.parent) {
        var o = this.parent.coordinateBBox;
        (t = o.x), (i = o.y), (n = o.width), (a = o.height);
      } else (t = 0), (i = 0), (n = this.canvas.get('width')), (a = this.canvas.get('height'));
      var s = this.region,
        l = s.start,
        u = s.end,
        c = new he(t + n * l.x, i + a * l.y, n * (u.x - l.x), a * (u.y - l.y));
      (!this.viewBBox || !this.viewBBox.isEqual(c)) &&
        (this.viewBBox = new he(t + n * l.x, i + a * l.y, n * (u.x - l.x), a * (u.y - l.y))),
        (this.coordinateBBox = this.viewBBox);
    }),
    (r.prototype.initEvents = function () {
      this.foregroundGroup.on('*', this.onDelegateEvents),
        this.middleGroup.on('*', this.onDelegateEvents),
        this.backgroundGroup.on('*', this.onDelegateEvents),
        this.canvas.on('*', this.onCanvasEvent);
    }),
    (r.prototype.initComponentController = function () {
      for (var t = this.usedControllers, i = 0, n = t.length; i < n; i++) {
        var a = t[i],
          o = WT(a);
        o && this.controllers.push(new o(this));
      }
    }),
    (r.prototype.createViewEvent = function (t) {
      var i = t.shape,
        n = t.name,
        a = i ? i.get('origin') : null,
        o = new Lt(this, t, a);
      return (o.type = n), o;
    }),
    (r.prototype.doPlotEvent = function (t) {
      var i = t.type,
        n = t.x,
        a = t.y,
        o = { x: n, y: a },
        s = [
          'mousedown',
          'mouseup',
          'mousemove',
          'mouseleave',
          'mousewheel',
          'touchstart',
          'touchmove',
          'touchend',
          'touchcancel',
          'click',
          'dblclick',
          'contextmenu',
        ];
      if (s.includes(i)) {
        var l = this.isPointInPlot(o),
          u = t.clone();
        if (l) {
          var c = 'plot:'.concat(i);
          (u.type = c),
            this.emit(c, u),
            (i === 'mouseleave' || i === 'touchend') && (this.isPreMouseInPlot = !1);
        }
        i === 'mousemove' || i === 'touchmove'
          ? (this.isPreMouseInPlot && !l
              ? (i === 'mousemove' && ((u.type = ve.MOUSE_LEAVE), this.emit(ve.MOUSE_LEAVE, u)),
                (u.type = ve.LEAVE),
                this.emit(ve.LEAVE, u))
              : !this.isPreMouseInPlot &&
                l &&
                (i === 'mousemove' && ((u.type = ve.MOUSE_ENTER), this.emit(ve.MOUSE_ENTER, u)),
                (u.type = ve.ENTER),
                this.emit(ve.ENTER, u)),
            (this.isPreMouseInPlot = l))
          : (i === 'mouseleave' || i === 'touchend') &&
            this.isPreMouseInPlot &&
            (i === 'mouseleave' && ((u.type = ve.MOUSE_LEAVE), this.emit(ve.MOUSE_LEAVE, u)),
            (u.type = ve.LEAVE),
            this.emit(ve.LEAVE, u),
            (this.isPreMouseInPlot = !1));
      }
    }),
    (r.prototype.doFilterData = function () {
      var t = this.options.data;
      this.filteredData = this.filterData(t);
    }),
    (r.prototype.initGeometries = function (t) {
      this.createOrUpdateScales();
      for (
        var i = this.getCoordinate(),
          n = M(this.options, 'scales', {}),
          a = this.geometries,
          o = 0,
          s = a.length;
        o < s;
        o++
      ) {
        var l = a[o];
        l.scales = this.getGeometryScales();
        var u = {
          coordinate: i,
          scaleDefs: n,
          data: this.filteredData,
          theme: this.themeObject,
          isDataChanged: this.isDataChanged,
          isCoordinateChanged: this.isCoordinateChanged,
        };
        t ? l.update(u) : l.init(u);
      }
      this.adjustScales();
    }),
    (r.prototype.createOrUpdateScales = function () {
      for (
        var t = this.getScaleFields(),
          i = this.getGroupedFields(),
          n = this.getOptions(),
          a = n.data,
          o = n.scales,
          s = o === void 0 ? {} : o,
          l = this.filteredData,
          u = 0,
          c = t.length;
        u < c;
        u++
      ) {
        var h = t[u],
          f = s[h],
          v = this.getScaleKey(h);
        this.createScale(h, i.includes(h) ? a : l, f, v), this.createdScaleKeys.set(v, !0);
      }
    }),
    (r.prototype.syncScale = function () {
      this.getRootView().scalePool.sync(this.getCoordinate(), this.theme);
    }),
    (r.prototype.getGeometryScales = function () {
      for (var t = this.getScaleFields(), i = {}, n = 0; n < t.length; n++) {
        var a = t[n];
        i[a] = this.getScaleByField(a);
      }
      return i;
    }),
    (r.prototype.getScaleFields = function () {
      for (var t = [], i = new Map(), n = this.geometries, a = 0; a < n.length; a++) {
        var o = n[a],
          s = o.getScaleFields();
        $r(s, t, i);
      }
      return t;
    }),
    (r.prototype.getGroupedFields = function () {
      for (var t = [], i = new Map(), n = this.geometries, a = 0; a < n.length; a++) {
        var o = n[a],
          s = o.getGroupFields();
        $r(s, t, i);
      }
      return t;
    }),
    (r.prototype.adjustScales = function () {
      this.adjustCategoryScaleRange();
    }),
    (r.prototype.adjustCategoryScaleRange = function () {
      var t = this,
        i = Et([this.getXScale()], K(this.getYScales()), !1).filter(function (o) {
          return !!o;
        }),
        n = this.getCoordinate(),
        a = this.options.scales;
      A(i, function (o) {
        var s = o.field,
          l = o.values,
          u = o.isCategory,
          c = o.isIdentity;
        (u || c) && l && !M(a, [s, 'range']) && (o.range = bm(o, n, t.theme));
      });
    }),
    (r.prototype.initComponents = function (t) {
      for (var i = this.controllers, n = 0; n < i.length; n++) {
        var a = i[n];
        t ? a.update() : (a.clear(), a.render());
      }
    }),
    (r.prototype.doLayout = function () {
      this.layoutFunc(this);
    }),
    (r.prototype.createCoordinate = function () {
      var t = this.coordinateBBox.bl,
        i = this.coordinateBBox.tr;
      this.coordinateInstance = this.coordinateController.create(t, i);
    }),
    (r.prototype.paintGeometries = function (t) {
      for (
        var i = this.options.animate,
          n = this.getCoordinate(),
          a = {
            x: this.viewBBox.x,
            y: this.viewBBox.y,
            minX: this.viewBBox.minX,
            minY: this.viewBBox.minY,
            maxX: this.viewBBox.maxX,
            maxY: this.viewBBox.maxY,
            width: this.viewBBox.width,
            height: this.viewBBox.height,
          },
          o = this.geometries,
          s = 0;
        s < o.length;
        s++
      ) {
        var l = o[s];
        (l.coordinate = n), (l.canvasRegion = a), i || l.animate(!1), l.paint(t);
      }
    }),
    (r.prototype.renderComponents = function (t) {
      for (var i = this.getComponents(), n = 0; n < i.length; n++) {
        var a = i[n];
        a.component.render();
      }
    }),
    (r.prototype.renderFacet = function (t) {
      this.facetInstance &&
        (t
          ? this.facetInstance.update()
          : (this.facetInstance.clear(), this.facetInstance.init(), this.facetInstance.render()));
    }),
    (r.prototype.initOptions = function () {
      var t = this,
        i = this.options,
        n = i.geometries,
        a = n === void 0 ? [] : n,
        o = i.interactions,
        s = o === void 0 ? [] : o,
        l = i.views,
        u = l === void 0 ? [] : l,
        c = i.annotations,
        h = c === void 0 ? [] : c,
        f = i.coordinate,
        v = i.events,
        d = i.facets;
      this.coordinateController
        ? f && this.coordinateController.update(f)
        : (this.coordinateController = new XT(f));
      for (var p = 0; p < a.length; p++) {
        var g = a[p];
        this.createGeometry(g);
      }
      for (var y = 0; y < s.length; y++) {
        var m = s[y],
          b = m.type,
          w = m.cfg;
        this.interaction(b, w);
      }
      for (var S = 0; S < u.length; S++) {
        var C = u[S];
        this.createView(C);
      }
      for (var F = this.getController('annotation'), E = 0; E < h.length; E++) {
        var k = h[E];
        F.annotation(k);
      }
      v &&
        A(v, function (T, O) {
          t.on(O, T);
        }),
        d &&
          A(d, function (T) {
            var O = T.type,
              P = mt(T, ['type']);
            t.facet(O, P);
          });
    }),
    (r.prototype.createGeometry = function (t) {
      var i = t.type,
        n = t.cfg,
        a = n === void 0 ? {} : n;
      if (this[i]) {
        var o = this[i](a);
        A(t, function (s, l) {
          q(o[l]) && o[l](s);
        });
      }
    }),
    (r.prototype.getScaleKey = function (t) {
      return ''.concat(this.id, '-').concat(t);
    }),
    r
  );
})(jc);
function ur(e, r) {
  Nm.prototype[e.toLowerCase()] = function (t) {
    t === void 0 && (t = {});
    var i = x(
        {
          container: this.middleGroup.addGroup(),
          labelsContainer: this.foregroundGroup.addGroup(),
        },
        t,
      ),
      n = new r(i);
    return this.geometries.push(n), n;
  };
}
var ZT = (function (e) {
    I(r, e);
    function r(t) {
      var i = this,
        n = t.container,
        a = t.width,
        o = t.height,
        s = t.autoFit,
        l = s === void 0 ? !1 : s,
        u = t.padding,
        c = t.appendPadding,
        h = t.renderer,
        f = h === void 0 ? 'canvas' : h,
        v = t.pixelRatio,
        d = t.localRefresh,
        p = d === void 0 ? !0 : d,
        g = t.visible,
        y = g === void 0 ? !0 : g,
        m = t.supportCSSTransform,
        b = m === void 0 ? !1 : m,
        w = t.defaultInteractions,
        S =
          w === void 0
            ? [
                'tooltip',
                'legend-filter',
                'legend-active',
                'continuous-filter',
                'ellipsis-text',
                'axis-description',
              ]
            : w,
        C = t.options,
        F = t.limitInPlot,
        E = t.theme,
        k = t.syncViewPadding,
        T = et(n) ? document.getElementById(n) : n,
        O = Vr('<div style="position:relative;"></div>');
      T.appendChild(O);
      var P = _f(T, l, a, o),
        z = aC(f),
        W = new z.Canvas(
          x({ container: O, pixelRatio: v, localRefresh: p, supportCSSTransform: b }, P),
        );
      return (
        (i =
          e.call(this, {
            parent: null,
            canvas: W,
            backgroundGroup: W.addGroup({ zIndex: nn.BG }),
            middleGroup: W.addGroup({ zIndex: nn.MID }),
            foregroundGroup: W.addGroup({ zIndex: nn.FORE }),
            padding: u,
            appendPadding: c,
            visible: y,
            options: C,
            limitInPlot: F,
            theme: E,
            syncViewPadding: k,
          }) || this),
        (i.onResize = Dg(function () {
          i.forceFit();
        }, 300)),
        (i.ele = T),
        (i.canvas = W),
        (i.width = P.width),
        (i.height = P.height),
        (i.autoFit = l),
        (i.localRefresh = p),
        (i.renderer = f),
        (i.wrapperElement = O),
        i.updateCanvasStyle(),
        i.bindAutoFit(),
        i.initDefaultInteractions(S),
        i
      );
    }
    return (
      (r.prototype.initDefaultInteractions = function (t) {
        var i = this;
        A(t, function (n) {
          i.interaction(n);
        });
      }),
      (r.prototype.aria = function (t) {
        var i = 'aria-label';
        t === !1 ? this.ele.removeAttribute(i) : this.ele.setAttribute(i, t.label);
      }),
      (r.prototype.changeSize = function (t, i) {
        return this.width === t && this.height === i
          ? this
          : (this.emit(st.BEFORE_CHANGE_SIZE),
            (this.width = t),
            (this.height = i),
            this.canvas.changeSize(t, i),
            this.render(!0),
            this.emit(st.AFTER_CHANGE_SIZE),
            this);
      }),
      (r.prototype.clear = function () {
        e.prototype.clear.call(this), this.aria(!1);
      }),
      (r.prototype.destroy = function () {
        e.prototype.destroy.call(this),
          this.unbindAutoFit(),
          this.canvas.destroy(),
          fC(this.wrapperElement),
          (this.wrapperElement = null);
      }),
      (r.prototype.changeVisible = function (t) {
        return (
          e.prototype.changeVisible.call(this, t),
          (this.wrapperElement.style.display = t ? '' : 'none'),
          this
        );
      }),
      (r.prototype.forceFit = function () {
        if (!this.destroyed) {
          var t = _f(this.ele, !0, this.width, this.height),
            i = t.width,
            n = t.height;
          this.changeSize(i, n);
        }
      }),
      (r.prototype.updateCanvasStyle = function () {
        ne(this.canvas.get('el'), { display: 'inline-block', verticalAlign: 'middle' });
      }),
      (r.prototype.bindAutoFit = function () {
        this.autoFit && window.addEventListener('resize', this.onResize);
      }),
      (r.prototype.unbindAutoFit = function () {
        this.autoFit && window.removeEventListener('resize', this.onResize);
      }),
      r
    );
  })(Nm),
  Pn = (function () {
    function e(r) {
      (this.visible = !0), (this.components = []), (this.view = r);
    }
    return (
      (e.prototype.clear = function (r) {
        A(this.components, function (t) {
          t.component.destroy();
        }),
          (this.components = []);
      }),
      (e.prototype.destroy = function () {
        this.clear();
      }),
      (e.prototype.getComponents = function () {
        return this.components;
      }),
      (e.prototype.changeVisible = function (r) {
        this.visible !== r &&
          (this.components.forEach(function (t) {
            r ? t.component.show() : t.component.hide();
          }),
          (this.visible = r));
      }),
      e
    );
  })();
function KT(e) {
  for (
    var r = [],
      t = function (n) {
        var a = e[n],
          o = We(r, function (s) {
            return (
              s.color === a.color && s.name === a.name && s.value === a.value && s.title === a.title
            );
          });
        o || r.push(a);
      },
      i = 0;
    i < e.length;
    i++
  )
    t(i);
  return r;
}
var zm = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.isLocked = !1), t;
    }
    return (
      Object.defineProperty(r.prototype, 'name', {
        get: function () {
          return 'tooltip';
        },
        enumerable: !1,
        configurable: !0,
      }),
      (r.prototype.init = function () {}),
      (r.prototype.isVisible = function () {
        var t = this.view.getOptions().tooltip;
        return t !== !1;
      }),
      (r.prototype.render = function () {}),
      (r.prototype.showTooltip = function (t) {
        if (((this.point = t), !!this.isVisible())) {
          var i = this.view,
            n = this.getTooltipItems(t);
          if (!n.length) {
            this.hideTooltip();
            return;
          }
          var a = this.getTitle(n),
            o = { x: n[0].x, y: n[0].y };
          i.emit('tooltip:show', Lt.fromData(i, 'tooltip:show', x({ items: n, title: a }, t)));
          var s = this.getTooltipCfg(),
            l = s.follow,
            u = s.showMarkers,
            c = s.showCrosshairs,
            h = s.showContent,
            f = s.marker,
            v = this.items,
            d = this.title;
          if (
            (!Bt(d, a) || !Bt(v, n)
              ? (i.emit(
                  'tooltip:change',
                  Lt.fromData(i, 'tooltip:change', x({ items: n, title: a }, t)),
                ),
                (q(h) ? h(n) : h) &&
                  (this.tooltip || this.renderTooltip(),
                  this.tooltip.update(
                    xt({}, s, { items: this.getItemsAfterProcess(n), title: a }, l ? t : {}),
                  ),
                  this.tooltip.show()),
                u && this.renderTooltipMarkers(n, f))
              : (this.tooltip && l && (this.tooltip.update(t), this.tooltip.show()),
                this.tooltipMarkersGroup && this.tooltipMarkersGroup.show()),
            (this.items = n),
            (this.title = a),
            c)
          ) {
            var p = M(s, ['crosshairs', 'follow'], !1);
            this.renderCrosshairs(p ? t : o, s);
          }
        }
      }),
      (r.prototype.hideTooltip = function () {
        var t = this.getTooltipCfg().follow;
        if (!t) {
          this.point = null;
          return;
        }
        var i = this.tooltipMarkersGroup;
        i && i.hide();
        var n = this.xCrosshair,
          a = this.yCrosshair;
        n && n.hide(), a && a.hide();
        var o = this.tooltip;
        o && o.hide(),
          this.view.emit('tooltip:hide', Lt.fromData(this.view, 'tooltip:hide', {})),
          (this.point = null);
      }),
      (r.prototype.lockTooltip = function () {
        (this.isLocked = !0), this.tooltip && this.tooltip.setCapture(!0);
      }),
      (r.prototype.unlockTooltip = function () {
        this.isLocked = !1;
        var t = this.getTooltipCfg();
        this.tooltip && this.tooltip.setCapture(t.capture);
      }),
      (r.prototype.isTooltipLocked = function () {
        return this.isLocked;
      }),
      (r.prototype.clear = function () {
        var t = this,
          i = t.tooltip,
          n = t.xCrosshair,
          a = t.yCrosshair,
          o = t.tooltipMarkersGroup;
        i && (i.hide(), i.clear()),
          n && n.clear(),
          a && a.clear(),
          o && o.clear(),
          i != null && i.get('customContent') && (this.tooltip.destroy(), (this.tooltip = null)),
          (this.title = null),
          (this.items = null);
      }),
      (r.prototype.destroy = function () {
        this.tooltip && this.tooltip.destroy(),
          this.xCrosshair && this.xCrosshair.destroy(),
          this.yCrosshair && this.yCrosshair.destroy(),
          this.guideGroup && this.guideGroup.remove(!0),
          this.reset();
      }),
      (r.prototype.reset = function () {
        (this.items = null),
          (this.title = null),
          (this.tooltipMarkersGroup = null),
          (this.tooltipCrosshairsGroup = null),
          (this.xCrosshair = null),
          (this.yCrosshair = null),
          (this.tooltip = null),
          (this.guideGroup = null),
          (this.isLocked = !1),
          (this.point = null);
      }),
      (r.prototype.changeVisible = function (t) {
        if (this.visible !== t) {
          var i = this,
            n = i.tooltip,
            a = i.tooltipMarkersGroup,
            o = i.xCrosshair,
            s = i.yCrosshair;
          t
            ? (n && n.show(), a && a.show(), o && o.show(), s && s.show())
            : (n && n.hide(), a && a.hide(), o && o.hide(), s && s.hide()),
            (this.visible = t);
        }
      }),
      (r.prototype.getTooltipItems = function (t) {
        var i,
          n,
          a,
          o,
          s,
          l,
          u = this.findItemsFromView(this.view, t);
        if (u.length) {
          u = Te(u);
          try {
            for (var c = vt(u), h = c.next(); !h.done; h = c.next()) {
              var f = h.value;
              try {
                for (var v = ((a = void 0), vt(f)), d = v.next(); !d.done; d = v.next()) {
                  var p = d.value,
                    g = p.mappingData,
                    y = g.x,
                    m = g.y;
                  (p.x = $(y) ? y[y.length - 1] : y), (p.y = $(m) ? m[m.length - 1] : m);
                }
              } catch (T) {
                a = { error: T };
              } finally {
                try {
                  d && !d.done && (o = v.return) && o.call(v);
                } finally {
                  if (a) throw a.error;
                }
              }
            }
          } catch (T) {
            i = { error: T };
          } finally {
            try {
              h && !h.done && (n = c.return) && n.call(c);
            } finally {
              if (i) throw i.error;
            }
          }
          var b = this.getTooltipCfg().shared;
          if (b === !1 && u.length > 1) {
            var w = u[0],
              S = Math.abs(t.y - w[0].y);
            try {
              for (var C = vt(u), F = C.next(); !F.done; F = C.next()) {
                var E = F.value,
                  k = Math.abs(t.y - E[0].y);
                k <= S && ((w = E), (S = k));
              }
            } catch (T) {
              s = { error: T };
            } finally {
              try {
                F && !F.done && (l = C.return) && l.call(C);
              } finally {
                if (s) throw s.error;
              }
            }
            u = [w];
          }
          return KT(Te(u));
        }
        return [];
      }),
      (r.prototype.layout = function () {}),
      (r.prototype.update = function () {
        if ((this.point && this.showTooltip(this.point), this.tooltip)) {
          var t = this.view.getCanvas();
          this.tooltip.set('region', {
            start: { x: 0, y: 0 },
            end: { x: t.get('width'), y: t.get('height') },
          });
        }
      }),
      (r.prototype.isCursorEntered = function (t) {
        if (this.tooltip) {
          var i = this.tooltip.getContainer(),
            n = this.tooltip.get('capture');
          if (i && n) {
            var a = i.getBoundingClientRect(),
              o = a.x,
              s = a.y,
              l = a.width,
              u = a.height;
            return new he(o, s, l, u).isPointIn(t);
          }
        }
        return !1;
      }),
      (r.prototype.getTooltipCfg = function () {
        var t = this.view,
          i = t.getOptions().tooltip,
          n = this.processCustomContent(i),
          a = t.getTheme(),
          o = M(a, ['components', 'tooltip'], {}),
          s = M(n, 'enterable', o.enterable);
        return _({}, o, n, { capture: !!(s || this.isLocked) });
      }),
      (r.prototype.processCustomContent = function (t) {
        if (hn(t) || !M(t, 'customContent')) return t;
        var i = t.customContent,
          n = function (a, o) {
            var s = i(a, o) || '';
            return et(s) ? '<div class="g2-tooltip">' + s + '</div>' : s;
          };
        return x(x({}, t), { customContent: n });
      }),
      (r.prototype.getTitle = function (t) {
        var i = t[0].title || t[0].name;
        return (this.title = i), i;
      }),
      (r.prototype.renderTooltip = function () {
        var t = this.view.getCanvas(),
          i = { start: { x: 0, y: 0 }, end: { x: t.get('width'), y: t.get('height') } },
          n = this.getTooltipCfg(),
          a = new dl(
            x(x({ parent: t.get('el').parentNode, region: i }, n), {
              visible: !1,
              crosshairs: null,
            }),
          );
        a.init(), (this.tooltip = a);
      }),
      (r.prototype.renderTooltipMarkers = function (t, i) {
        var n,
          a,
          o = this.getTooltipMarkersGroup(),
          s = this.view.getRootView(),
          l = s.limitInPlot;
        try {
          for (var u = vt(t), c = u.next(); !c.done; c = u.next()) {
            var h = c.value,
              f = h.x,
              v = h.y;
            if (l || (o != null && o.getClip())) {
              var d = yh(s.getCoordinate()),
                p = d.type,
                g = d.attrs;
              o == null || o.setClip({ type: p, attrs: g });
            } else o == null || o.setClip(void 0);
            var y = this.view.getTheme(),
              m = M(y, ['components', 'tooltip', 'marker'], {}),
              b = x(
                x(
                  { fill: h.color, symbol: 'circle', shadowColor: h.color },
                  q(i) ? x(x({}, m), i(h)) : i,
                ),
                { x: f, y: v },
              );
            o.addShape('marker', { attrs: b });
          }
        } catch (w) {
          n = { error: w };
        } finally {
          try {
            c && !c.done && (a = u.return) && a.call(u);
          } finally {
            if (n) throw n.error;
          }
        }
      }),
      (r.prototype.renderCrosshairs = function (t, i) {
        var n = M(i, ['crosshairs', 'type'], 'x');
        n === 'x'
          ? (this.yCrosshair && this.yCrosshair.hide(), this.renderXCrosshairs(t, i))
          : n === 'y'
          ? (this.xCrosshair && this.xCrosshair.hide(), this.renderYCrosshairs(t, i))
          : n === 'xy' && (this.renderXCrosshairs(t, i), this.renderYCrosshairs(t, i));
      }),
      (r.prototype.renderXCrosshairs = function (t, i) {
        var n = this.getViewWithGeometry(this.view).getCoordinate(),
          a,
          o;
        if (n.isRect)
          n.isTransposed
            ? ((a = { x: n.start.x, y: t.y }), (o = { x: n.end.x, y: t.y }))
            : ((a = { x: t.x, y: n.end.y }), (o = { x: t.x, y: n.start.y }));
        else {
          var s = pn(n, t),
            l = n.getCenter(),
            u = n.getRadius();
          (o = zt(l.x, l.y, u, s)), (a = l);
        }
        var c = _(
          { start: a, end: o, container: this.getTooltipCrosshairsGroup() },
          M(i, 'crosshairs', {}),
          this.getCrosshairsText('x', t, i),
        );
        delete c.type;
        var h = this.xCrosshair;
        h ? h.update(c) : ((h = new fm(c)), h.init()), h.render(), h.show(), (this.xCrosshair = h);
      }),
      (r.prototype.renderYCrosshairs = function (t, i) {
        var n = this.getViewWithGeometry(this.view).getCoordinate(),
          a,
          o;
        if (n.isRect) {
          var s = void 0,
            l = void 0;
          n.isTransposed
            ? ((s = { x: t.x, y: n.end.y }), (l = { x: t.x, y: n.start.y }))
            : ((s = { x: n.start.x, y: t.y }), (l = { x: n.end.x, y: t.y })),
            (a = { start: s, end: l }),
            (o = 'Line');
        } else
          (a = {
            center: n.getCenter(),
            radius: pl(n, t),
            startAngle: n.startAngle,
            endAngle: n.endAngle,
          }),
            (o = 'Circle');
        (a = _(
          { container: this.getTooltipCrosshairsGroup() },
          a,
          M(i, 'crosshairs', {}),
          this.getCrosshairsText('y', t, i),
        )),
          delete a.type;
        var u = this.yCrosshair;
        u
          ? (n.isRect && u.get('type') === 'circle') || (!n.isRect && u.get('type') === 'line')
            ? ((u = new sd[o](a)), u.init())
            : u.update(a)
          : ((u = new sd[o](a)), u.init()),
          u.render(),
          u.show(),
          (this.yCrosshair = u);
      }),
      (r.prototype.getCrosshairsText = function (t, i, n) {
        var a = M(n, ['crosshairs', 'text']),
          o = M(n, ['crosshairs', 'follow']),
          s = this.items;
        if (a) {
          var l = this.getViewWithGeometry(this.view),
            u = s[0],
            c = l.getXScale(),
            h = l.getYScales()[0],
            f = void 0,
            v = void 0;
          if (o) {
            var d = this.view.getCoordinate().invert(i);
            (f = c.invert(d.x)), (v = h.invert(d.y));
          } else (f = u.data[c.field]), (v = u.data[h.field]);
          var p = t === 'x' ? f : v;
          return q(a) ? (a = a(t, p, s, i)) : (a.content = p), { text: a };
        }
      }),
      (r.prototype.getGuideGroup = function () {
        if (!this.guideGroup) {
          var t = this.view.foregroundGroup;
          this.guideGroup = t.addGroup({ name: 'tooltipGuide', capture: !1 });
        }
        return this.guideGroup;
      }),
      (r.prototype.getTooltipMarkersGroup = function () {
        var t = this.tooltipMarkersGroup;
        return (
          t && !t.destroyed
            ? (t.clear(), t.show())
            : ((t = this.getGuideGroup().addGroup({ name: 'tooltipMarkersGroup' })),
              t.toFront(),
              (this.tooltipMarkersGroup = t)),
          t
        );
      }),
      (r.prototype.getTooltipCrosshairsGroup = function () {
        var t = this.tooltipCrosshairsGroup;
        return (
          t ||
            ((t = this.getGuideGroup().addGroup({ name: 'tooltipCrosshairsGroup', capture: !1 })),
            t.toBack(),
            (this.tooltipCrosshairsGroup = t)),
          t
        );
      }),
      (r.prototype.findItemsFromView = function (t, i) {
        var n, a;
        if (t.getOptions().tooltip === !1) return [];
        var o = this.getTooltipCfg(),
          s = hc(t, i, o);
        try {
          for (var l = vt(t.views), u = l.next(); !u.done; u = l.next()) {
            var c = u.value;
            s = s.concat(this.findItemsFromView(c, i));
          }
        } catch (h) {
          n = { error: h };
        } finally {
          try {
            u && !u.done && (a = l.return) && a.call(l);
          } finally {
            if (n) throw n.error;
          }
        }
        return s;
      }),
      (r.prototype.getViewWithGeometry = function (t) {
        var i = this;
        return t.geometries.length
          ? t
          : We(t.views, function (n) {
              return i.getViewWithGeometry(n);
            });
      }),
      (r.prototype.getItemsAfterProcess = function (t) {
        var i = this.getTooltipCfg().customItems,
          n =
            i ||
            function (a) {
              return a;
            };
        return n(t);
      }),
      r
    );
  })(Pn),
  Gm = {};
function Hm(e) {
  return Gm[e.toLowerCase()];
}
function ke(e, r) {
  Gm[e.toLowerCase()] = r;
}
var yn = {
    appear: { duration: 450, easing: 'easeQuadOut' },
    update: { duration: 400, easing: 'easeQuadInOut' },
    enter: { duration: 400, easing: 'easeQuadInOut' },
    leave: { duration: 350, easing: 'easeQuadIn' },
  },
  QT = {
    interval: function (e) {
      return {
        enter: { animation: e.isRect ? (e.isTransposed ? 'scale-in-x' : 'scale-in-y') : 'fade-in' },
        update: { animation: e.isPolar && e.isTransposed ? 'sector-path-update' : null },
        leave: { animation: 'fade-out' },
      };
    },
    line: { enter: { animation: 'fade-in' }, leave: { animation: 'fade-out' } },
    path: { enter: { animation: 'fade-in' }, leave: { animation: 'fade-out' } },
    point: {
      appear: { animation: 'zoom-in' },
      enter: { animation: 'zoom-in' },
      leave: { animation: 'zoom-out' },
    },
    area: { enter: { animation: 'fade-in' }, leave: { animation: 'fade-out' } },
    polygon: { enter: { animation: 'fade-in' }, leave: { animation: 'fade-out' } },
    schema: { enter: { animation: 'fade-in' }, leave: { animation: 'fade-out' } },
    edge: { enter: { animation: 'fade-in' }, leave: { animation: 'fade-out' } },
    label: {
      appear: { animation: 'fade-in', delay: 450 },
      enter: { animation: 'fade-in' },
      update: { animation: 'position-update' },
      leave: { animation: 'fade-out' },
    },
  },
  Fd = {
    line: function () {
      return { animation: 'wave-in' };
    },
    area: function () {
      return { animation: 'wave-in' };
    },
    path: function () {
      return { animation: 'fade-in' };
    },
    interval: function (e) {
      var r;
      return (
        e.isRect
          ? (r = e.isTransposed ? 'grow-in-x' : 'grow-in-y')
          : ((r = 'grow-in-xy'), e.isPolar && e.isTransposed && (r = 'wave-in')),
        { animation: r }
      );
    },
    schema: function (e) {
      var r;
      return (
        e.isRect ? (r = e.isTransposed ? 'grow-in-x' : 'grow-in-y') : (r = 'grow-in-xy'),
        { animation: r }
      );
    },
    polygon: function () {
      return { animation: 'fade-in', duration: 500 };
    },
    edge: function () {
      return { animation: 'fade-in' };
    },
  };
function JT(e, r) {
  return {
    delay: q(e.delay) ? e.delay(r) : e.delay,
    easing: q(e.easing) ? e.easing(r) : e.easing,
    duration: q(e.duration) ? e.duration(r) : e.duration,
    callback: e.callback,
    repeat: e.repeat,
  };
}
function Vm(e, r, t) {
  var i = QT[e];
  return i && (q(i) && (i = i(r)), (i = _({}, yn, i)), t) ? i[t] : i;
}
function sn(e, r, t) {
  var i = M(e.get('origin'), 'data', St),
    n = r.animation,
    a = JT(r, i);
  if (n) {
    var o = Hm(n);
    o && o(e, a, t);
  } else e.animate(t.toAttrs, a);
}
function tk(e, r, t, i, n) {
  if (Fd[t]) {
    var a = Fd[t](i),
      o = Hm(M(a, 'animation', ''));
    if (o) {
      var s = x(x(x({}, yn.appear), a), r);
      e.stopAnimate(), o(e, s, { coordinate: i, minYPoint: n, toAttrs: null });
    }
  }
}
var Mh = 'element-background',
  Ym = (function (e) {
    I(r, e);
    function r(t) {
      var i = e.call(this, t) || this;
      (i.labelShape = []), (i.states = []);
      var n = t.shapeFactory,
        a = t.container,
        o = t.offscreenGroup,
        s = t.elementIndex,
        l = t.visible,
        u = l === void 0 ? !0 : l;
      return (
        (i.shapeFactory = n),
        (i.container = a),
        (i.offscreenGroup = o),
        (i.visible = u),
        (i.elementIndex = s),
        i
      );
    }
    return (
      (r.prototype.draw = function (t, i) {
        i === void 0 && (i = !1),
          (this.model = t),
          (this.data = t.data),
          (this.shapeType = this.getShapeType(t)),
          this.drawShape(t, i),
          this.visible === !1 && this.changeVisible(!1);
      }),
      (r.prototype.update = function (t) {
        var i = this,
          n = i.shapeFactory,
          a = i.shape;
        if (a) {
          (this.model = t),
            (this.data = t.data),
            (this.shapeType = this.getShapeType(t)),
            this.setShapeInfo(a, t);
          var o = this.getOffscreenGroup(),
            s = n.drawShape(this.shapeType, t, o);
          (s.cfg.data = this.data),
            (s.cfg.origin = t),
            (s.cfg.element = this),
            this.syncShapeStyle(a, s, this.getStates(), this.getAnimateCfg('update'));
        }
      }),
      (r.prototype.destroy = function () {
        var t = this,
          i = t.shapeFactory,
          n = t.shape;
        if (n) {
          var a = this.getAnimateCfg('leave');
          a ? sn(n, a, { coordinate: i.coordinate, toAttrs: x({}, n.attr()) }) : n.remove(!0);
        }
        (this.states = []),
          (this.shapeFactory = void 0),
          (this.container = void 0),
          (this.shape = void 0),
          (this.animate = void 0),
          (this.geometry = void 0),
          (this.labelShape = []),
          (this.model = void 0),
          (this.data = void 0),
          (this.offscreenGroup = void 0),
          (this.statesStyle = void 0),
          e.prototype.destroy.call(this);
      }),
      (r.prototype.changeVisible = function (t) {
        e.prototype.changeVisible.call(this, t),
          t
            ? (this.shape && this.shape.show(),
              this.labelShape &&
                this.labelShape.forEach(function (i) {
                  i.show();
                }))
            : (this.shape && this.shape.hide(),
              this.labelShape &&
                this.labelShape.forEach(function (i) {
                  i.hide();
                }));
      }),
      (r.prototype.setState = function (t, i) {
        var n = this,
          a = n.states,
          o = n.shapeFactory,
          s = n.model,
          l = n.shape,
          u = n.shapeType,
          c = a.indexOf(t);
        if (i) {
          if (c > -1) return;
          a.push(t), (t === 'active' || t === 'selected') && (l == null || l.toFront());
        } else {
          if (c === -1) return;
          if ((a.splice(c, 1), t === 'active' || t === 'selected')) {
            var h = this.geometry,
              f = h.sortZIndex,
              v = h.zIndexReversed,
              d = v ? this.geometry.elements.length - this.elementIndex : this.elementIndex;
            f ? l.setZIndex(d) : l.set('zIndex', d);
          }
        }
        var p = o.drawShape(u, s, this.getOffscreenGroup());
        a.length ? this.syncShapeStyle(l, p, a, null) : this.syncShapeStyle(l, p, ['reset'], null),
          p.remove(!0);
        var g = { state: t, stateStatus: i, element: this, target: this.container };
        this.container.emit('statechange', g), Qy(this.shape, 'statechange', g);
      }),
      (r.prototype.clearStates = function () {
        var t = this,
          i = this.states;
        A(i, function (n) {
          t.setState(n, !1);
        }),
          (this.states = []);
      }),
      (r.prototype.hasState = function (t) {
        return this.states.includes(t);
      }),
      (r.prototype.getStates = function () {
        return this.states;
      }),
      (r.prototype.getData = function () {
        return this.data;
      }),
      (r.prototype.getModel = function () {
        return this.model;
      }),
      (r.prototype.getBBox = function () {
        var t = this,
          i = t.shape,
          n = t.labelShape,
          a = { x: 0, y: 0, minX: 0, minY: 0, maxX: 0, maxY: 0, width: 0, height: 0 };
        return (
          i && (a = i.getCanvasBBox()),
          n &&
            n.forEach(function (o) {
              var s = o.getCanvasBBox();
              (a.x = Math.min(s.x, a.x)),
                (a.y = Math.min(s.y, a.y)),
                (a.minX = Math.min(s.minX, a.minX)),
                (a.minY = Math.min(s.minY, a.minY)),
                (a.maxX = Math.max(s.maxX, a.maxX)),
                (a.maxY = Math.max(s.maxY, a.maxY));
            }),
          (a.width = a.maxX - a.minX),
          (a.height = a.maxY - a.minY),
          a
        );
      }),
      (r.prototype.getStatesStyle = function () {
        if (!this.statesStyle) {
          var t = this,
            i = t.shapeType,
            n = t.geometry,
            a = t.shapeFactory,
            o = n.stateOption,
            s = a.defaultShapeType,
            l = a.theme[i] || a.theme[s];
          this.statesStyle = _({}, l, o);
        }
        return this.statesStyle;
      }),
      (r.prototype.getStateStyle = function (t, i) {
        var n = this.getStatesStyle(),
          a = M(n, [t, 'style'], {}),
          o = a[i] || a;
        return q(o) ? o(this) : o;
      }),
      (r.prototype.getAnimateCfg = function (t) {
        var i = this,
          n = this.animate;
        if (n) {
          var a = n[t];
          return (
            a &&
            x(x({}, a), {
              callback: function () {
                var o;
                q(a.callback) && a.callback(),
                  (o = i.geometry) === null || o === void 0 || o.emit(Hr.AFTER_DRAW_ANIMATE);
              },
            })
          );
        }
        return null;
      }),
      (r.prototype.drawShape = function (t, i) {
        var n;
        i === void 0 && (i = !1);
        var a = this,
          o = a.shapeFactory,
          s = a.container,
          l = a.shapeType;
        if (((this.shape = o.drawShape(l, t, s)), this.shape)) {
          this.setShapeInfo(this.shape, t);
          var u = this.shape.cfg.name;
          u
            ? et(u) && (this.shape.cfg.name = ['element', u])
            : (this.shape.cfg.name = ['element', this.shapeFactory.geometryType]);
          var c = i ? 'enter' : 'appear',
            h = this.getAnimateCfg(c);
          h &&
            ((n = this.geometry) === null || n === void 0 || n.emit(Hr.BEFORE_DRAW_ANIMATE),
            sn(this.shape, h, { coordinate: o.coordinate, toAttrs: x({}, this.shape.attr()) }));
        }
      }),
      (r.prototype.getOffscreenGroup = function () {
        if (!this.offscreenGroup) {
          var t = this.container.getGroupBase();
          this.offscreenGroup = new t({});
        }
        return this.offscreenGroup;
      }),
      (r.prototype.setShapeInfo = function (t, i) {
        var n = this;
        if (((t.cfg.origin = i), (t.cfg.element = this), t.isGroup())) {
          var a = t.get('children');
          a.forEach(function (o) {
            n.setShapeInfo(o, i);
          });
        }
      }),
      (r.prototype.syncShapeStyle = function (t, i, n, a, o) {
        var s = this,
          l;
        if ((n === void 0 && (n = []), o === void 0 && (o = 0), !(!t || !i))) {
          var u = t.get('clipShape'),
            c = i.get('clipShape');
          if ((this.syncShapeStyle(u, c, n, a), t.isGroup()))
            for (var h = t.get('children'), f = i.get('children'), v = 0; v < h.length; v++)
              this.syncShapeStyle(h[v], f[v], n, a, o + v);
          else {
            if (!we(n) && !Bt(n, ['reset'])) {
              var d = t.get('name');
              $(d) && (d = d[1]),
                A(n, function (g) {
                  if (i.get('name') !== Mh) {
                    var y = s.getStateStyle(g, d || o);
                    i.attr(y);
                  }
                });
            }
            var p = xm(t, i);
            this.animate
              ? a
                ? ((l = this.geometry) === null || l === void 0 || l.emit(Hr.BEFORE_DRAW_ANIMATE),
                  sn(t, a, {
                    coordinate: this.shapeFactory.coordinate,
                    toAttrs: p,
                    shapeModel: this.model,
                  }))
                : we(n)
                ? t.attr(p)
                : (t.stopAnimate(), t.animate(p, { duration: 300 }))
              : t.attr(p);
          }
        }
      }),
      (r.prototype.getShapeType = function (t) {
        var i = M(t, 'shape');
        return $(i) ? i[0] : i;
      }),
      r
    );
  })(jc),
  Wm = {},
  Xm = {};
function ek(e) {
  return Wm[e.toLowerCase()];
}
function Ja(e, r) {
  Wm[e.toLowerCase()] = r;
}
function rk(e) {
  return Xm[e.toLowerCase()];
}
function Se(e, r) {
  Xm[e.toLowerCase()] = r;
}
var ik = {
    coordinate: null,
    defaultShapeType: null,
    theme: null,
    getShapePoints: function (e, r) {
      var t = this.getShape(e);
      return t.getPoints ? t.getPoints(r) : this.getDefaultPoints(r);
    },
    getShape: function (e) {
      var r = this[e] || this[this.defaultShapeType];
      return (r.coordinate = this.coordinate), r;
    },
    getDefaultPoints: function () {
      return [];
    },
    getDefaultStyle: function (e) {
      return M(e, [this.defaultShapeType, 'default', 'style'], {});
    },
    getMarker: function (e, r) {
      var t = this.getShape(e);
      if (!t.getMarker) {
        var i = this.defaultShapeType;
        t = this.getShape(i);
      }
      var n = this.theme,
        a = M(n, [e, 'default'], {}),
        o = t.getMarker(r);
      return _({}, a, o);
    },
    drawShape: function (e, r, t) {
      var i = this.getShape(e);
      return i.draw(r, t);
    },
  },
  nk = {
    coordinate: null,
    parsePath: function (e) {
      var r = this.coordinate,
        t = nh(e);
      return r.isPolar ? (t = gT(r, t)) : (t = pT(r, t)), t;
    },
    parsePoint: function (e) {
      var r = this.coordinate;
      return r.convert(e);
    },
    parsePoints: function (e) {
      var r = this.coordinate;
      return e.map(function (t) {
        return r.convert(t);
      });
    },
    draw: function (e, r) {},
  },
  Fh = {};
function ni(e, r) {
  var t = zi(e),
    i = x(x(x({}, ik), r), { geometryType: e });
  return (Fh[t] = i), i;
}
function dt(e, r, t) {
  var i = zi(e),
    n = Fh[i],
    a = x(x({}, nk), t);
  return (n[r] = a), a;
}
function Ed(e) {
  var r = zi(e);
  return Fh[r];
}
function ak(e, r, t) {
  var i, n;
  if ((t === void 0 && (t = {}), !r)) return [e];
  var a = kg(e, r),
    o = [];
  if (r.length === 1 && t[r[0]]) {
    var s = t[r[0]];
    try {
      for (var l = vt(s), u = l.next(); !u.done; u = l.next()) {
        var c = u.value,
          h = a['_'.concat(c)];
        h && o.push(h);
      }
    } catch (d) {
      i = { error: d };
    } finally {
      try {
        u && !u.done && (n = l.return) && n.call(l);
      } finally {
        if (i) throw i.error;
      }
    }
  } else
    for (var f in a)
      if (a.hasOwnProperty(f)) {
        var v = a[f];
        o.push(v);
      }
  return o;
}
function _m(e, r) {
  return Vs(
    [
      'color',
      'shape',
      'size',
      'x',
      'y',
      'isInCircle',
      'data',
      'style',
      'defaultStyle',
      'points',
      'mappingData',
    ],
    function (t) {
      return !Bt(e[t], r[t]);
    },
  );
}
function jn(e) {
  return $(e) ? e : e.split('*');
}
function jm(e, r) {
  for (var t = [], i = [], n = [], a = new Map(), o = 0; o < r.length; o++) {
    var s = r[o];
    e[s] ? i.push(s) : t.push(s), a.set(s, !0);
  }
  return (
    Object.keys(e).forEach(function (l) {
      a.has(l) || n.push(l);
    }),
    { added: t, updated: i, removed: n }
  );
}
var ai = (function (e) {
    I(r, e);
    function r(t) {
      var i = e.call(this, t) || this;
      (i.type = 'base'),
        (i.attributes = {}),
        (i.elements = []),
        (i.elementsMap = {}),
        (i.animateOption = !0),
        (i.attributeOption = {}),
        (i.lastElementsMap = {}),
        (i.generatePoints = !1),
        (i.beforeMappingData = null),
        (i.adjusts = {}),
        (i.idFields = []),
        (i.hasSorted = !1),
        (i.isCoordinateChanged = !1);
      var n = t.container,
        a = t.labelsContainer,
        o = t.coordinate,
        s = t.data,
        l = t.sortable,
        u = l === void 0 ? !1 : l,
        c = t.visible,
        h = c === void 0 ? !0 : c,
        f = t.theme,
        v = t.scales,
        d = v === void 0 ? {} : v,
        p = t.scaleDefs,
        g = p === void 0 ? {} : p,
        y = t.intervalPadding,
        m = t.dodgePadding,
        b = t.maxColumnWidth,
        w = t.minColumnWidth,
        S = t.columnWidthRatio,
        C = t.roseWidthRatio,
        F = t.multiplePieWidthRatio,
        E = t.zIndexReversed,
        k = t.sortZIndex,
        T = t.useDeferredLabel;
      return (
        (i.container = n),
        (i.labelsContainer = a),
        (i.coordinate = o),
        (i.data = s),
        (i.sortable = u),
        (i.visible = h),
        (i.userTheme = f),
        (i.scales = d),
        (i.scaleDefs = g),
        (i.intervalPadding = y),
        (i.dodgePadding = m),
        (i.maxColumnWidth = b),
        (i.minColumnWidth = w),
        (i.columnWidthRatio = S),
        (i.roseWidthRatio = C),
        (i.multiplePieWidthRatio = F),
        (i.zIndexReversed = E),
        (i.sortZIndex = k),
        (i.useDeferredLabel = T ? (typeof T == 'number' ? T : 1 / 0) : null),
        i
      );
    }
    return (
      (r.prototype.position = function (t) {
        var i = t;
        rr(t) || (i = { fields: jn(t) });
        var n = M(i, 'fields');
        return (
          n.length === 1 && (n.unshift('1'), Gt(i, 'fields', n)),
          Gt(this.attributeOption, 'position', i),
          this
        );
      }),
      (r.prototype.color = function (t, i) {
        return this.createAttrOption('color', t, i), this;
      }),
      (r.prototype.shape = function (t, i) {
        return this.createAttrOption('shape', t, i), this;
      }),
      (r.prototype.size = function (t, i) {
        return this.createAttrOption('size', t, i), this;
      }),
      (r.prototype.adjust = function (t) {
        var i = t;
        return (
          (et(t) || rr(t)) && (i = [t]),
          A(i, function (n, a) {
            yt(n) || (i[a] = { type: n });
          }),
          (this.adjustOption = i),
          this
        );
      }),
      (r.prototype.style = function (t, i) {
        if (et(t)) {
          var n = jn(t);
          this.styleOption = { fields: n, callback: i };
        } else {
          var a = t,
            n = a.fields,
            o = a.callback,
            s = a.cfg;
          n || o || s ? (this.styleOption = t) : (this.styleOption = { cfg: t });
        }
        return this;
      }),
      (r.prototype.tooltip = function (t, i) {
        if (et(t)) {
          var n = jn(t);
          this.tooltipOption = { fields: n, callback: i };
        } else this.tooltipOption = t;
        return this;
      }),
      (r.prototype.animate = function (t) {
        return (this.animateOption = t), this;
      }),
      (r.prototype.label = function (t, i, n) {
        if (et(t)) {
          var a = {},
            o = jn(t);
          (a.fields = o),
            q(i) ? (a.callback = i) : rr(i) && (a.cfg = i),
            n && (a.cfg = n),
            (this.labelOption = a);
        } else this.labelOption = t;
        return this;
      }),
      (r.prototype.state = function (t) {
        return (this.stateOption = t), this;
      }),
      (r.prototype.customInfo = function (t) {
        return (this.customOption = t), this;
      }),
      (r.prototype.init = function (t) {
        t === void 0 && (t = {}),
          this.setCfg(t),
          this.initAttributes(),
          this.processData(this.data),
          this.adjustScale();
      }),
      (r.prototype.update = function (t) {
        t === void 0 && (t = {});
        var i = t.data,
          n = t.isDataChanged,
          a = t.isCoordinateChanged,
          o = this,
          s = o.attributeOption,
          l = o.lastAttributeOption;
        Bt(s, l)
          ? i && (n || !Bt(i, this.data))
            ? (this.setCfg(t), this.initAttributes(), this.processData(i))
            : this.setCfg(t)
          : this.init(t),
          this.adjustScale(),
          (this.isCoordinateChanged = a);
      }),
      (r.prototype.paint = function (t) {
        var i = this;
        t === void 0 && (t = !1),
          this.animateOption &&
            (this.animateOption = _({}, Vm(this.type, this.coordinate), this.animateOption)),
          (this.defaultSize = void 0),
          (this.elementsMap = {}),
          (this.elements = []);
        var n = this.getOffscreenGroup();
        n.clear();
        var a = this.beforeMappingData,
          o = this.beforeMapping(a);
        this.dataArray = new Array(o.length);
        for (var s = 0; s < o.length; s++) {
          var l = o[s];
          this.dataArray[s] = this.mapping(l);
        }
        if (
          (this.updateElements(this.dataArray, t),
          (this.lastElementsMap = this.elementsMap),
          this.canDoGroupAnimation(t))
        ) {
          var u = this.container,
            c = this.type,
            h = this.coordinate,
            f = M(this.animateOption, 'appear'),
            v = this.getYScale(),
            d = h.convert({ x: 0, y: v.scale(this.getYMinValue()) });
          tk(u, f, c, h, d);
        }
        if (this.labelOption) {
          var p = this.useDeferredLabel,
            g = function () {
              return i.renderLabels(Te(i.dataArray), t);
            }.bind(this);
          if (typeof p == 'number') {
            var y = typeof p == 'number' && p !== 1 / 0 ? p : 0;
            if (!window.requestIdleCallback) setTimeout(g, y);
            else {
              var m = y && y !== 1 / 0 ? { timeout: y } : void 0;
              window.requestIdleCallback(g, m);
            }
          } else g();
        }
        (this.lastAttributeOption = x({}, this.attributeOption)),
          this.visible === !1 && this.changeVisible(!1);
      }),
      (r.prototype.clear = function () {
        var t = this,
          i = t.container,
          n = t.geometryLabel,
          a = t.offscreenGroup;
        i && i.clear(),
          n && n.clear(),
          a && a.clear(),
          (this.scaleDefs = void 0),
          (this.attributes = {}),
          (this.scales = {}),
          (this.elementsMap = {}),
          (this.lastElementsMap = {}),
          (this.elements = []),
          (this.adjusts = {}),
          (this.dataArray = null),
          (this.beforeMappingData = null),
          (this.lastAttributeOption = void 0),
          (this.defaultSize = void 0),
          (this.idFields = []),
          (this.groupScales = void 0),
          (this.hasSorted = !1),
          (this.isCoordinateChanged = !1);
      }),
      (r.prototype.destroy = function () {
        this.clear();
        var t = this.container;
        t.remove(!0),
          this.offscreenGroup && (this.offscreenGroup.remove(!0), (this.offscreenGroup = null)),
          this.geometryLabel && (this.geometryLabel.destroy(), (this.geometryLabel = null)),
          (this.theme = void 0),
          (this.shapeFactory = void 0),
          e.prototype.destroy.call(this);
      }),
      (r.prototype.getGroupScales = function () {
        return this.groupScales;
      }),
      (r.prototype.getAttribute = function (t) {
        return this.attributes[t];
      }),
      (r.prototype.getXScale = function () {
        return this.getAttribute('position').scales[0];
      }),
      (r.prototype.getYScale = function () {
        return this.getAttribute('position').scales[1];
      }),
      (r.prototype.getGroupAttributes = function () {
        var t = [];
        return (
          A(this.attributes, function (i) {
            Qi.includes(i.type) && t.push(i);
          }),
          t
        );
      }),
      (r.prototype.getDefaultValue = function (t) {
        var i,
          n = this.getAttribute(t);
        return n && we(n.scales) && (i = n.values[0]), i;
      }),
      (r.prototype.getAttributeValues = function (t, i) {
        for (var n = [], a = t.scales, o = 0, s = a.length; o < s; o++) {
          var l = a[o],
            u = l.field;
          l.isIdentity ? n.push(l.values) : n.push(i[u]);
        }
        return t.mapping.apply(t, Et([], K(n), !1));
      }),
      (r.prototype.getAdjust = function (t) {
        return this.adjusts[t];
      }),
      (r.prototype.getCoordinate = function () {
        return this.coordinate;
      }),
      (r.prototype.getData = function () {
        return this.data;
      }),
      (r.prototype.getShapeMarker = function (t, i) {
        var n = this.getShapeFactory();
        return n.getMarker(t, i);
      }),
      (r.prototype.getElementsBy = function (t) {
        return this.elements.filter(function (i) {
          return t(i);
        });
      }),
      (r.prototype.getElements = function () {
        return this.elements;
      }),
      (r.prototype.getElementId = function (t) {
        t = $(t) ? t[0] : t;
        var i = t[St];
        if (this.idFields.length) {
          for (var n = i[this.idFields[0]], a = 1; a < this.idFields.length; a++)
            n += '-' + i[this.idFields[a]];
          return n;
        }
        var o = this.type,
          s = this.getXScale(),
          l = this.getYScale(),
          u = s.field || 'x',
          c = l.field || 'y',
          h = i[c],
          f;
        s.type === 'identity' ? (f = s.values[0]) : (f = i[u]);
        var v;
        o === 'interval' || o === 'schema'
          ? (v = ''.concat(f))
          : o === 'line' || o === 'area' || o === 'path'
          ? (v = o)
          : (v = ''.concat(f, '-').concat(h));
        for (var d = this.groupScales, a = 0, p = d.length; a < p; a++) {
          var g = d[a],
            y = g.field;
          v = ''.concat(v, '-').concat(i[y]);
        }
        var m = this.getAdjust('dodge');
        if (m) {
          var b = m.dodgeBy;
          b && (v = ''.concat(v, '-').concat(i[b]));
        }
        return this.getAdjust('jitter') && (v = ''.concat(v, '-').concat(t.x, '-').concat(t.y)), v;
      }),
      (r.prototype.getScaleFields = function () {
        var t = [],
          i = new Map(),
          n = this,
          a = n.attributeOption,
          o = n.labelOption,
          s = n.tooltipOption;
        for (var l in a)
          if (a.hasOwnProperty(l)) {
            var u = a[l];
            u.fields ? $r(u.fields, t, i) : u.values && $r(u.values, t, i);
          }
        return o && o.fields && $r(o.fields, t, i), yt(s) && s.fields && $r(s.fields, t, i), t;
      }),
      (r.prototype.changeVisible = function (t) {
        e.prototype.changeVisible.call(this, t);
        for (var i = this.elements, n = 0, a = i.length; n < a; n++) {
          var o = i[n];
          o.changeVisible(t);
        }
        t
          ? (this.container && this.container.show(),
            this.labelsContainer && this.labelsContainer.show())
          : (this.container && this.container.hide(),
            this.labelsContainer && this.labelsContainer.hide());
      }),
      (r.prototype.getFields = function () {
        var t = new Map(),
          i = [];
        return (
          Object.values(this.attributeOption).forEach(function (n) {
            var a = (n == null ? void 0 : n.fields) || [];
            a.forEach(function (o) {
              t.has(o) || i.push(o), t.set(o, !0);
            });
          }, []),
          i
        );
      }),
      (r.prototype.getGroupFields = function () {
        for (var t = [], i = new Map(), n = 0, a = Qi.length; n < a; n++) {
          var o = Qi[n],
            s = this.attributeOption[o];
          s && s.fields && $r(s.fields, t, i);
        }
        return t;
      }),
      (r.prototype.getXYFields = function () {
        var t = K(this.attributeOption.position.fields, 2),
          i = t[0],
          n = t[1];
        return [i, n];
      }),
      (r.prototype.getXField = function () {
        return M(this.getXYFields(), [0]);
      }),
      (r.prototype.getYField = function () {
        return M(this.getXYFields(), [1]);
      }),
      (r.prototype.getShapes = function () {
        return this.elements.map(function (t) {
          return t.shape;
        });
      }),
      (r.prototype.getOffscreenGroup = function () {
        if (!this.offscreenGroup) {
          var t = this.container.getGroupBase();
          this.offscreenGroup = new t({});
        }
        return this.offscreenGroup;
      }),
      (r.prototype.sort = function (t) {
        if (!this.hasSorted)
          for (var i = this.getXScale(), n = i.field, a = 0; a < t.length; a++) {
            var o = t[a];
            o.sort(function (s, l) {
              return i.translate(s[St][n]) - i.translate(l[St][n]);
            });
          }
        this.hasSorted = !0;
      }),
      (r.prototype.adjustScale = function () {
        var t = this.getYScale();
        t && this.getAdjust('stack') && this.updateStackRange(t, this.beforeMappingData);
      }),
      (r.prototype.getShapeFactory = function () {
        var t = this.shapeType;
        if (Ed(t))
          return (
            this.shapeFactory || (this.shapeFactory = ue(Ed(t))),
            (this.shapeFactory.coordinate = this.coordinate),
            (this.shapeFactory.theme = this.theme.geometries[t] || {}),
            this.shapeFactory
          );
      }),
      (r.prototype.createShapePointsCfg = function (t) {
        var i = this.getXScale(),
          n = this.getYScale(),
          a = this.normalizeValues(t[i.field], i),
          o;
        return (
          n ? (o = this.normalizeValues(t[n.field], n)) : (o = t.y ? t.y : 0.1),
          { x: a, y: o, y0: n ? n.scale(this.getYMinValue()) : void 0 }
        );
      }),
      (r.prototype.createElement = function (t, i, n) {
        n === void 0 && (n = !1);
        var a = this.container,
          o = this.getDrawCfg(t),
          s = this.getShapeFactory(),
          l = new Ym({
            shapeFactory: s,
            container: a,
            offscreenGroup: this.getOffscreenGroup(),
            elementIndex: i,
          });
        return (l.animate = this.animateOption), (l.geometry = this), l.draw(o, n), l;
      }),
      (r.prototype.getDrawCfg = function (t) {
        var i = t[St],
          n = {
            mappingData: t,
            data: i,
            x: t.x,
            y: t.y,
            color: t.color,
            size: t.size,
            isInCircle: this.coordinate.isPolar,
            customInfo: this.customOption,
          },
          a = t.shape;
        !a && this.getShapeFactory() && (a = this.getShapeFactory().defaultShapeType),
          (n.shape = a);
        var o = this.theme.geometries[this.shapeType];
        (n.defaultStyle = M(o, [a, 'default'], {}).style),
          !n.defaultStyle &&
            this.getShapeFactory() &&
            (n.defaultStyle = this.getShapeFactory().getDefaultStyle(o));
        var s = this.styleOption;
        return (
          s && (n.style = this.getStyleCfg(s, i)),
          this.generatePoints && ((n.points = t.points), (n.nextPoints = t.nextPoints)),
          n
        );
      }),
      (r.prototype.updateElements = function (t, i) {
        var n, a, o, s, l, u;
        i === void 0 && (i = !1);
        for (var c = new Map(), h = [], f = new Map(), v = 0, d = 0; d < t.length; d++)
          for (var p = t[d], g = 0; g < p.length; g++) {
            var y = p[g],
              m = this.getElementId(y),
              b = c.has(m) ? ''.concat(m, '-').concat(d, '-').concat(g) : m;
            h.push(b), c.set(b, y), f.set(b, v), v++;
          }
        this.elements = new Array(v);
        var w = jm(this.lastElementsMap, h),
          S = w.added,
          C = w.updated,
          F = w.removed;
        try {
          for (var E = vt(S), k = E.next(); !k.done; k = E.next()) {
            var m = k.value,
              y = c.get(m),
              d = f.get(m),
              T = this.createElement(y, d, i);
            (this.elements[d] = T),
              (this.elementsMap[m] = T),
              T.shape && T.shape.set('zIndex', this.zIndexReversed ? this.elements.length - d : d);
          }
        } catch (N) {
          n = { error: N };
        } finally {
          try {
            k && !k.done && (a = E.return) && a.call(E);
          } finally {
            if (n) throw n.error;
          }
        }
        try {
          for (var O = vt(C), P = O.next(); !P.done; P = O.next()) {
            var m = P.value,
              T = this.lastElementsMap[m],
              y = c.get(m),
              z = this.getDrawCfg(y),
              W = T.getModel(),
              d = f.get(m);
            (this.isCoordinateChanged || _m(z, W)) &&
              ((T.animate = this.animateOption), T.update(z)),
              (this.elements[d] = T),
              (this.elementsMap[m] = T),
              T.shape && T.shape.set('zIndex', this.zIndexReversed ? this.elements.length - d : d);
          }
        } catch (N) {
          o = { error: N };
        } finally {
          try {
            P && !P.done && (s = O.return) && s.call(O);
          } finally {
            if (o) throw o.error;
          }
        }
        this.container && this.container.sort();
        try {
          for (var j = vt(F), D = j.next(); !D.done; D = j.next()) {
            var m = D.value,
              T = this.lastElementsMap[m];
            (T.animate = this.animateOption), T.destroy();
          }
        } catch (N) {
          l = { error: N };
        } finally {
          try {
            D && !D.done && (u = j.return) && u.call(j);
          } finally {
            if (l) throw l.error;
          }
        }
      }),
      (r.prototype.getLabelType = function () {
        var t = this,
          i = t.labelOption,
          n = t.coordinate,
          a = t.type,
          o = n.type,
          s = n.isTransposed,
          l = M(i, ['cfg', 'type']);
        return (
          l ||
            (o === 'polar'
              ? (l = s ? 'pie' : 'polar')
              : o === 'theta'
              ? (l = 'pie')
              : a === 'interval' || a === 'polygon'
              ? (l = 'interval')
              : (l = 'base')),
          l
        );
      }),
      (r.prototype.getYMinValue = function () {
        var t = this.getYScale(),
          i = t.min,
          n = t.max,
          a;
        return i >= 0 ? (a = i) : n <= 0 ? (a = n) : (a = 0), a;
      }),
      (r.prototype.createAttrOption = function (t, i, n) {
        if (R(i) || yt(i))
          yt(i) && Bt(Object.keys(i), ['values'])
            ? Gt(this.attributeOption, t, { fields: i.values })
            : Gt(this.attributeOption, t, i);
        else {
          var a = {};
          it(i) ? (a.values = [i]) : (a.fields = jn(i)),
            n && (q(n) ? (a.callback = n) : (a.values = n)),
            Gt(this.attributeOption, t, a);
        }
      }),
      (r.prototype.initAttributes = function () {
        var t = this,
          i = this,
          n = i.attributes,
          a = i.attributeOption,
          o = i.theme,
          s = i.shapeType;
        this.groupScales = [];
        var l = {},
          u = function (f) {
            if (a.hasOwnProperty(f)) {
              var v = a[f];
              if (!v) return { value: void 0 };
              var d = x({}, v),
                p = d.callback,
                g = d.values,
                y = d.fields,
                m = y === void 0 ? [] : y,
                b = m.map(function (S) {
                  var C = t.scales[S];
                  if (!l[S] && Qi.includes(f)) {
                    var F = wm(C, M(t.scaleDefs, S), f, t.type);
                    F === 'cat' && (t.groupScales.push(C), (l[S] = !0));
                  }
                  return C;
                });
              (d.scales = b),
                f !== 'position' && b.length === 1 && b[0].type === 'identity'
                  ? (d.values = b[0].values)
                  : !p &&
                    !g &&
                    (f === 'size'
                      ? (d.values = o.sizes)
                      : f === 'shape'
                      ? (d.values = o.shapes[s] || [])
                      : f === 'color' &&
                        (b.length
                          ? (d.values = b[0].values.length <= 10 ? o.colors10 : o.colors20)
                          : (d.values = o.colors10)));
              var w = qy(f);
              n[f] = new w(d);
            }
          };
        for (var c in a) {
          var h = u(c);
          if (typeof h == 'object') return h.value;
        }
      }),
      (r.prototype.processData = function (t) {
        var i, n;
        this.hasSorted = !1;
        for (
          var a = this.getAttribute('position').scales,
            o = a.filter(function (F) {
              return F.isCategory;
            }),
            s = this.groupData(t),
            l = [],
            u = 0,
            c = s.length;
          u < c;
          u++
        ) {
          for (var h = s[u], f = [], v = 0, d = h.length; v < d; v++) {
            var p = h[v],
              g = {};
            for (var y in p) g[y] = p[y];
            g[St] = p;
            try {
              for (var m = ((i = void 0), vt(o)), b = m.next(); !b.done; b = m.next()) {
                var w = b.value,
                  S = w.field;
                g[S] = w.translate(g[S]);
              }
            } catch (F) {
              i = { error: F };
            } finally {
              try {
                b && !b.done && (n = m.return) && n.call(m);
              } finally {
                if (i) throw i.error;
              }
            }
            f.push(g);
          }
          l.push(f);
        }
        var C = this.adjustData(l);
        return (this.beforeMappingData = C), C;
      }),
      (r.prototype.adjustData = function (t) {
        var i = this.adjustOption,
          n = this,
          a = n.intervalPadding,
          o = n.dodgePadding,
          s = n.theme,
          l = this.maxColumnWidth || s.maxColumnWidth,
          u = this.minColumnWidth || s.minColumnWidth,
          c = this.columnWidthRatio || s.columnWidthRatio,
          h = t;
        if (i) {
          var f = this.getXScale(),
            v = this.getYScale(),
            d = f.field,
            p = v ? v.field : null,
            g = Ka(this.coordinate),
            y = f.values.length,
            m = this.getAttribute('size'),
            b = void 0;
          m && (b = m.values[0]);
          for (var w = 0, S = i.length; w < S; w++) {
            var C = i[w],
              F = x(
                {
                  xField: d,
                  yField: p,
                  intervalPadding: a,
                  dodgePadding: o,
                  xDimensionLength: g,
                  groupNum: y,
                  defaultSize: b,
                  maxColumnWidth: l,
                  minColumnWidth: u,
                  columnWidthRatio: c,
                },
                C,
              ),
              E = C.type;
            if (E === 'dodge') {
              var k = [];
              if (f.isCategory || f.type === 'identity') k.push('x');
              else if (!v) k.push('y');
              else
                throw new Error(
                  'dodge is not support linear attribute, please use category attribute!',
                );
              (F.adjustNames = k), (F.dodgeRatio = c);
            } else if (E === 'stack') {
              var T = this.coordinate;
              if (!v) {
                F.height = T.getHeight();
                var O = this.getDefaultValue('size') || 3;
                F.size = O;
              }
              !T.isTransposed && R(F.reverseOrder) && (F.reverseOrder = !0);
            }
            var P = Ey(E);
            (F.dimValuesMap = {}),
              f &&
                f.values &&
                (F.dimValuesMap[f.field] = f.values.map(function (W) {
                  return f.translate(W);
                }));
            var z = new P(F);
            (h = z.process(h)), (this.adjusts[E] = z);
          }
        }
        return h;
      }),
      (r.prototype.groupData = function (t) {
        for (
          var i = this.getGroupScales(), n = this.scaleDefs, a = {}, o = [], s = 0;
          s < i.length;
          s++
        ) {
          var l = i[s],
            u = l.field;
          o.push(u), M(n, [u, 'values']) && (a[u] = n[u].values);
        }
        return ak(t, o, a);
      }),
      (r.prototype.updateStackRange = function (t, i) {
        for (var n = Te(i), a = t.field, o = t.min, s = t.max, l = 0; l < n.length; l++) {
          var u = n[l],
            c = Math.min.apply(null, u[a]),
            h = Math.max.apply(null, u[a]);
          c < o && (o = c), h > s && (s = h);
        }
        var f = this.scaleDefs,
          v = {};
        o < t.min && !M(f, [a, 'min']) && (v.min = o),
          s > t.max && !M(f, [a, 'max']) && (v.max = s),
          t.change(v);
      }),
      (r.prototype.beforeMapping = function (t) {
        var i = t;
        if ((this.sortable && this.sort(i), this.generatePoints))
          for (var n = 0, a = i.length; n < a; n++) {
            var o = i[n];
            this.generateShapePoints(o);
            var s = i[n + 1];
            s && (this.generateShapePoints(s), (o[0].nextPoints = s[0].points));
          }
        return i;
      }),
      (r.prototype.generateShapePoints = function (t) {
        for (
          var i = this.getShapeFactory(), n = this.getAttribute('shape'), a = 0;
          a < t.length;
          a++
        ) {
          var o = t[a],
            s = this.createShapePointsCfg(o),
            l = n ? this.getAttributeValues(n, o) : null,
            u = i.getShapePoints(l, s);
          o.points = u;
        }
      }),
      (r.prototype.normalizeValues = function (t, i) {
        var n = [];
        if ($(t))
          for (var a = 0; a < t.length; a++) {
            var o = t[a];
            n.push(i.scale(o));
          }
        else n = i.scale(t);
        return n;
      }),
      (r.prototype.mapping = function (t) {
        for (var i = this.attributes, n = [], a = 0; a < t.length; a++) {
          var o = t[a],
            s = { _origin: o[St], points: o.points, nextPoints: o.nextPoints };
          for (var l in i)
            if (i.hasOwnProperty(l)) {
              var u = i[l],
                c = u.names,
                h = this.getAttributeValues(u, o);
              if (c.length > 1)
                for (var f = 0; f < h.length; f += 1) {
                  var v = h[f],
                    d = c[f];
                  s[d] = $(v) && v.length === 1 ? v[0] : v;
                }
              else s[c[0]] = h.length === 1 ? h[0] : h;
            }
          this.convertPoint(s), n.push(s);
        }
        return n;
      }),
      (r.prototype.convertPoint = function (t) {
        var i = t.x,
          n = t.y,
          a,
          o,
          s,
          l = this.coordinate;
        if ($(i) && $(n)) {
          (a = []), (o = []);
          for (var u = 0, c = 0, h = i.length, f = n.length; u < h && c < f; u += 1, c += 1)
            (s = l.convert({ x: i[u], y: n[c] })), a.push(s.x), o.push(s.y);
        } else if ($(n)) {
          o = [];
          for (var v = 0; v < n.length; v++) {
            var d = n[v];
            (s = l.convert({ x: i, y: d })),
              a && a !== s.x ? ($(a) || (a = [a]), a.push(s.x)) : (a = s.x),
              o.push(s.y);
          }
        } else if ($(i)) {
          a = [];
          for (var v = 0; v < i.length; v++) {
            var p = i[v];
            (s = l.convert({ x: p, y: n })),
              o && o !== s.y ? ($(o) || (o = [o]), o.push(s.y)) : (o = s.y),
              a.push(s.x);
          }
        } else {
          var g = l.convert({ x: i, y: n });
          (a = g.x), (o = g.y);
        }
        (t.x = a), (t.y = o);
      }),
      (r.prototype.getStyleCfg = function (t, i) {
        var n = t.fields,
          a = n === void 0 ? [] : n,
          o = t.callback,
          s = t.cfg;
        if (s) return s;
        var l = a.map(function (u) {
          return i[u];
        });
        return o.apply(void 0, Et([], K(l), !1));
      }),
      (r.prototype.setCfg = function (t) {
        var i = this,
          n = t.coordinate,
          a = t.data,
          o = t.theme,
          s = t.scaleDefs;
        n && (this.coordinate = n),
          a && (this.data = a),
          s &&
            ((this.scaleDefs = s),
            (this.idFields = []),
            A(s, function (l, u) {
              l && l.key && i.idFields.push(u);
            })),
          o && (this.theme = this.userTheme ? _({}, o, this.userTheme) : o);
      }),
      (r.prototype.renderLabels = function (t, i) {
        return (
          i === void 0 && (i = !1),
          ma(this, void 0, void 0, function () {
            var n,
              a,
              o,
              s,
              l,
              u,
              c,
              h,
              f,
              v,
              d,
              p,
              g = this;
            return xa(this, function (y) {
              switch (y.label) {
                case 0:
                  return (
                    (n = this.geometryLabel),
                    this.emit(Hr.BEFORE_RENDER_LABEL),
                    n ||
                      ((a = this.getLabelType()),
                      (o = ek(a)),
                      (n = new o(this)),
                      (this.geometryLabel = n)),
                    [4, n.render(t, i)]
                  );
                case 1:
                  y.sent(),
                    (s = n.labelsRenderer.shapesMap),
                    (l = new Map()),
                    A(s, function (m, b) {
                      for (var w = m.getChildren() || [], S = 0; S < w.length; S++) {
                        var C = w[S],
                          F = g.elementsMap[C.get('elementId') || b.split(' ')[0]];
                        if (F) {
                          (C.cfg.name = ['element', 'label']), (C.cfg.element = F);
                          var E = l.get(F) || new Set();
                          E.add(m), l.set(F, E);
                        }
                      }
                    });
                  try {
                    for (u = vt(l.entries()), c = u.next(); !c.done; c = u.next())
                      (h = K(c.value, 2)),
                        (f = h[0]),
                        (v = h[1]),
                        (f.labelShape = Et([], K(v), !1));
                  } catch (m) {
                    d = { error: m };
                  } finally {
                    try {
                      c && !c.done && (p = u.return) && p.call(u);
                    } finally {
                      if (d) throw d.error;
                    }
                  }
                  return this.emit(Hr.AFTER_RENDER_LABEL), [2];
              }
            });
          })
        );
      }),
      (r.prototype.canDoGroupAnimation = function (t) {
        return (
          !t &&
          this.animateOption &&
          (M(this.animateOption, 'appear') === void 0 ||
            (M(this.animateOption, 'appear') &&
              M(this.animateOption, ['appear', 'animation']) === void 0))
        );
      }),
      r
    );
  })(jc),
  yl = Ht;
function to(e, r, t) {
  var i = yl(e.getMatrix(), [['t', r, t]]);
  e.setMatrix(i);
}
function ok(e, r) {
  var t = e.attr(),
    i = t.x,
    n = t.y,
    a = yl(e.getMatrix(), [
      ['t', -i, -n],
      ['r', r],
      ['t', i, n],
    ]);
  return a;
}
function Eh(e, r) {
  var t = ok(e, r);
  e.setMatrix(t);
}
function sk(e, r) {
  var t = e.getBBox(),
    i = (t.minX + t.maxX) / 2,
    n = (t.minY + t.maxY) / 2;
  e.applyToMatrix([i, n, 1]);
  var a = yl(e.getMatrix(), [
    ['t', -i, -n],
    ['s', r, r],
    ['t', i, n],
  ]);
  e.setMatrix(a);
}
function Kr(e) {
  return e.find(function (r) {
    return r.get('type') === 'text';
  });
}
function Um(e, r, t) {
  t === void 0 && (t = [0, 0, 0, 0]);
  var i = e && e.getChildren()[0];
  if (i) {
    var n = i.clone();
    r != null && r.rotate && Eh(n, -r.rotate);
    var a = n.getCanvasBBox(),
      o = a.x,
      s = a.y,
      l = a.width,
      u = a.height;
    n.destroy();
    var c = t;
    return (
      R(c) ? (c = [2, 2, 2, 2]) : it(c) && (c = new Array(4).fill(c)),
      {
        x: o - c[3],
        y: s - c[0],
        width: l + c[1] + c[3],
        height: u + c[0] + c[2],
        rotation: (r == null ? void 0 : r.rotate) || 0,
      }
    );
  }
  return { x: 0, y: 0, width: 0, height: 0, rotation: 0 };
}
function lk(e, r, t) {
  t === void 0 && (t = 0);
  var i = Math.max(0, Math.min(e.x + e.width + t, r.x + r.width + t) - Math.max(e.x - t, r.x - t)),
    n = Math.max(0, Math.min(e.y + e.height + t, r.y + r.height + t) - Math.max(e.y - t, r.y - t));
  return i * n;
}
function uk(e, r) {
  var t = e.getBBox();
  return Vs(r, function (i) {
    var n = i.getBBox();
    return lk(t, n, 2) > 0;
  });
}
function qm(e, r, t) {
  var i = t.data,
    n = t.origin,
    a = t.animateCfg,
    o = t.coordinate,
    s = M(a, 'update');
  e.set('data', i),
    e.set('origin', n),
    e.set('animateCfg', a),
    e.set('coordinate', o),
    e.set('visible', r.get('visible')),
    (e.getChildren() || []).forEach(function (l, u) {
      var c = r.getChildByIndex(u);
      if (!c) e.removeChild(l), l.remove(!0);
      else {
        l.set('data', i), l.set('origin', n), l.set('animateCfg', a), l.set('coordinate', o);
        var h = xm(l, c);
        s ? sn(l, s, { toAttrs: h, coordinate: o }) : l.attr(h), c.isGroup() && qm(l, c, t);
      }
    }),
    A(r.getChildren(), function (l, u) {
      u >= e.getCount() && (l.destroyed || e.add(l));
    });
}
var ck = (function () {
  function e(r) {
    this.shapesMap = {};
    var t = r.layout,
      i = r.container;
    (this.layout = t), (this.container = i);
  }
  return (
    (e.prototype.render = function (r, t, i) {
      return (
        i === void 0 && (i = !1),
        ma(this, void 0, void 0, function () {
          var n,
            a,
            o,
            s,
            l,
            u,
            c,
            h,
            f = this;
          return xa(this, function (v) {
            switch (v.label) {
              case 0:
                if (((n = {}), (a = this.createOffscreenGroup()), !r.length)) return [3, 2];
                try {
                  for (o = vt(r), s = o.next(); !s.done; s = o.next())
                    (l = s.value), l && (n[l.id] = this.renderLabel(l, a));
                } catch (d) {
                  c = { error: d };
                } finally {
                  try {
                    s && !s.done && (h = o.return) && h.call(o);
                  } finally {
                    if (c) throw c.error;
                  }
                }
                return [4, this.doLayout(r, t, n)];
              case 1:
                v.sent(),
                  this.renderLabelLine(r, n),
                  this.renderLabelBackground(r, n),
                  this.adjustLabel(r, n),
                  (v.label = 2);
              case 2:
                return (
                  (u = this.shapesMap),
                  A(n, function (d, p) {
                    if (d.destroyed) delete n[p];
                    else {
                      if (u[p]) {
                        var g = d.get('data'),
                          y = d.get('origin'),
                          m = d.get('coordinate'),
                          b = d.get('animateCfg'),
                          w = u[p];
                        qm(w, n[p], { data: g, origin: y, animateCfg: b, coordinate: m }),
                          (n[p] = w);
                      } else {
                        if (f.container.destroyed) return;
                        f.container.add(d);
                        var S = M(d.get('animateCfg'), i ? 'enter' : 'appear');
                        S &&
                          sn(d, S, { toAttrs: x({}, d.attr()), coordinate: d.get('coordinate') });
                      }
                      delete u[p];
                    }
                  }),
                  A(u, function (d) {
                    var p = M(d.get('animateCfg'), 'leave');
                    p ? sn(d, p, { toAttrs: null, coordinate: d.get('coordinate') }) : d.remove(!0);
                  }),
                  (this.shapesMap = n),
                  a.destroy(),
                  [2]
                );
            }
          });
        })
      );
    }),
    (e.prototype.clear = function () {
      this.container.clear(), (this.shapesMap = {});
    }),
    (e.prototype.destroy = function () {
      this.container.destroy(), (this.shapesMap = null);
    }),
    (e.prototype.renderLabel = function (r, t) {
      var i = r.id,
        n = r.elementId,
        a = r.data,
        o = r.mappingData,
        s = r.coordinate,
        l = r.animate,
        u = r.content,
        c = r.capture,
        h = {
          id: i,
          elementId: n,
          capture: c,
          data: a,
          origin: x(x({}, o), { data: o[St] }),
          coordinate: s,
        },
        f = t.addGroup(
          x(
            {
              name: 'label',
              animateCfg:
                this.animate === !1 || l === null || l === !1 ? !1 : _({}, this.animate, l),
            },
            h,
          ),
        ),
        v;
      if ((u.isGroup && u.isGroup()) || (u.isShape && u.isShape())) {
        var d = u.getCanvasBBox(),
          p = d.width,
          g = d.height,
          y = M(r, 'textAlign', 'left'),
          m = r.x,
          b = r.y - g / 2;
        y === 'center' ? (m = m - p / 2) : (y === 'right' || y === 'end') && (m = m - p),
          to(u, m, b),
          (v = u),
          f.add(u);
      } else {
        var w = M(r, ['style', 'fill']);
        v = f.addShape(
          'text',
          x(
            {
              attrs: x(
                x(
                  {
                    x: r.x,
                    y: r.y,
                    textAlign: r.textAlign,
                    textBaseline: M(r, 'textBaseline', 'middle'),
                    text: r.content,
                  },
                  r.style,
                ),
                { fill: _S(w) ? r.color : w },
              ),
            },
            h,
          ),
        );
      }
      return r.rotate && Eh(v, r.rotate), f;
    }),
    (e.prototype.doLayout = function (r, t, i) {
      return ma(this, void 0, void 0, function () {
        var n,
          a = this;
        return xa(this, function (o) {
          switch (o.label) {
            case 0:
              return this.layout
                ? ((n = $(this.layout) ? this.layout : [this.layout]),
                  [
                    4,
                    Promise.all(
                      n.map(function (s) {
                        var l = rk(M(s, 'type', ''));
                        if (l) {
                          var u = [],
                            c = [];
                          return (
                            A(i, function (h, f) {
                              u.push(h), c.push(t[h.get('elementId')]);
                            }),
                            l(r, u, c, a.region, s.cfg)
                          );
                        }
                      }),
                    ),
                  ])
                : [3, 2];
            case 1:
              o.sent(), (o.label = 2);
            case 2:
              return [2];
          }
        });
      });
    }),
    (e.prototype.renderLabelLine = function (r, t) {
      A(r, function (i) {
        var n = M(i, 'coordinate');
        if (!(!i || !n)) {
          var a = n.getCenter(),
            o = n.getRadius();
          if (i.labelLine) {
            var s = M(i, 'labelLine', {}),
              l = i.id,
              u = s.path;
            if (!u) {
              var c = zt(a.x, a.y, o, i.angle);
              u = [
                ['M', c.x, c.y],
                ['L', i.x, i.y],
              ];
            }
            var h = t[l];
            h.destroyed ||
              h.addShape('path', {
                capture: !1,
                attrs: x(
                  {
                    path: u,
                    stroke: i.color ? i.color : M(i, ['style', 'fill'], '#000'),
                    fill: null,
                  },
                  s.style,
                ),
                id: l,
                origin: i.mappingData,
                data: i.data,
                coordinate: i.coordinate,
              });
          }
        }
      });
    }),
    (e.prototype.renderLabelBackground = function (r, t) {
      A(r, function (i) {
        var n = M(i, 'coordinate'),
          a = M(i, 'background');
        if (!(!a || !n)) {
          var o = i.id,
            s = t[o];
          if (!s.destroyed) {
            var l = s.getChildren()[0];
            if (l) {
              var u = Um(s, i, a.padding),
                c = u.rotation,
                h = mt(u, ['rotation']),
                f = s.addShape('rect', {
                  attrs: x(x({}, h), a.style || {}),
                  id: o,
                  origin: i.mappingData,
                  data: i.data,
                  coordinate: i.coordinate,
                });
              if ((f.setZIndex(-1), c)) {
                var v = l.getMatrix();
                f.setMatrix(v);
              }
            }
          }
        }
      });
    }),
    (e.prototype.createOffscreenGroup = function () {
      var r = this.container,
        t = r.getGroupBase(),
        i = new t({});
      return i;
    }),
    (e.prototype.adjustLabel = function (r, t) {
      A(r, function (i) {
        if (i) {
          var n = i.id,
            a = t[n];
          if (!a.destroyed) {
            var o = a.findAll(function (s) {
              return s.get('type') !== 'path';
            });
            A(o, function (s) {
              s &&
                (i.offsetX && s.attr('x', s.attr('x') + i.offsetX),
                i.offsetY && s.attr('y', s.attr('y') + i.offsetY));
            });
          }
        }
      });
    }),
    e
  );
})();
function Td(e) {
  var r = 0;
  return (
    A(e, function (t) {
      r += t;
    }),
    r / e.length
  );
}
var ml = (function () {
  function e(r) {
    this.geometry = r;
  }
  return (
    (e.prototype.getLabelItems = function (r) {
      var t = this,
        i = [],
        n = this.getLabelCfgs(r);
      return (
        A(r, function (a, o) {
          var s = n[o];
          if (!s || R(a.x) || R(a.y)) {
            i.push(null);
            return;
          }
          var l = $(s.content) ? s.content : [s.content];
          s.content = l;
          var u = l.length;
          A(l, function (c, h) {
            if (R(c) || c === '') {
              i.push(null);
              return;
            }
            var f = x(x({}, s), t.getLabelPoint(s, a, h));
            f.textAlign || (f.textAlign = t.getLabelAlign(f, h, u)),
              f.offset <= 0 && (f.labelLine = null),
              i.push(f);
          });
        }),
        i
      );
    }),
    (e.prototype.render = function (r, t) {
      return (
        t === void 0 && (t = !1),
        ma(this, void 0, void 0, function () {
          var i, n, a;
          return xa(this, function (o) {
            switch (o.label) {
              case 0:
                return (
                  (i = this.getLabelItems(r)),
                  (n = this.getLabelsRenderer()),
                  (a = this.getGeometryShapes()),
                  [4, n.render(i, a, t)]
                );
              case 1:
                return o.sent(), [2];
            }
          });
        })
      );
    }),
    (e.prototype.clear = function () {
      var r = this.labelsRenderer;
      r && r.clear();
    }),
    (e.prototype.destroy = function () {
      var r = this.labelsRenderer;
      r && r.destroy(), (this.labelsRenderer = null);
    }),
    (e.prototype.getCoordinate = function () {
      return this.geometry.coordinate;
    }),
    (e.prototype.getDefaultLabelCfg = function (r, t) {
      var i = this.geometry,
        n = i.type,
        a = i.theme;
      return n === 'polygon' ||
        (n === 'interval' && t === 'middle') ||
        (r < 0 && !['line', 'point', 'path'].includes(n))
        ? M(a, 'innerLabels', {})
        : M(a, 'labels', {});
    }),
    (e.prototype.getThemedLabelCfg = function (r) {
      var t = this.geometry,
        i = this.getDefaultLabelCfg(),
        n = t.type,
        a = t.theme,
        o;
      return (
        n === 'polygon' || (r.offset < 0 && !['line', 'point', 'path'].includes(n))
          ? (o = _({}, i, a.innerLabels, r))
          : (o = _({}, i, a.labels, r)),
        o
      );
    }),
    (e.prototype.setLabelPosition = function (r, t, i, n) {}),
    (e.prototype.getLabelOffset = function (r) {
      var t = this.getCoordinate(),
        i = this.getOffsetVector(r);
      return t.isTransposed ? i[0] : i[1];
    }),
    (e.prototype.getLabelOffsetPoint = function (r, t, i) {
      var n = r.offset,
        a = this.getCoordinate(),
        o = a.isTransposed,
        s = o ? 'x' : 'y',
        l = o ? 1 : -1,
        u = { x: 0, y: 0 };
      return t > 0 || i === 1 ? (u[s] = n * l) : (u[s] = n * l * -1), u;
    }),
    (e.prototype.getLabelPoint = function (r, t, i) {
      var n = this.getCoordinate(),
        a = r.content.length;
      function o(g, y, m) {
        m === void 0 && (m = !1);
        var b = g;
        return (
          $(b) &&
            (r.content.length === 1
              ? m
                ? (b = Td(b))
                : b.length <= 2
                ? (b = b[g.length - 1])
                : (b = Td(b))
              : (b = b[y])),
          b
        );
      }
      var s = { content: r.content[i], x: 0, y: 0, start: { x: 0, y: 0 }, color: '#fff' },
        l = $(t.shape) ? t.shape[0] : t.shape,
        u = l === 'funnel' || l === 'pyramid';
      if (this.geometry.type === 'polygon') {
        var c = UE(t.x, t.y);
        (s.x = c[0]), (s.y = c[1]);
      } else
        this.geometry.type === 'interval' && !u
          ? ((s.x = o(t.x, i, !0)), (s.y = o(t.y, i)))
          : ((s.x = o(t.x, i)), (s.y = o(t.y, i)));
      if (u) {
        var h = M(t, 'nextPoints'),
          f = M(t, 'points');
        if (h) {
          var v = n.convert(f[1]),
            d = n.convert(h[1]);
          (s.x = (v.x + d.x) / 2), (s.y = (v.y + d.y) / 2);
        } else if (l === 'pyramid') {
          var v = n.convert(f[1]),
            d = n.convert(f[2]);
          (s.x = (v.x + d.x) / 2), (s.y = (v.y + d.y) / 2);
        }
      }
      r.position && this.setLabelPosition(s, t, i, r.position);
      var p = this.getLabelOffsetPoint(r, i, a);
      return (s.start = { x: s.x, y: s.y }), (s.x += p.x), (s.y += p.y), (s.color = t.color), s;
    }),
    (e.prototype.getLabelAlign = function (r, t, i) {
      var n = 'center',
        a = this.getCoordinate();
      if (a.isTransposed) {
        var o = r.offset;
        o < 0 ? (n = 'right') : o === 0 ? (n = 'center') : (n = 'left'),
          i > 1 && t === 0 && (n === 'right' ? (n = 'left') : n === 'left' && (n = 'right'));
      }
      return n;
    }),
    (e.prototype.getLabelId = function (r) {
      var t = this.geometry,
        i = t.type,
        n = t.getXScale(),
        a = t.getYScale(),
        o = r[St],
        s = t.getElementId(r);
      return (
        i === 'line' || i === 'area'
          ? (s += ' '.concat(o[n.field]))
          : i === 'path' && (s += ' '.concat(o[n.field], '-').concat(o[a.field])),
        s
      );
    }),
    (e.prototype.getLabelsRenderer = function () {
      var r = this.geometry,
        t = r.labelsContainer,
        i = r.labelOption,
        n = r.canvasRegion,
        a = r.animateOption,
        o = this.geometry.coordinate,
        s = this.labelsRenderer;
      return (
        s ||
          ((s = new ck({
            container: t,
            layout: M(i, ['cfg', 'layout'], { type: this.defaultLayout }),
          })),
          (this.labelsRenderer = s)),
        (s.region = n),
        (s.animate = a ? Vm('label', o) : !1),
        s
      );
    }),
    (e.prototype.getLabelCfgs = function (r) {
      var t = this,
        i = this.geometry,
        n = i.labelOption,
        a = i.scales,
        o = i.coordinate,
        s = n,
        l = s.fields,
        u = s.callback,
        c = s.cfg,
        h = l.map(function (v) {
          return a[v];
        }),
        f = [];
      return (
        A(r, function (v, d) {
          var p = v[St],
            g = t.getLabelText(p, h),
            y;
          if (u) {
            var m = l.map(function (F) {
              return p[F];
            });
            if (((y = u.apply(void 0, Et([], K(m), !1))), R(y))) {
              f.push(null);
              return;
            }
          }
          var b = x(
            x(
              {
                id: t.getLabelId(v),
                elementId: t.geometry.getElementId(v),
                data: p,
                mappingData: v,
                coordinate: o,
              },
              c,
            ),
            y,
          );
          q(b.position) && (b.position = b.position(p, v, d));
          var w = t.getLabelOffset(b.offset || 0),
            S = t.getDefaultLabelCfg(w, b.position);
          (b = _({}, S, b)), (b.offset = t.getLabelOffset(b.offset || 0));
          var C = b.content;
          q(C) ? (b.content = C(p, v, d)) : pi(C) && (b.content = g[0]), f.push(b);
        }),
        f
      );
    }),
    (e.prototype.getLabelText = function (r, t) {
      var i = [];
      return (
        A(t, function (n) {
          var a = r[n.field];
          $(a)
            ? (a = a.map(function (o) {
                return n.getText(o);
              }))
            : (a = n.getText(a)),
            R(a) || a === '' ? i.push(null) : i.push(a);
        }),
        i
      );
    }),
    (e.prototype.getOffsetVector = function (r) {
      r === void 0 && (r = 0);
      var t = this.getCoordinate(),
        i = 0;
      return it(r) && (i = r), t.isTransposed ? t.applyMatrix(i, 0) : t.applyMatrix(0, i);
    }),
    (e.prototype.getGeometryShapes = function () {
      var r = this.geometry,
        t = {};
      return (
        A(r.elementsMap, function (i, n) {
          t[n] = i.shape;
        }),
        A(r.getOffscreenGroup().getChildren(), function (i) {
          var n = r.getElementId(i.get('origin').mappingData);
          t[n] = i;
        }),
        t
      );
    }),
    e
  );
})();
function fc(e, r, t) {
  if (!e) return t;
  var i;
  if (e.callback && e.callback.length > 1) {
    var n = Array(e.callback.length - 1).fill('');
    i = e.mapping.apply(e, Et([r], K(n), !1)).join('');
  } else i = e.mapping(r).join('');
  return i || t;
}
var Di = {
    hexagon: function (e, r, t) {
      var i = (t / 2) * Math.sqrt(3);
      return [
        ['M', e, r - t],
        ['L', e + i, r - t / 2],
        ['L', e + i, r + t / 2],
        ['L', e, r + t],
        ['L', e - i, r + t / 2],
        ['L', e - i, r - t / 2],
        ['Z'],
      ];
    },
    bowtie: function (e, r, t) {
      var i = t - 1.5;
      return [
        ['M', e - t, r - i],
        ['L', e + t, r + i],
        ['L', e + t, r - i],
        ['L', e - t, r + i],
        ['Z'],
      ];
    },
    cross: function (e, r, t) {
      return [
        ['M', e - t, r - t],
        ['L', e + t, r + t],
        ['M', e + t, r - t],
        ['L', e - t, r + t],
      ];
    },
    tick: function (e, r, t) {
      return [
        ['M', e - t / 2, r - t],
        ['L', e + t / 2, r - t],
        ['M', e, r - t],
        ['L', e, r + t],
        ['M', e - t / 2, r + t],
        ['L', e + t / 2, r + t],
      ];
    },
    plus: function (e, r, t) {
      return [
        ['M', e - t, r],
        ['L', e + t, r],
        ['M', e, r - t],
        ['L', e, r + t],
      ];
    },
    hyphen: function (e, r, t) {
      return [
        ['M', e - t, r],
        ['L', e + t, r],
      ];
    },
    line: function (e, r, t) {
      return [
        ['M', e, r - t],
        ['L', e, r + t],
      ];
    },
  },
  hk = ['line', 'cross', 'tick', 'plus', 'hyphen'];
function fk(e, r) {
  return q(r) ? r(e) : _({}, e, r);
}
function vk(e, r) {
  var t = e.symbol;
  if (et(t) && hk.indexOf(t) !== -1) {
    var i = M(e, 'style', {}),
      n = M(i, 'lineWidth', 1),
      a = i.stroke || i.fill || r;
    e.style = _({}, e.style, { lineWidth: n, stroke: a, fill: null });
  }
}
function Zm(e) {
  var r = e.symbol;
  et(r) && Di[r] && (e.symbol = Di[r]);
}
function cu(e) {
  return e.startsWith(Y.LEFT) || e.startsWith(Y.RIGHT) ? 'vertical' : 'horizontal';
}
function Km(e, r, t, i, n) {
  var a = t.getScale(t.type);
  if (a.isCategory) {
    var o = a.field,
      s = r.getAttribute('color'),
      l = r.getAttribute('shape'),
      u = e.getTheme().defaultColor,
      c = r.coordinate.isPolar;
    return a.getTicks().map(function (h, f) {
      var v,
        d = h.text,
        p = h.value,
        g = d,
        y = a.invert(p),
        m = e.filterFieldData(o, [((v = {}), (v[o] = y), v)]).length === 0;
      A(e.views, function (F) {
        var E;
        F.filterFieldData(o, [((E = {}), (E[o] = y), E)]).length || (m = !0);
      });
      var b = fc(s, y, u),
        w = fc(l, y, 'point'),
        S = r.getShapeMarker(w, { color: b, isInPolar: c }),
        C = n;
      return (
        q(C) && (C = C(g, f, x({ name: g, value: y }, _({}, i, S)))),
        (S = _({}, i, S, ge(x({}, C), ['style']))),
        vk(S, b),
        C && C.style && (S.style = fk(S.style, C.style)),
        Zm(S),
        { id: y, name: g, value: y, marker: S, unchecked: m }
      );
    });
  }
  return [];
}
function dk(e, r, t) {
  return t.map(function (i, n) {
    var a = r;
    q(a) && (a = a(i.name, n, _({}, e, i)));
    var o = q(i.marker) ? i.marker(i.name, n, _({}, e, i)) : i.marker,
      s = _({}, e, a, o);
    return Zm(s), (i.marker = s), i;
  });
}
function kd(e, r) {
  var t = M(e, ['components', 'legend'], {});
  return _({}, M(t, ['common'], {}), _({}, M(t, [r], {})));
}
function hu(e) {
  return e ? !1 : e == null || isNaN(e);
}
function Id(e) {
  if ($(e)) return hu(e[1].y);
  var r = e.y;
  return $(r) ? hu(r[0]) : hu(r);
}
function xl(e, r, t) {
  if ((r === void 0 && (r = !1), t === void 0 && (t = !0), !e.length || (e.length === 1 && !t)))
    return [];
  if (r) {
    for (var i = [], n = 0, a = e.length; n < a; n++) {
      var o = e[n];
      Id(o) || i.push(o);
    }
    return [i];
  }
  for (var s = [], l = [], n = 0, a = e.length; n < a; n++) {
    var o = e[n];
    Id(o) ? l.length && ((l.length === 1 && !t) || s.push(l), (l = [])) : l.push(o);
  }
  return l.length && s.push(l), s;
}
function Qm(e) {
  for (var r = [], t = 0; t < e.length; t++) {
    var i = e[t];
    if (i) {
      var n = t === 0 ? 'M' : 'L';
      r.push([n, i.x, i.y]);
    }
  }
  var a = e[0];
  return a && (r.push(['L', a.x, a.y]), r.push(['z'])), r;
}
function Jm(e) {
  for (var r = e.length / 2, t = [], i = [], n = 0; n < e.length; n++)
    n < r ? t.push(e[n]) : i.push(e[n]);
  var a = Ss(t, !1),
    o = Ss(i, !1);
  i.length && a.push(['L', i[0].x, i[0].y]), o.shift();
  var s = a.concat(o);
  return t.length && s.push(['L', t[0].x, t[0].y]), s.push(['z']), s;
}
function Nt(e, r, t, i) {
  i === void 0 && (i = '');
  var n = e.style,
    a = n === void 0 ? {} : n,
    o = e.defaultStyle,
    s = e.color,
    l = e.size,
    u = x(x({}, o), a);
  return (
    s && (r && (a.stroke || (u.stroke = s)), t && (a.fill || (u.fill = s))),
    i && R(a[i]) && !R(l) && (u[i] = l),
    u
  );
}
function t0(e) {
  return _({}, { fill: '#CCD6EC', fillOpacity: 0.3 }, M(e, ['background', 'style']));
}
function Th(e) {
  var r = e.x,
    t = $(e.y) ? e.y : [e.y];
  return t.map(function (i, n) {
    return { x: $(r) ? r[n] : r, y: i };
  });
}
var pk = {
  line: function (e, r, t) {
    return [
      ['M', e - t, r],
      ['L', e + t, r],
    ];
  },
  dot: function (e, r, t) {
    return [
      ['M', e - t, r],
      ['L', e + t, r],
    ];
  },
  dash: function (e, r, t) {
    return [
      ['M', e - t, r],
      ['L', e + t, r],
    ];
  },
  smooth: function (e, r, t) {
    return [
      ['M', e - t, r],
      ['A', t / 2, t / 2, 0, 1, 1, e, r],
      ['A', t / 2, t / 2, 0, 1, 0, e + t, r],
    ];
  },
  hv: function (e, r, t) {
    return [
      ['M', e - t - 1, r - 2.5],
      ['L', e, r - 2.5],
      ['L', e, r + 2.5],
      ['L', e + t + 1, r + 2.5],
    ];
  },
  vh: function (e, r, t) {
    return [
      ['M', e - t - 1, r + 2.5],
      ['L', e, r + 2.5],
      ['L', e, r - 2.5],
      ['L', e + t + 1, r - 2.5],
    ];
  },
  hvh: function (e, r, t) {
    return [
      ['M', e - (t + 1), r + 2.5],
      ['L', e - t / 2, r + 2.5],
      ['L', e - t / 2, r - 2.5],
      ['L', e + t / 2, r - 2.5],
      ['L', e + t / 2, r + 2.5],
      ['L', e + t + 1, r + 2.5],
    ];
  },
  vhv: function (e, r) {
    return [
      ['M', e - 5, r + 2.5],
      ['L', e - 5, r],
      ['L', e, r],
      ['L', e, r - 3],
      ['L', e, r + 3],
      ['L', e + 6.5, r + 3],
    ];
  },
};
function e0(e, r) {
  var t = e.color;
  return { symbol: pk[r], style: { lineWidth: 2, r: 6, stroke: t } };
}
function gk(e, r, t) {
  for (
    var i = e.isStack,
      n = e.connectNulls,
      a = e.isInCircle,
      o = e.showSinglePoint,
      s = Nt(e, !0, !1, 'lineWidth'),
      l = xl(e.points, n, o),
      u = [],
      c = 0,
      h = l.length;
    c < h;
    c++
  ) {
    var f = l[c];
    u = u.concat(r0(f, a, i, r, t, s));
  }
  return (s.path = u), s;
}
function vc(e, r, t, i, n) {
  if (e.length === 1)
    return [
      ['M', e[0].x, e[0].y - n.lineWidth / 2],
      ['L', e[0].x, e[0].y],
      ['L', e[0].x, e[0].y + n.lineWidth / 2],
    ];
  var a;
  return (
    t
      ? (r && e.length && e.push({ x: e[0].x, y: e[0].y }), (a = Ss(e, !1, i)))
      : ((a = Qa(e, !1)), r && a.push(['Z'])),
    a
  );
}
function yk(e, r, t, i, n, a) {
  var o = [],
    s = [];
  A(e, function (c) {
    var h = Th(c);
    o.push(h[1]), s.push(h[0]);
  });
  var l = vc(o, r, i, n, a),
    u = vc(s, r, i, n, a);
  return t ? l : l.concat(u);
}
function r0(e, r, t, i, n, a) {
  if (e.length) {
    var o = e[0];
    return $(o.y) ? yk(e, r, t, i, n, a) : vc(e, r, i, n, a);
  }
  return [];
}
ni('line', { defaultShapeType: 'line' });
A(['line', 'dot', 'dash', 'smooth'], function (e) {
  dt('line', e, {
    draw: function (r, t) {
      var i = e === 'smooth',
        n;
      if (i) {
        var a = this.coordinate,
          o = a.start,
          s = a.end;
        n = [
          [o.x, s.y],
          [s.x, o.y],
        ];
      }
      var l = gk(r, i, n),
        u = t.addShape({ type: 'path', attrs: l, name: 'line', capture: !i });
      return u;
    },
    getMarker: function (r) {
      return e0(r, e);
    },
  });
});
var be = {
    getLegendItems: Km,
    translate: to,
    rotate: Eh,
    zoom: sk,
    transform: yl,
    getAngle: La,
    getSectorPath: Wr,
    polarToCartesian: zt,
    getDelegationObject: Pi,
    getTooltipItems: Sh,
    getMappingValue: fc,
    getPath: r0,
    getPathPoints: xl,
  },
  Lr = {
    100: '#000',
    95: '#0D0D0D',
    85: '#262626',
    65: '#595959',
    45: '#8C8C8C',
    25: '#BFBFBF',
    15: '#D9D9D9',
    6: '#F0F0F0',
  },
  bt = {
    100: '#FFFFFF',
    95: '#F2F2F2',
    85: '#D9D9D9',
    65: '#A6A6A6',
    45: '#737373',
    25: '#404040',
    15: '#262626',
    6: '#0F0F0F',
  },
  He = [
    '#5B8FF9',
    '#5AD8A6',
    '#5D7092',
    '#F6BD16',
    '#E86452',
    '#6DC8EC',
    '#945FB9',
    '#FF9845',
    '#1E9493',
    '#FF99C3',
  ],
  mk = [
    '#5B8FF9',
    '#CDDDFD',
    '#5AD8A6',
    '#CDF3E4',
    '#5D7092',
    '#CED4DE',
    '#F6BD16',
    '#FCEBB9',
    '#E86452',
    '#F8D0CB',
    '#6DC8EC',
    '#D3EEF9',
    '#945FB9',
    '#DECFEA',
    '#FF9845',
    '#FFE0C7',
    '#1E9493',
    '#BBDEDE',
    '#FF99C3',
    '#FFE0ED',
  ],
  xk = [
    '#B8E1FF',
    '#9AC5FF',
    '#7DAAFF',
    '#5B8FF9',
    '#3D76DD',
    '#085EC0',
    '#0047A5',
    '#00318A',
    '#001D70',
  ],
  wk = function (e) {
    e === void 0 && (e = {});
    var r = e.paletteQualitative10,
      t = r === void 0 ? He : r,
      i = e.paletteQualitative20,
      n = i === void 0 ? mk : i,
      a = e.brandColor,
      o = a === void 0 ? t[0] : a,
      s = {
        backgroundColor: '#141414',
        brandColor: o,
        subColor: 'rgba(255,255,255,0.05)',
        paletteQualitative10: t,
        paletteQualitative20: n,
        paletteSemanticRed: '#F4664A',
        paletteSemanticGreen: '#30BF78',
        paletteSemanticYellow: '#FAAD14',
        paletteSequence: xk,
        fontFamily: `"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,
        axisLineBorderColor: bt[25],
        axisLineBorder: 1,
        axisLineDash: null,
        axisTitleTextFillColor: bt[65],
        axisTitleTextFontSize: 12,
        axisTitleTextLineHeight: 12,
        axisTitleTextFontWeight: 'normal',
        axisTitleSpacing: 12,
        axisDescriptionIconFillColor: Lr[85],
        axisTickLineBorderColor: bt[25],
        axisTickLineLength: 4,
        axisTickLineBorder: 1,
        axisSubTickLineBorderColor: bt[15],
        axisSubTickLineLength: 2,
        axisSubTickLineBorder: 1,
        axisLabelFillColor: bt[45],
        axisLabelFontSize: 12,
        axisLabelLineHeight: 12,
        axisLabelFontWeight: 'normal',
        axisLabelOffset: 8,
        axisGridBorderColor: bt[15],
        axisGridBorder: 1,
        axisGridLineDash: null,
        legendTitleTextFillColor: bt[45],
        legendTitleTextFontSize: 12,
        legendTitleTextLineHeight: 21,
        legendTitleTextFontWeight: 'normal',
        legendMarkerColor: He[0],
        legendMarkerSpacing: 8,
        legendMarkerSize: 4,
        legendCircleMarkerSize: 4,
        legendSquareMarkerSize: 4,
        legendLineMarkerSize: 5,
        legendItemNameFillColor: bt[65],
        legendItemNameFontSize: 12,
        legendItemNameLineHeight: 12,
        legendItemNameFontWeight: 'normal',
        legendItemSpacing: 24,
        legendItemMarginBottom: 12,
        legendSpacing: 16,
        legendPadding: [8, 8, 8, 8],
        legendHorizontalPadding: [8, 0, 8, 0],
        legendVerticalPadding: [0, 8, 0, 8],
        legendPageNavigatorMarkerSize: 12,
        legendPageNavigatorMarkerInactiveFillColor: bt[45],
        legendPageNavigatorMarkerInactiveFillOpacity: 0.45,
        legendPageNavigatorMarkerFillColor: bt[45],
        legendPageNavigatorMarkerFillOpacity: 1,
        legendPageNavigatorTextFillColor: bt[65],
        legendPageNavigatorTextFontSize: 12,
        sliderRailFillColor: bt[15],
        sliderRailBorder: 0,
        sliderRailBorderColor: null,
        sliderRailWidth: 100,
        sliderRailHeight: 12,
        sliderLabelTextFillColor: bt[45],
        sliderLabelTextFontSize: 12,
        sliderLabelTextLineHeight: 12,
        sliderLabelTextFontWeight: 'normal',
        sliderHandlerFillColor: Lr[6],
        sliderHandlerWidth: 10,
        sliderHandlerHeight: 14,
        sliderHandlerBorder: 1,
        sliderHandlerBorderColor: Lr[25],
        annotationArcBorderColor: bt[15],
        annotationArcBorder: 1,
        annotationLineBorderColor: bt[25],
        annotationLineBorder: 1,
        annotationLineDash: null,
        annotationTextFillColor: bt[65],
        annotationTextFontSize: 12,
        annotationTextLineHeight: 12,
        annotationTextFontWeight: 'normal',
        annotationTextBorderColor: null,
        annotationTextBorder: 0,
        annotationRegionFillColor: bt[100],
        annotationRegionFillOpacity: 0.06,
        annotationRegionBorder: 0,
        annotationRegionBorderColor: null,
        annotationDataMarkerLineLength: 16,
        tooltipCrosshairsBorderColor: bt[25],
        tooltipCrosshairsBorder: 1,
        tooltipCrosshairsLineDash: null,
        tooltipContainerFillColor: '#1f1f1f',
        tooltipContainerFillOpacity: 0.95,
        tooltipContainerShadow: '0px 2px 4px rgba(0,0,0,.5)',
        tooltipContainerBorderRadius: 3,
        tooltipTextFillColor: bt[65],
        tooltipTextFontSize: 12,
        tooltipTextLineHeight: 12,
        tooltipTextFontWeight: 'bold',
        labelFillColor: bt[65],
        labelFillColorDark: '#2c3542',
        labelFillColorLight: '#ffffff',
        labelFontSize: 12,
        labelLineHeight: 12,
        labelFontWeight: 'normal',
        labelBorderColor: null,
        labelBorder: 0,
        innerLabelFillColor: Lr[100],
        innerLabelFontSize: 12,
        innerLabelLineHeight: 12,
        innerLabelFontWeight: 'normal',
        innerLabelBorderColor: null,
        innerLabelBorder: 0,
        overflowLabelFillColor: bt[65],
        overflowLabelFillColorDark: '#2c3542',
        overflowLabelFillColorLight: '#ffffff',
        overflowLabelFontSize: 12,
        overflowLabelLineHeight: 12,
        overflowLabelFontWeight: 'normal',
        overflowLabelBorderColor: Lr[100],
        overflowLabelBorder: 1,
        labelLineBorder: 1,
        labelLineBorderColor: bt[25],
        cSliderRailHieght: 16,
        cSliderBackgroundFillColor: '#416180',
        cSliderBackgroundFillOpacity: 0.05,
        cSliderForegroundFillColor: '#5B8FF9',
        cSliderForegroundFillOpacity: 0.15,
        cSliderHandlerHeight: 24,
        cSliderHandlerWidth: 10,
        cSliderHandlerFillColor: '#F7F7F7',
        cSliderHandlerFillOpacity: 1,
        cSliderHandlerHighlightFillColor: '#FFF',
        cSliderHandlerBorderColor: '#BFBFBF',
        cSliderHandlerBorder: 1,
        cSliderHandlerBorderRadius: 2,
        cSliderTextFillColor: '#fff',
        cSliderTextFillOpacity: 0.45,
        cSliderTextFontSize: 12,
        cSliderTextLineHeight: 12,
        cSliderTextFontWeight: 'normal',
        cSliderTextBorderColor: null,
        cSliderTextBorder: 0,
        scrollbarTrackFillColor: 'rgba(255,255,255,0.65)',
        scrollbarThumbFillColor: 'rgba(0,0,0,0.35)',
        scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.45)',
        pointFillColor: He[0],
        pointFillOpacity: 0.95,
        pointSize: 4,
        pointBorder: 1,
        pointBorderColor: Lr[100],
        pointBorderOpacity: 1,
        pointActiveBorderColor: bt[100],
        pointSelectedBorder: 2,
        pointSelectedBorderColor: bt[100],
        pointInactiveFillOpacity: 0.3,
        pointInactiveBorderOpacity: 0.3,
        hollowPointSize: 4,
        hollowPointBorder: 1,
        hollowPointBorderColor: He[0],
        hollowPointBorderOpacity: 0.95,
        hollowPointFillColor: Lr[100],
        hollowPointActiveBorder: 1,
        hollowPointActiveBorderColor: bt[100],
        hollowPointActiveBorderOpacity: 1,
        hollowPointSelectedBorder: 2,
        hollowPointSelectedBorderColor: bt[100],
        hollowPointSelectedBorderOpacity: 1,
        hollowPointInactiveBorderOpacity: 0.3,
        lineBorder: 2,
        lineBorderColor: He[0],
        lineBorderOpacity: 1,
        lineActiveBorder: 3,
        lineSelectedBorder: 3,
        lineInactiveBorderOpacity: 0.3,
        areaFillColor: He[0],
        areaFillOpacity: 0.25,
        areaActiveFillColor: He[0],
        areaActiveFillOpacity: 0.5,
        areaSelectedFillColor: He[0],
        areaSelectedFillOpacity: 0.5,
        areaInactiveFillOpacity: 0.3,
        hollowAreaBorderColor: He[0],
        hollowAreaBorder: 2,
        hollowAreaBorderOpacity: 1,
        hollowAreaActiveBorder: 3,
        hollowAreaActiveBorderColor: bt[100],
        hollowAreaSelectedBorder: 3,
        hollowAreaSelectedBorderColor: bt[100],
        hollowAreaInactiveBorderOpacity: 0.3,
        intervalFillColor: He[0],
        intervalFillOpacity: 0.95,
        intervalActiveBorder: 1,
        intervalActiveBorderColor: bt[100],
        intervalActiveBorderOpacity: 1,
        intervalSelectedBorder: 2,
        intervalSelectedBorderColor: bt[100],
        intervalSelectedBorderOpacity: 1,
        intervalInactiveBorderOpacity: 0.3,
        intervalInactiveFillOpacity: 0.3,
        hollowIntervalBorder: 2,
        hollowIntervalBorderColor: He[0],
        hollowIntervalBorderOpacity: 1,
        hollowIntervalFillColor: Lr[100],
        hollowIntervalActiveBorder: 2,
        hollowIntervalActiveBorderColor: bt[100],
        hollowIntervalSelectedBorder: 3,
        hollowIntervalSelectedBorderColor: bt[100],
        hollowIntervalSelectedBorderOpacity: 1,
        hollowIntervalInactiveBorderOpacity: 0.3,
      };
    return x(x({}, s), e);
  },
  bk = wk();
function Sk() {
  return window ? window.devicePixelRatio : 1;
}
function i0(e, r, t, i) {
  var n = e - t,
    a = r - i;
  return Math.sqrt(n * n + a * a);
}
function yi(e, r, t, i, n, a) {
  return n >= e && n <= e + t && a >= r && a <= r + i;
}
function Ba(e, r) {
  return !(r.minX > e.maxX || r.maxX < e.minX || r.minY > e.maxY || r.maxY < e.minY);
}
function Ck(e, r) {
  return !e || !r
    ? e || r
    : {
        minX: Math.min(e.minX, r.minX),
        minY: Math.min(e.minY, r.minY),
        maxX: Math.max(e.maxX, r.maxX),
        maxY: Math.max(e.maxY, r.maxY),
      };
}
function Ld(e, r) {
  return e[0] === r[0] && e[1] === r[1];
}
var Ak = /^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,
  Mk = /^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,
  Fk = /^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,
  n0 = /[\d.]+:(#[^\s]+|[^\)]+\))/gi;
function a0(e, r) {
  var t = e.match(n0);
  A(t, function (i) {
    var n = i.split(':');
    r.addColorStop(n[0], n[1]);
  });
}
function Ek(e, r, t) {
  var i = Ak.exec(t),
    n = (parseFloat(i[1]) % 360) * (Math.PI / 180),
    a = i[2],
    o = r.getBBox(),
    s,
    l;
  n >= 0 && n < (1 / 2) * Math.PI
    ? ((s = { x: o.minX, y: o.minY }), (l = { x: o.maxX, y: o.maxY }))
    : (1 / 2) * Math.PI <= n && n < Math.PI
    ? ((s = { x: o.maxX, y: o.minY }), (l = { x: o.minX, y: o.maxY }))
    : Math.PI <= n && n < (3 / 2) * Math.PI
    ? ((s = { x: o.maxX, y: o.maxY }), (l = { x: o.minX, y: o.minY }))
    : ((s = { x: o.minX, y: o.maxY }), (l = { x: o.maxX, y: o.minY }));
  var u = Math.tan(n),
    c = u * u,
    h = (l.x - s.x + u * (l.y - s.y)) / (c + 1) + s.x,
    f = (u * (l.x - s.x + u * (l.y - s.y))) / (c + 1) + s.y,
    v = e.createLinearGradient(s.x, s.y, h, f);
  return a0(a, v), v;
}
function Tk(e, r, t) {
  var i = Mk.exec(t),
    n = parseFloat(i[1]),
    a = parseFloat(i[2]),
    o = parseFloat(i[3]),
    s = i[4];
  if (o === 0) {
    var l = s.match(n0);
    return l[l.length - 1].split(':')[1];
  }
  var u = r.getBBox(),
    c = u.maxX - u.minX,
    h = u.maxY - u.minY,
    f = Math.sqrt(c * c + h * h) / 2,
    v = e.createRadialGradient(
      u.minX + c * n,
      u.minY + h * a,
      0,
      u.minX + c / 2,
      u.minY + h / 2,
      o * f,
    );
  return a0(s, v), v;
}
function kk(e, r, t) {
  if (r.get('patternSource') && r.get('patternSource') === t) return r.get('pattern');
  var i,
    n,
    a = Fk.exec(t),
    o = a[1],
    s = a[2];
  function l() {
    (i = e.createPattern(n, o)), r.set('pattern', i), r.set('patternSource', t);
  }
  switch (o) {
    case 'a':
      o = 'repeat';
      break;
    case 'x':
      o = 'repeat-x';
      break;
    case 'y':
      o = 'repeat-y';
      break;
    case 'n':
      o = 'no-repeat';
      break;
    default:
      o = 'no-repeat';
  }
  return (
    (n = new Image()),
    s.match(/^data:/i) || (n.crossOrigin = 'Anonymous'),
    (n.src = s),
    n.complete ? l() : ((n.onload = l), (n.src = n.src)),
    i
  );
}
function Ik(e, r, t) {
  var i = r.getBBox();
  if (isNaN(i.x) || isNaN(i.y) || isNaN(i.width) || isNaN(i.height)) return t;
  if (et(t)) {
    if (t[1] === '(' || t[2] === '(') {
      if (t[0] === 'l') return Ek(e, r, t);
      if (t[0] === 'r') return Tk(e, r, t);
      if (t[0] === 'p') return kk(e, r, t);
    }
    return t;
  }
  if (t instanceof CanvasPattern) return t;
}
function Lk(e) {
  var r = 0,
    t = 0,
    i = 0,
    n = 0;
  return (
    $(e)
      ? e.length === 1
        ? (r = t = i = n = e[0])
        : e.length === 2
        ? ((r = i = e[0]), (t = n = e[1]))
        : e.length === 3
        ? ((r = e[0]), (t = n = e[1]), (i = e[2]))
        : ((r = e[0]), (t = e[1]), (i = e[2]), (n = e[3]))
      : (r = t = i = n = e),
    [r, t, i, n]
  );
}
function Eo(e) {
  return Math.sqrt(e[0] * e[0] + e[1] * e[1]);
}
function dc(e, r) {
  return Eo(e) * Eo(r) ? (e[0] * r[0] + e[1] * r[1]) / (Eo(e) * Eo(r)) : 1;
}
function Od(e, r) {
  return (e[0] * r[1] < e[1] * r[0] ? -1 : 1) * Math.acos(dc(e, r));
}
function As(e, r) {
  var t = r[1],
    i = r[2],
    n = Vc(Yc(r[3]), Math.PI * 2),
    a = r[4],
    o = r[5],
    s = e[0],
    l = e[1],
    u = r[6],
    c = r[7],
    h = (Math.cos(n) * (s - u)) / 2 + (Math.sin(n) * (l - c)) / 2,
    f = (-1 * Math.sin(n) * (s - u)) / 2 + (Math.cos(n) * (l - c)) / 2,
    v = (h * h) / (t * t) + (f * f) / (i * i);
  v > 1 && ((t *= Math.sqrt(v)), (i *= Math.sqrt(v)));
  var d = t * t * (f * f) + i * i * (h * h),
    p = d ? Math.sqrt((t * t * (i * i) - d) / d) : 1;
  a === o && (p *= -1), isNaN(p) && (p = 0);
  var g = i ? (p * t * f) / i : 0,
    y = t ? (p * -i * h) / t : 0,
    m = (s + u) / 2 + Math.cos(n) * g - Math.sin(n) * y,
    b = (l + c) / 2 + Math.sin(n) * g + Math.cos(n) * y,
    w = [(h - g) / t, (f - y) / i],
    S = [(-1 * h - g) / t, (-1 * f - y) / i],
    C = Od([1, 0], w),
    F = Od(w, S);
  return (
    dc(w, S) <= -1 && (F = Math.PI),
    dc(w, S) >= 1 && (F = 0),
    o === 0 && F > 0 && (F = F - 2 * Math.PI),
    o === 1 && F < 0 && (F = F + 2 * Math.PI),
    {
      cx: m,
      cy: b,
      rx: Ld(e, [u, c]) ? 0 : t,
      ry: Ld(e, [u, c]) ? 0 : i,
      startAngle: C,
      endAngle: C + F,
      xRotation: n,
      arcFlag: a,
      sweepFlag: o,
    }
  );
}
var Ms = Math.sin,
  Fs = Math.cos,
  kh = Math.atan2,
  To = Math.PI;
function o0(e, r, t, i, n, a, o) {
  var s = r.stroke,
    l = r.lineWidth,
    u = t - n,
    c = i - a,
    h = kh(c, u),
    f = new Dh({
      type: 'path',
      canvas: e.get('canvas'),
      isArrowShape: !0,
      attrs: {
        path:
          'M' +
          10 * Fs(To / 6) +
          ',' +
          10 * Ms(To / 6) +
          ' L0,0 L' +
          10 * Fs(To / 6) +
          ',-' +
          10 * Ms(To / 6),
        stroke: s,
        lineWidth: l,
      },
    });
  f.translate(n, a), f.rotateAtPoint(n, a, h), e.set(o ? 'startArrowShape' : 'endArrowShape', f);
}
function s0(e, r, t, i, n, a, o) {
  var s = r.startArrow,
    l = r.endArrow,
    u = r.stroke,
    c = r.lineWidth,
    h = o ? s : l,
    f = h.d,
    v = h.fill,
    d = h.stroke,
    p = h.lineWidth,
    g = mt(h, ['d', 'fill', 'stroke', 'lineWidth']),
    y = t - n,
    m = i - a,
    b = kh(m, y);
  f && ((n = n - Fs(b) * f), (a = a - Ms(b) * f));
  var w = new Dh({
    type: 'path',
    canvas: e.get('canvas'),
    isArrowShape: !0,
    attrs: x(x({}, g), { stroke: d || u, lineWidth: p || c, fill: v }),
  });
  w.translate(n, a), w.rotateAtPoint(n, a, b), e.set(o ? 'startArrowShape' : 'endArrowShape', w);
}
function Ei(e, r, t, i, n) {
  var a = kh(i - r, t - e);
  return { dx: Fs(a) * n, dy: Ms(a) * n };
}
function Ih(e, r, t, i, n, a) {
  typeof r.startArrow == 'object'
    ? s0(e, r, t, i, n, a, !0)
    : r.startArrow
    ? o0(e, r, t, i, n, a, !0)
    : e.set('startArrowShape', null);
}
function Lh(e, r, t, i, n, a) {
  typeof r.endArrow == 'object'
    ? s0(e, r, t, i, n, a, !1)
    : r.endArrow
    ? o0(e, r, t, i, n, a, !1)
    : e.set('startArrowShape', null);
}
var Pd = { fill: 'fillStyle', stroke: 'strokeStyle', opacity: 'globalAlpha' };
function mn(e, r) {
  var t = r.attr();
  for (var i in t) {
    var n = t[i],
      a = Pd[i] ? Pd[i] : i;
    a === 'matrix' && n
      ? e.transform(n[0], n[1], n[3], n[4], n[6], n[7])
      : a === 'lineDash' && e.setLineDash
      ? $(n) && e.setLineDash(n)
      : (a === 'strokeStyle' || a === 'fillStyle'
          ? (n = Ik(e, r, n))
          : a === 'globalAlpha' && (n = n * e.globalAlpha),
        (e[a] = n));
  }
}
function pc(e, r, t) {
  for (var i = 0; i < r.length; i++) {
    var n = r[i];
    n.cfg.visible ? n.draw(e, t) : n.skipDraw();
  }
}
function Ok(e, r, t) {
  var i = e.get('refreshElements');
  A(i, function (n) {
    if (n !== e)
      for (var a = n.cfg.parent; a && a !== e && !a.cfg.refresh; )
        (a.cfg.refresh = !0), (a = a.cfg.parent);
  }),
    i[0] === e ? Oh(r) : gc(r, t);
}
function gc(e, r) {
  for (var t = 0; t < e.length; t++) {
    var i = e[t];
    if (i.cfg.visible)
      if (i.cfg.hasChanged) (i.cfg.refresh = !0), i.isGroup() && Oh(i.cfg.children);
      else if (i.cfg.refresh) i.isGroup() && gc(i.cfg.children, r);
      else {
        var n = Pk(i, r);
        (i.cfg.refresh = n), n && i.isGroup() && gc(i.cfg.children, r);
      }
  }
}
function l0(e) {
  for (var r = 0; r < e.length; r++) {
    var t = e[r];
    (t.cfg.hasChanged = !1), t.isGroup() && !t.destroyed && l0(t.cfg.children);
  }
}
function Oh(e, r) {
  for (var t = 0; t < e.length; t++) {
    var i = e[t];
    (i.cfg.refresh = !0), i.isGroup() && Oh(i.get('children'));
  }
}
function Pk(e, r) {
  var t = e.cfg.cacheCanvasBBox,
    i = e.cfg.isInView && t && Ba(t, r);
  return i;
}
function u0(e, r, t, i) {
  var n = t.path,
    a = t.startArrow,
    o = t.endArrow;
  if (n) {
    var s = [0, 0],
      l = [0, 0],
      u = { dx: 0, dy: 0 };
    r.beginPath();
    for (var c = 0; c < n.length; c++) {
      var h = n[c],
        f = h[0];
      if (c === 0 && a && a.d) {
        var v = e.getStartTangent();
        u = Ei(v[0][0], v[0][1], v[1][0], v[1][1], a.d);
      } else if (c === n.length - 2 && n[c + 1][0] === 'Z' && o && o.d) {
        var d = n[c + 1];
        if (d[0] === 'Z') {
          var v = e.getEndTangent();
          u = Ei(v[0][0], v[0][1], v[1][0], v[1][1], o.d);
        }
      } else if (c === n.length - 1 && o && o.d && n[0] !== 'Z') {
        var v = e.getEndTangent();
        u = Ei(v[0][0], v[0][1], v[1][0], v[1][1], o.d);
      }
      var p = u.dx,
        g = u.dy;
      switch (f) {
        case 'M':
          r.moveTo(h[1] - p, h[2] - g), (l = [h[1], h[2]]);
          break;
        case 'L':
          r.lineTo(h[1] - p, h[2] - g);
          break;
        case 'Q':
          r.quadraticCurveTo(h[1], h[2], h[3] - p, h[4] - g);
          break;
        case 'C':
          r.bezierCurveTo(h[1], h[2], h[3], h[4], h[5] - p, h[6] - g);
          break;
        case 'A': {
          var y = void 0;
          i ? ((y = i[c]), y || ((y = As(s, h)), (i[c] = y))) : (y = As(s, h));
          var m = y.cx,
            b = y.cy,
            w = y.rx,
            S = y.ry,
            C = y.startAngle,
            F = y.endAngle,
            E = y.xRotation,
            k = y.sweepFlag;
          if (r.ellipse) r.ellipse(m, b, w, S, E, C, F, 1 - k);
          else {
            var T = w > S ? w : S,
              O = w > S ? 1 : w / S,
              P = w > S ? S / w : 1;
            r.translate(m, b),
              r.rotate(E),
              r.scale(O, P),
              r.arc(0, 0, T, C, F, 1 - k),
              r.scale(1 / O, 1 / P),
              r.rotate(-E),
              r.translate(-m, -b);
          }
          break;
        }
        case 'Z':
          r.closePath();
          break;
      }
      if (f === 'Z') s = l;
      else {
        var z = h.length;
        s = [h[z - 2], h[z - 1]];
      }
    }
  }
}
function c0(e, r) {
  var t = e.get('canvas');
  t &&
    (r === 'remove' && (e._cacheCanvasBBox = e.get('cacheCanvasBBox')),
    e.get('hasChanged') ||
      (e.set('hasChanged', !0),
      (e.cfg.parent && e.cfg.parent.get('hasChanged')) ||
        (t.refreshElement(e, r, t), t.get('autoDraw') && t.draw())));
}
function Dk(e) {
  var r;
  if (e.destroyed) r = e._cacheCanvasBBox;
  else {
    var t = e.get('cacheCanvasBBox'),
      i = t && !!(t.width && t.height),
      n = e.getCanvasBBox(),
      a = n && !!(n.width && n.height);
    i && a ? (r = Ck(t, n)) : i ? (r = t) : a && (r = n);
  }
  return r;
}
function Bk(e) {
  if (!e.length) return null;
  var r = [],
    t = [],
    i = [],
    n = [];
  return (
    A(e, function (a) {
      var o = Dk(a);
      o && (r.push(o.minX), t.push(o.minY), i.push(o.maxX), n.push(o.maxY));
    }),
    { minX: ae(r), minY: ae(t), maxX: te(i), maxY: te(n) }
  );
}
function Rk(e, r) {
  return !e || !r || !Ba(e, r)
    ? null
    : {
        minX: Math.max(e.minX, r.minX),
        minY: Math.max(e.minY, r.minY),
        maxX: Math.min(e.maxX, r.maxX),
        maxY: Math.min(e.maxY, r.maxY),
      };
}
var Ph = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.onCanvasChange = function (t) {
        c0(this, t);
      }),
      (r.prototype.getShapeBase = function () {
        return $s;
      }),
      (r.prototype.getGroupBase = function () {
        return r;
      }),
      (r.prototype._applyClip = function (t, i) {
        i && (t.save(), mn(t, i), i.createPath(t), t.restore(), t.clip(), i._afterDraw());
      }),
      (r.prototype.cacheCanvasBBox = function () {
        var t = this.cfg.children,
          i = [],
          n = [];
        A(t, function (f) {
          var v = f.cfg.cacheCanvasBBox;
          v && f.cfg.isInView && (i.push(v.minX, v.maxX), n.push(v.minY, v.maxY));
        });
        var a = null;
        if (i.length) {
          var o = ae(i),
            s = te(i),
            l = ae(n),
            u = te(n);
          a = { minX: o, minY: l, x: o, y: l, maxX: s, maxY: u, width: s - o, height: u - l };
          var c = this.cfg.canvas;
          if (c) {
            var h = c.getViewRange();
            this.set('isInView', Ba(a, h));
          }
        } else this.set('isInView', !1);
        this.set('cacheCanvasBBox', a);
      }),
      (r.prototype.draw = function (t, i) {
        var n = this.cfg.children,
          a = i ? this.cfg.refresh : !0;
        n.length &&
          a &&
          (t.save(),
          mn(t, this),
          this._applyClip(t, this.getClip()),
          pc(t, n, i),
          t.restore(),
          this.cacheCanvasBBox()),
          (this.cfg.refresh = null),
          this.set('hasChanged', !1);
      }),
      (r.prototype.skipDraw = function () {
        this.set('cacheCanvasBBox', null), this.set('hasChanged', !1);
      }),
      r
    );
  })(Zs),
  qe = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultAttrs = function () {
        var t = e.prototype.getDefaultAttrs.call(this);
        return x(x({}, t), { lineWidth: 1, lineAppendWidth: 0, strokeOpacity: 1, fillOpacity: 1 });
      }),
      (r.prototype.getShapeBase = function () {
        return $s;
      }),
      (r.prototype.getGroupBase = function () {
        return Ph;
      }),
      (r.prototype.onCanvasChange = function (t) {
        c0(this, t);
      }),
      (r.prototype.calculateBBox = function () {
        var t = this.get('type'),
          i = this.getHitLineWidth(),
          n = Qs(t),
          a = n(this),
          o = i / 2,
          s = a.x - o,
          l = a.y - o,
          u = a.x + a.width + o,
          c = a.y + a.height + o;
        return {
          x: s,
          minX: s,
          y: l,
          minY: l,
          width: a.width + i,
          height: a.height + i,
          maxX: u,
          maxY: c,
        };
      }),
      (r.prototype.isFill = function () {
        return !!this.attrs.fill || this.isClipShape();
      }),
      (r.prototype.isStroke = function () {
        return !!this.attrs.stroke;
      }),
      (r.prototype._applyClip = function (t, i) {
        i && (t.save(), mn(t, i), i.createPath(t), t.restore(), t.clip(), i._afterDraw());
      }),
      (r.prototype.draw = function (t, i) {
        var n = this.cfg.clipShape;
        if (i) {
          if (this.cfg.refresh === !1) {
            this.set('hasChanged', !1);
            return;
          }
          var a = this.getCanvasBBox();
          if (!Ba(i, a)) {
            this.set('hasChanged', !1), this.cfg.isInView && this._afterDraw();
            return;
          }
        }
        t.save(),
          mn(t, this),
          this._applyClip(t, n),
          this.drawPath(t),
          t.restore(),
          this._afterDraw();
      }),
      (r.prototype.getCanvasViewBox = function () {
        var t = this.cfg.canvas;
        return t ? t.getViewRange() : null;
      }),
      (r.prototype.cacheCanvasBBox = function () {
        var t = this.getCanvasViewBox();
        if (t) {
          var i = this.getCanvasBBox(),
            n = Ba(i, t);
          this.set('isInView', n),
            n ? this.set('cacheCanvasBBox', i) : this.set('cacheCanvasBBox', null);
        }
      }),
      (r.prototype._afterDraw = function () {
        this.cacheCanvasBBox(), this.set('hasChanged', !1), this.set('refresh', null);
      }),
      (r.prototype.skipDraw = function () {
        this.set('cacheCanvasBBox', null), this.set('isInView', null), this.set('hasChanged', !1);
      }),
      (r.prototype.drawPath = function (t) {
        this.createPath(t), this.strokeAndFill(t), this.afterDrawPath(t);
      }),
      (r.prototype.fill = function (t) {
        t.fill();
      }),
      (r.prototype.stroke = function (t) {
        t.stroke();
      }),
      (r.prototype.strokeAndFill = function (t) {
        var i = this.attrs,
          n = i.lineWidth,
          a = i.opacity,
          o = i.strokeOpacity,
          s = i.fillOpacity;
        this.isFill() &&
          (!R(s) && s !== 1
            ? ((t.globalAlpha = s), this.fill(t), (t.globalAlpha = a))
            : this.fill(t)),
          this.isStroke() && n > 0 && (!R(o) && o !== 1 && (t.globalAlpha = o), this.stroke(t)),
          this.afterDrawPath(t);
      }),
      (r.prototype.createPath = function (t) {}),
      (r.prototype.afterDrawPath = function (t) {}),
      (r.prototype.isInShape = function (t, i) {
        var n = this.isStroke(),
          a = this.isFill(),
          o = this.getHitLineWidth();
        return this.isInStrokeOrPath(t, i, n, a, o);
      }),
      (r.prototype.isInStrokeOrPath = function (t, i, n, a, o) {
        return !1;
      }),
      (r.prototype.getHitLineWidth = function () {
        if (!this.isStroke()) return 0;
        var t = this.attrs;
        return t.lineWidth + t.lineAppendWidth;
      }),
      r
    );
  })(Ks),
  $k = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultAttrs = function () {
        var t = e.prototype.getDefaultAttrs.call(this);
        return x(x({}, t), { x: 0, y: 0, r: 0 });
      }),
      (r.prototype.isInStrokeOrPath = function (t, i, n, a, o) {
        var s = this.attr(),
          l = s.x,
          u = s.y,
          c = s.r,
          h = o / 2,
          f = i0(l, u, t, i);
        return a && n ? f <= c + h : a ? f <= c : n ? f >= c - h && f <= c + h : !1;
      }),
      (r.prototype.createPath = function (t) {
        var i = this.attr(),
          n = i.x,
          a = i.y,
          o = i.r;
        t.beginPath(), t.arc(n, a, o, 0, Math.PI * 2, !1), t.closePath();
      }),
      r
    );
  })(qe);
function ko(e, r, t, i) {
  return e / (t * t) + r / (i * i);
}
var Nk = (function (e) {
  I(r, e);
  function r() {
    return (e !== null && e.apply(this, arguments)) || this;
  }
  return (
    (r.prototype.getDefaultAttrs = function () {
      var t = e.prototype.getDefaultAttrs.call(this);
      return x(x({}, t), { x: 0, y: 0, rx: 0, ry: 0 });
    }),
    (r.prototype.isInStrokeOrPath = function (t, i, n, a, o) {
      var s = this.attr(),
        l = o / 2,
        u = s.x,
        c = s.y,
        h = s.rx,
        f = s.ry,
        v = (t - u) * (t - u),
        d = (i - c) * (i - c);
      return a && n
        ? ko(v, d, h + l, f + l) <= 1
        : a
        ? ko(v, d, h, f) <= 1
        : n
        ? ko(v, d, h - l, f - l) >= 1 && ko(v, d, h + l, f + l) <= 1
        : !1;
    }),
    (r.prototype.createPath = function (t) {
      var i = this.attr(),
        n = i.x,
        a = i.y,
        o = i.rx,
        s = i.ry;
      if ((t.beginPath(), t.ellipse)) t.ellipse(n, a, o, s, 0, 0, Math.PI * 2, !1);
      else {
        var l = o > s ? o : s,
          u = o > s ? 1 : o / s,
          c = o > s ? s / o : 1;
        t.save(),
          t.translate(n, a),
          t.scale(u, c),
          t.arc(0, 0, l, 0, Math.PI * 2),
          t.restore(),
          t.closePath();
      }
    }),
    r
  );
})(qe);
function Dd(e) {
  return e instanceof HTMLElement && et(e.nodeName) && e.nodeName.toUpperCase() === 'CANVAS';
}
var zk = (function (e) {
  I(r, e);
  function r() {
    return (e !== null && e.apply(this, arguments)) || this;
  }
  return (
    (r.prototype.getDefaultAttrs = function () {
      var t = e.prototype.getDefaultAttrs.call(this);
      return x(x({}, t), { x: 0, y: 0, width: 0, height: 0 });
    }),
    (r.prototype.initAttrs = function (t) {
      this._setImage(t.img);
    }),
    (r.prototype.isStroke = function () {
      return !1;
    }),
    (r.prototype.isOnlyHitBox = function () {
      return !0;
    }),
    (r.prototype._afterLoading = function () {
      if (this.get('toDraw') === !0) {
        var t = this.get('canvas');
        t ? t.draw() : this.createPath(this.get('context'));
      }
    }),
    (r.prototype._setImage = function (t) {
      var i = this,
        n = this.attrs;
      if (et(t)) {
        var a = new Image();
        (a.onload = function () {
          if (i.destroyed) return !1;
          i.attr('img', a), i.set('loading', !1), i._afterLoading();
          var o = i.get('callback');
          o && o.call(i);
        }),
          (a.crossOrigin = 'Anonymous'),
          (a.src = t),
          this.set('loading', !0);
      } else
        t instanceof Image
          ? (n.width || (n.width = t.width), n.height || (n.height = t.height))
          : Dd(t) &&
            (n.width || (n.width = Number(t.getAttribute('width'))),
            n.height || (n.height, Number(t.getAttribute('height'))));
    }),
    (r.prototype.onAttrChange = function (t, i, n) {
      e.prototype.onAttrChange.call(this, t, i, n), t === 'img' && this._setImage(i);
    }),
    (r.prototype.createPath = function (t) {
      if (this.get('loading')) {
        this.set('toDraw', !0), this.set('context', t);
        return;
      }
      var i = this.attr(),
        n = i.x,
        a = i.y,
        o = i.width,
        s = i.height,
        l = i.sx,
        u = i.sy,
        c = i.swidth,
        h = i.sheight,
        f = i.img;
      (f instanceof Image || Dd(f)) &&
        (!R(l) && !R(u) && !R(c) && !R(h)
          ? t.drawImage(f, l, u, c, h, n, a, o, s)
          : t.drawImage(f, n, a, o, s));
    }),
    r
  );
})(qe);
function zr(e, r, t, i, n, a, o) {
  var s = Math.min(e, t),
    l = Math.max(e, t),
    u = Math.min(r, i),
    c = Math.max(r, i),
    h = n / 2;
  return a >= s - h && a <= l + h && o >= u - h && o <= c + h
    ? Zt.pointToLine(e, r, t, i, a, o) <= n / 2
    : !1;
}
var Gk = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultAttrs = function () {
        var t = e.prototype.getDefaultAttrs.call(this);
        return x(x({}, t), { x1: 0, y1: 0, x2: 0, y2: 0, startArrow: !1, endArrow: !1 });
      }),
      (r.prototype.initAttrs = function (t) {
        this.setArrow();
      }),
      (r.prototype.onAttrChange = function (t, i, n) {
        e.prototype.onAttrChange.call(this, t, i, n), this.setArrow();
      }),
      (r.prototype.setArrow = function () {
        var t = this.attr(),
          i = t.x1,
          n = t.y1,
          a = t.x2,
          o = t.y2,
          s = t.startArrow,
          l = t.endArrow;
        s && Ih(this, t, a, o, i, n), l && Lh(this, t, i, n, a, o);
      }),
      (r.prototype.isInStrokeOrPath = function (t, i, n, a, o) {
        if (!n || !o) return !1;
        var s = this.attr(),
          l = s.x1,
          u = s.y1,
          c = s.x2,
          h = s.y2;
        return zr(l, u, c, h, o, t, i);
      }),
      (r.prototype.createPath = function (t) {
        var i = this.attr(),
          n = i.x1,
          a = i.y1,
          o = i.x2,
          s = i.y2,
          l = i.startArrow,
          u = i.endArrow,
          c = { dx: 0, dy: 0 },
          h = { dx: 0, dy: 0 };
        l && l.d && (c = Ei(n, a, o, s, i.startArrow.d)),
          u && u.d && (h = Ei(n, a, o, s, i.endArrow.d)),
          t.beginPath(),
          t.moveTo(n + c.dx, a + c.dy),
          t.lineTo(o - h.dx, s - h.dy);
      }),
      (r.prototype.afterDrawPath = function (t) {
        var i = this.get('startArrowShape'),
          n = this.get('endArrowShape');
        i && i.draw(t), n && n.draw(t);
      }),
      (r.prototype.getTotalLength = function () {
        var t = this.attr(),
          i = t.x1,
          n = t.y1,
          a = t.x2,
          o = t.y2;
        return Zt.length(i, n, a, o);
      }),
      (r.prototype.getPoint = function (t) {
        var i = this.attr(),
          n = i.x1,
          a = i.y1,
          o = i.x2,
          s = i.y2;
        return Zt.pointAt(n, a, o, s, t);
      }),
      r
    );
  })(qe),
  Hk = {
    circle: function (e, r, t) {
      return [
        ['M', e - t, r],
        ['A', t, t, 0, 1, 0, e + t, r],
        ['A', t, t, 0, 1, 0, e - t, r],
      ];
    },
    square: function (e, r, t) {
      return [
        ['M', e - t, r - t],
        ['L', e + t, r - t],
        ['L', e + t, r + t],
        ['L', e - t, r + t],
        ['Z'],
      ];
    },
    diamond: function (e, r, t) {
      return [['M', e - t, r], ['L', e, r - t], ['L', e + t, r], ['L', e, r + t], ['Z']];
    },
    triangle: function (e, r, t) {
      var i = t * Math.sin(0.3333333333333333 * Math.PI);
      return [['M', e - t, r + i], ['L', e, r - i], ['L', e + t, r + i], ['Z']];
    },
    'triangle-down': function (e, r, t) {
      var i = t * Math.sin(0.3333333333333333 * Math.PI);
      return [['M', e - t, r - i], ['L', e + t, r - i], ['L', e, r + i], ['Z']];
    },
  },
  Vk = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.initAttrs = function (t) {
        this._resetParamsCache();
      }),
      (r.prototype._resetParamsCache = function () {
        this.set('paramsCache', {});
      }),
      (r.prototype.onAttrChange = function (t, i, n) {
        e.prototype.onAttrChange.call(this, t, i, n),
          ['symbol', 'x', 'y', 'r', 'radius'].indexOf(t) !== -1 && this._resetParamsCache();
      }),
      (r.prototype.isOnlyHitBox = function () {
        return !0;
      }),
      (r.prototype._getR = function (t) {
        return R(t.r) ? t.radius : t.r;
      }),
      (r.prototype._getPath = function () {
        var t = this.attr(),
          i = t.x,
          n = t.y,
          a = t.symbol || 'circle',
          o = this._getR(t),
          s,
          l;
        if (q(a)) (s = a), (l = s(i, n, o)), (l = Ay(l));
        else {
          if (((s = r.Symbols[a]), !s)) return console.warn(a + ' marker is not supported.'), null;
          l = s(i, n, o);
        }
        return l;
      }),
      (r.prototype.createPath = function (t) {
        var i = this._getPath(),
          n = this.get('paramsCache');
        u0(this, t, { path: i }, n);
      }),
      (r.Symbols = Hk),
      r
    );
  })(qe);
function h0(e, r, t) {
  var i = tl();
  return e.createPath(i), i.isPointInPath(r, t);
}
var Yk = 1e-6;
function fu(e) {
  return Math.abs(e) < Yk ? 0 : e < 0 ? -1 : 1;
}
function Wk(e, r, t) {
  return (
    (t[0] - e[0]) * (r[1] - e[1]) === (r[0] - e[0]) * (t[1] - e[1]) &&
    Math.min(e[0], r[0]) <= t[0] &&
    t[0] <= Math.max(e[0], r[0]) &&
    Math.min(e[1], r[1]) <= t[1] &&
    t[1] <= Math.max(e[1], r[1])
  );
}
function f0(e, r, t) {
  var i = !1,
    n = e.length;
  if (n <= 2) return !1;
  for (var a = 0; a < n; a++) {
    var o = e[a],
      s = e[(a + 1) % n];
    if (Wk(o, s, [r, t])) return !0;
    fu(o[1] - t) > 0 != fu(s[1] - t) > 0 &&
      fu(r - ((t - o[1]) * (o[0] - s[0])) / (o[1] - s[1]) - o[0]) < 0 &&
      (i = !i);
  }
  return i;
}
function ia(e, r, t, i, n, a, o, s) {
  var l = (Math.atan2(s - r, o - e) + Math.PI * 2) % (Math.PI * 2);
  if (l < i || l > n) return !1;
  var u = { x: e + t * Math.cos(l), y: r + t * Math.sin(l) };
  return i0(u.x, u.y, o, s) <= a / 2;
}
var Xk = Ht;
function _k(e) {
  for (var r = !1, t = e.length, i = 0; i < t; i++) {
    var n = e[i],
      a = n[0];
    if (a === 'C' || a === 'A' || a === 'Q') {
      r = !0;
      break;
    }
  }
  return r;
}
function jk(e, r, t, i, n) {
  for (var a = !1, o = r / 2, s = 0; s < e.length; s++) {
    var l = e[s],
      u = l.currentPoint,
      c = l.params,
      h = l.prePoint,
      f = l.box;
    if (!(f && !yi(f.x - o, f.y - o, f.width + r, f.height + r, t, i))) {
      switch (l.command) {
        case 'L':
        case 'Z':
          a = zr(h[0], h[1], u[0], u[1], r, t, i);
          break;
        case 'Q':
          var v = wy.pointDistance(h[0], h[1], c[1], c[2], c[3], c[4], t, i);
          a = v <= r / 2;
          break;
        case 'C':
          var d = la.pointDistance(h[0], h[1], c[1], c[2], c[3], c[4], c[5], c[6], t, i, n);
          a = d <= r / 2;
          break;
        case 'A':
          var p = l.arcParams,
            g = p.cx,
            y = p.cy,
            m = p.rx,
            b = p.ry,
            w = p.startAngle,
            S = p.endAngle,
            C = p.xRotation,
            F = [t, i, 1],
            E = m > b ? m : b,
            k = m > b ? 1 : m / b,
            T = m > b ? b / m : 1,
            O = Xk(null, [
              ['t', -g, -y],
              ['r', -C],
              ['s', 1 / k, 1 / T],
            ]);
          ba(F, F, O), (a = ia(0, 0, E, w, S, r, F[0], F[1]));
          break;
      }
      if (a) break;
    }
  }
  return a;
}
function Uk(e) {
  for (var r = e.length, t = [], i = [], n = [], a = 0; a < r; a++) {
    var o = e[a],
      s = o[0];
    s === 'M'
      ? (n.length && (i.push(n), (n = [])), n.push([o[1], o[2]]))
      : s === 'Z'
      ? n.length && (t.push(n), (n = []))
      : n.push([o[1], o[2]]);
  }
  return n.length > 0 && i.push(n), { polygons: t, polylines: i };
}
const Io = x({ hasArc: _k, extractPolygons: Uk, isPointInStroke: jk }, Uc);
function Bd(e, r, t) {
  for (var i = !1, n = 0; n < e.length; n++) {
    var a = e[n];
    if (((i = f0(a, r, t)), i)) break;
  }
  return i;
}
var Dh = (function (e) {
  I(r, e);
  function r() {
    return (e !== null && e.apply(this, arguments)) || this;
  }
  return (
    (r.prototype.getDefaultAttrs = function () {
      var t = e.prototype.getDefaultAttrs.call(this);
      return x(x({}, t), { startArrow: !1, endArrow: !1 });
    }),
    (r.prototype.initAttrs = function (t) {
      this._setPathArr(t.path), this.setArrow();
    }),
    (r.prototype.onAttrChange = function (t, i, n) {
      e.prototype.onAttrChange.call(this, t, i, n),
        t === 'path' && this._setPathArr(i),
        this.setArrow();
    }),
    (r.prototype._setPathArr = function (t) {
      this.attrs.path = Ay(t);
      var i = Io.hasArc(t);
      this.set('hasArc', i),
        this.set('paramsCache', {}),
        this.set('segments', null),
        this.set('curve', null),
        this.set('tCache', null),
        this.set('totalLength', null);
    }),
    (r.prototype.getSegments = function () {
      var t = this.get('segements');
      return t || ((t = My(this.attr('path'))), this.set('segments', t)), t;
    }),
    (r.prototype.setArrow = function () {
      var t = this.attr(),
        i = t.startArrow,
        n = t.endArrow;
      if (i) {
        var a = this.getStartTangent();
        Ih(this, t, a[0][0], a[0][1], a[1][0], a[1][1]);
      }
      if (n) {
        var a = this.getEndTangent();
        Lh(this, t, a[0][0], a[0][1], a[1][0], a[1][1]);
      }
    }),
    (r.prototype.isInStrokeOrPath = function (t, i, n, a, o) {
      var s = this.getSegments(),
        l = this.get('hasArc'),
        u = !1;
      if (n) {
        var c = this.getTotalLength();
        u = Io.isPointInStroke(s, o, t, i, c);
      }
      if (!u && a)
        if (l) u = h0(this, t, i);
        else {
          var h = this.attr('path'),
            f = Io.extractPolygons(h);
          u = Bd(f.polygons, t, i) || Bd(f.polylines, t, i);
        }
      return u;
    }),
    (r.prototype.createPath = function (t) {
      var i = this.attr(),
        n = this.get('paramsCache');
      u0(this, t, i, n);
    }),
    (r.prototype.afterDrawPath = function (t) {
      var i = this.get('startArrowShape'),
        n = this.get('endArrowShape');
      i && i.draw(t), n && n.draw(t);
    }),
    (r.prototype.getTotalLength = function () {
      var t = this.get('totalLength');
      return R(t) ? (this._calculateCurve(), this._setTcache(), this.get('totalLength')) : t;
    }),
    (r.prototype.getPoint = function (t) {
      var i = this.get('tCache');
      i || (this._calculateCurve(), this._setTcache(), (i = this.get('tCache')));
      var n,
        a,
        o = this.get('curve');
      if (!i || i.length === 0) return o ? { x: o[0][1], y: o[0][2] } : null;
      A(i, function (c, h) {
        t >= c[0] && t <= c[1] && ((n = (t - c[0]) / (c[1] - c[0])), (a = h));
      });
      var s = o[a];
      if (R(s) || R(a)) return null;
      var l = s.length,
        u = o[a + 1];
      return la.pointAt(s[l - 2], s[l - 1], u[1], u[2], u[3], u[4], u[5], u[6], n);
    }),
    (r.prototype._calculateCurve = function () {
      var t = this.attr().path;
      this.set('curve', Io.pathToCurve(t));
    }),
    (r.prototype._setTcache = function () {
      var t = 0,
        i = 0,
        n = [],
        a,
        o,
        s,
        l,
        u = this.get('curve');
      if (u) {
        if (
          (A(u, function (c, h) {
            (s = u[h + 1]),
              (l = c.length),
              s && (t += la.length(c[l - 2], c[l - 1], s[1], s[2], s[3], s[4], s[5], s[6]) || 0);
          }),
          this.set('totalLength', t),
          t === 0)
        ) {
          this.set('tCache', []);
          return;
        }
        A(u, function (c, h) {
          (s = u[h + 1]),
            (l = c.length),
            s &&
              ((a = []),
              (a[0] = i / t),
              (o = la.length(c[l - 2], c[l - 1], s[1], s[2], s[3], s[4], s[5], s[6])),
              (i += o || 0),
              (a[1] = i / t),
              n.push(a));
        }),
          this.set('tCache', n);
      }
    }),
    (r.prototype.getStartTangent = function () {
      var t = this.getSegments(),
        i;
      if (t.length > 1) {
        var n = t[0].currentPoint,
          a = t[1].currentPoint,
          o = t[1].startTangent;
        (i = []),
          o
            ? (i.push([n[0] - o[0], n[1] - o[1]]), i.push([n[0], n[1]]))
            : (i.push([a[0], a[1]]), i.push([n[0], n[1]]));
      }
      return i;
    }),
    (r.prototype.getEndTangent = function () {
      var t = this.getSegments(),
        i = t.length,
        n;
      if (i > 1) {
        var a = t[i - 2].currentPoint,
          o = t[i - 1].currentPoint,
          s = t[i - 1].endTangent;
        (n = []),
          s
            ? (n.push([o[0] - s[0], o[1] - s[1]]), n.push([o[0], o[1]]))
            : (n.push([a[0], a[1]]), n.push([o[0], o[1]]));
      }
      return n;
    }),
    r
  );
})(qe);
function v0(e, r, t, i, n) {
  var a = e.length;
  if (a < 2) return !1;
  for (var o = 0; o < a - 1; o++) {
    var s = e[o][0],
      l = e[o][1],
      u = e[o + 1][0],
      c = e[o + 1][1];
    if (zr(s, l, u, c, r, t, i)) return !0;
  }
  if (n) {
    var h = e[0],
      f = e[a - 1];
    if (zr(h[0], h[1], f[0], f[1], r, t, i)) return !0;
  }
  return !1;
}
var qk = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.isInStrokeOrPath = function (t, i, n, a, o) {
        var s = this.attr().points,
          l = !1;
        return n && (l = v0(s, o, t, i, !0)), !l && a && (l = f0(s, t, i)), l;
      }),
      (r.prototype.createPath = function (t) {
        var i = this.attr(),
          n = i.points;
        if (!(n.length < 2)) {
          t.beginPath();
          for (var a = 0; a < n.length; a++) {
            var o = n[a];
            a === 0 ? t.moveTo(o[0], o[1]) : t.lineTo(o[0], o[1]);
          }
          t.closePath();
        }
      }),
      r
    );
  })(qe),
  Zk = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultAttrs = function () {
        var t = e.prototype.getDefaultAttrs.call(this);
        return x(x({}, t), { startArrow: !1, endArrow: !1 });
      }),
      (r.prototype.initAttrs = function (t) {
        this.setArrow();
      }),
      (r.prototype.onAttrChange = function (t, i, n) {
        e.prototype.onAttrChange.call(this, t, i, n),
          this.setArrow(),
          ['points'].indexOf(t) !== -1 && this._resetCache();
      }),
      (r.prototype._resetCache = function () {
        this.set('totalLength', null), this.set('tCache', null);
      }),
      (r.prototype.setArrow = function () {
        var t = this.attr(),
          i = this.attrs,
          n = i.points,
          a = i.startArrow,
          o = i.endArrow,
          s = n.length,
          l = n[0][0],
          u = n[0][1],
          c = n[s - 1][0],
          h = n[s - 1][1];
        a && Ih(this, t, n[1][0], n[1][1], l, u), o && Lh(this, t, n[s - 2][0], n[s - 2][1], c, h);
      }),
      (r.prototype.isFill = function () {
        return !1;
      }),
      (r.prototype.isInStrokeOrPath = function (t, i, n, a, o) {
        if (!n || !o) return !1;
        var s = this.attr().points;
        return v0(s, o, t, i, !1);
      }),
      (r.prototype.isStroke = function () {
        return !0;
      }),
      (r.prototype.createPath = function (t) {
        var i = this.attr(),
          n = i.points,
          a = i.startArrow,
          o = i.endArrow,
          s = n.length;
        if (!(n.length < 2)) {
          var l = n[0][0],
            u = n[0][1],
            c = n[s - 1][0],
            h = n[s - 1][1];
          if (a && a.d) {
            var f = Ei(l, u, n[1][0], n[1][1], a.d);
            (l += f.dx), (u += f.dy);
          }
          if (o && o.d) {
            var f = Ei(n[s - 2][0], n[s - 2][1], c, h, o.d);
            (c -= f.dx), (h -= f.dy);
          }
          t.beginPath(), t.moveTo(l, u);
          for (var v = 0; v < s - 1; v++) {
            var d = n[v];
            t.lineTo(d[0], d[1]);
          }
          t.lineTo(c, h);
        }
      }),
      (r.prototype.afterDrawPath = function (t) {
        var i = this.get('startArrowShape'),
          n = this.get('endArrowShape');
        i && i.draw(t), n && n.draw(t);
      }),
      (r.prototype.getTotalLength = function () {
        var t = this.attr().points,
          i = this.get('totalLength');
        return R(i) ? (this.set('totalLength', Cy.length(t)), this.get('totalLength')) : i;
      }),
      (r.prototype.getPoint = function (t) {
        var i = this.attr().points,
          n = this.get('tCache');
        n || (this._setTcache(), (n = this.get('tCache')));
        var a, o;
        return (
          A(n, function (s, l) {
            t >= s[0] && t <= s[1] && ((a = (t - s[0]) / (s[1] - s[0])), (o = l));
          }),
          Zt.pointAt(i[o][0], i[o][1], i[o + 1][0], i[o + 1][1], a)
        );
      }),
      (r.prototype._setTcache = function () {
        var t = this.attr().points;
        if (!(!t || t.length === 0)) {
          var i = this.getTotalLength();
          if (!(i <= 0)) {
            var n = 0,
              a = [],
              o,
              s;
            A(t, function (l, u) {
              t[u + 1] &&
                ((o = []),
                (o[0] = n / i),
                (s = Zt.length(l[0], l[1], t[u + 1][0], t[u + 1][1])),
                (n += s),
                (o[1] = n / i),
                a.push(o));
            }),
              this.set('tCache', a);
          }
        }
      }),
      (r.prototype.getStartTangent = function () {
        var t = this.attr().points,
          i = [];
        return i.push([t[1][0], t[1][1]]), i.push([t[0][0], t[0][1]]), i;
      }),
      (r.prototype.getEndTangent = function () {
        var t = this.attr().points,
          i = t.length - 1,
          n = [];
        return n.push([t[i - 1][0], t[i - 1][1]]), n.push([t[i][0], t[i][1]]), n;
      }),
      r
    );
  })(qe);
function Kk(e, r, t, i, n, a, o) {
  var s = n / 2;
  return (
    yi(e - s, r - s, t, n, a, o) ||
    yi(e + t - s, r - s, n, i, a, o) ||
    yi(e + s, r + i - s, t, n, a, o) ||
    yi(e - s, r + s, n, i, a, o)
  );
}
function Qk(e, r, t, i, n, a, o, s) {
  return (
    zr(e + n, r, e + t - n, r, a, o, s) ||
    zr(e + t, r + n, e + t, r + i - n, a, o, s) ||
    zr(e + t - n, r + i, e + n, r + i, a, o, s) ||
    zr(e, r + i - n, e, r + n, a, o, s) ||
    ia(e + t - n, r + n, n, 1.5 * Math.PI, 2 * Math.PI, a, o, s) ||
    ia(e + t - n, r + i - n, n, 0, 0.5 * Math.PI, a, o, s) ||
    ia(e + n, r + i - n, n, 0.5 * Math.PI, Math.PI, a, o, s) ||
    ia(e + n, r + n, n, Math.PI, 1.5 * Math.PI, a, o, s)
  );
}
var Jk = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultAttrs = function () {
        var t = e.prototype.getDefaultAttrs.call(this);
        return x(x({}, t), { x: 0, y: 0, width: 0, height: 0, radius: 0 });
      }),
      (r.prototype.isInStrokeOrPath = function (t, i, n, a, o) {
        var s = this.attr(),
          l = s.x,
          u = s.y,
          c = s.width,
          h = s.height,
          f = s.radius;
        if (f) {
          var d = !1;
          return n && (d = Qk(l, u, c, h, f, o, t, i)), !d && a && (d = h0(this, t, i)), d;
        } else {
          var v = o / 2;
          if (a && n) return yi(l - v, u - v, c + v, h + v, t, i);
          if (a) return yi(l, u, c, h, t, i);
          if (n) return Kk(l, u, c, h, o, t, i);
        }
      }),
      (r.prototype.createPath = function (t) {
        var i = this.attr(),
          n = i.x,
          a = i.y,
          o = i.width,
          s = i.height,
          l = i.radius;
        if ((t.beginPath(), l === 0)) t.rect(n, a, o, s);
        else {
          var u = Lk(l),
            c = u[0],
            h = u[1],
            f = u[2],
            v = u[3];
          t.moveTo(n + c, a),
            t.lineTo(n + o - h, a),
            h !== 0 && t.arc(n + o - h, a + h, h, -Math.PI / 2, 0),
            t.lineTo(n + o, a + s - f),
            f !== 0 && t.arc(n + o - f, a + s - f, f, 0, Math.PI / 2),
            t.lineTo(n + v, a + s),
            v !== 0 && t.arc(n + v, a + s - v, v, Math.PI / 2, Math.PI),
            t.lineTo(n, a + c),
            c !== 0 && t.arc(n + c, a + c, c, Math.PI, Math.PI * 1.5),
            t.closePath();
        }
      }),
      r
    );
  })(qe),
  tI = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultAttrs = function () {
        var t = e.prototype.getDefaultAttrs.call(this);
        return x(x({}, t), {
          x: 0,
          y: 0,
          text: null,
          fontSize: 12,
          fontFamily: 'sans-serif',
          fontStyle: 'normal',
          fontWeight: 'normal',
          fontVariant: 'normal',
          textAlign: 'start',
          textBaseline: 'bottom',
        });
      }),
      (r.prototype.isOnlyHitBox = function () {
        return !0;
      }),
      (r.prototype.initAttrs = function (t) {
        this._assembleFont(), t.text && this._setText(t.text);
      }),
      (r.prototype._assembleFont = function () {
        var t = this.attrs;
        t.font = rl(t);
      }),
      (r.prototype._setText = function (t) {
        var i = null;
        et(t) &&
          t.indexOf(`
`) !== -1 &&
          (i = t.split(`
`)),
          this.set('textArr', i);
      }),
      (r.prototype.onAttrChange = function (t, i, n) {
        e.prototype.onAttrChange.call(this, t, i, n),
          t.startsWith('font') && this._assembleFont(),
          t === 'text' && this._setText(i);
      }),
      (r.prototype._getSpaceingY = function () {
        var t = this.attrs,
          i = t.lineHeight,
          n = t.fontSize * 1;
        return i ? i - n : n * 0.14;
      }),
      (r.prototype._drawTextArr = function (t, i, n) {
        var a = this.attrs,
          o = a.textBaseline,
          s = a.x,
          l = a.y,
          u = a.fontSize * 1,
          c = this._getSpaceingY(),
          h = el(a.text, a.fontSize, a.lineHeight),
          f;
        A(i, function (v, d) {
          (f = l + d * (c + u) - h + u),
            o === 'middle' && (f += h - u - (h - u) / 2),
            o === 'top' && (f += h - u),
            R(v) || (n ? t.fillText(v, s, f) : t.strokeText(v, s, f));
        });
      }),
      (r.prototype._drawText = function (t, i) {
        var n = this.attr(),
          a = n.x,
          o = n.y,
          s = this.get('textArr');
        if (s) this._drawTextArr(t, s, i);
        else {
          var l = n.text;
          R(l) || (i ? t.fillText(l, a, o) : t.strokeText(l, a, o));
        }
      }),
      (r.prototype.strokeAndFill = function (t) {
        var i = this.attrs,
          n = i.lineWidth,
          a = i.opacity,
          o = i.strokeOpacity,
          s = i.fillOpacity;
        this.isStroke() && n > 0 && (!R(o) && o !== 1 && (t.globalAlpha = a), this.stroke(t)),
          this.isFill() &&
            (!R(s) && s !== 1
              ? ((t.globalAlpha = s), this.fill(t), (t.globalAlpha = a))
              : this.fill(t)),
          this.afterDrawPath(t);
      }),
      (r.prototype.fill = function (t) {
        this._drawText(t, !0);
      }),
      (r.prototype.stroke = function (t) {
        this._drawText(t, !1);
      }),
      r
    );
  })(qe);
function eI(e, r) {
  if (r) {
    var t = js(r);
    return gr(t, e);
  }
  return e;
}
function d0(e, r, t) {
  var i = e.getTotalMatrix();
  if (i) {
    var n = eI([r, t, 1], i),
      a = n[0],
      o = n[1];
    return [a, o];
  }
  return [r, t];
}
function Rd(e, r, t) {
  if (e.isCanvas && e.isCanvas()) return !0;
  if (!wa(e) || e.cfg.isInView === !1) return !1;
  if (e.cfg.clipShape) {
    var i = d0(e, r, t),
      n = i[0],
      a = i[1];
    if (e.isClipped(n, a)) return !1;
  }
  var o = e.cfg.cacheCanvasBBox || e.getCanvasBBox();
  return r >= o.minX && r <= o.maxX && t >= o.minY && t <= o.maxY;
}
function p0(e, r, t) {
  if (!Rd(e, r, t)) return null;
  for (var i = null, n = e.getChildren(), a = n.length, o = a - 1; o >= 0; o--) {
    var s = n[o];
    if (s.isGroup()) i = p0(s, r, t);
    else if (Rd(s, r, t)) {
      var l = s,
        u = d0(s, r, t),
        c = u[0],
        h = u[1];
      l.isInShape(c, h) && (i = s);
    }
    if (i) break;
  }
  return i;
}
var rI = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        var t = e.prototype.getDefaultCfg.call(this);
        return (
          (t.renderer = 'canvas'),
          (t.autoDraw = !0),
          (t.localRefresh = !0),
          (t.refreshElements = []),
          (t.clipView = !0),
          (t.quickHit = !1),
          t
        );
      }),
      (r.prototype.onCanvasChange = function (t) {
        (t === 'attr' || t === 'sort' || t === 'changeSize') &&
          (this.set('refreshElements', [this]), this.draw());
      }),
      (r.prototype.getShapeBase = function () {
        return $s;
      }),
      (r.prototype.getGroupBase = function () {
        return Ph;
      }),
      (r.prototype.getPixelRatio = function () {
        var t = this.get('pixelRatio') || Sk();
        return t >= 1 ? Math.ceil(t) : 1;
      }),
      (r.prototype.getViewRange = function () {
        return { minX: 0, minY: 0, maxX: this.cfg.width, maxY: this.cfg.height };
      }),
      (r.prototype.createDom = function () {
        var t = document.createElement('canvas'),
          i = t.getContext('2d');
        return this.set('context', i), t;
      }),
      (r.prototype.setDOMSize = function (t, i) {
        e.prototype.setDOMSize.call(this, t, i);
        var n = this.get('context'),
          a = this.get('el'),
          o = this.getPixelRatio();
        (a.width = o * t), (a.height = o * i), o > 1 && n.scale(o, o);
      }),
      (r.prototype.clear = function () {
        e.prototype.clear.call(this), this._clearFrame();
        var t = this.get('context'),
          i = this.get('el');
        t.clearRect(0, 0, i.width, i.height);
      }),
      (r.prototype.getShape = function (t, i) {
        var n;
        return (
          this.get('quickHit')
            ? (n = p0(this, t, i))
            : (n = e.prototype.getShape.call(this, t, i, null)),
          n
        );
      }),
      (r.prototype._getRefreshRegion = function () {
        var t = this.get('refreshElements'),
          i = this.getViewRange(),
          n;
        if (t.length && t[0] === this) n = i;
        else if (((n = Bk(t)), n)) {
          (n.minX = Math.floor(n.minX)),
            (n.minY = Math.floor(n.minY)),
            (n.maxX = Math.ceil(n.maxX)),
            (n.maxY = Math.ceil(n.maxY)),
            (n.maxY += 1);
          var a = this.get('clipView');
          a && (n = Rk(n, i));
        }
        return n;
      }),
      (r.prototype.refreshElement = function (t) {
        var i = this.get('refreshElements');
        i.push(t);
      }),
      (r.prototype._clearFrame = function () {
        var t = this.get('drawFrame');
        t && (ZS(t), this.set('drawFrame', null), this.set('refreshElements', []));
      }),
      (r.prototype.draw = function () {
        var t = this.get('drawFrame');
        (this.get('autoDraw') && t) || this._startDraw();
      }),
      (r.prototype._drawAll = function () {
        var t = this.get('context'),
          i = this.get('el'),
          n = this.getChildren();
        t.clearRect(0, 0, i.width, i.height),
          mn(t, this),
          pc(t, n),
          this.set('refreshElements', []);
      }),
      (r.prototype._drawRegion = function () {
        var t = this.get('context'),
          i = this.get('refreshElements'),
          n = this.getChildren(),
          a = this._getRefreshRegion();
        a
          ? (t.clearRect(a.minX, a.minY, a.maxX - a.minX, a.maxY - a.minY),
            t.save(),
            t.beginPath(),
            t.rect(a.minX, a.minY, a.maxX - a.minX, a.maxY - a.minY),
            t.clip(),
            mn(t, this),
            Ok(this, n, a),
            pc(t, n, a),
            t.restore())
          : i.length && l0(i),
          A(i, function (o) {
            o.get('hasChanged') && o.set('hasChanged', !1);
          }),
          this.set('refreshElements', []);
      }),
      (r.prototype._startDraw = function () {
        var t = this,
          i = this.get('drawFrame');
        i ||
          ((i = qS(function () {
            t.get('localRefresh') ? t._drawRegion() : t._drawAll(), t.set('drawFrame', null);
          })),
          this.set('drawFrame', i));
      }),
      (r.prototype.skipDraw = function () {}),
      (r.prototype.removeDom = function () {
        var t = this.get('el');
        (t.width = 0), (t.height = 0), t.parentNode.removeChild(t);
      }),
      r
    );
  })(qs),
  iI = '0.5.12';
const nI = Object.freeze(
  Object.defineProperty(
    {
      __proto__: null,
      AbstractCanvas: qs,
      AbstractGroup: Zs,
      AbstractShape: Ks,
      Base: Xs,
      Canvas: rI,
      Event: ja,
      Group: Ph,
      PathUtil: Uc,
      Shape: $s,
      assembleFont: rl,
      getArcParams: As,
      getBBoxMethod: Qs,
      getOffScreenContext: tl,
      getTextHeight: el,
      invert: js,
      isAllowCapture: wa,
      multiplyVec2: gr,
      registerBBox: Ne,
      registerEasing: dy,
      version: iI,
    },
    Symbol.toStringTag,
    { value: 'Module' },
  ),
);
var yc = {
    rect: 'path',
    circle: 'circle',
    line: 'line',
    path: 'path',
    marker: 'path',
    text: 'text',
    polyline: 'polyline',
    polygon: 'polygon',
    image: 'image',
    ellipse: 'ellipse',
    dom: 'foreignObject',
  },
  ft = {
    opacity: 'opacity',
    fillStyle: 'fill',
    fill: 'fill',
    fillOpacity: 'fill-opacity',
    strokeStyle: 'stroke',
    strokeOpacity: 'stroke-opacity',
    stroke: 'stroke',
    x: 'x',
    y: 'y',
    r: 'r',
    rx: 'rx',
    ry: 'ry',
    width: 'width',
    height: 'height',
    x1: 'x1',
    x2: 'x2',
    y1: 'y1',
    y2: 'y2',
    lineCap: 'stroke-linecap',
    lineJoin: 'stroke-linejoin',
    lineWidth: 'stroke-width',
    lineDash: 'stroke-dasharray',
    lineDashOffset: 'stroke-dashoffset',
    miterLimit: 'stroke-miterlimit',
    font: 'font',
    fontSize: 'font-size',
    fontStyle: 'font-style',
    fontVariant: 'font-variant',
    fontWeight: 'font-weight',
    fontFamily: 'font-family',
    startArrow: 'marker-start',
    endArrow: 'marker-end',
    path: 'd',
    class: 'class',
    id: 'id',
    style: 'style',
    preserveAspectRatio: 'preserveAspectRatio',
  };
function $e(e) {
  return document.createElementNS('http://www.w3.org/2000/svg', e);
}
function g0(e) {
  var r = yc[e.type],
    t = e.getParent();
  if (!r) throw new Error('the type ' + e.type + ' is not supported by svg');
  var i = $e(r);
  if ((e.get('id') && (i.id = e.get('id')), e.set('el', i), e.set('attrs', {}), t)) {
    var n = t.get('el');
    n || ((n = t.createDom()), t.set('el', n)), n.appendChild(i);
  }
  return i;
}
function y0(e, r) {
  var t = e.get('el'),
    i = rC(t.children).sort(r),
    n = document.createDocumentFragment();
  i.forEach(function (a) {
    n.appendChild(a);
  }),
    t.appendChild(n);
}
function aI(e, r) {
  var t = e.parentNode,
    i = Array.from(t.childNodes).filter(function (s) {
      return s.nodeType === 1 && s.nodeName.toLowerCase() !== 'defs';
    }),
    n = i[r],
    a = i.indexOf(e);
  if (n) {
    if (a > r) t.insertBefore(e, n);
    else if (a < r) {
      var o = i[r + 1];
      o ? t.insertBefore(e, o) : t.appendChild(e);
    }
  } else t.appendChild(e);
}
function oI(e, r) {
  var t = e.cfg.el,
    i = e.attr(),
    n = { dx: i.shadowOffsetX, dy: i.shadowOffsetY, blur: i.shadowBlur, color: i.shadowColor };
  if (!n.dx && !n.dy && !n.blur && !n.color) t.removeAttribute('filter');
  else {
    var a = r.find('filter', n);
    a || (a = r.addShadow(n)), t.setAttribute('filter', 'url(#' + a + ')');
  }
}
function eo(e) {
  var r = e.attr().matrix;
  if (r) {
    for (var t = e.cfg.el, i = [], n = 0; n < 9; n += 3) i.push(r[n] + ',' + r[n + 1]);
    (i = i.join(',')),
      i.indexOf('NaN') === -1
        ? t.setAttribute('transform', 'matrix(' + i + ')')
        : console.warn('invalid matrix:', r);
  }
}
function Ra(e, r) {
  var t = e.getClip(),
    i = e.get('el');
  if (!t) i.removeAttribute('clip-path');
  else if (t && !i.hasAttribute('clip-path')) {
    g0(t), t.createPath(r);
    var n = r.addClip(t);
    i.setAttribute('clip-path', 'url(#' + n + ')');
  }
}
function m0(e, r) {
  r.forEach(function (t) {
    t.draw(e);
  });
}
function x0(e, r) {
  var t = e.get('canvas');
  if (t && t.get('autoDraw')) {
    var i = t.get('context'),
      n = e.getParent(),
      a = n ? n.getChildren() : [t],
      o = e.get('el');
    if (r === 'remove') {
      var s = e.get('isClipShape');
      if (s) {
        var l = o && o.parentNode,
          u = l && l.parentNode;
        l && u && u.removeChild(l);
      } else o && o.parentNode && o.parentNode.removeChild(o);
    } else if (r === 'show') o.setAttribute('visibility', 'visible');
    else if (r === 'hide') o.setAttribute('visibility', 'hidden');
    else if (r === 'zIndex') aI(o, a.indexOf(e));
    else if (r === 'sort') {
      var c = e.get('children');
      c &&
        c.length &&
        y0(e, function (h, f) {
          return c.indexOf(h) - c.indexOf(f) ? 1 : 0;
        });
    } else
      r === 'clear'
        ? o && (o.innerHTML = '')
        : r === 'matrix'
        ? eo(e)
        : r === 'clip'
        ? Ra(e, i)
        : r === 'attr' || (r === 'add' && e.draw(i));
  }
}
var Bh = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.isEntityGroup = function () {
        return !0;
      }),
      (r.prototype.createDom = function () {
        var t = $e('g');
        this.set('el', t);
        var i = this.getParent();
        if (i) {
          var n = i.get('el');
          n || ((n = i.createDom()), i.set('el', n)), n.appendChild(t);
        }
        return t;
      }),
      (r.prototype.afterAttrsChange = function (t) {
        e.prototype.afterAttrsChange.call(this, t);
        var i = this.get('canvas');
        if (i && i.get('autoDraw')) {
          var n = i.get('context');
          this.createPath(n, t);
        }
      }),
      (r.prototype.onCanvasChange = function (t) {
        x0(this, t);
      }),
      (r.prototype.getShapeBase = function () {
        return Ns;
      }),
      (r.prototype.getGroupBase = function () {
        return r;
      }),
      (r.prototype.draw = function (t) {
        var i = this.getChildren(),
          n = this.get('el');
        this.get('destroyed')
          ? n && n.parentNode.removeChild(n)
          : (n || this.createDom(), Ra(this, t), this.createPath(t), i.length && m0(t, i));
      }),
      (r.prototype.createPath = function (t, i) {
        var n = this.attr(),
          a = this.get('el');
        A(i || n, function (o, s) {
          ft[s] && a.setAttribute(ft[s], o);
        }),
          eo(this);
      }),
      r
    );
  })(Zs),
  ze = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'svg'), (t.canFill = !1), (t.canStroke = !1), t;
    }
    return (
      (r.prototype.getDefaultAttrs = function () {
        var t = e.prototype.getDefaultAttrs.call(this);
        return x(x({}, t), { lineWidth: 1, lineAppendWidth: 0, strokeOpacity: 1, fillOpacity: 1 });
      }),
      (r.prototype.afterAttrsChange = function (t) {
        e.prototype.afterAttrsChange.call(this, t);
        var i = this.get('canvas');
        if (i && i.get('autoDraw')) {
          var n = i.get('context');
          this.draw(n, t);
        }
      }),
      (r.prototype.getShapeBase = function () {
        return Ns;
      }),
      (r.prototype.getGroupBase = function () {
        return Bh;
      }),
      (r.prototype.onCanvasChange = function (t) {
        x0(this, t);
      }),
      (r.prototype.calculateBBox = function () {
        var t = this.get('el'),
          i = null;
        if (t) i = t.getBBox();
        else {
          var n = Qs(this.get('type'));
          n && (i = n(this));
        }
        if (i) {
          var a = i.x,
            o = i.y,
            s = i.width,
            l = i.height,
            u = this.getHitLineWidth(),
            c = u / 2,
            h = a - c,
            f = o - c,
            v = a + s + c,
            d = o + l + c;
          return { x: h, y: f, minX: h, minY: f, maxX: v, maxY: d, width: s + u, height: l + u };
        }
        return { x: 0, y: 0, minX: 0, minY: 0, maxX: 0, maxY: 0, width: 0, height: 0 };
      }),
      (r.prototype.isFill = function () {
        var t = this.attr(),
          i = t.fill,
          n = t.fillStyle;
        return (i || n || this.isClipShape()) && this.canFill;
      }),
      (r.prototype.isStroke = function () {
        var t = this.attr(),
          i = t.stroke,
          n = t.strokeStyle;
        return (i || n) && this.canStroke;
      }),
      (r.prototype.draw = function (t, i) {
        var n = this.get('el');
        this.get('destroyed')
          ? n && n.parentNode.removeChild(n)
          : (n || g0(this),
            Ra(this, t),
            this.createPath(t, i),
            this.shadow(t, i),
            this.strokeAndFill(t, i),
            this.transform(i));
      }),
      (r.prototype.createPath = function (t, i) {}),
      (r.prototype.strokeAndFill = function (t, i) {
        var n = i || this.attr(),
          a = n.fill,
          o = n.fillStyle,
          s = n.stroke,
          l = n.strokeStyle,
          u = n.fillOpacity,
          c = n.strokeOpacity,
          h = n.lineWidth,
          f = this.get('el');
        this.canFill &&
          (i
            ? 'fill' in n
              ? this._setColor(t, 'fill', a)
              : 'fillStyle' in n && this._setColor(t, 'fill', o)
            : this._setColor(t, 'fill', a || o),
          u && f.setAttribute(ft.fillOpacity, u)),
          this.canStroke &&
            h > 0 &&
            (i
              ? 'stroke' in n
                ? this._setColor(t, 'stroke', s)
                : 'strokeStyle' in n && this._setColor(t, 'stroke', l)
              : this._setColor(t, 'stroke', s || l),
            c && f.setAttribute(ft.strokeOpacity, c),
            h && f.setAttribute(ft.lineWidth, h));
      }),
      (r.prototype._setColor = function (t, i, n) {
        var a = this.get('el');
        if (!n) {
          a.setAttribute(ft[i], 'none');
          return;
        }
        if (((n = n.trim()), /^[r,R,L,l]{1}[\s]*\(/.test(n))) {
          var o = t.find('gradient', n);
          o || (o = t.addGradient(n)), a.setAttribute(ft[i], 'url(#' + o + ')');
        } else if (/^[p,P]{1}[\s]*\(/.test(n)) {
          var o = t.find('pattern', n);
          o || (o = t.addPattern(n)), a.setAttribute(ft[i], 'url(#' + o + ')');
        } else a.setAttribute(ft[i], n);
      }),
      (r.prototype.shadow = function (t, i) {
        var n = this.attr(),
          a = i || n,
          o = a.shadowOffsetX,
          s = a.shadowOffsetY,
          l = a.shadowBlur,
          u = a.shadowColor;
        (o || s || l || u) && oI(this, t);
      }),
      (r.prototype.transform = function (t) {
        var i = this.attr(),
          n = (t || i).matrix;
        n && eo(this);
      }),
      (r.prototype.isInShape = function (t, i) {
        return this.isPointInPath(t, i);
      }),
      (r.prototype.isPointInPath = function (t, i) {
        var n = this.get('el'),
          a = this.get('canvas'),
          o = a.get('el').getBoundingClientRect(),
          s = t + o.left,
          l = i + o.top,
          u = document.elementFromPoint(s, l);
        return !!(u && u.isEqualNode(n));
      }),
      (r.prototype.getHitLineWidth = function () {
        var t = this.attrs,
          i = t.lineWidth,
          n = t.lineAppendWidth;
        return this.isStroke() ? i + n : 0;
      }),
      r
    );
  })(Ks),
  sI = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'circle'), (t.canFill = !0), (t.canStroke = !0), t;
    }
    return (
      (r.prototype.getDefaultAttrs = function () {
        var t = e.prototype.getDefaultAttrs.call(this);
        return x(x({}, t), { x: 0, y: 0, r: 0 });
      }),
      (r.prototype.createPath = function (t, i) {
        var n = this.attr(),
          a = this.get('el');
        A(i || n, function (o, s) {
          s === 'x' || s === 'y' ? a.setAttribute('c' + s, o) : ft[s] && a.setAttribute(ft[s], o);
        });
      }),
      r
    );
  })(ze),
  lI = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'dom'), (t.canFill = !1), (t.canStroke = !1), t;
    }
    return (
      (r.prototype.createPath = function (t, i) {
        var n = this.attr(),
          a = this.get('el');
        if (
          (A(i || n, function (u, c) {
            ft[c] && a.setAttribute(ft[c], u);
          }),
          typeof n.html == 'function')
        ) {
          var o = n.html.call(this, n);
          if (o instanceof Element || o instanceof HTMLDocument) {
            for (var s = a.childNodes, l = s.length - 1; l >= 0; l--) a.removeChild(s[l]);
            a.appendChild(o);
          } else a.innerHTML = o;
        } else a.innerHTML = n.html;
      }),
      r
    );
  })(ze),
  uI = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'ellipse'), (t.canFill = !0), (t.canStroke = !0), t;
    }
    return (
      (r.prototype.getDefaultAttrs = function () {
        var t = e.prototype.getDefaultAttrs.call(this);
        return x(x({}, t), { x: 0, y: 0, rx: 0, ry: 0 });
      }),
      (r.prototype.createPath = function (t, i) {
        var n = this.attr(),
          a = this.get('el');
        A(i || n, function (o, s) {
          s === 'x' || s === 'y' ? a.setAttribute('c' + s, o) : ft[s] && a.setAttribute(ft[s], o);
        });
      }),
      r
    );
  })(ze),
  cI = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'image'), (t.canFill = !1), (t.canStroke = !1), t;
    }
    return (
      (r.prototype.getDefaultAttrs = function () {
        var t = e.prototype.getDefaultAttrs.call(this);
        return x(x({}, t), { x: 0, y: 0, width: 0, height: 0 });
      }),
      (r.prototype.createPath = function (t, i) {
        var n = this,
          a = this.attr(),
          o = this.get('el');
        A(i || a, function (s, l) {
          l === 'img' ? n._setImage(a.img) : ft[l] && o.setAttribute(ft[l], s);
        });
      }),
      (r.prototype.setAttr = function (t, i) {
        (this.attrs[t] = i), t === 'img' && this._setImage(i);
      }),
      (r.prototype._setImage = function (t) {
        var i = this.attr(),
          n = this.get('el');
        if (et(t)) n.setAttribute('href', t);
        else if (t instanceof window.Image)
          i.width || (n.setAttribute('width', t.width), this.attr('width', t.width)),
            i.height || (n.setAttribute('height', t.height), this.attr('height', t.height)),
            n.setAttribute('href', t.src);
        else if (
          t instanceof HTMLElement &&
          et(t.nodeName) &&
          t.nodeName.toUpperCase() === 'CANVAS'
        )
          n.setAttribute('href', t.toDataURL());
        else if (t instanceof ImageData) {
          var a = document.createElement('canvas');
          a.setAttribute('width', '' + t.width),
            a.setAttribute('height', '' + t.height),
            a.getContext('2d').putImageData(t, 0, 0),
            i.width || (n.setAttribute('width', '' + t.width), this.attr('width', t.width)),
            i.height || (n.setAttribute('height', '' + t.height), this.attr('height', t.height)),
            n.setAttribute('href', a.toDataURL());
        }
      }),
      r
    );
  })(ze),
  hI = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'line'), (t.canFill = !1), (t.canStroke = !0), t;
    }
    return (
      (r.prototype.getDefaultAttrs = function () {
        var t = e.prototype.getDefaultAttrs.call(this);
        return x(x({}, t), { x1: 0, y1: 0, x2: 0, y2: 0, startArrow: !1, endArrow: !1 });
      }),
      (r.prototype.createPath = function (t, i) {
        var n = this.attr(),
          a = this.get('el');
        A(i || n, function (o, s) {
          if (s === 'startArrow' || s === 'endArrow')
            if (o) {
              var l = yt(o) ? t.addArrow(n, ft[s]) : t.getDefaultArrow(n, ft[s]);
              a.setAttribute(ft[s], 'url(#' + l + ')');
            } else a.removeAttribute(ft[s]);
          else ft[s] && a.setAttribute(ft[s], o);
        });
      }),
      (r.prototype.getTotalLength = function () {
        var t = this.attr(),
          i = t.x1,
          n = t.y1,
          a = t.x2,
          o = t.y2;
        return Zt.length(i, n, a, o);
      }),
      (r.prototype.getPoint = function (t) {
        var i = this.attr(),
          n = i.x1,
          a = i.y1,
          o = i.x2,
          s = i.y2;
        return Zt.pointAt(n, a, o, s, t);
      }),
      r
    );
  })(ze),
  Lo = {
    circle: function (e, r, t) {
      return [
        ['M', e, r],
        ['m', -t, 0],
        ['a', t, t, 0, 1, 0, t * 2, 0],
        ['a', t, t, 0, 1, 0, -t * 2, 0],
      ];
    },
    square: function (e, r, t) {
      return [
        ['M', e - t, r - t],
        ['L', e + t, r - t],
        ['L', e + t, r + t],
        ['L', e - t, r + t],
        ['Z'],
      ];
    },
    diamond: function (e, r, t) {
      return [['M', e - t, r], ['L', e, r - t], ['L', e + t, r], ['L', e, r + t], ['Z']];
    },
    triangle: function (e, r, t) {
      var i = t * Math.sin(0.3333333333333333 * Math.PI);
      return [['M', e - t, r + i], ['L', e, r - i], ['L', e + t, r + i], ['z']];
    },
    triangleDown: function (e, r, t) {
      var i = t * Math.sin(0.3333333333333333 * Math.PI);
      return [['M', e - t, r - i], ['L', e + t, r - i], ['L', e, r + i], ['Z']];
    },
  };
const $d = {
  get: function (e) {
    return Lo[e];
  },
  register: function (e, r) {
    Lo[e] = r;
  },
  remove: function (e) {
    delete Lo[e];
  },
  getAll: function () {
    return Lo;
  },
};
var fI = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'marker'), (t.canFill = !0), (t.canStroke = !0), t;
    }
    return (
      (r.prototype.createPath = function (t) {
        var i = this.get('el');
        i.setAttribute('d', this._assembleMarker());
      }),
      (r.prototype._assembleMarker = function () {
        var t = this._getPath();
        return $(t)
          ? t
              .map(function (i) {
                return i.join(' ');
              })
              .join('')
          : t;
      }),
      (r.prototype._getPath = function () {
        var t = this.attr(),
          i = t.x,
          n = t.y,
          a = t.r || t.radius,
          o = t.symbol || 'circle',
          s;
        return (
          q(o) ? (s = o) : (s = $d.get(o)),
          s ? s(i, n, a) : (console.warn(s + ' symbol is not exist.'), null)
        );
      }),
      (r.symbolsFactory = $d),
      r
    );
  })(ze),
  vI = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'path'), (t.canFill = !0), (t.canStroke = !0), t;
    }
    return (
      (r.prototype.getDefaultAttrs = function () {
        var t = e.prototype.getDefaultAttrs.call(this);
        return x(x({}, t), { startArrow: !1, endArrow: !1 });
      }),
      (r.prototype.createPath = function (t, i) {
        var n = this,
          a = this.attr(),
          o = this.get('el');
        A(i || a, function (s, l) {
          if (l === 'path' && $(s)) o.setAttribute('d', n._formatPath(s));
          else if (l === 'startArrow' || l === 'endArrow')
            if (s) {
              var u = yt(s) ? t.addArrow(a, ft[l]) : t.getDefaultArrow(a, ft[l]);
              o.setAttribute(ft[l], 'url(#' + u + ')');
            } else o.removeAttribute(ft[l]);
          else ft[l] && o.setAttribute(ft[l], s);
        });
      }),
      (r.prototype._formatPath = function (t) {
        var i = t
          .map(function (n) {
            return n.join(' ');
          })
          .join('');
        return ~i.indexOf('NaN') ? '' : i;
      }),
      (r.prototype.getTotalLength = function () {
        var t = this.get('el');
        return t ? t.getTotalLength() : null;
      }),
      (r.prototype.getPoint = function (t) {
        var i = this.get('el'),
          n = this.getTotalLength();
        if (n === 0) return null;
        var a = i ? i.getPointAtLength(t * n) : null;
        return a ? { x: a.x, y: a.y } : null;
      }),
      r
    );
  })(ze),
  dI = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'polygon'), (t.canFill = !0), (t.canStroke = !0), t;
    }
    return (
      (r.prototype.createPath = function (t, i) {
        var n = this.attr(),
          a = this.get('el');
        A(i || n, function (o, s) {
          s === 'points' && $(o) && o.length >= 2
            ? a.setAttribute(
                'points',
                o
                  .map(function (l) {
                    return l[0] + ',' + l[1];
                  })
                  .join(' '),
              )
            : ft[s] && a.setAttribute(ft[s], o);
        });
      }),
      r
    );
  })(ze),
  pI = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'polyline'), (t.canFill = !0), (t.canStroke = !0), t;
    }
    return (
      (r.prototype.getDefaultAttrs = function () {
        var t = e.prototype.getDefaultAttrs.call(this);
        return x(x({}, t), { startArrow: !1, endArrow: !1 });
      }),
      (r.prototype.onAttrChange = function (t, i, n) {
        e.prototype.onAttrChange.call(this, t, i, n),
          ['points'].indexOf(t) !== -1 && this._resetCache();
      }),
      (r.prototype._resetCache = function () {
        this.set('totalLength', null), this.set('tCache', null);
      }),
      (r.prototype.createPath = function (t, i) {
        var n = this.attr(),
          a = this.get('el');
        A(i || n, function (o, s) {
          s === 'points' && $(o) && o.length >= 2
            ? a.setAttribute(
                'points',
                o
                  .map(function (l) {
                    return l[0] + ',' + l[1];
                  })
                  .join(' '),
              )
            : ft[s] && a.setAttribute(ft[s], o);
        });
      }),
      (r.prototype.getTotalLength = function () {
        var t = this.attr().points,
          i = this.get('totalLength');
        return R(i) ? (this.set('totalLength', Cy.length(t)), this.get('totalLength')) : i;
      }),
      (r.prototype.getPoint = function (t) {
        var i = this.attr().points,
          n = this.get('tCache');
        n || (this._setTcache(), (n = this.get('tCache')));
        var a, o;
        return (
          A(n, function (s, l) {
            t >= s[0] && t <= s[1] && ((a = (t - s[0]) / (s[1] - s[0])), (o = l));
          }),
          Zt.pointAt(i[o][0], i[o][1], i[o + 1][0], i[o + 1][1], a)
        );
      }),
      (r.prototype._setTcache = function () {
        var t = this.attr().points;
        if (!(!t || t.length === 0)) {
          var i = this.getTotalLength();
          if (!(i <= 0)) {
            var n = 0,
              a = [],
              o,
              s;
            A(t, function (l, u) {
              t[u + 1] &&
                ((o = []),
                (o[0] = n / i),
                (s = Zt.length(l[0], l[1], t[u + 1][0], t[u + 1][1])),
                (n += s),
                (o[1] = n / i),
                a.push(o));
            }),
              this.set('tCache', a);
          }
        }
      }),
      (r.prototype.getStartTangent = function () {
        var t = this.attr().points,
          i = [];
        return i.push([t[1][0], t[1][1]]), i.push([t[0][0], t[0][1]]), i;
      }),
      (r.prototype.getEndTangent = function () {
        var t = this.attr().points,
          i = t.length - 1,
          n = [];
        return n.push([t[i - 1][0], t[i - 1][1]]), n.push([t[i][0], t[i][1]]), n;
      }),
      r
    );
  })(ze);
function gI(e) {
  var r = 0,
    t = 0,
    i = 0,
    n = 0;
  return (
    $(e)
      ? e.length === 1
        ? (r = t = i = n = e[0])
        : e.length === 2
        ? ((r = i = e[0]), (t = n = e[1]))
        : e.length === 3
        ? ((r = e[0]), (t = n = e[1]), (i = e[2]))
        : ((r = e[0]), (t = e[1]), (i = e[2]), (n = e[3]))
      : (r = t = i = n = e),
    { r1: r, r2: t, r3: i, r4: n }
  );
}
var yI = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'rect'), (t.canFill = !0), (t.canStroke = !0), t;
    }
    return (
      (r.prototype.getDefaultAttrs = function () {
        var t = e.prototype.getDefaultAttrs.call(this);
        return x(x({}, t), { x: 0, y: 0, width: 0, height: 0, radius: 0 });
      }),
      (r.prototype.createPath = function (t, i) {
        var n = this,
          a = this.attr(),
          o = this.get('el'),
          s = !1,
          l = ['x', 'y', 'width', 'height', 'radius'];
        A(i || a, function (u, c) {
          l.indexOf(c) !== -1 && !s
            ? (o.setAttribute('d', n._assembleRect(a)), (s = !0))
            : l.indexOf(c) === -1 && ft[c] && o.setAttribute(ft[c], u);
        });
      }),
      (r.prototype._assembleRect = function (t) {
        var i = t.x,
          n = t.y,
          a = t.width,
          o = t.height,
          s = t.radius;
        if (!s) return 'M ' + i + ',' + n + ' l ' + a + ',0 l 0,' + o + ' l' + -a + ' 0 z';
        var l = gI(s);
        $(s)
          ? s.length === 1
            ? (l.r1 = l.r2 = l.r3 = l.r4 = s[0])
            : s.length === 2
            ? ((l.r1 = l.r3 = s[0]), (l.r2 = l.r4 = s[1]))
            : s.length === 3
            ? ((l.r1 = s[0]), (l.r2 = l.r4 = s[1]), (l.r3 = s[2]))
            : ((l.r1 = s[0]), (l.r2 = s[1]), (l.r3 = s[2]), (l.r4 = s[3]))
          : (l.r1 = l.r2 = l.r3 = l.r4 = s);
        var u = [
          ['M ' + (i + l.r1) + ',' + n],
          ['l ' + (a - l.r1 - l.r2) + ',0'],
          ['a ' + l.r2 + ',' + l.r2 + ',0,0,1,' + l.r2 + ',' + l.r2],
          ['l 0,' + (o - l.r2 - l.r3)],
          ['a ' + l.r3 + ',' + l.r3 + ',0,0,1,' + -l.r3 + ',' + l.r3],
          ['l ' + (l.r3 + l.r4 - a) + ',0'],
          ['a ' + l.r4 + ',' + l.r4 + ',0,0,1,' + -l.r4 + ',' + -l.r4],
          ['l 0,' + (l.r4 + l.r1 - o)],
          ['a ' + l.r1 + ',' + l.r1 + ',0,0,1,' + l.r1 + ',' + -l.r1],
          ['z'],
        ];
        return u.join(' ');
      }),
      r
    );
  })(ze),
  Nd = 0.3,
  mI = {
    top: 'before-edge',
    middle: 'central',
    bottom: 'after-edge',
    alphabetic: 'baseline',
    hanging: 'hanging',
  },
  xI = {
    top: 'text-before-edge',
    middle: 'central',
    bottom: 'text-after-edge',
    alphabetic: 'alphabetic',
    hanging: 'hanging',
  },
  wI = { left: 'left', start: 'left', center: 'middle', right: 'end', end: 'end' },
  bI = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'text'), (t.canFill = !0), (t.canStroke = !0), t;
    }
    return (
      (r.prototype.getDefaultAttrs = function () {
        var t = e.prototype.getDefaultAttrs.call(this);
        return x(x({}, t), {
          x: 0,
          y: 0,
          text: null,
          fontSize: 12,
          fontFamily: 'sans-serif',
          fontStyle: 'normal',
          fontWeight: 'normal',
          fontVariant: 'normal',
          textAlign: 'start',
          textBaseline: 'bottom',
        });
      }),
      (r.prototype.createPath = function (t, i) {
        var n = this,
          a = this.attr(),
          o = this.get('el');
        this._setFont(),
          A(i || a, function (s, l) {
            l === 'text'
              ? n._setText('' + s)
              : l === 'matrix' && s
              ? eo(n)
              : ft[l] && o.setAttribute(ft[l], s);
          }),
          o.setAttribute('paint-order', 'stroke'),
          o.setAttribute('style', 'stroke-linecap:butt; stroke-linejoin:miter;');
      }),
      (r.prototype._setFont = function () {
        var t = this.get('el'),
          i = this.attr(),
          n = i.textBaseline,
          a = i.textAlign,
          o = jg();
        o && o.name === 'firefox'
          ? t.setAttribute('dominant-baseline', xI[n] || 'alphabetic')
          : t.setAttribute('alignment-baseline', mI[n] || 'baseline'),
          t.setAttribute('text-anchor', wI[a] || 'left');
      }),
      (r.prototype._setText = function (t) {
        var i = this.get('el'),
          n = this.attr(),
          a = n.x,
          o = n.textBaseline,
          s = o === void 0 ? 'bottom' : o;
        if (!t) i.innerHTML = '';
        else if (
          ~t.indexOf(`
`)
        ) {
          var l = t.split(`
`),
            u = l.length - 1,
            c = '';
          A(l, function (h, f) {
            f === 0
              ? s === 'alphabetic'
                ? (c += '<tspan x="' + a + '" dy="' + -u + 'em">' + h + '</tspan>')
                : s === 'top'
                ? (c += '<tspan x="' + a + '" dy="0.9em">' + h + '</tspan>')
                : s === 'middle'
                ? (c += '<tspan x="' + a + '" dy="' + -(u - 1) / 2 + 'em">' + h + '</tspan>')
                : s === 'bottom'
                ? (c += '<tspan x="' + a + '" dy="-' + (u + Nd) + 'em">' + h + '</tspan>')
                : s === 'hanging' &&
                  (c += '<tspan x="' + a + '" dy="' + (-(u - 1) - Nd) + 'em">' + h + '</tspan>')
              : (c += '<tspan x="' + a + '" dy="1em">' + h + '</tspan>');
          }),
            (i.innerHTML = c);
        } else i.innerHTML = t;
      }),
      r
    );
  })(ze),
  SI = /^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,
  CI = /^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,
  AI = /[\d.]+:(#[^\s]+|[^)]+\))/gi;
function w0(e) {
  var r = e.match(AI);
  if (!r) return '';
  var t = '';
  return (
    r.sort(function (i, n) {
      return (i = i.split(':')), (n = n.split(':')), Number(i[0]) - Number(n[0]);
    }),
    A(r, function (i) {
      (i = i.split(':')), (t += '<stop offset="' + i[0] + '" stop-color="' + i[1] + '"></stop>');
    }),
    t
  );
}
function MI(e, r) {
  var t = SI.exec(e),
    i = Vc(Yc(parseFloat(t[1])), Math.PI * 2),
    n = t[2],
    a,
    o;
  i >= 0 && i < 0.5 * Math.PI
    ? ((a = { x: 0, y: 0 }), (o = { x: 1, y: 1 }))
    : 0.5 * Math.PI <= i && i < Math.PI
    ? ((a = { x: 1, y: 0 }), (o = { x: 0, y: 1 }))
    : Math.PI <= i && i < 1.5 * Math.PI
    ? ((a = { x: 1, y: 1 }), (o = { x: 0, y: 0 }))
    : ((a = { x: 0, y: 1 }), (o = { x: 1, y: 0 }));
  var s = Math.tan(i),
    l = s * s,
    u = (o.x - a.x + s * (o.y - a.y)) / (l + 1) + a.x,
    c = (s * (o.x - a.x + s * (o.y - a.y))) / (l + 1) + a.y;
  r.setAttribute('x1', a.x),
    r.setAttribute('y1', a.y),
    r.setAttribute('x2', u),
    r.setAttribute('y2', c),
    (r.innerHTML = w0(n));
}
function FI(e, r) {
  var t = CI.exec(e),
    i = parseFloat(t[1]),
    n = parseFloat(t[2]),
    a = parseFloat(t[3]),
    o = t[4];
  r.setAttribute('cx', i), r.setAttribute('cy', n), r.setAttribute('r', a), (r.innerHTML = w0(o));
}
var EI = (function () {
    function e(r) {
      this.cfg = {};
      var t = null,
        i = ii('gradient_');
      return (
        r.toLowerCase()[0] === 'l'
          ? ((t = $e('linearGradient')), MI(r, t))
          : ((t = $e('radialGradient')), FI(r, t)),
        t.setAttribute('id', i),
        (this.el = t),
        (this.id = i),
        (this.cfg = r),
        this
      );
    }
    return (
      (e.prototype.match = function (r, t) {
        return this.cfg === t;
      }),
      e
    );
  })(),
  TI = {
    shadowColor: 'color',
    shadowOpacity: 'opacity',
    shadowBlur: 'blur',
    shadowOffsetX: 'dx',
    shadowOffsetY: 'dy',
  },
  kI = { x: '-40%', y: '-40%', width: '200%', height: '200%' },
  II = (function () {
    function e(r) {
      (this.type = 'filter'), (this.cfg = {}), (this.type = 'filter');
      var t = $e('filter');
      return (
        A(kI, function (i, n) {
          t.setAttribute(n, i);
        }),
        (this.el = t),
        (this.id = ii('filter_')),
        (this.el.id = this.id),
        (this.cfg = r),
        this._parseShadow(r, t),
        this
      );
    }
    return (
      (e.prototype.match = function (r, t) {
        if (this.type !== r) return !1;
        var i = !0,
          n = this.cfg;
        return (
          A(Object.keys(n), function (a) {
            if (n[a] !== t[a]) return (i = !1), !1;
          }),
          i
        );
      }),
      (e.prototype.update = function (r, t) {
        var i = this.cfg;
        return (i[TI[r]] = t), this._parseShadow(i, this.el), this;
      }),
      (e.prototype._parseShadow = function (r, t) {
        var i =
          `<feDropShadow
      dx="` +
          (r.dx || 0) +
          `"
      dy="` +
          (r.dy || 0) +
          `"
      stdDeviation="` +
          (r.blur ? r.blur / 10 : 0) +
          `"
      flood-color="` +
          (r.color ? r.color : '#000') +
          `"
      flood-opacity="` +
          (r.opacity ? r.opacity : 1) +
          `"
      />`;
        t.innerHTML = i;
      }),
      e
    );
  })(),
  zd = (function () {
    function e(r, t) {
      this.cfg = {};
      var i = $e('marker'),
        n = ii('marker_');
      i.setAttribute('id', n);
      var a = $e('path');
      a.setAttribute('stroke', r.stroke || 'none'),
        a.setAttribute('fill', r.fill || 'none'),
        i.appendChild(a),
        i.setAttribute('overflow', 'visible'),
        i.setAttribute('orient', 'auto-start-reverse'),
        (this.el = i),
        (this.child = a),
        (this.id = n);
      var o = r[t === 'marker-start' ? 'startArrow' : 'endArrow'];
      return (
        (this.stroke = r.stroke || '#000'),
        o === !0 ? this._setDefaultPath(t, a) : ((this.cfg = o), this._setMarker(r.lineWidth, a)),
        this
      );
    }
    return (
      (e.prototype.match = function () {
        return !1;
      }),
      (e.prototype._setDefaultPath = function (r, t) {
        var i = this.el;
        t.setAttribute('d', 'M0,0 L' + 10 * Math.cos(Math.PI / 6) + ',5 L0,10'),
          i.setAttribute('refX', '' + 10 * Math.cos(Math.PI / 6)),
          i.setAttribute('refY', '5');
      }),
      (e.prototype._setMarker = function (r, t) {
        var i = this.el,
          n = this.cfg.path,
          a = this.cfg.d;
        $(n) &&
          (n = n
            .map(function (o) {
              return o.join(' ');
            })
            .join('')),
          t.setAttribute('d', n),
          i.appendChild(t),
          a && i.setAttribute('refX', '' + a / r);
      }),
      (e.prototype.update = function (r) {
        var t = this.child;
        t.attr ? t.attr('fill', r) : t.setAttribute('fill', r);
      }),
      e
    );
  })(),
  LI = (function () {
    function e(r) {
      (this.type = 'clip'), (this.cfg = {});
      var t = $e('clipPath');
      (this.el = t), (this.id = ii('clip_')), (t.id = this.id);
      var i = r.cfg.el;
      return t.appendChild(i), (this.cfg = r), this;
    }
    return (
      (e.prototype.match = function () {
        return !1;
      }),
      (e.prototype.remove = function () {
        var r = this.el;
        r.parentNode.removeChild(r);
      }),
      e
    );
  })(),
  OI = /^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,
  PI = (function () {
    function e(r) {
      this.cfg = {};
      var t = $e('pattern');
      t.setAttribute('patternUnits', 'userSpaceOnUse');
      var i = $e('image');
      t.appendChild(i);
      var n = ii('pattern_');
      (t.id = n), (this.el = t), (this.id = n), (this.cfg = r);
      var a = OI.exec(r),
        o = a[2];
      i.setAttribute('href', o);
      var s = new Image();
      o.match(/^data:/i) || (s.crossOrigin = 'Anonymous'), (s.src = o);
      function l() {
        t.setAttribute('width', '' + s.width), t.setAttribute('height', '' + s.height);
      }
      return s.complete ? l() : ((s.onload = l), (s.src = s.src)), this;
    }
    return (
      (e.prototype.match = function (r, t) {
        return this.cfg === t;
      }),
      e
    );
  })(),
  DI = (function () {
    function e(r) {
      var t = $e('defs'),
        i = ii('defs_');
      (t.id = i),
        r.appendChild(t),
        (this.children = []),
        (this.defaultArrow = {}),
        (this.el = t),
        (this.canvas = r);
    }
    return (
      (e.prototype.find = function (r, t) {
        for (var i = this.children, n = null, a = 0; a < i.length; a++)
          if (i[a].match(r, t)) {
            n = i[a].id;
            break;
          }
        return n;
      }),
      (e.prototype.findById = function (r) {
        for (var t = this.children, i = null, n = 0; n < t.length; n++)
          if (t[n].id === r) {
            i = t[n];
            break;
          }
        return i;
      }),
      (e.prototype.add = function (r) {
        this.children.push(r), (r.canvas = this.canvas), (r.parent = this);
      }),
      (e.prototype.getDefaultArrow = function (r, t) {
        var i = r.stroke || r.strokeStyle;
        if (this.defaultArrow[i]) return this.defaultArrow[i].id;
        var n = new zd(r, t);
        return (this.defaultArrow[i] = n), this.el.appendChild(n.el), this.add(n), n.id;
      }),
      (e.prototype.addGradient = function (r) {
        var t = new EI(r);
        return this.el.appendChild(t.el), this.add(t), t.id;
      }),
      (e.prototype.addArrow = function (r, t) {
        var i = new zd(r, t);
        return this.el.appendChild(i.el), this.add(i), i.id;
      }),
      (e.prototype.addShadow = function (r) {
        var t = new II(r);
        return this.el.appendChild(t.el), this.add(t), t.id;
      }),
      (e.prototype.addPattern = function (r) {
        var t = new PI(r);
        return this.el.appendChild(t.el), this.add(t), t.id;
      }),
      (e.prototype.addClip = function (r) {
        var t = new LI(r);
        return this.el.appendChild(t.el), this.add(t), t.id;
      }),
      e
    );
  })(),
  BI = (function (e) {
    I(r, e);
    function r(t) {
      return e.call(this, x(x({}, t), { autoDraw: !0, renderer: 'svg' })) || this;
    }
    return (
      (r.prototype.getShapeBase = function () {
        return Ns;
      }),
      (r.prototype.getGroupBase = function () {
        return Bh;
      }),
      (r.prototype.getShape = function (t, i, n) {
        var a = n.target || n.srcElement;
        if (!yc[a.tagName]) {
          for (var o = a.parentNode; o && !yc[o.tagName]; ) o = o.parentNode;
          a = o;
        }
        return this.find(function (s) {
          return s.get('el') === a;
        });
      }),
      (r.prototype.createDom = function () {
        var t = $e('svg'),
          i = new DI(t);
        return (
          t.setAttribute('width', '' + this.get('width')),
          t.setAttribute('height', '' + this.get('height')),
          this.set('context', i),
          t
        );
      }),
      (r.prototype.onCanvasChange = function (t) {
        var i = this.get('context'),
          n = this.get('el');
        if (t === 'sort') {
          var a = this.get('children');
          a &&
            a.length &&
            y0(this, function (s, l) {
              return a.indexOf(s) - a.indexOf(l) ? 1 : 0;
            });
        } else if (t === 'clear') {
          if (n) {
            n.innerHTML = '';
            var o = i.el;
            (o.innerHTML = ''), n.appendChild(o);
          }
        } else
          t === 'matrix'
            ? eo(this)
            : t === 'clip'
            ? Ra(this, i)
            : t === 'changeSize' &&
              (n.setAttribute('width', '' + this.get('width')),
              n.setAttribute('height', '' + this.get('height')));
      }),
      (r.prototype.draw = function () {
        var t = this.get('context'),
          i = this.getChildren();
        Ra(this, t), i.length && m0(t, i);
      }),
      r
    );
  })(qs),
  RI = '0.5.6';
const $I = Object.freeze(
  Object.defineProperty(
    {
      __proto__: null,
      AbstractCanvas: qs,
      AbstractGroup: Zs,
      AbstractShape: Ks,
      Base: Xs,
      Canvas: BI,
      Event: ja,
      Group: Bh,
      PathUtil: Uc,
      Shape: Ns,
      assembleFont: rl,
      getBBoxMethod: Qs,
      getOffScreenContext: tl,
      getTextHeight: el,
      invert: js,
      isAllowCapture: wa,
      multiplyVec2: gr,
      registerBBox: Ne,
      registerEasing: dy,
      version: RI,
    },
    Symbol.toStringTag,
    { value: 'Module' },
  ),
);
var Rh = (function (e) {
  I(r, e);
  function r(t) {
    var i = e.call(this, t) || this;
    (i.type = 'path'), (i.shapeType = 'line');
    var n = t.connectNulls,
      a = n === void 0 ? !1 : n,
      o = t.showSinglePoint,
      s = o === void 0 ? !0 : o;
    return (i.connectNulls = a), (i.showSinglePoint = s), i;
  }
  return (
    (r.prototype.updateElements = function (t, i) {
      var n, a, o, s, l, u;
      i === void 0 && (i = !1);
      for (var c = new Map(), h = new Map(), f = [], v = 0, d = 0; d < t.length; d++) {
        var p = t[d],
          g = this.getElementId(p);
        f.push(g), c.set(g, p), h.set(g, v), v++;
      }
      this.elements = new Array(v);
      var y = jm(this.lastElementsMap, f),
        m = y.added,
        b = y.updated,
        w = y.removed;
      try {
        for (var S = vt(m), C = S.next(); !C.done; C = S.next()) {
          var g = C.value,
            p = c.get(g),
            F = this.getShapeFactory(),
            E = this.getShapeInfo(p),
            d = h.get(g),
            k = new Ym({
              shapeFactory: F,
              container: this.container,
              offscreenGroup: this.getOffscreenGroup(),
              elementIndex: d,
            });
          (k.geometry = this),
            (k.animate = this.animateOption),
            k.draw(E, i),
            (this.elementsMap[g] = k),
            (this.elements[d] = k);
        }
      } catch (j) {
        n = { error: j };
      } finally {
        try {
          C && !C.done && (a = S.return) && a.call(S);
        } finally {
          if (n) throw n.error;
        }
      }
      try {
        for (var T = vt(b), O = T.next(); !O.done; O = T.next()) {
          var g = O.value,
            p = c.get(g),
            k = this.lastElementsMap[g],
            d = h.get(g),
            E = this.getShapeInfo(p),
            P = k.getModel();
          (this.isCoordinateChanged || _m(P, E)) && ((k.animate = this.animateOption), k.update(E)),
            (this.elementsMap[g] = k),
            (this.elements[d] = k);
        }
      } catch (j) {
        o = { error: j };
      } finally {
        try {
          O && !O.done && (s = T.return) && s.call(T);
        } finally {
          if (o) throw o.error;
        }
      }
      try {
        for (var z = vt(w), W = z.next(); !W.done; W = z.next()) {
          var g = W.value,
            k = this.lastElementsMap[g];
          (k.animate = this.animateOption), k.destroy();
        }
      } catch (j) {
        l = { error: j };
      } finally {
        try {
          W && !W.done && (u = z.return) && u.call(z);
        } finally {
          if (l) throw l.error;
        }
      }
    }),
    (r.prototype.getPointsAndData = function (t) {
      for (var i = [], n = [], a = 0, o = t.length; a < o; a++) {
        var s = t[a];
        i.push({ x: s.x, y: s.y }), n.push(s[St]);
      }
      return { points: i, data: n };
    }),
    (r.prototype.getShapeInfo = function (t) {
      var i = this.getDrawCfg(t[0]),
        n = this.getPointsAndData(t),
        a = n.points,
        o = n.data;
      return (
        (i.mappingData = t),
        (i.data = o),
        (i.isStack = !!this.getAdjust('stack')),
        (i.points = a),
        (i.connectNulls = this.connectNulls),
        (i.showSinglePoint = this.showSinglePoint),
        i
      );
    }),
    r
  );
})(ai);
function NI(e, r, t, i, n) {
  var a = [];
  if (e.length) {
    for (var o = [], s = [], l = 0, u = e.length; l < u; l++) {
      var c = e[l];
      o.push(c[1]), s.push(c[0]);
    }
    (s = s.reverse()),
      A([o, s], function (h, f) {
        var v = [],
          d = i.parsePoints(h),
          p = d[0];
        o.length === 1 && s.length === 1
          ? (v =
              f === 0
                ? [
                    ['M', p.x - 0.5, p.y],
                    ['L', p.x + 0.5, p.y],
                  ]
                : [
                    ['L', p.x + 0.5, p.y],
                    ['L', p.x - 0.5, p.y],
                  ])
          : (r && d.push({ x: p.x, y: p.y }),
            t ? (v = Ss(d, !1, n)) : (v = Qa(d, !1)),
            f > 0 && (v[0][0] = 'L')),
          (a = a.concat(v));
      }),
      a.push(['Z']);
  }
  return a;
}
function wl(e, r, t, i, n) {
  for (
    var a = Nt(e, r, !r, 'lineWidth'),
      o = e.connectNulls,
      s = e.isInCircle,
      l = e.points,
      u = e.showSinglePoint,
      c = xl(l, o, u),
      h = [],
      f = 0,
      v = c.length;
    f < v;
    f++
  ) {
    var d = c[f];
    h = h.concat(NI(d, s, t, i, n));
  }
  return (a.path = h), a;
}
function b0(e) {
  var r = e.start,
    t = e.end;
  return [
    [r.x, t.y],
    [t.x, r.y],
  ];
}
ni('area', {
  defaultShapeType: 'area',
  getDefaultPoints: function (e) {
    var r = e.x,
      t = e.y0,
      i = $(e.y) ? e.y : [t, e.y];
    return i.map(function (n) {
      return { x: r, y: n };
    });
  },
});
dt('area', 'area', {
  draw: function (e, r) {
    var t = wl(e, !1, !1, this),
      i = r.addShape({ type: 'path', attrs: t, name: 'area' });
    return i;
  },
  getMarker: function (e) {
    var r = e.color;
    return {
      symbol: function (t, i, n) {
        return (
          n === void 0 && (n = 5.5),
          [
            ['M', t - n, i - 4],
            ['L', t + n, i - 4],
            ['L', t + n, i + 4],
            ['L', t - n, i + 4],
            ['Z'],
          ]
        );
      },
      style: { r: 5, fill: r, fillOpacity: 1 },
    };
  },
});
var zI = (function (e) {
  I(r, e);
  function r(t) {
    var i = e.call(this, t) || this;
    (i.type = 'area'), (i.shapeType = 'area'), (i.generatePoints = !0), (i.startOnZero = !0);
    var n = t.startOnZero,
      a = n === void 0 ? !0 : n,
      o = t.sortable,
      s = o === void 0 ? !1 : o,
      l = t.showSinglePoint,
      u = l === void 0 ? !1 : l;
    return (i.startOnZero = a), (i.sortable = s), (i.showSinglePoint = u), i;
  }
  return (
    (r.prototype.getPointsAndData = function (t) {
      for (var i = [], n = [], a = 0, o = t.length; a < o; a++) {
        var s = t[a];
        i.push(s.points), n.push(s[St]);
      }
      return { points: i, data: n };
    }),
    (r.prototype.getYMinValue = function () {
      if (this.startOnZero) return e.prototype.getYMinValue.call(this);
      var t = this.getYScale();
      return t.min;
    }),
    r
  );
})(Rh);
ni('edge', {
  defaultShapeType: 'line',
  getDefaultPoints: function (e) {
    return Th(e);
  },
});
dt('edge', 'line', {
  draw: function (e, r) {
    var t = Nt(e, !0, !1, 'lineWidth'),
      i = Qa(this.parsePoints(e.points), this.coordinate.isPolar);
    return r.addShape('path', { attrs: x(x({}, t), { path: i }) });
  },
  getMarker: function (e) {
    return { symbol: 'circle', style: { r: 4.5, fill: e.color } };
  },
});
var GI = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'edge'), (t.shapeType = 'edge'), (t.generatePoints = !0), t;
    }
    return r;
  })(ai),
  HI = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'heatmap'), (t.paletteCache = {}), t;
    }
    return (
      (r.prototype.updateElements = function (t, i) {
        for (var n = 0; n < t.length; n++) {
          var a = t[n],
            o = this.prepareRange(a),
            s = this.prepareSize(),
            l = M(this.styleOption, ['cfg', 'shadowBlur']);
          it(l) || (l = s / 2),
            this.prepareGreyScaleBlurredCircle(s, l),
            this.drawWithRange(a, o, s, l);
        }
      }),
      (r.prototype.color = function (t, i) {
        return this.createAttrOption('color', t, typeof i != 'function' ? i : ''), this;
      }),
      (r.prototype.clear = function () {
        e.prototype.clear.call(this), this.clearShadowCanvasCtx(), (this.paletteCache = {});
      }),
      (r.prototype.prepareRange = function (t) {
        var i = this.getAttribute('color'),
          n = i.getFields()[0],
          a = 1 / 0,
          o = -1 / 0;
        return (
          t.forEach(function (s) {
            var l = s[St][n];
            l > o && (o = l), l < a && (a = l);
          }),
          a === o && (a = o - 1),
          [a, o]
        );
      }),
      (r.prototype.prepareSize = function () {
        var t = this.getDefaultValue('size');
        return it(t) || (t = this.getDefaultSize()), t;
      }),
      (r.prototype.prepareGreyScaleBlurredCircle = function (t, i) {
        var n = this.getGrayScaleBlurredCanvas(),
          a = t + i,
          o = n.getContext('2d');
        (n.width = n.height = a * 2),
          o.clearRect(0, 0, n.width, n.height),
          (o.shadowOffsetX = o.shadowOffsetY = a * 2),
          (o.shadowBlur = i),
          (o.shadowColor = 'black'),
          o.beginPath(),
          o.arc(-a, -a, t, 0, Math.PI * 2, !0),
          o.closePath(),
          o.fill();
      }),
      (r.prototype.drawWithRange = function (t, i, n, a) {
        var o,
          s,
          l = this.coordinate,
          u = l.start,
          c = l.end,
          h = this.coordinate.getWidth(),
          f = this.coordinate.getHeight(),
          v = this.getAttribute('color'),
          d = v.getFields()[0];
        this.clearShadowCanvasCtx();
        var p = this.getShadowCanvasCtx();
        i &&
          (t = t.filter(function (T) {
            return T[St][d] <= i[1] && T[St][d] >= i[0];
          }));
        var g = this.scales[d];
        try {
          for (var y = vt(t), m = y.next(); !m.done; m = y.next()) {
            var b = m.value,
              w = this.getDrawCfg(b),
              S = w.x,
              C = w.y,
              F = g.scale(b[St][d]);
            this.drawGrayScaleBlurredCircle(S - u.x, C - c.y, n + a, F, p);
          }
        } catch (T) {
          o = { error: T };
        } finally {
          try {
            m && !m.done && (s = y.return) && s.call(y);
          } finally {
            if (o) throw o.error;
          }
        }
        var E = p.getImageData(0, 0, h, f);
        this.clearShadowCanvasCtx(), this.colorize(E), p.putImageData(E, 0, 0);
        var k = this.getImageShape();
        k.attr('x', u.x),
          k.attr('y', c.y),
          k.attr('width', h),
          k.attr('height', f),
          k.attr('img', p.canvas),
          k.set('origin', this.getShapeInfo(t));
      }),
      (r.prototype.getDefaultSize = function () {
        var t = this.getAttribute('position'),
          i = this.coordinate;
        return Math.min(
          i.getWidth() / (t.scales[0].ticks.length * 4),
          i.getHeight() / (t.scales[1].ticks.length * 4),
        );
      }),
      (r.prototype.clearShadowCanvasCtx = function () {
        var t = this.getShadowCanvasCtx();
        t.clearRect(0, 0, t.canvas.width, t.canvas.height);
      }),
      (r.prototype.getShadowCanvasCtx = function () {
        var t = this.shadowCanvas;
        return (
          t || ((t = document.createElement('canvas')), (this.shadowCanvas = t)),
          (t.width = this.coordinate.getWidth()),
          (t.height = this.coordinate.getHeight()),
          t.getContext('2d')
        );
      }),
      (r.prototype.getGrayScaleBlurredCanvas = function () {
        return (
          this.grayScaleBlurredCanvas ||
            (this.grayScaleBlurredCanvas = document.createElement('canvas')),
          this.grayScaleBlurredCanvas
        );
      }),
      (r.prototype.drawGrayScaleBlurredCircle = function (t, i, n, a, o) {
        var s = this.getGrayScaleBlurredCanvas();
        (o.globalAlpha = a), o.drawImage(s, t - n, i - n);
      }),
      (r.prototype.colorize = function (t) {
        for (
          var i = this.getAttribute('color'), n = t.data, a = this.paletteCache, o = 3;
          o < n.length;
          o += 4
        ) {
          var s = n[o];
          if (it(s)) {
            var l = a[s] ? a[s] : Yr.rgb2arr(i.gradient(s / 256));
            (n[o - 3] = l[0]), (n[o - 2] = l[1]), (n[o - 1] = l[2]), (n[o] = s);
          }
        }
      }),
      (r.prototype.getImageShape = function () {
        var t = this.imageShape;
        if (t) return t;
        var i = this.container;
        return (t = i.addShape({ type: 'image', attrs: {} })), (this.imageShape = t), t;
      }),
      (r.prototype.getShapeInfo = function (t) {
        var i = this.getDrawCfg(t[0]),
          n = t.map(function (a) {
            return a[St];
          });
        return x(x({}, i), { mappingData: t, data: n });
      }),
      r
    );
  })(ai);
function $h(e) {
  var r,
    t,
    i = e.x,
    n = e.y,
    a = e.y0,
    o = e.size,
    s,
    l;
  $(n) ? ((r = K(n, 2)), (s = r[0]), (l = r[1])) : ((s = a), (l = n));
  var u, c;
  $(i) ? ((t = K(i, 2)), (u = t[0]), (c = t[1])) : ((u = i - o / 2), (c = i + o / 2));
  var h = [
    { x: u, y: s },
    { x: u, y: l },
  ];
  return h.push({ x: c, y: l }, { x: c, y: s }), h;
}
function Nh(e, r) {
  r === void 0 && (r = !0);
  var t = [],
    i = e[0];
  t.push(['M', i.x, i.y]);
  for (var n = 1, a = e.length; n < a; n++) t.push(['L', e[n].x, e[n].y]);
  return r && (t.push(['L', i.x, i.y]), t.push(['z'])), t;
}
function S0(e, r) {
  var t = 0,
    i = 0,
    n = 0,
    a = 0;
  return (
    $(e)
      ? e.length === 1
        ? (t = i = n = a = e[0])
        : e.length === 2
        ? ((t = n = e[0]), (i = a = e[1]))
        : e.length === 3
        ? ((t = e[0]), (i = a = e[1]), (n = e[2]))
        : ((t = e[0]), (i = e[1]), (n = e[2]), (a = e[3]))
      : (t = i = n = a = e),
    t + i > r && ((t = t ? r / (1 + i / t) : 0), (i = r - t)),
    n + a > r && ((n = n ? r / (1 + a / n) : 0), (a = r - n)),
    [t || 0, i || 0, n || 0, a || 0]
  );
}
function C0(e, r, t) {
  var i = [];
  if (t.isRect) {
    var n = t.isTransposed ? { x: t.start.x, y: r[0].y } : { x: r[0].x, y: t.start.y },
      a = t.isTransposed ? { x: t.end.x, y: r[2].y } : { x: r[3].x, y: t.end.y },
      o = M(e, ['background', 'style', 'radius']);
    if (o) {
      var s = t.isTransposed ? Math.abs(r[0].y - r[2].y) : r[2].x - r[1].x,
        l = t.isTransposed ? t.getWidth() : t.getHeight(),
        u = K(S0(o, Math.min(s, l)), 4),
        c = u[0],
        h = u[1],
        f = u[2],
        v = u[3],
        d = t.isTransposed && t.isReflect('y'),
        p = d ? 0 : 1,
        g = function (C) {
          return d ? -C : C;
        };
      i.push(['M', n.x, a.y + g(c)]),
        c !== 0 && i.push(['A', c, c, 0, 0, p, n.x + c, a.y]),
        i.push(['L', a.x - h, a.y]),
        h !== 0 && i.push(['A', h, h, 0, 0, p, a.x, a.y + g(h)]),
        i.push(['L', a.x, n.y - g(f)]),
        f !== 0 && i.push(['A', f, f, 0, 0, p, a.x - f, n.y]),
        i.push(['L', n.x + v, n.y]),
        v !== 0 && i.push(['A', v, v, 0, 0, p, n.x, n.y - g(v)]);
    } else
      i.push(['M', n.x, n.y]),
        i.push(['L', a.x, n.y]),
        i.push(['L', a.x, a.y]),
        i.push(['L', n.x, a.y]),
        i.push(['L', n.x, n.y]);
    i.push(['z']);
  }
  if (t.isPolar) {
    var y = t.getCenter(),
      m = La(e, t),
      b = m.startAngle,
      w = m.endAngle;
    if (t.type !== 'theta' && !t.isTransposed) i = Wr(y.x, y.y, t.getRadius(), b, w);
    else {
      var S = function (E) {
          return Math.pow(E, 2);
        },
        c = Math.sqrt(S(y.x - r[0].x) + S(y.y - r[0].y)),
        h = Math.sqrt(S(y.x - r[2].x) + S(y.y - r[2].y));
      i = Wr(y.x, y.y, c, t.startAngle, t.endAngle, h);
    }
  }
  return i;
}
function VI(e, r, t) {
  var i = t.getWidth(),
    n = t.getHeight(),
    a = t.type === 'rect',
    o = [],
    s = (e[2].x - e[1].x) / 2,
    l = t.isTransposed ? (s * n) / i : (s * i) / n;
  return (
    r === 'round'
      ? (a
          ? (o.push(['M', e[0].x, e[0].y + l]),
            o.push(['L', e[1].x, e[1].y - l]),
            o.push(['A', s, s, 0, 0, 1, e[2].x, e[2].y - l]),
            o.push(['L', e[3].x, e[3].y + l]),
            o.push(['A', s, s, 0, 0, 1, e[0].x, e[0].y + l]))
          : (o.push(['M', e[0].x, e[0].y]),
            o.push(['L', e[1].x, e[1].y]),
            o.push(['A', s, s, 0, 0, 1, e[2].x, e[2].y]),
            o.push(['L', e[3].x, e[3].y]),
            o.push(['A', s, s, 0, 0, 1, e[0].x, e[0].y])),
        o.push(['z']))
      : (o = Nh(e)),
    o
  );
}
function A0(e, r, t) {
  var i = [];
  return (
    R(r)
      ? t
        ? i.push(
            ['M', e[0].x, e[0].y],
            ['L', e[1].x, e[1].y],
            ['L', (e[2].x + e[3].x) / 2, (e[2].y + e[3].y) / 2],
            ['Z'],
          )
        : i.push(
            ['M', e[0].x, e[0].y],
            ['L', e[1].x, e[1].y],
            ['L', e[2].x, e[2].y],
            ['L', e[3].x, e[3].y],
            ['Z'],
          )
      : i.push(
          ['M', e[0].x, e[0].y],
          ['L', e[1].x, e[1].y],
          ['L', r[1].x, r[1].y],
          ['L', r[0].x, r[0].y],
          ['Z'],
        ),
    i
  );
}
function Un(e, r) {
  return [r, e];
}
function YI(e, r, t) {
  var i,
    n,
    a,
    o,
    s,
    l,
    u,
    c = K(Et([], K(e), !1), 4),
    h = c[0],
    f = c[1],
    v = c[2],
    d = c[3],
    p = K(typeof t == 'number' ? Array(4).fill(t) : t, 4),
    g = p[0],
    y = p[1],
    m = p[2],
    b = p[3];
  r.isTransposed && ((i = K(Un(f, d), 2)), (f = i[0]), (d = i[1])),
    r.isReflect('y') &&
      ((n = K(Un(h, f), 2)), (h = n[0]), (f = n[1]), (a = K(Un(v, d), 2)), (v = a[0]), (d = a[1])),
    r.isReflect('x') &&
      ((o = K(Un(h, d), 2)), (h = o[0]), (d = o[1]), (s = K(Un(f, v), 2)), (f = s[0]), (v = s[1]));
  var w = [],
    S = function (C) {
      return Math.abs(C);
    };
  return (
    (l = K(
      S0([g, y, m, b], Math.min(S(d.x - h.x), S(f.y - h.y))).map(function (C) {
        return S(C);
      }),
      4,
    )),
    (g = l[0]),
    (y = l[1]),
    (m = l[2]),
    (b = l[3]),
    r.isTransposed && ((u = K([b, g, y, m], 4)), (g = u[0]), (y = u[1]), (m = u[2]), (b = u[3])),
    h.y < f.y
      ? (w.push(['M', d.x, d.y + m]),
        m !== 0 && w.push(['A', m, m, 0, 0, 0, d.x - m, d.y]),
        w.push(['L', h.x + b, h.y]),
        b !== 0 && w.push(['A', b, b, 0, 0, 0, h.x, h.y + b]),
        w.push(['L', f.x, f.y - g]),
        g !== 0 && w.push(['A', g, g, 0, 0, 0, f.x + g, f.y]),
        w.push(['L', v.x - y, v.y]),
        y !== 0 && w.push(['A', y, y, 0, 0, 0, v.x, v.y - y]),
        w.push(['L', d.x, d.y + m]),
        w.push(['z']))
      : d.x < h.x
      ? (w.push(['M', v.x + y, v.y]),
        y !== 0 && w.push(['A', y, y, 0, 0, 0, v.x, v.y + y]),
        w.push(['L', d.x, d.y - m]),
        m !== 0 && w.push(['A', m, m, 0, 0, 0, d.x + m, d.y]),
        w.push(['L', h.x - b, h.y]),
        b !== 0 && w.push(['A', b, b, 0, 0, 0, h.x, h.y - b]),
        w.push(['L', f.x, f.y + g]),
        g !== 0 && w.push(['A', g, g, 0, 0, 0, f.x - g, f.y]),
        w.push(['L', v.x + y, v.y]),
        w.push(['z']))
      : (w.push(['M', f.x, f.y + g]),
        g !== 0 && w.push(['A', g, g, 0, 0, 1, f.x + g, f.y]),
        w.push(['L', v.x - y, v.y]),
        y !== 0 && w.push(['A', y, y, 0, 0, 1, v.x, v.y + y]),
        w.push(['L', d.x, d.y - m]),
        m !== 0 && w.push(['A', m, m, 0, 0, 1, d.x - m, d.y]),
        w.push(['L', h.x + b, h.y]),
        b !== 0 && w.push(['A', b, b, 0, 0, 1, h.x, h.y - b]),
        w.push(['L', f.x, f.y + g]),
        w.push(['z'])),
    w
  );
}
ni('interval', {
  defaultShapeType: 'rect',
  getDefaultPoints: function (e) {
    return $h(e);
  },
});
dt('interval', 'rect', {
  draw: function (e, r) {
    var t = Nt(e, !1, !0),
      i = r,
      n = e == null ? void 0 : e.background;
    if (n) {
      i = r.addGroup({ name: 'interval-group' });
      var a = t0(e),
        o = C0(e, this.parsePoints(e.points), this.coordinate);
      i.addShape('path', { attrs: x(x({}, a), { path: o }), zIndex: -1, name: Mh });
    }
    var s;
    t.radius && this.coordinate.isRect
      ? (s = YI(this.parsePoints(e.points), this.coordinate, t.radius))
      : (s = this.parsePath(VI(e.points, t.lineCap, this.coordinate)));
    var l = i.addShape('path', { attrs: x(x({}, t), { path: s }), name: 'interval' });
    return n ? i : l;
  },
  getMarker: function (e) {
    var r = e.color,
      t = e.isInPolar;
    return t
      ? { symbol: 'circle', style: { r: 4.5, fill: r } }
      : { symbol: 'square', style: { r: 4, fill: r } };
  },
});
function WI(e, r) {
  var t = e.length,
    i = e;
  et(i[0]) &&
    (i = e.map(function (s) {
      return r.translate(s);
    }));
  for (var n = i[1] - i[0], a = 2; a < t; a++) {
    var o = i[a] - i[a - 1];
    n > o && (n = o);
  }
  return n;
}
function XI(e, r) {
  if (r) {
    var t = Te(e),
      i = _e(t, r);
    return i.length;
  }
  return e.length;
}
function zh(e) {
  var r = e.theme,
    t = e.coordinate,
    i = e.getXScale(),
    n = i.values,
    a = e.beforeMappingData,
    o = n.length,
    s = Ka(e.coordinate),
    l = e.intervalPadding,
    u = e.dodgePadding,
    c = e.maxColumnWidth || r.maxColumnWidth,
    h = e.minColumnWidth || r.minColumnWidth,
    f = e.columnWidthRatio || r.columnWidthRatio,
    v = e.multiplePieWidthRatio || r.multiplePieWidthRatio,
    d = e.roseWidthRatio || r.roseWidthRatio;
  if (i.isLinear && n.length > 1) {
    n.sort();
    var p = WI(n, i);
    (o = (i.max - i.min) / p), n.length > o && (o = n.length);
  }
  var g = i.range,
    y = 1 / o,
    m = 1;
  if (
    (t.isPolar
      ? t.isTransposed && o > 1
        ? (m = v)
        : (m = d)
      : (i.isLinear && (y *= g[1] - g[0]), (m = f)),
    !R(l) && l >= 0)
  ) {
    var b = l / s;
    y = (1 - (o - 1) * b) / o;
  } else y *= m;
  if (e.getAdjust('dodge')) {
    var w = e.getAdjust('dodge'),
      S = w.dodgeBy,
      C = XI(a, S);
    if (!R(u) && u >= 0) {
      var F = u / s;
      y = (y - F * (C - 1)) / C;
    } else !R(l) && l >= 0 && (y *= m), (y = y / C);
    y = y >= 0 ? y : 0;
  }
  if (!R(c) && c >= 0) {
    var E = c / s;
    y > E && (y = E);
  }
  if (!R(h) && h >= 0) {
    var k = h / s;
    y < k && (y = k);
  }
  return y;
}
var _I = (function (e) {
    I(r, e);
    function r(t) {
      var i = e.call(this, t) || this;
      (i.type = 'interval'), (i.shapeType = 'interval'), (i.generatePoints = !0);
      var n = t.background;
      return (i.background = n), i;
    }
    return (
      (r.prototype.createShapePointsCfg = function (t) {
        var i = e.prototype.createShapePointsCfg.call(this, t),
          n,
          a = this.getAttribute('size');
        if (a) {
          n = this.getAttributeValues(a, t)[0];
          var o = this.coordinate,
            s = Ka(o);
          n = n / s;
        } else this.defaultSize || (this.defaultSize = zh(this)), (n = this.defaultSize);
        return (i.size = n), i;
      }),
      (r.prototype.adjustScale = function () {
        e.prototype.adjustScale.call(this);
        var t = this.getYScale();
        if (this.coordinate.type === 'theta') t.change({ nice: !1, min: 0, max: nT(t) });
        else {
          var i = this.scaleDefs,
            n = t.field,
            a = t.min,
            o = t.max,
            s = t.type;
          s !== 'time' &&
            (a > 0 && !M(i, [n, 'min']) && t.change({ min: 0 }),
            o <= 0 && !M(i, [n, 'max']) && t.change({ max: 0 }));
        }
      }),
      (r.prototype.getDrawCfg = function (t) {
        var i = e.prototype.getDrawCfg.call(this, t);
        return (i.background = this.background), i;
      }),
      r
    );
  })(ai),
  jI = (function (e) {
    I(r, e);
    function r(t) {
      var i = e.call(this, t) || this;
      i.type = 'line';
      var n = t.sortable,
        a = n === void 0 ? !1 : n;
      return (i.sortable = a), i;
    }
    return r;
  })(Rh),
  M0 = ['circle', 'square', 'bowtie', 'diamond', 'hexagon', 'triangle', 'triangle-down'],
  UI = ['cross', 'tick', 'plus', 'hyphen', 'line'];
function Gh(e, r, t, i, n) {
  var a,
    o,
    s = Nt(r, n, !n, 'r'),
    l = e.parsePoints(r.points),
    u = l[0];
  if (r.isStack) u = l[1];
  else if (l.length > 1) {
    var c = t.addGroup();
    try {
      for (var h = vt(l), f = h.next(); !f.done; f = h.next()) {
        var v = f.value;
        c.addShape({ type: 'marker', attrs: x(x(x({}, s), { symbol: Di[i] || i }), v) });
      }
    } catch (d) {
      a = { error: d };
    } finally {
      try {
        f && !f.done && (o = h.return) && o.call(h);
      } finally {
        if (a) throw a.error;
      }
    }
    return c;
  }
  return t.addShape({ type: 'marker', attrs: x(x(x({}, s), { symbol: Di[i] || i }), u) });
}
ni('point', {
  defaultShapeType: 'hollow-circle',
  getDefaultPoints: function (e) {
    return Th(e);
  },
});
A(M0, function (e) {
  dt('point', 'hollow-'.concat(e), {
    draw: function (r, t) {
      return Gh(this, r, t, e, !0);
    },
    getMarker: function (r) {
      var t = r.color;
      return { symbol: Di[e] || e, style: { r: 4.5, stroke: t, fill: null } };
    },
  });
});
var qI = (function (e) {
  I(r, e);
  function r() {
    var t = (e !== null && e.apply(this, arguments)) || this;
    return (t.type = 'point'), (t.shapeType = 'point'), (t.generatePoints = !0), t;
  }
  return (
    (r.prototype.getDrawCfg = function (t) {
      var i = e.prototype.getDrawCfg.call(this, t);
      return x(x({}, i), { isStack: !!this.getAdjust('stack') });
    }),
    r
  );
})(ai);
function ZI(e) {
  for (var r = e[0], t = 1, i = [['M', r.x, r.y]]; t < e.length; ) {
    var n = e[t];
    (n.x !== e[t - 1].x || n.y !== e[t - 1].y) &&
      (i.push(['L', n.x, n.y]),
      n.x === r.x &&
        n.y === r.y &&
        t < e.length - 1 &&
        ((r = e[t + 1]), i.push(['Z']), i.push(['M', r.x, r.y]), t++)),
      t++;
  }
  return Bt(Vt(i), r) || i.push(['L', r.x, r.y]), i.push(['Z']), i;
}
ni('polygon', {
  defaultShapeType: 'polygon',
  getDefaultPoints: function (e) {
    var r = [];
    return (
      A(e.x, function (t, i) {
        var n = e.y[i];
        r.push({ x: t, y: n });
      }),
      r
    );
  },
});
dt('polygon', 'polygon', {
  draw: function (e, r) {
    if (!we(e.points)) {
      var t = Nt(e, !0, !0),
        i = this.parsePath(ZI(e.points));
      return r.addShape('path', { attrs: x(x({}, t), { path: i }), name: 'polygon' });
    }
  },
  getMarker: function (e) {
    var r = e.color;
    return { symbol: 'square', style: { r: 4, fill: r } };
  },
});
var KI = (function (e) {
  I(r, e);
  function r() {
    var t = (e !== null && e.apply(this, arguments)) || this;
    return (t.type = 'polygon'), (t.shapeType = 'polygon'), (t.generatePoints = !0), t;
  }
  return (
    (r.prototype.createShapePointsCfg = function (t) {
      var i = e.prototype.createShapePointsCfg.call(this, t),
        n = i.x,
        a = i.y,
        o;
      if (!($(n) && $(a))) {
        var s = this.getXScale(),
          l = this.getYScale(),
          u = s.values.length,
          c = l.values.length,
          h = (0.5 * 1) / u,
          f = (0.5 * 1) / c;
        s.isCategory && l.isCategory
          ? ((n = [n - h, n - h, n + h, n + h]), (a = [a - f, a + f, a + f, a - f]))
          : $(n)
          ? ((o = n),
            (n = [o[0], o[0], o[1], o[1]]),
            (a = [a - f / 2, a + f / 2, a + f / 2, a - f / 2]))
          : $(a) &&
            ((o = a),
            (a = [o[0], o[1], o[1], o[0]]),
            (n = [n - h / 2, n - h / 2, n + h / 2, n + h / 2])),
          (i.x = n),
          (i.y = a);
      }
      return i;
    }),
    r
  );
})(ai);
ni('schema', { defaultShapeType: '' });
var QI = (function (e) {
  I(r, e);
  function r() {
    var t = (e !== null && e.apply(this, arguments)) || this;
    return (t.type = 'schema'), (t.shapeType = 'schema'), (t.generatePoints = !0), t;
  }
  return (
    (r.prototype.createShapePointsCfg = function (t) {
      var i = e.prototype.createShapePointsCfg.call(this, t),
        n,
        a = this.getAttribute('size');
      if (a) {
        n = this.getAttributeValues(a, t)[0];
        var o = this.coordinate,
          s = Ka(o);
        n = n / s;
      } else this.defaultSize || (this.defaultSize = zh(this)), (n = this.defaultSize);
      return (i.size = n), i;
    }),
    r
  );
})(ai);
function JI(e) {
  if (!$(e)) return [];
  var r = te(e);
  return Tt(e, function (t) {
    return t / r;
  });
}
ni('violin', {
  defaultShapeType: 'violin',
  getDefaultPoints: function (e) {
    var r = e.size / 2,
      t = [],
      i = JI(e._size);
    return (
      A(e.y, function (n, a) {
        var o = i[a] * r,
          s = a === 0,
          l = a === e.y.length - 1;
        t.push({ isMin: s, isMax: l, x: e.x - o, y: n }),
          t.unshift({ isMin: s, isMax: l, x: e.x + o, y: n });
      }),
      t
    );
  },
});
dt('violin', 'violin', {
  draw: function (e, r) {
    var t = Nt(e, !0, !0),
      i = this.parsePath(Qm(e.points));
    return r.addShape('path', { attrs: x(x({}, t), { path: i }), name: 'violin' });
  },
  getMarker: function (e) {
    var r = e.color;
    return { symbol: 'circle', style: { r: 4, fill: r } };
  },
});
var tL = (function (e) {
  I(r, e);
  function r() {
    var t = (e !== null && e.apply(this, arguments)) || this;
    return (t.type = 'violin'), (t.shapeType = 'violin'), (t.generatePoints = !0), t;
  }
  return (
    (r.prototype.createShapePointsCfg = function (t) {
      var i = e.prototype.createShapePointsCfg.call(this, t),
        n,
        a = this.getAttribute('size');
      if (a) {
        n = this.getAttributeValues(a, t)[0];
        var o = this.coordinate,
          s = Ka(o);
        n = n / s;
      } else this.defaultSize || (this.defaultSize = zh(this)), (n = this.defaultSize);
      return (i.size = n), (i._size = M(t[St], [this._sizeField])), i;
    }),
    (r.prototype.initAttributes = function () {
      var t = this.attributeOption,
        i = t.size ? t.size.fields[0] : this._sizeField ? this._sizeField : 'size';
      (this._sizeField = i), delete t.size, e.prototype.initAttributes.call(this);
    }),
    r
  );
})(ai);
dt('area', 'line', {
  draw: function (e, r) {
    var t = wl(e, !0, !1, this),
      i = r.addShape({ type: 'path', attrs: t, name: 'area' });
    return i;
  },
  getMarker: function (e) {
    var r = e.color;
    return {
      symbol: function (t, i, n) {
        return (
          n === void 0 && (n = 5.5),
          [
            ['M', t - n, i - 4],
            ['L', t + n, i - 4],
            ['L', t + n, i + 4],
            ['L', t - n, i + 4],
            ['Z'],
          ]
        );
      },
      style: { r: 5, stroke: r, fill: null },
    };
  },
});
dt('area', 'smooth', {
  draw: function (e, r) {
    var t = this.coordinate,
      i = wl(e, !1, !0, this, b0(t)),
      n = r.addShape({ type: 'path', attrs: i, name: 'area' });
    return n;
  },
  getMarker: function (e) {
    var r = e.color;
    return {
      symbol: function (t, i, n) {
        return (
          n === void 0 && (n = 5.5),
          [
            ['M', t - n, i - 4],
            ['L', t + n, i - 4],
            ['L', t + n, i + 4],
            ['L', t - n, i + 4],
            ['Z'],
          ]
        );
      },
      style: { r: 5, fill: r, fillOpacity: 1 },
    };
  },
});
dt('area', 'smooth-line', {
  draw: function (e, r) {
    var t = this.coordinate,
      i = wl(e, !0, !0, this, b0(t)),
      n = r.addShape({ type: 'path', attrs: i, name: 'area' });
    return n;
  },
  getMarker: function (e) {
    var r = e.color;
    return {
      symbol: function (t, i, n) {
        return (
          n === void 0 && (n = 5.5),
          [
            ['M', t - n, i - 4],
            ['L', t + n, i - 4],
            ['L', t + n, i + 4],
            ['L', t - n, i + 4],
            ['Z'],
          ]
        );
      },
      style: { r: 5, stroke: r, fill: null },
    };
  },
});
function mc(e, r) {
  return ['C', (e.x * 1) / 2 + (r.x * 1) / 2, e.y, (e.x * 1) / 2 + (r.x * 1) / 2, r.y, r.x, r.y];
}
function xc(e, r) {
  var t = [];
  t.push({ x: r.x, y: r.y }), t.push(e);
  var i = ['Q'];
  return (
    A(t, function (n) {
      i.push(n.x, n.y);
    }),
    i
  );
}
function eL(e, r, t) {
  var i = xc(r, t),
    n = [['M', e.x, e.y]];
  return n.push(i), n;
}
function rL(e, r) {
  var t = xc(e[1], r),
    i = xc(e[3], r),
    n = [['M', e[0].x, e[0].y]];
  return (
    n.push(i),
    n.push(['L', e[3].x, e[3].y]),
    n.push(['L', e[2].x, e[2].y]),
    n.push(t),
    n.push(['L', e[1].x, e[1].y]),
    n.push(['L', e[0].x, e[0].y]),
    n.push(['Z']),
    n
  );
}
dt('edge', 'arc', {
  draw: function (e, r) {
    var t = Nt(e, !0, !1, 'lineWidth'),
      i = e.points,
      n = i.length > 2 ? 'weight' : 'normal',
      a;
    if (e.isInCircle) {
      var o = { x: 0, y: 1 };
      return (
        n === 'normal' ? (a = eL(i[0], i[1], o)) : ((t.fill = t.stroke), (a = rL(i, o))),
        (a = this.parsePath(a)),
        r.addShape('path', { attrs: x(x({}, t), { path: a }) })
      );
    } else {
      if (n === 'normal')
        return (
          (i = this.parsePoints(i)),
          (a = mm(
            (i[1].x + i[0].x) / 2,
            i[0].y,
            Math.abs(i[1].x - i[0].x) / 2,
            Math.PI,
            Math.PI * 2,
          )),
          r.addShape('path', { attrs: x(x({}, t), { path: a }) })
        );
      var s = mc(i[1], i[3]),
        l = mc(i[2], i[0]);
      return (
        (a = [
          ['M', i[0].x, i[0].y],
          ['L', i[1].x, i[1].y],
          s,
          ['L', i[3].x, i[3].y],
          ['L', i[2].x, i[2].y],
          l,
          ['Z'],
        ]),
        (a = this.parsePath(a)),
        (t.fill = t.stroke),
        r.addShape('path', { attrs: x(x({}, t), { path: a }) })
      );
    }
  },
  getMarker: function (e) {
    return { symbol: 'circle', style: { r: 4.5, fill: e.color } };
  },
});
function iL(e, r) {
  var t = mc(e, r),
    i = [['M', e.x, e.y]];
  return i.push(t), i;
}
dt('edge', 'smooth', {
  draw: function (e, r) {
    var t = Nt(e, !0, !1, 'lineWidth'),
      i = e.points,
      n = this.parsePath(iL(i[0], i[1]));
    return r.addShape('path', { attrs: x(x({}, t), { path: n }) });
  },
  getMarker: function (e) {
    return { symbol: 'circle', style: { r: 4.5, fill: e.color } };
  },
});
var Oo = 1 / 3;
function nL(e, r) {
  var t = [];
  t.push({ x: e.x, y: e.y * (1 - Oo) + r.y * Oo }),
    t.push({ x: r.x, y: e.y * (1 - Oo) + r.y * Oo }),
    t.push(r);
  var i = [['M', e.x, e.y]];
  return (
    A(t, function (n) {
      i.push(['L', n.x, n.y]);
    }),
    i
  );
}
dt('edge', 'vhv', {
  draw: function (e, r) {
    var t = Nt(e, !0, !1, 'lineWidth'),
      i = e.points,
      n = this.parsePath(nL(i[0], i[1]));
    return r.addShape('path', { attrs: x(x({}, t), { path: n }) });
  },
  getMarker: function (e) {
    return { symbol: 'circle', style: { r: 4.5, fill: e.color } };
  },
});
dt('interval', 'funnel', {
  getPoints: function (e) {
    return (e.size = e.size * 2), $h(e);
  },
  draw: function (e, r) {
    var t = Nt(e, !1, !0),
      i = this.parsePath(A0(e.points, e.nextPoints, !1)),
      n = r.addShape('path', { attrs: x(x({}, t), { path: i }), name: 'interval' });
    return n;
  },
  getMarker: function (e) {
    var r = e.color;
    return { symbol: 'square', style: { r: 4, fill: r } };
  },
});
dt('interval', 'hollow-rect', {
  draw: function (e, r) {
    var t = Nt(e, !0, !1),
      i = r,
      n = e == null ? void 0 : e.background;
    if (n) {
      i = r.addGroup();
      var a = t0(e),
        o = C0(e, this.parsePoints(e.points), this.coordinate);
      i.addShape('path', { attrs: x(x({}, a), { path: o }), zIndex: -1, name: Mh });
    }
    var s = this.parsePath(Nh(e.points)),
      l = i.addShape('path', { attrs: x(x({}, t), { path: s }), name: 'interval' });
    return n ? i : l;
  },
  getMarker: function (e) {
    var r = e.color,
      t = e.isInPolar;
    return t
      ? { symbol: 'circle', style: { r: 4.5, stroke: r, fill: null } }
      : { symbol: 'square', style: { r: 4, stroke: r, fill: null } };
  },
});
function aL(e) {
  var r = e.x,
    t = e.y,
    i = e.y0;
  return $(t)
    ? t.map(function (n, a) {
        return { x: $(r) ? r[a] : r, y: n };
      })
    : [
        { x: r, y: i },
        { x: r, y: t },
      ];
}
dt('interval', 'line', {
  getPoints: function (e) {
    return aL(e);
  },
  draw: function (e, r) {
    var t = Nt(e, !0, !1, 'lineWidth'),
      i = ge(x({}, t), ['fill']),
      n = this.parsePath(Nh(e.points, !1)),
      a = r.addShape('path', { attrs: x(x({}, i), { path: n }), name: 'interval' });
    return a;
  },
  getMarker: function (e) {
    var r = e.color;
    return {
      symbol: function (t, i, n) {
        return [
          ['M', t, i - n],
          ['L', t, i + n],
        ];
      },
      style: { r: 5, stroke: r },
    };
  },
});
dt('interval', 'pyramid', {
  getPoints: function (e) {
    return (e.size = e.size * 2), $h(e);
  },
  draw: function (e, r) {
    var t = Nt(e, !1, !0),
      i = this.parsePath(A0(e.points, e.nextPoints, !0)),
      n = r.addShape('path', { attrs: x(x({}, t), { path: i }), name: 'interval' });
    return n;
  },
  getMarker: function (e) {
    var r = e.color;
    return { symbol: 'square', style: { r: 4, fill: r } };
  },
});
function oL(e) {
  var r,
    t = e.x,
    i = e.y,
    n = e.y0,
    a = e.size,
    o,
    s;
  $(i) ? ((r = K(i, 2)), (o = r[0]), (s = r[1])) : ((o = n), (s = i));
  var l = t + a / 2,
    u = t - a / 2;
  return [
    { x: t, y: o },
    { x: t, y: s },
    { x: u, y: o },
    { x: l, y: o },
    { x: u, y: s },
    { x: l, y: s },
  ];
}
function sL(e) {
  return [
    ['M', e[0].x, e[0].y],
    ['L', e[1].x, e[1].y],
    ['M', e[2].x, e[2].y],
    ['L', e[3].x, e[3].y],
    ['M', e[4].x, e[4].y],
    ['L', e[5].x, e[5].y],
  ];
}
dt('interval', 'tick', {
  getPoints: function (e) {
    return oL(e);
  },
  draw: function (e, r) {
    var t = Nt(e, !0, !1),
      i = this.parsePath(sL(e.points)),
      n = r.addShape('path', { attrs: x(x({}, t), { path: i }), name: 'interval' });
    return n;
  },
  getMarker: function (e) {
    var r = e.color;
    return {
      symbol: function (t, i, n) {
        return [
          ['M', t - n / 2, i - n],
          ['L', t + n / 2, i - n],
          ['M', t, i - n],
          ['L', t, i + n],
          ['M', t - n / 2, i + n],
          ['L', t + n / 2, i + n],
        ];
      },
      style: { r: 5, stroke: r },
    };
  },
});
var lL = function (e, r, t) {
  var i = e.x,
    n = e.y,
    a = r.x,
    o = r.y,
    s;
  switch (t) {
    case 'hv':
      s = [{ x: a, y: n }];
      break;
    case 'vh':
      s = [{ x: i, y: o }];
      break;
    case 'hvh':
      var l = (a + i) / 2;
      s = [
        { x: l, y: n },
        { x: l, y: o },
      ];
      break;
    case 'vhv':
      var u = (n + o) / 2;
      s = [
        { x: i, y: u },
        { x: a, y: u },
      ];
      break;
  }
  return s;
};
function uL(e, r) {
  var t = [];
  return (
    A(e, function (i, n) {
      var a = e[n + 1];
      if ((t.push(i), a)) {
        var o = lL(i, a, r);
        t = t.concat(o);
      }
    }),
    t
  );
}
function cL(e) {
  return e.map(function (r, t) {
    return t === 0 ? ['M', r.x, r.y] : ['L', r.x, r.y];
  });
}
function hL(e, r) {
  var t = xl(e.points, e.connectNulls, e.showSinglePoint),
    i = [];
  return (
    A(t, function (n) {
      var a = uL(n, r);
      i = i.concat(cL(a));
    }),
    x(x({}, Nt(e, !0, !1, 'lineWidth')), { path: i })
  );
}
A(['hv', 'vh', 'hvh', 'vhv'], function (e) {
  dt('line', e, {
    draw: function (r, t) {
      var i = hL(r, e),
        n = t.addShape({ type: 'path', attrs: i, name: 'line' });
      return n;
    },
    getMarker: function (r) {
      return e0(r, e);
    },
  });
});
A(UI, function (e) {
  dt('point', e, {
    draw: function (r, t) {
      return Gh(this, r, t, e, !0);
    },
    getMarker: function (r) {
      var t = r.color;
      return { symbol: Di[e], style: { r: 4.5, stroke: t, fill: null } };
    },
  });
});
dt('point', 'image', {
  draw: function (e, r) {
    var t,
      i,
      n = Nt(e, !1, !1, 'r').r,
      a = this.parsePoints(e.points),
      o = a[0];
    if (e.isStack) o = a[1];
    else if (a.length > 1) {
      var s = r.addGroup();
      try {
        for (var l = vt(a), u = l.next(); !u.done; u = l.next()) {
          var c = u.value;
          s.addShape('image', {
            attrs: { x: c.x - n / 2, y: c.y - n, width: n, height: n, img: e.shape[1] },
          });
        }
      } catch (h) {
        t = { error: h };
      } finally {
        try {
          u && !u.done && (i = l.return) && i.call(l);
        } finally {
          if (t) throw t.error;
        }
      }
      return s;
    }
    return r.addShape('image', {
      attrs: { x: o.x - n / 2, y: o.y - n, width: n, height: n, img: e.shape[1] },
    });
  },
  getMarker: function (e) {
    var r = e.color;
    return { symbol: 'circle', style: { r: 4.5, fill: r } };
  },
});
A(M0, function (e) {
  dt('point', e, {
    draw: function (r, t) {
      return Gh(this, r, t, e, !1);
    },
    getMarker: function (r) {
      var t = r.color;
      return { symbol: Di[e] || e, style: { r: 4.5, fill: t } };
    },
  });
});
function Gd(e) {
  var r = $(e) ? e : [e],
    t = r[0],
    i = r[r.length - 1],
    n = r.length > 1 ? r[1] : t,
    a = r.length > 3 ? r[3] : i,
    o = r.length > 2 ? r[2] : n;
  return { min: t, max: i, min1: n, max1: a, median: o };
}
function Hd(e, r, t) {
  var i = t / 2,
    n;
  if ($(r)) {
    var a = Gd(r),
      o = a.min,
      s = a.max,
      l = a.median,
      u = a.min1,
      c = a.max1,
      h = e - i,
      f = e + i;
    n = [
      [h, s],
      [f, s],
      [e, s],
      [e, c],
      [h, u],
      [h, c],
      [f, c],
      [f, u],
      [e, u],
      [e, o],
      [h, o],
      [f, o],
      [h, l],
      [f, l],
    ];
  } else {
    r = R(r) ? 0.5 : r;
    var v = Gd(e),
      o = v.min,
      s = v.max,
      l = v.median,
      u = v.min1,
      c = v.max1,
      d = r - i,
      p = r + i;
    n = [
      [o, d],
      [o, p],
      [o, r],
      [u, r],
      [u, d],
      [u, p],
      [c, p],
      [c, d],
      [c, r],
      [s, r],
      [s, d],
      [s, p],
      [l, d],
      [l, p],
    ];
  }
  return n.map(function (g) {
    return { x: g[0], y: g[1] };
  });
}
function fL(e) {
  return [
    ['M', e[0].x, e[0].y],
    ['L', e[1].x, e[1].y],
    ['M', e[2].x, e[2].y],
    ['L', e[3].x, e[3].y],
    ['M', e[4].x, e[4].y],
    ['L', e[5].x, e[5].y],
    ['L', e[6].x, e[6].y],
    ['L', e[7].x, e[7].y],
    ['L', e[4].x, e[4].y],
    ['Z'],
    ['M', e[8].x, e[8].y],
    ['L', e[9].x, e[9].y],
    ['M', e[10].x, e[10].y],
    ['L', e[11].x, e[11].y],
    ['M', e[12].x, e[12].y],
    ['L', e[13].x, e[13].y],
  ];
}
dt('schema', 'box', {
  getPoints: function (e) {
    var r = e.x,
      t = e.y,
      i = e.size;
    return Hd(r, t, i);
  },
  draw: function (e, r) {
    var t = Nt(e, !0, !1),
      i = this.parsePath(fL(e.points)),
      n = r.addShape('path', { attrs: x(x({}, t), { path: i, name: 'schema' }) });
    return n;
  },
  getMarker: function (e) {
    var r = e.color;
    return {
      symbol: function (t, i, n) {
        var a = [i - 6, i - 3, i, i + 3, i + 6],
          o = Hd(t, a, n);
        return [
          ['M', o[0].x + 1, o[0].y],
          ['L', o[1].x - 1, o[1].y],
          ['M', o[2].x, o[2].y],
          ['L', o[3].x, o[3].y],
          ['M', o[4].x, o[4].y],
          ['L', o[5].x, o[5].y],
          ['L', o[6].x, o[6].y],
          ['L', o[7].x, o[7].y],
          ['L', o[4].x, o[4].y],
          ['Z'],
          ['M', o[8].x, o[8].y],
          ['L', o[9].x, o[9].y],
          ['M', o[10].x + 1, o[10].y],
          ['L', o[11].x - 1, o[11].y],
          ['M', o[12].x, o[12].y],
          ['L', o[13].x, o[13].y],
        ];
      },
      style: { r: 6, lineWidth: 1, stroke: r },
    };
  },
});
function vL(e) {
  var r = $(e) ? e : [e],
    t = r.sort(function (i, n) {
      return n - i;
    });
  return qE(t, 4, t[t.length - 1]);
}
function Vd(e, r, t) {
  var i = vL(r);
  return [
    { x: e, y: i[0] },
    { x: e, y: i[1] },
    { x: e - t / 2, y: i[2] },
    { x: e - t / 2, y: i[1] },
    { x: e + t / 2, y: i[1] },
    { x: e + t / 2, y: i[2] },
    { x: e, y: i[2] },
    { x: e, y: i[3] },
  ];
}
function dL(e) {
  return [
    ['M', e[0].x, e[0].y],
    ['L', e[1].x, e[1].y],
    ['M', e[2].x, e[2].y],
    ['L', e[3].x, e[3].y],
    ['L', e[4].x, e[4].y],
    ['L', e[5].x, e[5].y],
    ['Z'],
    ['M', e[6].x, e[6].y],
    ['L', e[7].x, e[7].y],
  ];
}
dt('schema', 'candle', {
  getPoints: function (e) {
    var r = e.x,
      t = e.y,
      i = e.size;
    return Vd(r, t, i);
  },
  draw: function (e, r) {
    var t = Nt(e, !0, !0),
      i = this.parsePath(dL(e.points)),
      n = r.addShape('path', { attrs: x(x({}, t), { path: i, name: 'schema' }) });
    return n;
  },
  getMarker: function (e) {
    var r = e.color;
    return {
      symbol: function (t, i, n) {
        var a = [i + 7.5, i + 3, i - 3, i - 7.5],
          o = Vd(t, a, n);
        return [
          ['M', o[0].x, o[0].y],
          ['L', o[1].x, o[1].y],
          ['M', o[2].x, o[2].y],
          ['L', o[3].x, o[3].y],
          ['L', o[4].x, o[4].y],
          ['L', o[5].x, o[5].y],
          ['Z'],
          ['M', o[6].x, o[6].y],
          ['L', o[7].x, o[7].y],
        ];
      },
      style: { lineWidth: 1, stroke: r, fill: r, r: 6 },
    };
  },
});
function pL(e, r) {
  var t = Math.abs(e[0].x - e[2].x),
    i = Math.abs(e[0].y - e[2].y),
    n = Math.min(t, i);
  r && (n = Mt(r, 0, Math.min(t, i))), (n = n / 2);
  var a = (e[0].x + e[2].x) / 2,
    o = (e[0].y + e[2].y) / 2;
  return { x: a - n, y: o - n, width: n * 2, height: n * 2 };
}
dt('polygon', 'square', {
  draw: function (e, r) {
    if (!we(e.points)) {
      var t = Nt(e, !0, !0),
        i = this.parsePoints(e.points);
      return r.addShape('rect', { attrs: x(x({}, t), pL(i, e.size)), name: 'polygon' });
    }
  },
  getMarker: function (e) {
    var r = e.color;
    return { symbol: 'square', style: { r: 4, fill: r } };
  },
});
dt('violin', 'smooth', {
  draw: function (e, r) {
    var t = Nt(e, !0, !0),
      i = this.parsePath(Jm(e.points));
    return r.addShape('path', { attrs: x(x({}, t), { path: i }) });
  },
  getMarker: function (e) {
    var r = e.color;
    return { symbol: 'circle', style: { stroke: null, r: 4, fill: r } };
  },
});
dt('violin', 'hollow', {
  draw: function (e, r) {
    var t = Nt(e, !0, !1),
      i = this.parsePath(Qm(e.points));
    return r.addShape('path', { attrs: x(x({}, t), { path: i }) });
  },
  getMarker: function (e) {
    var r = e.color;
    return { symbol: 'circle', style: { r: 4, fill: null, stroke: r } };
  },
});
dt('violin', 'hollow-smooth', {
  draw: function (e, r) {
    var t = Nt(e, !0, !1),
      i = this.parsePath(Jm(e.points));
    return r.addShape('path', { attrs: x(x({}, t), { path: i }) });
  },
  getMarker: function (e) {
    var r = e.color;
    return { symbol: 'circle', style: { r: 4, fill: null, stroke: r } };
  },
});
var gL = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getLabelValueDir = function (t) {
        var i = 'y',
          n = t.points;
        return n[0][i] <= n[2][i] ? 1 : -1;
      }),
      (r.prototype.getLabelOffsetPoint = function (t, i, n, a) {
        var o,
          s = e.prototype.getLabelOffsetPoint.call(this, t, i, n),
          l = this.getCoordinate(),
          u = l.isTransposed,
          c = u ? 'x' : 'y',
          h = this.getLabelValueDir(t.mappingData);
        return (
          (s = x(x({}, s), ((o = {}), (o[c] = s[c] * h), o))),
          l.isReflect('x') && (s = x(x({}, s), { x: s.x * -1 })),
          l.isReflect('y') && (s = x(x({}, s), { y: s.y * -1 })),
          s
        );
      }),
      (r.prototype.getThemedLabelCfg = function (t) {
        var i = this.geometry,
          n = this.getDefaultLabelCfg(),
          a = i.theme;
        return _({}, n, a.labels, t.position === 'middle' ? { offset: 0 } : {}, t);
      }),
      (r.prototype.setLabelPosition = function (t, i, n, a) {
        var o = this.getCoordinate(),
          s = o.isTransposed,
          l = i.points,
          u = o.convert(l[0]),
          c = o.convert(l[2]),
          h = this.getLabelValueDir(i),
          f,
          v,
          d,
          p,
          g = $(i.shape) ? i.shape[0] : i.shape;
        if (g === 'funnel' || g === 'pyramid') {
          var y = M(i, 'nextPoints'),
            m = M(i, 'points');
          if (y) {
            var b = o.convert(m[0]),
              w = o.convert(m[1]),
              S = o.convert(y[0]),
              C = o.convert(y[1]);
            s
              ? ((f = Math.min(S.y, b.y)),
                (d = Math.max(S.y, b.y)),
                (v = (w.x + C.x) / 2),
                (p = (b.x + S.x) / 2))
              : ((f = Math.min((w.y + C.y) / 2, (b.y + S.y) / 2)),
                (d = Math.max((w.y + C.y) / 2, (b.y + S.y) / 2)),
                (v = C.x),
                (p = b.x));
          } else (f = Math.min(c.y, u.y)), (d = Math.max(c.y, u.y)), (v = c.x), (p = u.x);
        } else (f = Math.min(c.y, u.y)), (d = Math.max(c.y, u.y)), (v = c.x), (p = u.x);
        switch (a) {
          case 'right':
            (t.x = v),
              (t.y = (f + d) / 2),
              (t.textAlign = M(t, 'textAlign', h > 0 ? 'left' : 'right'));
            break;
          case 'left':
            (t.x = p),
              (t.y = (f + d) / 2),
              (t.textAlign = M(t, 'textAlign', h > 0 ? 'left' : 'right'));
            break;
          case 'bottom':
            s && (t.x = (v + p) / 2),
              (t.y = d),
              (t.textAlign = M(t, 'textAlign', 'center')),
              (t.textBaseline = M(t, 'textBaseline', h > 0 ? 'bottom' : 'top'));
            break;
          case 'middle':
            s && (t.x = (v + p) / 2),
              (t.y = (f + d) / 2),
              (t.textAlign = M(t, 'textAlign', 'center')),
              (t.textBaseline = M(t, 'textBaseline', 'middle'));
            break;
          case 'top':
            s && (t.x = (v + p) / 2),
              (t.y = f),
              (t.textAlign = M(t, 'textAlign', 'center')),
              (t.textBaseline = M(t, 'textBaseline', h > 0 ? 'bottom' : 'top'));
            break;
        }
      }),
      r
    );
  })(ml),
  Po = Math.PI / 2,
  F0 = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getLabelOffset = function (t) {
        var i = this.getCoordinate(),
          n = 0;
        if (it(t)) n = t;
        else if (et(t) && t.indexOf('%') !== -1) {
          var a = i.getRadius();
          i.innerRadius > 0 && (a = a * (1 - i.innerRadius)), (n = parseFloat(t) * 0.01 * a);
        }
        return n;
      }),
      (r.prototype.getLabelItems = function (t) {
        var i = e.prototype.getLabelItems.call(this, t),
          n = this.geometry.getYScale();
        return Tt(i, function (a) {
          if (a && n) {
            var o = n.scale(M(a.data, n.field));
            return x(x({}, a), { percent: o });
          }
          return a;
        });
      }),
      (r.prototype.getLabelAlign = function (t) {
        var i = this.getCoordinate(),
          n;
        if (t.labelEmit) n = t.angle <= Math.PI / 2 && t.angle >= -Math.PI / 2 ? 'left' : 'right';
        else if (!i.isTransposed) n = 'center';
        else {
          var a = i.getCenter(),
            o = t.offset;
          Math.abs(t.x - a.x) < 1
            ? (n = 'center')
            : t.angle > Math.PI || t.angle <= 0
            ? (n = o > 0 ? 'left' : 'right')
            : (n = o > 0 ? 'right' : 'left');
        }
        return n;
      }),
      (r.prototype.getLabelPoint = function (t, i, n) {
        var a = 1,
          o,
          s = t.content[n];
        this.isToMiddle(i)
          ? (o = this.getMiddlePoint(i.points))
          : (t.content.length === 1 && n === 0 ? (n = 1) : n === 0 && (a = -1),
            (o = this.getArcPoint(i, n)));
        var l = t.offset * a,
          u = this.getPointAngle(o),
          c = t.labelEmit,
          h = this.getCirclePoint(u, l, o, c);
        return (
          h.r === 0 ? (h.content = '') : ((h.content = s), (h.angle = u), (h.color = i.color)),
          (h.rotate = t.autoRotate ? this.getLabelRotate(u, l, c) : t.rotate),
          (h.start = { x: o.x, y: o.y }),
          h
        );
      }),
      (r.prototype.getArcPoint = function (t, i) {
        return (
          i === void 0 && (i = 0),
          !$(t.x) && !$(t.y)
            ? { x: t.x, y: t.y }
            : { x: $(t.x) ? t.x[i] : t.x, y: $(t.y) ? t.y[i] : t.y }
        );
      }),
      (r.prototype.getPointAngle = function (t) {
        return pn(this.getCoordinate(), t);
      }),
      (r.prototype.getCirclePoint = function (t, i, n, a) {
        var o = this.getCoordinate(),
          s = o.getCenter(),
          l = pl(o, n);
        if (l === 0) return x(x({}, s), { r: l });
        var u = t;
        if (o.isTransposed && l > i && !a) {
          var c = Math.asin(i / (2 * l));
          u = t + c * 2;
        } else l = l + i;
        return { x: s.x + l * Math.cos(u), y: s.y + l * Math.sin(u), r: l };
      }),
      (r.prototype.getLabelRotate = function (t, i, n) {
        var a = t + Po;
        return n && (a -= Po), a && (a > Po ? (a = a - Math.PI) : a < -Po && (a = a + Math.PI)), a;
      }),
      (r.prototype.getMiddlePoint = function (t) {
        var i = this.getCoordinate(),
          n = t.length,
          a = { x: 0, y: 0 };
        return (
          A(t, function (o) {
            (a.x += o.x), (a.y += o.y);
          }),
          (a.x /= n),
          (a.y /= n),
          (a = i.convert(a)),
          a
        );
      }),
      (r.prototype.isToMiddle = function (t) {
        return t.x.length > 2;
      }),
      r
    );
  })(ml),
  yL = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.defaultLayout = 'distribute'), t;
    }
    return (
      (r.prototype.getDefaultLabelCfg = function (t, i) {
        var n = e.prototype.getDefaultLabelCfg.call(this, t, i);
        return _({}, n, M(this.geometry.theme, 'pieLabels', {}));
      }),
      (r.prototype.getLabelOffset = function (t) {
        return e.prototype.getLabelOffset.call(this, t) || 0;
      }),
      (r.prototype.getLabelRotate = function (t, i, n) {
        var a;
        return (
          i < 0 &&
            ((a = t), a > Math.PI / 2 && (a = a - Math.PI), a < -Math.PI / 2 && (a = a + Math.PI)),
          a
        );
      }),
      (r.prototype.getLabelAlign = function (t) {
        var i = this.getCoordinate(),
          n = i.getCenter(),
          a;
        return (
          t.angle <= Math.PI / 2 && t.x >= n.x ? (a = 'left') : (a = 'right'),
          t.offset <= 0 && (a === 'right' ? (a = 'left') : (a = 'right')),
          a
        );
      }),
      (r.prototype.getArcPoint = function (t) {
        return t;
      }),
      (r.prototype.getPointAngle = function (t) {
        var i = this.getCoordinate(),
          n = { x: $(t.x) ? t.x[0] : t.x, y: t.y[0] },
          a = { x: $(t.x) ? t.x[1] : t.x, y: t.y[1] },
          o,
          s = pn(i, n);
        if (t.points && t.points[0].y === t.points[1].y) o = s;
        else {
          var l = pn(i, a);
          s >= l && (l = l + Math.PI * 2), (o = s + (l - s) / 2);
        }
        return o;
      }),
      (r.prototype.getCirclePoint = function (t, i) {
        var n = this.getCoordinate(),
          a = n.getCenter(),
          o = n.getRadius() + i;
        return x(x({}, zt(a.x, a.y, o, t)), { angle: t, r: o });
      }),
      r
    );
  })(F0),
  Yd = 4;
function mL(e, r, t, i, n, a) {
  var o,
    s,
    l = !0,
    u = i.start,
    c = i.end,
    h = Math.min(u.y, c.y),
    f = Math.abs(u.y - c.y),
    v,
    d = 0,
    p = Number.MIN_VALUE,
    g = r.map(function (F) {
      return F.y > d && (d = F.y), F.y < p && (p = F.y), { size: t, targets: [F.y - h] };
    });
  for (p -= h, d - h > f && (f = d - h); l; )
    for (
      g.forEach(function (F) {
        var E = (Math.min.apply(p, F.targets) + Math.max.apply(p, F.targets)) / 2;
        F.pos = Math.min(Math.max(p, E - F.size / 2), f - F.size);
      }),
        l = !1,
        v = g.length;
      v--;

    )
      if (v > 0) {
        var y = g[v - 1],
          m = g[v];
        y.pos + y.size > m.pos &&
          ((y.size += m.size),
          (y.targets = y.targets.concat(m.targets)),
          y.pos + y.size > f && (y.pos = f - y.size),
          g.splice(v, 1),
          (l = !0));
      }
  (v = 0),
    g.forEach(function (F) {
      var E = h + t / 2;
      F.targets.forEach(function () {
        (r[v].y = F.pos + E), (E += t), v++;
      });
    });
  var b = {};
  try {
    for (var w = vt(e), S = w.next(); !S.done; S = w.next()) {
      var C = S.value;
      b[C.get('id')] = C;
    }
  } catch (F) {
    o = { error: F };
  } finally {
    try {
      S && !S.done && (s = w.return) && s.call(w);
    } finally {
      if (o) throw o.error;
    }
  }
  r.forEach(function (F) {
    var E = F.r * F.r,
      k = Math.pow(Math.abs(F.y - n.y), 2);
    if (E < k) F.x = n.x;
    else {
      var T = Math.sqrt(E - k);
      a ? (F.x = n.x + T) : (F.x = n.x - T);
    }
    var O = b[F.id];
    O.attr('x', F.x), O.attr('y', F.y);
    var P = We(O.getChildren(), function (z) {
      return z.get('type') === 'text';
    });
    P && (P.attr('y', F.y), P.attr('x', F.x));
  });
}
function xL(e, r, t, i) {
  if (!(!e.length || !r.length)) {
    var n = e[0] ? e[0].offset : 0,
      a = r[0].get('coordinate'),
      o = a.getRadius(),
      s = a.getCenter();
    if (n > 0) {
      var l = 14,
        u = o + n,
        c = u * 2 + l * 2,
        h = { start: a.start, end: a.end },
        f = [[], []];
      e.forEach(function (v) {
        v && (v.textAlign === 'right' ? f[0].push(v) : f[1].push(v));
      }),
        f.forEach(function (v, d) {
          var p = c / l;
          v.length > p &&
            (v.sort(function (g, y) {
              return y['..percent'] - g['..percent'];
            }),
            v.splice(p, v.length - p)),
            v.sort(function (g, y) {
              return g.y - y.y;
            }),
            mL(r, v, l, h, s, d);
        });
    }
    A(e, function (v) {
      if (v && v.labelLine) {
        var d = v.offset,
          p = v.angle,
          g = zt(s.x, s.y, o, p),
          y = zt(s.x, s.y, o + d / 2, p),
          m = v.x + M(v, 'offsetX', 0),
          b = v.y + M(v, 'offsetY', 0),
          w = { x: m - Math.cos(p) * Yd, y: b - Math.sin(p) * Yd };
        yt(v.labelLine) || (v.labelLine = {}),
          (v.labelLine.path = [
            'M '.concat(g.x),
            ''.concat(g.y, ' Q').concat(y.x),
            ''.concat(y.y, ' ').concat(w.x),
            w.y,
          ].join(','));
      }
    });
  }
}
function E0(e, r, t) {
  var i = e.filter(function (d) {
    return !d.invisible;
  });
  i.sort(function (d, p) {
    return d.y - p.y;
  });
  var n = !0,
    a = t.minY,
    o = t.maxY,
    s = Math.abs(a - o),
    l,
    u = 0,
    c = Number.MIN_VALUE,
    h = i.map(function (d) {
      return (
        d.y > u && (u = d.y),
        d.y < c && (c = d.y),
        { content: d.content, size: r, targets: [d.y - a], pos: null }
      );
    });
  for (c -= a, u - a > s && (s = u - a); n; )
    for (
      h.forEach(function (d) {
        var p = (Math.min.apply(c, d.targets) + Math.max.apply(c, d.targets)) / 2;
        (d.pos = Math.min(Math.max(c, p - d.size / 2), s - d.size)), (d.pos = Math.max(0, d.pos));
      }),
        n = !1,
        l = h.length;
      l--;

    )
      if (l > 0) {
        var f = h[l - 1],
          v = h[l];
        f.pos + f.size > v.pos &&
          ((f.size += v.size),
          (f.targets = f.targets.concat(v.targets)),
          f.pos + f.size > s && (f.pos = s - f.size),
          h.splice(l, 1),
          (n = !0));
      }
  (l = 0),
    h.forEach(function (d) {
      var p = a + r / 2;
      d.targets.forEach(function () {
        (i[l].y = d.pos + p), (p += r), l++;
      });
    });
}
var Wd = 4;
function wL(e, r) {
  var t = r.getCenter(),
    i = r.getRadius();
  if (e && e.labelLine) {
    var n = e.angle,
      a = e.offset,
      o = zt(t.x, t.y, i, n),
      s = e.x + M(e, 'offsetX', 0) * (Math.cos(n) > 0 ? 1 : -1),
      l = e.y + M(e, 'offsetY', 0) * (Math.sin(n) > 0 ? 1 : -1),
      u = { x: s - Math.cos(n) * Wd, y: l - Math.sin(n) * Wd },
      c = e.labelLine.smooth,
      h = [],
      f = u.x - t.x,
      v = u.y - t.y,
      d = Math.atan(v / f);
    if ((f < 0 && (d += Math.PI), c === !1)) {
      yt(e.labelLine) || (e.labelLine = {});
      var p = 0;
      ((n < 0 && n > -Math.PI / 2) || n > Math.PI * 1.5) && u.y > o.y && (p = 1),
        n >= 0 && n < Math.PI / 2 && u.y > o.y && (p = 1),
        n >= Math.PI / 2 && n < Math.PI && o.y > u.y && (p = 1),
        (n < -Math.PI / 2 || (n >= Math.PI && n < Math.PI * 1.5)) && o.y > u.y && (p = 1);
      var g = a / 2 > 4 ? 4 : Math.max(a / 2 - 1, 0),
        y = zt(t.x, t.y, i + g, n),
        m = zt(t.x, t.y, i + a / 2, d),
        b = 0;
      h.push('M '.concat(o.x, ' ').concat(o.y)),
        h.push('L '.concat(y.x, ' ').concat(y.y)),
        h.push(
          'A '
            .concat(t.x, ' ')
            .concat(t.y, ' 0 ')
            .concat(b, ' ')
            .concat(p, ' ')
            .concat(m.x, ' ')
            .concat(m.y),
        ),
        h.push('L '.concat(u.x, ' ').concat(u.y));
    } else {
      var y = zt(t.x, t.y, i + (a / 2 > 4 ? 4 : Math.max(a / 2 - 1, 0)), n),
        w = o.x < t.x ? 1 : -1;
      h.push('M '.concat(u.x, ' ').concat(u.y));
      var S = (o.y - t.y) / (o.x - t.x),
        C = (u.y - t.y) / (u.x - t.x);
      Math.abs(S - C) > Math.pow(Math.E, -16) &&
        h.push.apply(h, ['C', u.x + w * 4, u.y, 2 * y.x - o.x, 2 * y.y - o.y, o.x, o.y]),
        h.push('L '.concat(o.x, ' ').concat(o.y));
    }
    e.labelLine.path = h.join(' ');
  }
}
function bL(e, r, t, i) {
  var n,
    a,
    o = Qt(e, function (E) {
      return !R(E);
    }),
    s = r[0] && r[0].get('coordinate');
  if (s) {
    var l = s.getCenter(),
      u = s.getRadius(),
      c = {};
    try {
      for (var h = vt(r), f = h.next(); !f.done; f = h.next()) {
        var v = f.value;
        c[v.get('id')] = v;
      }
    } catch (E) {
      n = { error: E };
    } finally {
      try {
        f && !f.done && (a = h.return) && a.call(h);
      } finally {
        if (n) throw n.error;
      }
    }
    var d = M(o[0], 'labelHeight', 14),
      p = M(o[0], 'offset', 0);
    if (!(p <= 0)) {
      var g = 'left',
        y = 'right',
        m = Fe(o, function (E) {
          return E.x < l.x ? g : y;
        }),
        b = s.start,
        w = s.end,
        S = Math.min((u + p + d) * 2, s.getHeight()),
        C = S / 2,
        F = { minX: b.x, maxX: w.x, minY: l.y - C, maxY: l.y + C };
      A(m, function (E, k) {
        var T = Math.floor(S / d);
        E.length > T &&
          (E.sort(function (O, P) {
            return P.percent - O.percent;
          }),
          A(E, function (O, P) {
            P + 1 > T && (c[O.id].set('visible', !1), (O.invisible = !0));
          })),
          E0(E, d, F);
      }),
        A(m, function (E, k) {
          A(E, function (T) {
            var O = k === y,
              P = c[T.id],
              z = P.getChildByIndex(0);
            if (z) {
              var W = u + p,
                j = T.y - l.y,
                D = Math.pow(W, 2),
                N = Math.pow(j, 2),
                V = D - N > 0 ? D - N : 0,
                H = Math.sqrt(V),
                G = Math.abs(Math.cos(T.angle) * W);
              O ? (T.x = l.x + Math.max(H, G)) : (T.x = l.x - Math.max(H, G));
            }
            z && (z.attr('y', T.y), z.attr('x', T.x)), wL(T, s);
          });
        });
    }
  }
}
var wc = 4,
  SL = 4,
  Xd = 4;
function CL(e, r, t) {
  var i = r.getCenter(),
    n = r.getRadius(),
    a = { x: e.x - (t ? Xd : -Xd), y: e.y },
    o = zt(i.x, i.y, n + wc, e.angle),
    s = { x: a.x, y: a.y },
    l = { x: o.x, y: o.y },
    u = zt(i.x, i.y, n, e.angle),
    c = '';
  if (a.y !== o.y) {
    var h = t ? 4 : -4;
    (s.y = a.y),
      e.angle < 0 &&
        e.angle >= -Math.PI / 2 &&
        ((s.x = Math.max(o.x, a.x - h)),
        a.y < o.y ? (l.y = s.y) : ((l.y = o.y), (l.x = Math.max(l.x, s.x - h)))),
      e.angle > 0 &&
        e.angle < Math.PI / 2 &&
        ((s.x = Math.max(o.x, a.x - h)),
        a.y > o.y ? (l.y = s.y) : ((l.y = o.y), (l.x = Math.max(l.x, s.x - h)))),
      e.angle > Math.PI / 2 &&
        ((s.x = Math.min(o.x, a.x - h)),
        a.y > o.y ? (l.y = s.y) : ((l.y = o.y), (l.x = Math.min(l.x, s.x - h)))),
      e.angle < -Math.PI / 2 &&
        ((s.x = Math.min(o.x, a.x - h)),
        a.y < o.y ? (l.y = s.y) : ((l.y = o.y), (l.x = Math.min(l.x, s.x - h))));
  }
  (c = [
    'M '.concat(a.x, ',').concat(a.y),
    'L '.concat(s.x, ',').concat(s.y),
    'L '.concat(l.x, ',').concat(l.y),
    'L '.concat(o.x, ',').concat(o.y),
    'L '.concat(u.x, ',').concat(u.y),
  ].join(' ')),
    (e.labelLine = _({}, e.labelLine, { path: c }));
}
function AL(e, r, t, i) {
  var n,
    a,
    o = r[0] && r[0].get('coordinate');
  if (o) {
    var s = o.getCenter(),
      l = o.getRadius(),
      u = {};
    try {
      for (var c = vt(r), h = c.next(); !h.done; h = c.next()) {
        var f = h.value;
        u[f.get('id')] = f;
      }
    } catch (E) {
      n = { error: E };
    } finally {
      try {
        h && !h.done && (a = c.return) && a.call(c);
      } finally {
        if (n) throw n.error;
      }
    }
    var v = M(e[0], 'labelHeight', 14),
      d = Math.max(M(e[0], 'offset', 0), wc);
    A(e, function (E) {
      if (E) {
        var k = M(u, [E.id]);
        if (k) {
          var T = E.x > s.x || (E.x === s.x && E.y > s.y),
            O = R(E.offsetX) ? SL : E.offsetX,
            P = zt(s.x, s.y, l + wc, E.angle),
            z = d + O;
          (E.x = s.x + (T ? 1 : -1) * (l + z)), (E.y = P.y);
        }
      }
    });
    var p = o.start,
      g = o.end,
      y = 'left',
      m = 'right',
      b = Fe(e, function (E) {
        return E.x < s.x ? y : m;
      }),
      w = (l + d) * 2 + v;
    A(b, function (E) {
      var k = E.length * v;
      k > w && (w = Math.min(k, Math.abs(p.y - g.y)));
    });
    var S = { minX: p.x, maxX: g.x, minY: s.y - w / 2, maxY: s.y + w / 2 };
    A(b, function (E, k) {
      var T = w / v;
      E.length > T &&
        (E.sort(function (O, P) {
          return P.percent - O.percent;
        }),
        A(E, function (O, P) {
          P > T && (u[O.id].set('visible', !1), (O.invisible = !0));
        })),
        E0(E, v, S);
    });
    var C = S.minY,
      F = S.maxY;
    A(b, function (E, k) {
      var T = k === m;
      A(E, function (O) {
        var P = M(u, O && [O.id]);
        if (P) {
          if (O.y < C || O.y > F) {
            P.set('visible', !1);
            return;
          }
          var z = P.getChildByIndex(0),
            W = z.getCanvasBBox(),
            j = { x: T ? W.x : W.maxX, y: W.y + W.height / 2 };
          to(z, O.x - j.x, O.y - j.y), O.labelLine && CL(O, o, T);
        }
      });
    });
  }
}
function ML(e, r, t, i) {
  A(r, function (n) {
    var a = i.minX,
      o = i.minY,
      s = i.maxX,
      l = i.maxY,
      u = n.getCanvasBBox(),
      c = u.minX,
      h = u.minY,
      f = u.maxX,
      v = u.maxY,
      d = u.x,
      p = u.y,
      g = u.width,
      y = u.height,
      m = d,
      b = p;
    (c < a || f < a) && (m = a),
      (h < o || v < o) && (b = o),
      c > s ? (m = s - g) : f > s && (m = m - (f - s)),
      h > l ? (b = l - y) : v > l && (b = b - (v - l)),
      (m !== d || b !== p) && to(n, m - d, b - p);
  });
}
function FL(e, r, t, i) {
  A(r, function (n, a) {
    var o = n.getCanvasBBox(),
      s = t[a].getBBox();
    (o.minX < s.minX || o.minY < s.minY || o.maxX > s.maxX || o.maxY > s.maxY) && n.remove(!0);
  });
}
var EL = 100,
  T0 = (function () {
    function e(r) {
      r === void 0 && (r = {}), (this.bitmap = {});
      var t = r.xGap,
        i = t === void 0 ? 1 : t,
        n = r.yGap,
        a = n === void 0 ? 8 : n;
      (this.xGap = i), (this.yGap = a);
    }
    return (
      (e.prototype.hasGap = function (r) {
        for (
          var t = !0,
            i = this.bitmap,
            n = Math.round(r.minX),
            a = Math.round(r.maxX),
            o = Math.round(r.minY),
            s = Math.round(r.maxY),
            l = n;
          l <= a;
          l += 1
        ) {
          if (!i[l]) {
            i[l] = {};
            continue;
          }
          if (l === n || l === a) {
            for (var u = o; u <= s; u++)
              if (i[l][u]) {
                t = !1;
                break;
              }
          } else if (i[l][o] || i[l][s]) {
            t = !1;
            break;
          }
        }
        return t;
      }),
      (e.prototype.fillGap = function (r) {
        for (
          var t = this.bitmap,
            i = Math.round(r.minX),
            n = Math.round(r.maxX),
            a = Math.round(r.minY),
            o = Math.round(r.maxY),
            s = i;
          s <= n;
          s += 1
        )
          t[s] || (t[s] = {});
        for (var s = i; s <= n; s += this.xGap) {
          for (var l = a; l <= o; l += this.yGap) t[s][l] = !0;
          t[s][o] = !0;
        }
        if (this.yGap !== 1) for (var s = a; s <= o; s += 1) (t[i][s] = !0), (t[n][s] = !0);
        if (this.xGap !== 1) for (var s = i; s <= n; s += 1) (t[s][a] = !0), (t[s][o] = !0);
      }),
      (e.prototype.destroy = function () {
        this.bitmap = {};
      }),
      e
    );
  })();
function TL(e, r, t) {
  t === void 0 && (t = EL);
  var i = -1,
    n = e.attr(),
    a = n.x,
    o = n.y,
    s = e.getCanvasBBox(),
    l = Math.sqrt(s.width * s.width + s.height * s.height),
    u,
    c = -i,
    h = 0,
    f = 0,
    v = function (y) {
      var m = y * 0.1;
      return [m * Math.cos(m), m * Math.sin(m)];
    };
  if (r.hasGap(s)) return r.fillGap(s), !0;
  for (var d = !1, p = 0, g = {}; Math.min(Math.abs(h), Math.abs(f)) < l && p < t; )
    if (
      ((u = v((c += i))),
      (h = ~~u[0]),
      (f = ~~u[1]),
      !((!h && !f) || g[''.concat(h, '-').concat(f)]) &&
        (e.attr({ x: a + h, y: o + f }),
        h + f < 0 && e.attr('textAlign', 'right'),
        p++,
        r.hasGap(e.getCanvasBBox())))
    ) {
      r.fillGap(e.getCanvasBBox()), (d = !0), (g[''.concat(h, '-').concat(f)] = !0);
      break;
    }
  return d;
}
function kL(e, r, t, i) {
  var n = e.getCanvasBBox(),
    a = n.width,
    o = n.height,
    s = { x: r, y: t, textAlign: 'center' };
  switch (i) {
    case 0:
      (s.y -= o + 1), (s.x += 1), (s.textAlign = 'left');
      break;
    case 1:
      (s.y -= o + 1), (s.x -= 1), (s.textAlign = 'right');
      break;
    case 2:
      (s.y += o + 1), (s.x -= 1), (s.textAlign = 'right');
      break;
    case 3:
      (s.y += o + 1), (s.x += 1), (s.textAlign = 'left');
      break;
    case 5:
      s.y -= o * 2 + 2;
      break;
    case 6:
      s.y += o * 2 + 2;
      break;
    case 7:
      (s.x += a + 1), (s.textAlign = 'left');
      break;
    case 8:
      (s.x -= a + 1), (s.textAlign = 'right');
      break;
  }
  return e.attr(s), e.getCanvasBBox();
}
function IL(e, r, t, i) {
  var n = new T0();
  A(r, function (a) {
    var o = a.find(function (s) {
      return s.get('type') === 'text';
    });
    TL(o, n) || a.remove(!0);
  }),
    n.destroy();
}
function LL(e, r, t, i) {
  var n = new T0();
  A(r, function (a) {
    for (
      var o = a.find(function (v) {
          return v.get('type') === 'text';
        }),
        s = o.attr(),
        l = s.x,
        u = s.y,
        c = !1,
        h = 0;
      h <= 8;
      h++
    ) {
      var f = kL(o, l, u, h);
      if (n.hasGap(f)) {
        n.fillGap(f), (c = !0);
        break;
      }
    }
    c || a.remove(!0);
  }),
    n.destroy();
}
function OL(e, r) {
  return (e[0] || 0) * (r[0] || 0) + (e[1] || 0) * (r[1] || 0) + (e[2] || 0) * (r[2] || 0);
}
function _d(e) {
  if (e.length > 4) return [];
  var r = function (n, a) {
      return [a.x - n.x, a.y - n.y];
    },
    t = r(e[0], e[1]),
    i = r(e[1], e[2]);
  return [t, i];
}
function Do(e, r, t) {
  r === void 0 && (r = 0), t === void 0 && (t = { x: 0, y: 0 });
  var i = e.x,
    n = e.y;
  return {
    x: (i - t.x) * Math.cos(-r) + (n - t.y) * Math.sin(-r) + t.x,
    y: (t.x - i) * Math.sin(-r) + (n - t.y) * Math.cos(-r) + t.y,
  };
}
function jd(e) {
  var r = [
      { x: e.x, y: e.y },
      { x: e.x + e.width, y: e.y },
      { x: e.x + e.width, y: e.y + e.height },
      { x: e.x, y: e.y + e.height },
    ],
    t = e.rotation;
  return t ? [Do(r[0], t, r[0]), Do(r[1], t, r[0]), Do(r[2], t, r[0]), Do(r[3], t, r[0])] : r;
}
function Ud(e, r) {
  if (e.length > 4) return { min: 0, max: 0 };
  var t = [];
  return (
    e.forEach(function (i) {
      t.push(OL([i.x, i.y], r));
    }),
    { min: Math.min.apply(Math, Et([], K(t), !1)), max: Math.max.apply(Math, Et([], K(t), !1)) }
  );
}
function PL(e, r) {
  return e.max > r.min && e.min < r.max;
}
function DL(e) {
  return typeof e == 'number' && !Number.isNaN(e) && e !== 1 / 0 && e !== -1 / 0;
}
function qd(e) {
  return ['x', 'y', 'width', 'height'].every(function (r) {
    return DL(e[r]);
  });
}
function BL(e, r, t) {
  return (
    t === void 0 && (t = 0),
    !(
      r.x > e.x + e.width + t ||
      r.x + r.width < e.x - t ||
      r.y > e.y + e.height + t ||
      r.y + r.height < e.y - t
    )
  );
}
function RL(e, r, t) {
  if ((t === void 0 && (t = 0), !qd(e) || !qd(r))) return !1;
  if (!e.rotation && !r.rotation) return BL(e, r, t);
  for (var i = jd(e), n = jd(r), a = _d(i).concat(_d(n)), o = 0; o < a.length; o++) {
    var s = a[o],
      l = Ud(i, s),
      u = Ud(n, s);
    if (!PL(l, u)) return !1;
  }
  return !0;
}
var $L = (function () {
  function e(r) {
    var t = this;
    (this.queue = []),
      (this.worker = new Worker(r)),
      (this.worker.onmessage = function (i) {
        var n;
        (n = t.queue.shift()) === null || n === void 0 || n.resolve(i);
      }),
      (this.worker.onmessageerror = function (i) {
        var n;
        console.warn('[AntV G2] Web worker is not available'),
          (n = t.queue.shift()) === null || n === void 0 || n.reject(i);
      });
  }
  return (
    (e.prototype.post = function (r, t) {
      var i = this;
      return new Promise(function (n, a) {
        i.queue.push({ resolve: n, reject: a });
        try {
          i.worker.postMessage(r);
        } catch (o) {
          console.warn('[AntV G2] Web worker is not available'), q(t) && t();
        }
      });
    }),
    (e.prototype.destroy = function () {
      this.worker.terminate();
    }),
    e
  );
})();
function NL(e) {
  if (typeof window != 'undefined') {
    var r;
    try {
      r = new Blob([e.toString()], { type: 'application/javascript' });
    } catch (t) {
      (r = new window.BlobBuilder()), r.append(e.toString()), (r = r.getBlob());
    }
    return new $L(URL.createObjectURL(r));
  }
}
var zL = function (e) {
    function r() {
      function u(b, w) {
        return (b[0] || 0) * (w[0] || 0) + (b[1] || 0) * (w[1] || 0) + (b[2] || 0) * (w[2] || 0);
      }
      function c(b) {
        if (b.length > 4) return [];
        var w = function (F, E) {
            return [E.x - F.x, E.y - F.y];
          },
          S = w(b[0], b[1]),
          C = w(b[1], b[2]);
        return [S, C];
      }
      function h(b, w, S) {
        w === void 0 && (w = 0), S === void 0 && (S = { x: 0, y: 0 });
        var C = b.x,
          F = b.y;
        return {
          x: (C - S.x) * Math.cos(-w) + (F - S.y) * Math.sin(-w) + S.x,
          y: (S.x - C) * Math.sin(-w) + (F - S.y) * Math.cos(-w) + S.y,
        };
      }
      function f(b) {
        var w = [
            { x: b.x, y: b.y },
            { x: b.x + b.width, y: b.y },
            { x: b.x + b.width, y: b.y + b.height },
            { x: b.x, y: b.y + b.height },
          ],
          S = b.rotation;
        return S ? [h(w[0], S, w[0]), h(w[1], S, w[0]), h(w[2], S, w[0]), h(w[3], S, w[0])] : w;
      }
      function v(b, w) {
        if (b.length > 4) return { min: 0, max: 0 };
        var S = [];
        return (
          b.forEach(function (C) {
            S.push(u([C.x, C.y], w));
          }),
          { min: Math.min.apply(null, S), max: Math.max.apply(null, S) }
        );
      }
      function d(b, w) {
        return b.max > w.min && b.min < w.max;
      }
      function p(b) {
        return typeof b == 'number' && !Number.isNaN(b) && b !== 1 / 0 && b !== -1 / 0;
      }
      function g(b) {
        return ['x', 'y', 'width', 'height'].every(function (w) {
          return p(b[w]);
        });
      }
      function y(b, w, S) {
        return (
          S === void 0 && (S = 0),
          !(
            w.x > b.x + b.width + S ||
            w.x + w.width < b.x - S ||
            w.y > b.y + b.height + S ||
            w.y + w.height < b.y - S
          )
        );
      }
      function m(b, w, S) {
        if ((S === void 0 && (S = 0), !g(b) || !g(w))) return !1;
        if (!b.rotation && !w.rotation) return y(b, w, S);
        for (var C = f(b), F = f(w), E = c(C).concat(c(F)), k = 0; k < E.length; k++) {
          var T = E[k],
            O = v(C, T),
            P = v(F, T);
          if (!d(O, P)) return !1;
        }
        return !0;
      }
      return { intersect: m };
    }
    var t = r().intersect;
    function i(u) {
      for (var c = u.slice(), h = 0; h < c.length; h++) {
        var f = c[h];
        if (f.visible)
          for (var v = h + 1; v < c.length; v++) {
            var d = c[v];
            f !== d && d.visible && t(f, d) && (d.visible = !1);
          }
      }
      return c;
    }
    var n = { 'hide-overlap': i };
    try {
      var a = JSON.parse(e.data);
      if (!a || !a.type || !n[a.type]) return;
      var o = a.type,
        s = a.items,
        l = n[o](s);
      self.postMessage(l);
    } catch (u) {
      throw u;
    }
  },
  GL = `
   self.onmessage = `.concat(
    zL.toString(),
    `
`,
  ),
  vu = function (e) {
    for (var r = e.slice(), t = 0; t < r.length; t++) {
      var i = r[t];
      if (i.visible)
        for (var n = t + 1; n < r.length; n++) {
          var a = r[n];
          i !== a && a.visible && RL(i, a) && (a.visible = !1);
        }
    }
    return r;
  },
  du = new Map(),
  Zd = NL(GL);
function HL(e, r, t, i) {
  return ma(this, void 0, void 0, function () {
    var n, a, o, s, l, u;
    return xa(this, function (c) {
      switch (c.label) {
        case 0:
          return (
            (n = r.map(function (h, f) {
              return x(x({}, Um(h, e[f], M(e[f], 'background.padding'))), { visible: !0 });
            })),
            (a = JSON.stringify(n)),
            (o = function (h) {
              return (
                du.set(a, h),
                A(h, function (f, v) {
                  var d = f.visible,
                    p = r[v];
                  d ? p == null || p.show() : p == null || p.hide();
                }),
                h
              );
            }),
            du.get(a) ? (o(du.get(a)), [3, 7]) : [3, 1]
          );
        case 1:
          if (!Zd) return [3, 6];
          c.label = 2;
        case 2:
          return (
            c.trys.push([2, 4, , 5]),
            (s = JSON.stringify({ type: 'hide-overlap', items: n })),
            [
              4,
              Zd.post(s, function () {
                return o(vu(n));
              }),
            ]
          );
        case 3:
          return (l = c.sent()), o(Array.isArray(l.data) ? l.data : []), [3, 5];
        case 4:
          return (u = c.sent()), console.error(u), o(vu(n)), [3, 5];
        case 5:
          return [3, 7];
        case 6:
          o(vu(n)), (c.label = 7);
        case 7:
          return [2];
      }
    });
  });
}
var Kd = { '#5B8FF9': !0 },
  VL = function (e) {
    var r = Yr.toRGB(e).toUpperCase();
    if (Kd[r]) return Kd[r];
    var t = K(Yr.rgb2arr(r), 3),
      i = t[0],
      n = t[1],
      a = t[2],
      o = (i * 299 + n * 587 + a * 114) / 1e3 < 128;
    return o;
  };
function YL(e, r, t) {
  if (t.length !== 0) {
    var i = t[0].get('element'),
      n = i.geometry.theme,
      a = n.labels || {},
      o = a.fillColorLight,
      s = a.fillColorDark;
    t.forEach(function (l, u) {
      var c = r[u],
        h = c.find(function (y) {
          return y.get('type') === 'text';
        }),
        f = he.fromObject(l.getBBox()),
        v = he.fromObject(h.getCanvasBBox()),
        d = !f.contains(v),
        p = l.attr('fill'),
        g = VL(p);
      d ? h.attr(n.overflowLabels.style) : g ? o && h.attr('fill', o) : s && h.attr('fill', s);
    });
  }
}
function WL(e, r, t) {
  var i = e.coordinate,
    n = Kr(r),
    a = he.fromObject(n.getCanvasBBox()),
    o = he.fromObject(t.getBBox());
  return i.isTransposed ? o.height >= a.height : o.width >= a.width;
}
function XL(e, r, t) {
  var i = !!e.getAdjust('stack');
  return (
    i ||
    r.every(function (n, a) {
      var o = t[a];
      return WL(e, n, o);
    })
  );
}
function _L(e, r, t) {
  var i = e.coordinate,
    n = he.fromObject(t.getBBox()),
    a = Kr(r);
  i.isTransposed
    ? a.attr({ x: n.minX + n.width / 2, textAlign: 'center' })
    : a.attr({ y: n.minY + n.height / 2, textBaseline: 'middle' });
}
function jL(e, r, t) {
  var i;
  if (t.length !== 0) {
    var n = (i = t[0]) === null || i === void 0 ? void 0 : i.get('element'),
      a = n == null ? void 0 : n.geometry;
    if (!(!a || a.type !== 'interval')) {
      var o = XL(a, r, t);
      o &&
        t.forEach(function (s, l) {
          var u = r[l];
          _L(a, u, s);
        });
    }
  }
}
function UL(e) {
  var r = 500,
    t = [],
    i = Math.max(Math.floor(e.length / r), 1);
  return (
    A(e, function (n, a) {
      a % i === 0 ? t.push(n) : n.set('visible', !1);
    }),
    t
  );
}
function qL(e, r, t) {
  var i;
  if (t.length !== 0) {
    var n = (i = t[0]) === null || i === void 0 ? void 0 : i.get('element'),
      a = n == null ? void 0 : n.geometry;
    if (!(!a || a.type !== 'interval')) {
      var o = UL(r),
        s = K(a.getXYFields(), 1),
        l = s[0],
        u = [],
        c = [],
        h = Fe(o, function (g) {
          return g.get('data')[l];
        }),
        f = Ii(
          Tt(o, function (g) {
            return g.get('data')[l];
          }),
        ),
        v;
      o.forEach(function (g) {
        g.set('visible', !0);
      });
      var d = function (g) {
        g && (g.length && c.push(g.pop()), c.push.apply(c, Et([], K(g), !1)));
      };
      for (
        Xt(f) > 0 && ((v = f.shift()), d(h[v])),
          Xt(f) > 0 && ((v = f.pop()), d(h[v])),
          A(f.reverse(), function (g) {
            d(h[g]);
          });
        c.length > 0;

      ) {
        var p = c.shift();
        p.get('visible') && (uk(p, u) ? p.set('visible', !1) : u.push(p));
      }
    }
  }
}
function ZL(e, r) {
  var t = e.getXYFields()[1],
    i = [],
    n = r.sort(function (a, o) {
      return a.get('data')[t] - a.get('data')[t];
    });
  return (
    n.length > 0 && i.push(n.shift()),
    n.length > 0 && i.push(n.pop()),
    i.push.apply(i, Et([], K(n), !1)),
    i
  );
}
function k0(e, r, t) {
  return e.some(function (i) {
    return t(i, r);
  });
}
function KL(e, r, t) {
  t === void 0 && (t = 0);
  var i = Math.max(0, Math.min(e.x + e.width + t, r.x + r.width + t) - Math.max(e.x - t, r.x - t)),
    n = Math.max(0, Math.min(e.y + e.height + t, r.y + r.height + t) - Math.max(e.y - t, r.y - t));
  return i * n;
}
function Qd(e, r) {
  return k0(e, r, function (t, i) {
    var n = Kr(t),
      a = Kr(i);
    return KL(n.getCanvasBBox(), a.getCanvasBBox(), 2) > 0;
  });
}
function QL(e, r, t, i, n) {
  var a, o;
  if (t.length !== 0) {
    var s = (a = t[0]) === null || a === void 0 ? void 0 : a.get('element'),
      l = s == null ? void 0 : s.geometry;
    if (!(!l || l.type !== 'point')) {
      var u = K(l.getXYFields(), 2),
        c = u[0],
        h = u[1],
        f = Fe(r, function (p) {
          return p.get('data')[c];
        }),
        v = [],
        d = (n && n.offset) || ((o = e[0]) === null || o === void 0 ? void 0 : o.offset) || 12;
      Tt(En(f).reverse(), function (p) {
        for (var g = ZL(l, f[p]); g.length; ) {
          var y = g.shift(),
            m = Kr(y);
          if (
            k0(v, y, function (S, C) {
              return S.get('data')[c] === C.get('data')[c] && S.get('data')[h] === C.get('data')[h];
            })
          ) {
            m.set('visible', !1);
            continue;
          }
          var b = Qd(v, y),
            w = !1;
          if ((b && (m.attr('y', m.attr('y') + 2 * d), (w = Qd(v, y))), w)) {
            m.set('visible', !1);
            continue;
          }
          v.push(y);
        }
      });
    }
  }
}
function JL(e, r) {
  var t = e.getXYFields()[1],
    i = [],
    n = r.sort(function (a, o) {
      return a.get('data')[t] - a.get('data')[t];
    });
  return (
    n.length > 0 && i.push(n.shift()),
    n.length > 0 && i.push(n.pop()),
    i.push.apply(i, Et([], K(n), !1)),
    i
  );
}
function I0(e, r, t) {
  return e.some(function (i) {
    return t(i, r);
  });
}
function tO(e, r, t) {
  t === void 0 && (t = 0);
  var i = Math.max(0, Math.min(e.x + e.width + t, r.x + r.width + t) - Math.max(e.x - t, r.x - t)),
    n = Math.max(0, Math.min(e.y + e.height + t, r.y + r.height + t) - Math.max(e.y - t, r.y - t));
  return i * n;
}
function Jd(e, r) {
  return I0(e, r, function (t, i) {
    var n = Kr(t),
      a = Kr(i);
    return tO(n.getCanvasBBox(), a.getCanvasBBox(), 2) > 0;
  });
}
function eO(e, r, t, i, n) {
  var a, o;
  if (t.length !== 0) {
    var s = (a = t[0]) === null || a === void 0 ? void 0 : a.get('element'),
      l = s == null ? void 0 : s.geometry;
    if (!(!l || ['path', 'line', 'area'].indexOf(l.type) < 0)) {
      var u = K(l.getXYFields(), 2),
        c = u[0],
        h = u[1],
        f = Fe(r, function (p) {
          return p.get('data')[c];
        }),
        v = [],
        d = (n && n.offset) || ((o = e[0]) === null || o === void 0 ? void 0 : o.offset) || 12;
      Tt(En(f).reverse(), function (p) {
        for (var g = JL(l, f[p]); g.length; ) {
          var y = g.shift(),
            m = Kr(y);
          if (
            I0(v, y, function (S, C) {
              return S.get('data')[c] === C.get('data')[c] && S.get('data')[h] === C.get('data')[h];
            })
          ) {
            m.set('visible', !1);
            continue;
          }
          var b = Jd(v, y),
            w = !1;
          if ((b && (m.attr('y', m.attr('y') + 2 * d), (w = Jd(v, y))), w)) {
            m.set('visible', !1);
            continue;
          }
          v.push(y);
        }
      });
    }
  }
}
var pu;
function rO() {
  return pu || (pu = document.createElement('canvas').getContext('2d')), pu;
}
var Bo = kn(
    function (e, r) {
      r === void 0 && (r = {});
      var t = r.fontSize,
        i = r.fontFamily,
        n = r.fontWeight,
        a = r.fontStyle,
        o = r.fontVariant,
        s = rO();
      return (
        (s.font = [a, o, n, ''.concat(t, 'px'), i].join(' ')), s.measureText(et(e) ? e : '').width
      );
    },
    function (e, r) {
      return r === void 0 && (r = {}), Et([e], K(Ys(r)), !1).join('');
    },
  ),
  iO = function (e, r, t) {
    var i = 16,
      n = Bo('...', t),
      a;
    et(e) ? (a = e) : (a = _a(e));
    var o = r,
      s = [],
      l,
      u;
    if (Bo(e, t) <= r) return e;
    for (; (l = a.substr(0, i)), (u = Bo(l, t)), !(u + n > o && u > o); )
      if ((s.push(l), (o -= u), (a = a.substr(i)), !a)) return s.join('');
    for (; (l = a.substr(0, 1)), (u = Bo(l, t)), !(u + n > o); )
      if ((s.push(l), (o -= u), (a = a.substr(1)), !a)) return s.join('');
    return ''.concat(s.join(''), '...');
  };
function nO(e, r, t, i, n) {
  if (!(r.length <= 0)) {
    var a = (n == null ? void 0 : n.direction) || ['top', 'right', 'bottom', 'left'],
      o = (n == null ? void 0 : n.action) || 'translate',
      s = (n == null ? void 0 : n.margin) || 0,
      l = r[0].get('coordinate');
    if (l) {
      var u = JE(l, s),
        c = u.minX,
        h = u.minY,
        f = u.maxX,
        v = u.maxY;
      A(r, function (d) {
        var p = d.getCanvasBBox(),
          g = p.minX,
          y = p.minY,
          m = p.maxX,
          b = p.maxY,
          w = p.x,
          S = p.y,
          C = p.width,
          F = p.height,
          E = w,
          k = S;
        if (
          (a.indexOf('left') >= 0 && (g < c || m < c) && (E = c),
          a.indexOf('top') >= 0 && (y < h || b < h) && (k = h),
          a.indexOf('right') >= 0 && (g > f ? (E = f - C) : m > f && (E = E - (m - f))),
          a.indexOf('bottom') >= 0 && (y > v ? (k = v - F) : b > v && (k = k - (b - v))),
          E !== w || k !== S)
        ) {
          var T = E - w;
          if (o === 'translate') to(d, T, k - S);
          else if (o === 'ellipsis') {
            var O = d.findAll(function (P) {
              return P.get('type') === 'text';
            });
            O.forEach(function (P) {
              var z = Wc(P.attr(), [
                  'fontSize',
                  'fontFamily',
                  'fontWeight',
                  'fontStyle',
                  'fontVariant',
                ]),
                W = P.getCanvasBBox(),
                j = iO(P.attr('text'), W.width - Math.abs(T), z);
              P.attr('text', j);
            });
          } else d.hide();
        }
      });
    }
  }
}
function aO(e, r, t) {
  var i = {
    fillOpacity: R(e.attr('fillOpacity')) ? 1 : e.attr('fillOpacity'),
    strokeOpacity: R(e.attr('strokeOpacity')) ? 1 : e.attr('strokeOpacity'),
    opacity: R(e.attr('opacity')) ? 1 : e.attr('opacity'),
  };
  e.attr({ fillOpacity: 0, strokeOpacity: 0, opacity: 0 }), e.animate(i, r);
}
function oO(e, r, t) {
  var i = { fillOpacity: 0, strokeOpacity: 0, opacity: 0 },
    n = r.easing,
    a = r.duration,
    o = r.delay;
  e.animate(
    i,
    a,
    n,
    function () {
      e.remove(!0);
    },
    o,
  );
}
function sO(e, r, t) {
  var i,
    n = K(r, 2),
    a = n[0],
    o = n[1];
  return (
    e.applyToMatrix([a, o, 1]),
    t === 'x'
      ? (e.setMatrix(
          Ht(e.getMatrix(), [
            ['t', -a, -o],
            ['s', 0.01, 1],
            ['t', a, o],
          ]),
        ),
        (i = Ht(e.getMatrix(), [
          ['t', -a, -o],
          ['s', 100, 1],
          ['t', a, o],
        ])))
      : t === 'y'
      ? (e.setMatrix(
          Ht(e.getMatrix(), [
            ['t', -a, -o],
            ['s', 1, 0.01],
            ['t', a, o],
          ]),
        ),
        (i = Ht(e.getMatrix(), [
          ['t', -a, -o],
          ['s', 1, 100],
          ['t', a, o],
        ])))
      : t === 'xy' &&
        (e.setMatrix(
          Ht(e.getMatrix(), [
            ['t', -a, -o],
            ['s', 0.01, 0.01],
            ['t', a, o],
          ]),
        ),
        (i = Ht(e.getMatrix(), [
          ['t', -a, -o],
          ['s', 100, 100],
          ['t', a, o],
        ]))),
    i
  );
}
function Hh(e, r, t, i, n) {
  var a = t.start,
    o = t.end,
    s = t.getWidth(),
    l = t.getHeight(),
    u,
    c;
  n === 'y'
    ? ((u = a.x + s / 2), (c = i.y < a.y ? i.y : a.y))
    : n === 'x'
    ? ((u = i.x > a.x ? i.x : a.x), (c = a.y + l / 2))
    : n === 'xy' &&
      (t.isPolar
        ? ((u = t.getCenter().x), (c = t.getCenter().y))
        : ((u = (a.x + o.x) / 2), (c = (a.y + o.y) / 2)));
  var h = sO(e, [u, c], n);
  e.animate({ matrix: h }, r);
}
function lO(e, r, t) {
  var i = t.coordinate,
    n = t.minYPoint;
  Hh(e, r, i, n, 'x');
}
function uO(e, r, t) {
  var i = t.coordinate,
    n = t.minYPoint;
  Hh(e, r, i, n, 'y');
}
function cO(e, r, t) {
  var i = t.coordinate,
    n = t.minYPoint;
  Hh(e, r, i, n, 'xy');
}
function hO(e, r, t) {
  var i = e.getTotalLength();
  e.attr('lineDash', [i]),
    e.animate(function (n) {
      return { lineDashOffset: (1 - n) * i };
    }, r);
}
function fO(e, r, t) {
  var i = t.toAttrs,
    n = i.x,
    a = i.y;
  delete i.x, delete i.y, e.attr(i), e.animate({ x: n, y: a }, r);
}
function vO(e, r, t) {
  var i = e.getBBox(),
    n = e.get('origin').mappingData,
    a = n.points,
    o = a[0].y - a[1].y > 0 ? i.maxX : i.minX,
    s = (i.minY + i.maxY) / 2;
  e.applyToMatrix([o, s, 1]);
  var l = Ht(e.getMatrix(), [
    ['t', -o, -s],
    ['s', 0.01, 1],
    ['t', o, s],
  ]);
  e.setMatrix(l),
    e.animate(
      {
        matrix: Ht(e.getMatrix(), [
          ['t', -o, -s],
          ['s', 100, 1],
          ['t', o, s],
        ]),
      },
      r,
    );
}
function dO(e, r, t) {
  var i = e.getBBox(),
    n = e.get('origin').mappingData,
    a = (i.minX + i.maxX) / 2,
    o = n.points,
    s = o[0].y - o[1].y <= 0 ? i.maxY : i.minY;
  e.applyToMatrix([a, s, 1]);
  var l = Ht(e.getMatrix(), [
    ['t', -a, -s],
    ['s', 1, 0.01],
    ['t', a, s],
  ]);
  e.setMatrix(l),
    e.animate(
      {
        matrix: Ht(e.getMatrix(), [
          ['t', -a, -s],
          ['s', 1, 100],
          ['t', a, s],
        ]),
      },
      r,
    );
}
function tp(e, r) {
  var t,
    i = As(e, r),
    n = i.startAngle,
    a = i.endAngle;
  return (
    !qt(n, -Math.PI * 0.5) && n < -Math.PI * 0.5 && (n += Math.PI * 2),
    !qt(a, -Math.PI * 0.5) && a < -Math.PI * 0.5 && (a += Math.PI * 2),
    r[5] === 0 && ((t = K([a, n], 2)), (n = t[0]), (a = t[1])),
    qt(n, Math.PI * 1.5) && (n = Math.PI * -0.5),
    qt(a, Math.PI * -0.5) && !qt(n, a) && (a = Math.PI * 1.5),
    { startAngle: n, endAngle: a }
  );
}
function ep(e) {
  var r;
  return (
    e[0] === 'M' || e[0] === 'L'
      ? (r = [e[1], e[2]])
      : (e[0] === 'a' || e[0] === 'A' || e[0] === 'C') && (r = [e[e.length - 2], e[e.length - 1]]),
    r
  );
}
function rp(e) {
  var r,
    t,
    i,
    n = e.filter(function (b) {
      return b[0] === 'A' || b[0] === 'a';
    });
  if (n.length === 0) return { startAngle: 0, endAngle: 0, radius: 0, innerRadius: 0 };
  var a = n[0],
    o = n.length > 1 ? n[1] : n[0],
    s = e.indexOf(a),
    l = e.indexOf(o),
    u = ep(e[s - 1]),
    c = ep(e[l - 1]),
    h = tp(u, a),
    f = h.startAngle,
    v = h.endAngle,
    d = tp(c, o),
    p = d.startAngle,
    g = d.endAngle;
  qt(f, p) && qt(v, g) ? ((t = f), (i = v)) : ((t = Math.min(f, p)), (i = Math.max(v, g)));
  var y = a[1],
    m = n[n.length - 1][1];
  return (
    y < m ? ((r = K([m, y], 2)), (y = r[0]), (m = r[1])) : y === m && (m = 0),
    { startAngle: t, endAngle: i, radius: y, innerRadius: m }
  );
}
function pO(e, r, t) {
  var i = t.toAttrs,
    n = t.coordinate,
    a = i.path || [],
    o = a.map(function (m) {
      return m[0];
    });
  if (!(a.length < 1)) {
    var s = rp(a),
      l = s.startAngle,
      u = s.endAngle,
      c = s.radius,
      h = s.innerRadius,
      f = rp(e.attr('path')),
      v = f.startAngle,
      d = f.endAngle,
      p = n.getCenter(),
      g = l - v,
      y = u - d;
    if (g === 0 && y === 0) {
      e.attr('path', a);
      return;
    }
    e.animate(
      function (m) {
        var b = v + m * g,
          w = d + m * y;
        return x(x({}, i), {
          path: Bt(o, ['M', 'A', 'A', 'Z']) ? mm(p.x, p.y, c, b, w) : Wr(p.x, p.y, c, b, w, h),
        });
      },
      x(x({}, r), {
        callback: function () {
          e.attr('path', a);
        },
      }),
    );
  }
}
function gO(e, r, t) {
  var i = yh(t.coordinate, 20),
    n = i.type,
    a = i.startState,
    o = i.endState,
    s = e.setClip({ type: n, attrs: a });
  t.toAttrs && e.attr(t.toAttrs),
    s.animate(
      o,
      x(x({}, r), {
        callback: function () {
          e && !e.get('destroyed') && e.set('clipShape', null), s.remove(!0);
        },
      }),
    );
}
function Vh(e, r, t) {
  if (e.isGroup())
    A(e.getChildren(), function (s) {
      Vh(s, r, t);
    });
  else {
    var i = e.getBBox(),
      n = (i.minX + i.maxX) / 2,
      a = (i.minY + i.maxY) / 2;
    if ((e.applyToMatrix([n, a, 1]), t === 'zoomIn')) {
      var o = Ht(e.getMatrix(), [
        ['t', -n, -a],
        ['s', 0.01, 0.01],
        ['t', n, a],
      ]);
      e.setMatrix(o),
        e.animate(
          {
            matrix: Ht(e.getMatrix(), [
              ['t', -n, -a],
              ['s', 100, 100],
              ['t', n, a],
            ]),
          },
          r,
        );
    } else
      e.animate(
        {
          matrix: Ht(e.getMatrix(), [
            ['t', -n, -a],
            ['s', 0.01, 0.01],
            ['t', n, a],
          ]),
        },
        x(x({}, r), {
          callback: function () {
            e.remove(!0);
          },
        }),
      );
  }
}
function yO(e, r, t) {
  Vh(e, r, 'zoomIn');
}
function mO(e, r, t) {
  Vh(e, r, 'zoomOut');
}
function Mr(e) {
  return [Y.TOP, Y.BOTTOM].includes(e)
    ? {
        offsetX: 0,
        offsetY: e === Y.TOP ? -8 : 8,
        style: { textAlign: 'center', textBaseline: e === Y.TOP ? 'bottom' : 'top' },
      }
    : [Y.LEFT, Y.RIGHT].includes(e)
    ? {
        offsetX: e === Y.LEFT ? -8 : 8,
        offsetY: 0,
        style: {
          textAlign: e === Y.LEFT ? 'right' : 'left',
          textBaseline: 'middle',
          rotate: Math.PI / 2,
        },
      }
    : {};
}
function gu(e, r, t) {
  return { x: e.x + r * Math.cos(t), y: e.y + r * Math.sin(t) };
}
var xO = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        return _({}, e.prototype.getDefaultCfg.call(this), {
          type: 'circle',
          showTitle: !0,
          title: e.prototype.getDefaultTitleCfg.call(this),
        });
      }),
      (r.prototype.render = function () {
        e.prototype.render.call(this), this.cfg.showTitle && this.renderTitle();
      }),
      (r.prototype.getRegion = function (t, i) {
        var n = 0.5,
          a = { x: 0.5, y: 0.5 },
          o = (Math.PI * 2) / t,
          s = (-1 * Math.PI) / 2 + o * i,
          l = n / (1 + 1 / Math.sin(o / 2)),
          u = gu(a, n - l, s),
          c = (Math.PI * 5) / 4,
          h = (Math.PI * 1) / 4;
        return { start: gu(u, l, c), end: gu(u, l, h) };
      }),
      (r.prototype.afterEachView = function (t, i) {
        this.processAxis(t, i);
      }),
      (r.prototype.beforeEachView = function (t, i) {}),
      (r.prototype.generateFacets = function (t) {
        var i = this,
          n = this.cfg,
          a = n.fields,
          o = n.type,
          s = K(a, 1),
          l = s[0];
        if (!l) throw new Error('No `fields` specified!');
        var u = this.getFieldValues(t, l),
          c = u.length,
          h = [];
        return (
          u.forEach(function (f, v) {
            var d = [{ field: l, value: f, values: u }],
              p = Qt(t, i.getFacetDataFilter(d)),
              g = {
                type: o,
                data: p,
                region: i.getRegion(c, v),
                columnValue: f,
                columnField: l,
                columnIndex: v,
                columnValuesLength: c,
                rowValue: null,
                rowField: null,
                rowIndex: 0,
                rowValuesLength: 1,
              };
            h.push(g);
          }),
          h
        );
      }),
      (r.prototype.getXAxisOption = function (t, i, n, a) {
        return n;
      }),
      (r.prototype.getYAxisOption = function (t, i, n, a) {
        return n;
      }),
      (r.prototype.renderTitle = function () {
        var t = this;
        A(this.facets, function (i) {
          var n = i.columnValue,
            a = i.view,
            o = M(t.cfg.title, 'formatter'),
            s = _({ position: ['50%', '0%'], content: o ? o(n) : n }, Mr(Y.TOP), t.cfg.title);
          a.annotation().text(s);
        });
      }),
      r
    );
  })(Ln),
  wO = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        return _({}, e.prototype.getDefaultCfg.call(this), {
          type: 'list',
          cols: null,
          showTitle: !0,
          title: e.prototype.getDefaultTitleCfg.call(this),
        });
      }),
      (r.prototype.render = function () {
        e.prototype.render.call(this), this.cfg.showTitle && this.renderTitle();
      }),
      (r.prototype.afterEachView = function (t, i) {
        this.processAxis(t, i);
      }),
      (r.prototype.beforeEachView = function (t, i) {}),
      (r.prototype.generateFacets = function (t) {
        var i = this,
          n = this.cfg.fields,
          a = this.cfg.cols,
          o = K(n, 1),
          s = o[0];
        if (!s) throw new Error('No `fields` specified!');
        var l = this.getFieldValues(t, s),
          u = l.length;
        a = a || u;
        var c = this.getPageCount(u, a),
          h = [];
        return (
          l.forEach(function (f, v) {
            var d = i.getRowCol(v, a),
              p = d.row,
              g = d.col,
              y = [{ field: s, value: f, values: l }],
              m = Qt(t, i.getFacetDataFilter(y)),
              b = {
                type: i.cfg.type,
                data: m,
                region: i.getRegion(c, a, g, p),
                columnValue: f,
                rowValue: f,
                columnField: s,
                rowField: null,
                columnIndex: g,
                rowIndex: p,
                columnValuesLength: a,
                rowValuesLength: c,
                total: u,
              };
            h.push(b);
          }),
          h
        );
      }),
      (r.prototype.getXAxisOption = function (t, i, n, a) {
        return a.rowIndex !== a.rowValuesLength - 1 &&
          a.columnValuesLength * a.rowIndex + a.columnIndex + 1 + a.columnValuesLength <= a.total
          ? x(x({}, n), { label: null, title: null })
          : n;
      }),
      (r.prototype.getYAxisOption = function (t, i, n, a) {
        return a.columnIndex !== 0 ? x(x({}, n), { title: null, label: null }) : n;
      }),
      (r.prototype.renderTitle = function () {
        var t = this;
        A(this.facets, function (i) {
          var n = i.columnValue,
            a = i.view,
            o = M(t.cfg.title, 'formatter'),
            s = _({ position: ['50%', '0%'], content: o ? o(n) : n }, Mr(Y.TOP), t.cfg.title);
          a.annotation().text(s);
        });
      }),
      (r.prototype.getPageCount = function (t, i) {
        return Math.floor((t + i - 1) / i);
      }),
      (r.prototype.getRowCol = function (t, i) {
        var n = Math.floor(t / i),
          a = t % i;
        return { row: n, col: a };
      }),
      r
    );
  })(Ln),
  bO = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        return _({}, e.prototype.getDefaultCfg.call(this), {
          type: 'matrix',
          showTitle: !1,
          columnTitle: x({}, e.prototype.getDefaultTitleCfg.call(this)),
          rowTitle: x({}, e.prototype.getDefaultTitleCfg.call(this)),
        });
      }),
      (r.prototype.render = function () {
        e.prototype.render.call(this), this.cfg.showTitle && this.renderTitle();
      }),
      (r.prototype.afterEachView = function (t, i) {
        this.processAxis(t, i);
      }),
      (r.prototype.beforeEachView = function (t, i) {}),
      (r.prototype.generateFacets = function (t) {
        for (
          var i = this.cfg, n = i.fields, a = i.type, o = n.length, s = o, l = [], u = 0;
          u < s;
          u++
        )
          for (var c = n[u], h = 0; h < o; h++) {
            var f = n[h],
              v = {
                type: a,
                data: t,
                region: this.getRegion(o, s, u, h),
                columnValue: c,
                rowValue: f,
                columnField: c,
                rowField: f,
                columnIndex: u,
                rowIndex: h,
                columnValuesLength: s,
                rowValuesLength: o,
              };
            l.push(v);
          }
        return l;
      }),
      (r.prototype.getXAxisOption = function (t, i, n, a) {
        return a.rowIndex !== a.rowValuesLength - 1 ? x(x({}, n), { label: null, title: null }) : n;
      }),
      (r.prototype.getYAxisOption = function (t, i, n, a) {
        return a.columnIndex !== 0 ? x(x({}, n), { title: null, label: null }) : n;
      }),
      (r.prototype.renderTitle = function () {
        var t = this;
        A(this.facets, function (i, n) {
          var a = i.columnIndex,
            o = i.rowIndex,
            s = i.columnValuesLength;
          i.rowValuesLength;
          var l = i.columnValue,
            u = i.rowValue,
            c = i.view;
          if (o === 0) {
            var h = M(t.cfg.columnTitle, 'formatter'),
              f = _(
                { position: ['50%', '0%'], content: h ? h(l) : l },
                Mr(Y.TOP),
                t.cfg.columnTitle,
              );
            c.annotation().text(f);
          }
          if (a === s - 1) {
            var h = M(t.cfg.rowTitle, 'formatter'),
              f = _(
                { position: ['100%', '50%'], content: h ? h(u) : u },
                Mr(Y.RIGHT),
                t.cfg.rowTitle,
              );
            c.annotation().text(f);
          }
        });
      }),
      r
    );
  })(Ln),
  SO = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getDefaultCfg = function () {
        return _({}, e.prototype.getDefaultCfg.call(this), {
          type: 'mirror',
          showTitle: !0,
          title: e.prototype.getDefaultTitleCfg.call(this),
          transpose: !1,
        });
      }),
      (r.prototype.render = function () {
        e.prototype.render.call(this), this.cfg.showTitle && this.renderTitle();
      }),
      (r.prototype.beforeEachView = function (t, i) {
        this.cfg.transpose
          ? i.columnIndex % 2 === 0
            ? t.coordinate().transpose().reflect('x')
            : t.coordinate().transpose()
          : i.rowIndex % 2 !== 0 && t.coordinate().reflect('y');
      }),
      (r.prototype.afterEachView = function (t, i) {
        this.processAxis(t, i);
      }),
      (r.prototype.generateFacets = function (t) {
        var i = this,
          n = K(this.cfg.fields, 1),
          a = n[0],
          o = [],
          s = 1,
          l = 1,
          u = [''],
          c = [''],
          h,
          f;
        return (
          this.cfg.transpose
            ? ((h = a), (u = this.getFieldValues(t, h).slice(0, 2)), (s = u.length))
            : ((f = a), (c = this.getFieldValues(t, f).slice(0, 2)), (l = c.length)),
          u.forEach(function (v, d) {
            c.forEach(function (p, g) {
              var y = [
                  { field: h, value: v, values: u },
                  { field: f, value: p, values: c },
                ],
                m = Qt(t, i.getFacetDataFilter(y)),
                b = {
                  type: i.cfg.type,
                  data: m,
                  region: i.getRegion(l, s, d, g),
                  columnValue: v,
                  rowValue: p,
                  columnField: h,
                  rowField: f,
                  columnIndex: d,
                  rowIndex: g,
                  columnValuesLength: s,
                  rowValuesLength: l,
                };
              o.push(b);
            });
          }),
          o
        );
      }),
      (r.prototype.getXAxisOption = function (t, i, n, a) {
        return a.columnIndex === 1 || a.rowIndex === 1
          ? x(x({}, n), { label: null, title: null })
          : n;
      }),
      (r.prototype.getYAxisOption = function (t, i, n, a) {
        return n;
      }),
      (r.prototype.renderTitle = function () {
        var t = this;
        A(this.facets, function (i, n) {
          var a = i.columnValue,
            o = i.rowValue,
            s = i.view,
            l = M(t.cfg.title, 'formatter');
          if (t.cfg.transpose) {
            var u = _({ position: ['50%', '0%'], content: l ? l(a) : a }, Mr(Y.TOP), t.cfg.title);
            s.annotation().text(u);
          } else {
            var u = _(
              { position: ['100%', '50%'], content: l ? l(o) : o },
              Mr(Y.RIGHT),
              t.cfg.title,
            );
            s.annotation().text(u);
          }
        });
      }),
      r
    );
  })(Ln),
  CO = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.afterEachView = function (t, i) {
        this.processAxis(t, i);
      }),
      (r.prototype.beforeEachView = function (t, i) {}),
      (r.prototype.getDefaultCfg = function () {
        return _({}, e.prototype.getDefaultCfg.call(this), {
          type: 'rect',
          columnTitle: x({}, e.prototype.getDefaultTitleCfg.call(this)),
          rowTitle: x({}, e.prototype.getDefaultTitleCfg.call(this)),
        });
      }),
      (r.prototype.render = function () {
        e.prototype.render.call(this), this.cfg.showTitle && this.renderTitle();
      }),
      (r.prototype.generateFacets = function (t) {
        var i = this,
          n = K(this.cfg.fields, 2),
          a = n[0],
          o = n[1],
          s = [],
          l = 1,
          u = 1,
          c = [''],
          h = [''];
        return (
          a && ((c = this.getFieldValues(t, a)), (l = c.length)),
          o && ((h = this.getFieldValues(t, o)), (u = h.length)),
          c.forEach(function (f, v) {
            h.forEach(function (d, p) {
              var g = [
                  { field: a, value: f, values: c },
                  { field: o, value: d, values: h },
                ],
                y = Qt(t, i.getFacetDataFilter(g)),
                m = {
                  type: i.cfg.type,
                  data: y,
                  region: i.getRegion(u, l, v, p),
                  columnValue: f,
                  rowValue: d,
                  columnField: a,
                  rowField: o,
                  columnIndex: v,
                  rowIndex: p,
                  columnValuesLength: l,
                  rowValuesLength: u,
                };
              s.push(m);
            });
          }),
          s
        );
      }),
      (r.prototype.renderTitle = function () {
        var t = this;
        A(this.facets, function (i, n) {
          var a = i.columnIndex,
            o = i.rowIndex,
            s = i.columnValuesLength,
            l = i.columnValue,
            u = i.rowValue,
            c = i.view;
          if (o === 0) {
            var h = M(t.cfg.columnTitle, 'formatter'),
              f = _(
                { position: ['50%', '0%'], content: h ? h(l) : l },
                Mr(Y.TOP),
                t.cfg.columnTitle,
              );
            c.annotation().text(f);
          }
          if (a === s - 1) {
            var h = M(t.cfg.rowTitle, 'formatter'),
              f = _(
                { position: ['100%', '50%'], content: h ? h(u) : u },
                Mr(Y.RIGHT),
                t.cfg.rowTitle,
              );
            c.annotation().text(f);
          }
        });
      }),
      (r.prototype.getXAxisOption = function (t, i, n, a) {
        return a.rowIndex !== a.rowValuesLength - 1
          ? x(x({}, n), { title: null, label: null })
          : a.columnIndex !== Math.floor((a.columnValuesLength - 1) / 2)
          ? x(x({}, n), { title: null })
          : n;
      }),
      (r.prototype.getYAxisOption = function (t, i, n, a) {
        return a.columnIndex !== 0
          ? x(x({}, n), { title: null, label: null })
          : a.rowIndex !== Math.floor((a.rowValuesLength - 1) / 2)
          ? x(x({}, n), { title: null })
          : n;
      }),
      r
    );
  })(Ln),
  AO = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (
        (t.afterChartRender = function () {
          t.facets && t.cfg.line && (t.container.clear(), t.drawLines(t.facets));
        }),
        t
      );
    }
    return (
      (r.prototype.afterEachView = function (t, i) {
        this.processAxis(t, i);
      }),
      (r.prototype.beforeEachView = function (t, i) {}),
      (r.prototype.init = function () {
        e.prototype.init.call(this), this.view.on(st.AFTER_RENDER, this.afterChartRender);
      }),
      (r.prototype.getDefaultCfg = function () {
        return _({}, e.prototype.getDefaultCfg.call(this), {
          type: 'tree',
          line: { style: { lineWidth: 1, stroke: '#ddd' }, smooth: !1 },
          showTitle: !0,
          title: e.prototype.getDefaultTitleCfg.call(this),
        });
      }),
      (r.prototype.generateFacets = function (t) {
        var i = this.cfg.fields;
        if (!i.length) throw new Error('Please specify for the fields for rootFacet!');
        var n = [],
          a = {
            type: this.cfg.type,
            data: t,
            region: null,
            rowValuesLength: this.getRows(),
            columnValuesLength: 1,
            rowIndex: 0,
            columnIndex: 0,
            rowField: '',
            columnField: '',
            rowValue: '',
            columnValue: '',
          };
        return n.push(a), (a.children = this.getChildFacets(t, 1, n)), this.setRegion(n), n;
      }),
      (r.prototype.setRegion = function (t) {
        var i = this;
        this.forceColIndex(t),
          t.forEach(function (n) {
            n.region = i.getRegion(
              n.rowValuesLength,
              n.columnValuesLength,
              n.columnIndex,
              n.rowIndex,
            );
          });
      }),
      (r.prototype.getRegion = function (t, i, n, a) {
        var o = 1 / i,
          s = 1 / t,
          l = { x: o * n, y: s * a },
          u = { x: l.x + o, y: l.y + (s * 2) / 3 };
        return { start: l, end: u };
      }),
      (r.prototype.forceColIndex = function (t) {
        var i,
          n,
          a = this,
          o = [],
          s = 0;
        t.forEach(function (d) {
          a.isLeaf(d) && (o.push(d), (d.columnIndex = s), s++);
        }),
          o.forEach(function (d) {
            d.columnValuesLength = o.length;
          });
        for (var l = this.cfg.fields.length, u = l - 1; u >= 0; u--) {
          var c = this.getFacetsByLevel(t, u);
          try {
            for (var h = ((i = void 0), vt(c)), f = h.next(); !f.done; f = h.next()) {
              var v = f.value;
              this.isLeaf(v) ||
                ((v.originColIndex = v.columnIndex),
                (v.columnIndex = this.getRegionIndex(v.children)),
                (v.columnValuesLength = o.length));
            }
          } catch (d) {
            i = { error: d };
          } finally {
            try {
              f && !f.done && (n = h.return) && n.call(h);
            } finally {
              if (i) throw i.error;
            }
          }
        }
      }),
      (r.prototype.getFacetsByLevel = function (t, i) {
        var n = [];
        return (
          t.forEach(function (a) {
            a.rowIndex === i && n.push(a);
          }),
          n
        );
      }),
      (r.prototype.getRegionIndex = function (t) {
        var i = t[0],
          n = t[t.length - 1];
        return (n.columnIndex - i.columnIndex) / 2 + i.columnIndex;
      }),
      (r.prototype.isLeaf = function (t) {
        return !t.children || !t.children.length;
      }),
      (r.prototype.getRows = function () {
        return this.cfg.fields.length + 1;
      }),
      (r.prototype.getChildFacets = function (t, i, n) {
        var a = this,
          o = this.cfg.fields,
          s = o.length;
        if (!(s < i)) {
          var l = [],
            u = o[i - 1],
            c = this.getFieldValues(t, u);
          return (
            c.forEach(function (h, f) {
              var v = [{ field: u, value: h, values: c }],
                d = t.filter(a.getFacetDataFilter(v));
              if (d.length) {
                var p = {
                  type: a.cfg.type,
                  data: d,
                  region: null,
                  columnValue: h,
                  rowValue: '',
                  columnField: u,
                  rowField: '',
                  columnIndex: f,
                  rowValuesLength: a.getRows(),
                  columnValuesLength: 1,
                  rowIndex: i,
                  children: a.getChildFacets(d, i + 1, n),
                };
                l.push(p), n.push(p);
              }
            }),
            l
          );
        }
      }),
      (r.prototype.render = function () {
        e.prototype.render.call(this), this.cfg.showTitle && this.renderTitle();
      }),
      (r.prototype.renderTitle = function () {
        var t = this;
        A(this.facets, function (i) {
          var n = i.columnValue,
            a = i.view,
            o = M(t.cfg.title, 'formatter'),
            s = _({ position: ['50%', '0%'], content: o ? o(n) : n }, Mr(Y.TOP), t.cfg.title);
          a.annotation().text(s);
        });
      }),
      (r.prototype.drawLines = function (t) {
        var i = this;
        t.forEach(function (n) {
          if (!i.isLeaf(n)) {
            var a = n.children;
            i.addFacetLines(n, a);
          }
        });
      }),
      (r.prototype.addFacetLines = function (t, i) {
        var n = this,
          a = t.view,
          o = a.coordinateBBox,
          s = { x: o.x + o.width / 2, y: o.y + o.height };
        i.forEach(function (l) {
          var u = l.view.coordinateBBox,
            c = { x: u.bl.x + (u.tr.x - u.bl.x) / 2, y: u.tr.y },
            h = { x: s.x, y: s.y + (c.y - s.y) / 2 },
            f = { x: c.x, y: h.y };
          n.drawLine([s, h, f, c]);
        });
      }),
      (r.prototype.getPath = function (t) {
        var i = [],
          n = this.cfg.line.smooth;
        return (
          n
            ? (i.push(['M', t[0].x, t[0].y]),
              i.push(['C', t[1].x, t[1].y, t[2].x, t[2].y, t[3].x, t[3].y]))
            : t.forEach(function (a, o) {
                o === 0 ? i.push(['M', a.x, a.y]) : i.push(['L', a.x, a.y]);
              }),
          i
        );
      }),
      (r.prototype.drawLine = function (t) {
        var i = this.getPath(t),
          n = this.cfg.line.style;
        this.container.addShape('path', { attrs: xt({ path: i }, n) });
      }),
      (r.prototype.getXAxisOption = function (t, i, n, a) {
        return a.rowIndex !== a.rowValuesLength - 1 ? x(x({}, n), { title: null, label: null }) : n;
      }),
      (r.prototype.getYAxisOption = function (t, i, n, a) {
        return a.originColIndex !== 0 && a.columnIndex !== 0
          ? x(x({}, n), { title: null, label: null })
          : n;
      }),
      r
    );
  })(Ln);
function ip(e) {
  var r = Et([], K(e), !1);
  r.sort(function (i, n) {
    return i - n;
  });
  var t = r.length;
  return t === 0 ? 0 : t % 2 === 1 ? r[(t - 1) / 2] : (r[t / 2] + r[t / 2 - 1]) / 2;
}
function MO(e) {
  var r = oe(
    e,
    function (t, i) {
      return (t += isNaN(i) || !it(i) ? 0 : i);
    },
    0,
  );
  return e.length === 0 ? 0 : r / e.length;
}
function Ro(e, r) {
  if (!r) return null;
  var t;
  switch (e) {
    case 'start':
      return 0;
    case 'center':
      return 0.5;
    case 'end':
      return 1;
    case 'median': {
      t = r.isCategory
        ? ip(
            r.values.map(function (i, n) {
              return n;
            }),
          )
        : ip(r.values);
      break;
    }
    case 'mean': {
      t = r.isCategory ? (r.values.length - 1) / 2 : MO(r.values);
      break;
    }
    case 'min':
      t = r.isCategory ? 0 : r[e];
      break;
    case 'max':
      t = r.isCategory ? r.values.length - 1 : r[e];
      break;
    default:
      t = e;
      break;
  }
  return r.scale(t);
}
var $o = ['regionFilter', 'shape'],
  FO = (function (e) {
    I(r, e);
    function r(t) {
      var i = e.call(this, t) || this;
      return (
        (i.cache = new Map()),
        (i.foregroundContainer = i.view.getLayer($t.FORE).addGroup()),
        (i.backgroundContainer = i.view.getLayer($t.BG).addGroup()),
        (i.option = []),
        i
      );
    }
    return (
      Object.defineProperty(r.prototype, 'name', {
        get: function () {
          return 'annotation';
        },
        enumerable: !1,
        configurable: !0,
      }),
      (r.prototype.init = function () {}),
      (r.prototype.layout = function () {
        this.update();
      }),
      (r.prototype.render = function () {}),
      (r.prototype.update = function () {
        var t = this;
        this.onAfterRender(function () {
          var n = new Map();
          A(t.option, function (a) {
            if (fi($o, a.type)) {
              var o = t.updateOrCreate(a);
              o && n.set(t.getCacheKey(a), o);
            }
          }),
            (t.cache = t.syncCache(n));
        });
        var i = new Map();
        A(this.option, function (n) {
          if (!fi($o, n.type)) {
            var a = t.updateOrCreate(n);
            a && i.set(t.getCacheKey(n), a);
          }
        }),
          (this.cache = this.syncCache(i));
      }),
      (r.prototype.clear = function (t) {
        t === void 0 && (t = !1),
          e.prototype.clear.call(this),
          this.clearComponents(),
          this.foregroundContainer.clear(),
          this.backgroundContainer.clear(),
          t && (this.option = []);
      }),
      (r.prototype.destroy = function () {
        this.clear(!0), this.foregroundContainer.remove(!0), this.backgroundContainer.remove(!0);
      }),
      (r.prototype.getComponents = function () {
        var t = [];
        return (
          this.cache.forEach(function (i) {
            t.push(i);
          }),
          t
        );
      }),
      (r.prototype.clearComponents = function () {
        this.getComponents().forEach(function (t) {
          t.component.destroy();
        }),
          this.cache.clear();
      }),
      (r.prototype.onAfterRender = function (t) {
        var i = !1;
        this.view.getOptions().animate &&
          this.view.geometries.forEach(function (n) {
            n.animateOption &&
              (n.once(Hr.AFTER_DRAW_ANIMATE, function () {
                t();
              }),
              (i = !0));
          }),
          i ||
            this.view.getRootView().once(st.AFTER_RENDER, function () {
              t();
            });
      }),
      (r.prototype.createAnnotation = function (t) {
        var i = t.type,
          n = X2[zi(i)];
        if (n) {
          var a = this.getAnnotationTheme(i),
            o = this.getAnnotationCfg(i, t, a);
          if (!o) return null;
          var s = new n(o);
          return {
            component: s,
            layer: this.isTop(o) ? $t.FORE : $t.BG,
            direction: Y.NONE,
            type: Wt.ANNOTATION,
            extra: t,
          };
        }
      }),
      (r.prototype.annotation = function (t) {
        this.option.push(t);
      }),
      (r.prototype.arc = function (t) {
        return this.annotation(x({ type: 'arc' }, t)), this;
      }),
      (r.prototype.image = function (t) {
        return this.annotation(x({ type: 'image' }, t)), this;
      }),
      (r.prototype.line = function (t) {
        return this.annotation(x({ type: 'line' }, t)), this;
      }),
      (r.prototype.region = function (t) {
        return this.annotation(x({ type: 'region' }, t)), this;
      }),
      (r.prototype.text = function (t) {
        return this.annotation(x({ type: 'text' }, t)), this;
      }),
      (r.prototype.dataMarker = function (t) {
        return this.annotation(x({ type: 'dataMarker' }, t)), this;
      }),
      (r.prototype.dataRegion = function (t) {
        this.annotation(x({ type: 'dataRegion' }, t));
      }),
      (r.prototype.regionFilter = function (t) {
        this.annotation(x({ type: 'regionFilter' }, t));
      }),
      (r.prototype.shape = function (t) {
        this.annotation(x({ type: 'shape' }, t));
      }),
      (r.prototype.html = function (t) {
        this.annotation(x({ type: 'html' }, t));
      }),
      (r.prototype.parsePosition = function (t) {
        var i,
          n,
          a = this.view.getXScale(),
          o = this.view.getScalesByDim('y'),
          s = q(t) ? t.call(null, a, o) : t,
          l = 0,
          u = 0;
        if ($(s)) {
          var c = K(s, 2),
            h = c[0],
            f = c[1];
          if (et(h) && h.indexOf('%') !== -1 && !isNaN(h.slice(0, -1)))
            return this.parsePercentPosition(s);
          (l = Ro(h, a)), (u = Ro(f, Object.values(o)[0]));
        } else if (!R(s))
          try {
            for (var v = vt(En(s)), d = v.next(); !d.done; d = v.next()) {
              var p = d.value,
                g = s[p];
              p === a.field && (l = Ro(g, a)), o[p] && (u = Ro(g, o[p]));
            }
          } catch (y) {
            i = { error: y };
          } finally {
            try {
              d && !d.done && (n = v.return) && n.call(v);
            } finally {
              if (i) throw i.error;
            }
          }
        return isNaN(l) || isNaN(u) ? null : this.view.getCoordinate().convert({ x: l, y: u });
      }),
      (r.prototype.getRegionPoints = function (t, i) {
        var n = this,
          a = this.view.getXScale(),
          o = this.view.getScalesByDim('y'),
          s = Object.values(o)[0],
          l = a.field,
          u = this.view.getData(),
          c = $(t) ? t[0] : t[l],
          h = $(i) ? i[0] : i[l],
          f = [],
          v;
        return (
          A(u, function (d, p) {
            if ((d[l] === c && (v = p), p >= v)) {
              var g = n.parsePosition([d[l], d[s.field]]);
              g && f.push(g);
            }
            if (d[l] === h) return !1;
          }),
          f
        );
      }),
      (r.prototype.parsePercentPosition = function (t) {
        var i = parseFloat(t[0]) / 100,
          n = parseFloat(t[1]) / 100,
          a = this.view.getCoordinate(),
          o = a.start,
          s = a.end,
          l = { x: Math.min(o.x, s.x), y: Math.min(o.y, s.y) },
          u = a.getWidth() * i + l.x,
          c = a.getHeight() * n + l.y;
        return { x: u, y: c };
      }),
      (r.prototype.getCoordinateBBox = function () {
        var t = this.view.getCoordinate(),
          i = t.start,
          n = t.end,
          a = t.getWidth(),
          o = t.getHeight(),
          s = { x: Math.min(i.x, n.x), y: Math.min(i.y, n.y) };
        return {
          x: s.x,
          y: s.y,
          minX: s.x,
          minY: s.y,
          maxX: s.x + a,
          maxY: s.y + o,
          width: a,
          height: o,
        };
      }),
      (r.prototype.getAnnotationCfg = function (t, i, n) {
        var a = this,
          o = this.view.getCoordinate(),
          s = this.view.getCanvas(),
          l = {};
        if (R(i)) return null;
        var u = i.start,
          c = i.end,
          h = i.position,
          f = this.parsePosition(u),
          v = this.parsePosition(c),
          d = this.parsePosition(h);
        if (['arc', 'image', 'line', 'region', 'regionFilter'].includes(t) && (!f || !v))
          return null;
        if (['text', 'dataMarker', 'html'].includes(t) && !d) return null;
        if (t === 'arc') {
          var p = i;
          p.start, p.end;
          var g = mt(p, ['start', 'end']),
            y = pn(o, f),
            m = pn(o, v);
          y > m && (m = Math.PI * 2 + m),
            (l = x(x({}, g), {
              center: o.getCenter(),
              radius: pl(o, f),
              startAngle: y,
              endAngle: m,
            }));
        } else if (t === 'image') {
          var b = i;
          b.start, b.end;
          var g = mt(b, ['start', 'end']);
          l = x(x({}, g), { start: f, end: v, src: i.src });
        } else if (t === 'line') {
          var w = i;
          w.start, w.end;
          var g = mt(w, ['start', 'end']);
          l = x(x({}, g), { start: f, end: v, text: M(i, 'text', null) });
        } else if (t === 'region') {
          var S = i;
          S.start, S.end;
          var g = mt(S, ['start', 'end']);
          l = x(x({}, g), { start: f, end: v });
        } else if (t === 'text') {
          var C = this.view.getData(),
            F = i;
          F.position;
          var E = F.content,
            g = mt(F, ['position', 'content']),
            k = E;
          q(E) && (k = E(C)), (l = x(x(x({}, d), g), { content: k }));
        } else if (t === 'dataMarker') {
          var T = i;
          T.position;
          var O = T.point,
            P = T.line,
            z = T.text,
            W = T.autoAdjust,
            j = T.direction,
            g = mt(T, ['position', 'point', 'line', 'text', 'autoAdjust', 'direction']);
          l = x(x(x({}, g), d), {
            coordinateBBox: this.getCoordinateBBox(),
            point: O,
            line: P,
            text: z,
            autoAdjust: W,
            direction: j,
          });
        } else if (t === 'dataRegion') {
          var D = i,
            N = D.start,
            V = D.end,
            H = D.region,
            z = D.text,
            G = D.lineLength,
            g = mt(D, ['start', 'end', 'region', 'text', 'lineLength']);
          l = x(x({}, g), {
            points: this.getRegionPoints(N, V),
            region: H,
            text: z,
            lineLength: G,
          });
        } else if (t === 'regionFilter') {
          var X = i;
          X.start, X.end;
          var Q = X.apply,
            J = X.color,
            g = mt(X, ['start', 'end', 'apply', 'color']),
            U = this.view.geometries,
            Z = [],
            ot = function (Ze) {
              Ze &&
                (Ze.isGroup()
                  ? Ze.getChildren().forEach(function (zn) {
                      return ot(zn);
                    })
                  : Z.push(Ze));
            };
          A(U, function (Ze) {
            Q
              ? fi(Q, Ze.type) &&
                A(Ze.elements, function (zn) {
                  ot(zn.shape);
                })
              : A(Ze.elements, function (zn) {
                  ot(zn.shape);
                });
          }),
            (l = x(x({}, g), { color: J, shapes: Z, start: f, end: v }));
        } else if (t === 'shape') {
          var ct = i,
            Pt = ct.render,
            Jt = mt(ct, ['render']),
            cr = function (j1) {
              if (q(i.render)) return Pt(j1, a.view, { parsePosition: a.parsePosition.bind(a) });
            };
          l = x(x({}, Jt), { render: cr });
        } else if (t === 'html') {
          var hr = i,
            fr = hr.html;
          hr.position;
          var Jt = mt(hr, ['html', 'position']),
            si = function (Ze) {
              return q(fr) ? fr(Ze, a.view) : fr;
            };
          l = x(x(x({}, Jt), d), { parent: s.get('el').parentNode, html: si });
        }
        var Tr = _(
          {},
          n,
          x(x({}, l), { top: i.top, style: i.style, offsetX: i.offsetX, offsetY: i.offsetY }),
        );
        return (
          t !== 'html' && (Tr.container = this.getComponentContainer(Tr)),
          (Tr.animate =
            this.view.getOptions().animate && Tr.animate && M(i, 'animate', Tr.animate)),
          (Tr.animateOption = _({}, yn, Tr.animateOption, i.animateOption)),
          Tr
        );
      }),
      (r.prototype.isTop = function (t) {
        return M(t, 'top', !0);
      }),
      (r.prototype.getComponentContainer = function (t) {
        return this.isTop(t) ? this.foregroundContainer : this.backgroundContainer;
      }),
      (r.prototype.getAnnotationTheme = function (t) {
        return M(this.view.getTheme(), ['components', 'annotation', t], {});
      }),
      (r.prototype.updateOrCreate = function (t) {
        var i = this.cache.get(this.getCacheKey(t));
        if (i) {
          var n = t.type,
            a = this.getAnnotationTheme(n),
            o = this.getAnnotationCfg(n, t, a);
          o && ge(o, ['container']),
            i.component.update(x(x({}, o || {}), { visible: !!o })),
            fi($o, t.type) && i.component.render();
        } else
          (i = this.createAnnotation(t)),
            i && (i.component.init(), fi($o, t.type) && i.component.render());
        return i;
      }),
      (r.prototype.syncCache = function (t) {
        var i = this,
          n = new Map(this.cache);
        return (
          t.forEach(function (a, o) {
            n.set(o, a);
          }),
          n.forEach(function (a, o) {
            We(i.option, function (s) {
              return o === i.getCacheKey(s);
            }) || (a.component.destroy(), n.delete(o));
          }),
          n
        );
      }),
      (r.prototype.getCacheKey = function (t) {
        return t;
      }),
      r
    );
  })(Pn);
function np(e, r) {
  var t = _({}, M(e, ['components', 'axis', 'common']), M(e, ['components', 'axis', r]));
  return M(t, ['grid'], {});
}
function No(e, r, t, i) {
  var n = [],
    a = r.getTicks();
  return (
    e.isPolar && a.push({ value: 1, text: '', tickValue: '' }),
    a.reduce(function (o, s, l) {
      var u = s.value;
      if (i)
        n.push({
          points: [
            e.convert(t === 'y' ? { x: 0, y: u } : { x: u, y: 0 }),
            e.convert(t === 'y' ? { x: 1, y: u } : { x: u, y: 1 }),
          ],
        });
      else if (l) {
        var c = o.value,
          h = (c + u) / 2;
        n.push({
          points: [
            e.convert(t === 'y' ? { x: 0, y: h } : { x: h, y: 0 }),
            e.convert(t === 'y' ? { x: 1, y: h } : { x: h, y: 1 }),
          ],
        });
      }
      return s;
    }, a[0]),
    n
  );
}
function yu(e, r, t, i, n) {
  var a = r.values.length,
    o = [],
    s = t.getTicks();
  return (
    s.reduce(function (l, u) {
      var c = l ? l.value : u.value,
        h = u.value,
        f = (c + h) / 2;
      return (
        n === 'x'
          ? o.push({
              points: [e.convert({ x: i ? h : f, y: 0 }), e.convert({ x: i ? h : f, y: 1 })],
            })
          : o.push({
              points: Tt(Array(a + 1), function (v, d) {
                return e.convert({ x: d / a, y: i ? h : f });
              }),
            }),
        u
      );
    }, s[0]),
    o
  );
}
function ap(e, r) {
  var t = M(r, 'grid');
  if (t === null) return !1;
  var i = M(e, 'grid');
  return !(t === void 0 && i === null);
}
var Or = ['container'],
  op = x(x({}, yn), { appear: null }),
  EO = (function (e) {
    I(r, e);
    function r(t) {
      var i = e.call(this, t) || this;
      return (
        (i.cache = new Map()),
        (i.gridContainer = i.view.getLayer($t.BG).addGroup()),
        (i.gridForeContainer = i.view.getLayer($t.FORE).addGroup()),
        (i.axisContainer = i.view.getLayer($t.BG).addGroup()),
        (i.axisForeContainer = i.view.getLayer($t.FORE).addGroup()),
        i
      );
    }
    return (
      Object.defineProperty(r.prototype, 'name', {
        get: function () {
          return 'axis';
        },
        enumerable: !1,
        configurable: !0,
      }),
      (r.prototype.init = function () {}),
      (r.prototype.render = function () {
        this.update();
      }),
      (r.prototype.layout = function () {
        var t = this,
          i = this.view.getCoordinate();
        A(this.getComponents(), function (n) {
          var a = n.component,
            o = n.direction,
            s = n.type,
            l = n.extra,
            u = l.dim,
            c = l.scale,
            h = l.alignTick,
            f;
          if (s === Wt.AXIS)
            i.isPolar
              ? u === 'x'
                ? (f = i.isTransposed ? Mo(i, o) : uu(i))
                : u === 'y' && (f = i.isTransposed ? uu(i) : Mo(i, o))
              : (f = Mo(i, o));
          else if (s === Wt.GRID)
            if (i.isPolar) {
              var v = void 0;
              i.isTransposed
                ? (v = u === 'x' ? yu(i, t.view.getYScales()[0], c, h, u) : No(i, c, u, h))
                : (v = u === 'x' ? No(i, c, u, h) : yu(i, t.view.getXScale(), c, h, u)),
                (f = { items: v, center: t.view.getCoordinate().getCenter() });
            } else f = { items: No(i, c, u, h) };
          a.update(f);
        });
      }),
      (r.prototype.update = function () {
        this.option = this.view.getOptions().axes;
        var t = new Map();
        this.updateXAxes(t), this.updateYAxes(t);
        var i = new Map();
        this.cache.forEach(function (n, a) {
          t.has(a) ? i.set(a, n) : n.component.destroy();
        }),
          (this.cache = i);
      }),
      (r.prototype.clear = function () {
        e.prototype.clear.call(this),
          this.cache.clear(),
          this.gridContainer.clear(),
          this.gridForeContainer.clear(),
          this.axisContainer.clear(),
          this.axisForeContainer.clear();
      }),
      (r.prototype.destroy = function () {
        e.prototype.destroy.call(this),
          this.gridContainer.remove(!0),
          this.gridForeContainer.remove(!0),
          this.axisContainer.remove(!0),
          this.axisForeContainer.remove(!0);
      }),
      (r.prototype.getComponents = function () {
        var t = [];
        return (
          this.cache.forEach(function (i) {
            t.push(i);
          }),
          t
        );
      }),
      (r.prototype.updateXAxes = function (t) {
        var i = this.view.getXScale();
        if (!(!i || i.isIdentity)) {
          var n = bs(this.option, i.field);
          if (n !== !1) {
            var a = gd(n, Y.BOTTOM),
              o = $t.BG,
              s = 'x',
              l = this.view.getCoordinate(),
              u = this.getId('axis', i.field),
              c = this.getId('grid', i.field);
            if (l.isRect) {
              var h = this.cache.get(u);
              if (h) {
                var f = this.getLineAxisCfg(i, n, a);
                ge(f, Or), h.component.update(f), t.set(u, h);
              } else (h = this.createLineAxis(i, n, o, a, s)), this.cache.set(u, h), t.set(u, h);
              var v = this.cache.get(c);
              if (v) {
                var f = this.getLineGridCfg(i, n, a, s);
                ge(f, Or), v.component.update(f), t.set(c, v);
              } else
                (v = this.createLineGrid(i, n, o, a, s)), v && (this.cache.set(c, v), t.set(c, v));
            } else if (l.isPolar) {
              var h = this.cache.get(u);
              if (h) {
                var f = l.isTransposed
                  ? this.getLineAxisCfg(i, n, Y.RADIUS)
                  : this.getCircleAxisCfg(i, n, a);
                ge(f, Or), h.component.update(f), t.set(u, h);
              } else {
                if (l.isTransposed) {
                  if (pi(n)) return;
                  h = this.createLineAxis(i, n, o, Y.RADIUS, s);
                } else h = this.createCircleAxis(i, n, o, a, s);
                this.cache.set(u, h), t.set(u, h);
              }
              var v = this.cache.get(c);
              if (v) {
                var f = l.isTransposed
                  ? this.getCircleGridCfg(i, n, Y.RADIUS, s)
                  : this.getLineGridCfg(i, n, Y.CIRCLE, s);
                ge(f, Or), v.component.update(f), t.set(c, v);
              } else {
                if (l.isTransposed) {
                  if (pi(n)) return;
                  v = this.createCircleGrid(i, n, o, Y.RADIUS, s);
                } else v = this.createLineGrid(i, n, o, Y.CIRCLE, s);
                v && (this.cache.set(c, v), t.set(c, v));
              }
            }
          }
        }
      }),
      (r.prototype.updateYAxes = function (t) {
        var i = this,
          n = this.view.getYScales();
        A(n, function (a, o) {
          if (!(!a || a.isIdentity)) {
            var s = a.field,
              l = bs(i.option, s);
            if (l !== !1) {
              var u = $t.BG,
                c = 'y',
                h = i.getId('axis', s),
                f = i.getId('grid', s),
                v = i.view.getCoordinate();
              if (v.isRect) {
                var d = gd(l, o === 0 ? Y.LEFT : Y.RIGHT),
                  p = i.cache.get(h);
                if (p) {
                  var g = i.getLineAxisCfg(a, l, d);
                  ge(g, Or), p.component.update(g), t.set(h, p);
                } else (p = i.createLineAxis(a, l, u, d, c)), i.cache.set(h, p), t.set(h, p);
                var y = i.cache.get(f);
                if (y) {
                  var g = i.getLineGridCfg(a, l, d, c);
                  ge(g, Or), y.component.update(g), t.set(f, y);
                } else (y = i.createLineGrid(a, l, u, d, c)), y && (i.cache.set(f, y), t.set(f, y));
              } else if (v.isPolar) {
                var p = i.cache.get(h);
                if (p) {
                  var g = v.isTransposed
                    ? i.getCircleAxisCfg(a, l, Y.CIRCLE)
                    : i.getLineAxisCfg(a, l, Y.RADIUS);
                  ge(g, Or), p.component.update(g), t.set(h, p);
                } else {
                  if (v.isTransposed) {
                    if (pi(l)) return;
                    p = i.createCircleAxis(a, l, u, Y.CIRCLE, c);
                  } else p = i.createLineAxis(a, l, u, Y.RADIUS, c);
                  i.cache.set(h, p), t.set(h, p);
                }
                var y = i.cache.get(f);
                if (y) {
                  var g = v.isTransposed
                    ? i.getLineGridCfg(a, l, Y.CIRCLE, c)
                    : i.getCircleGridCfg(a, l, Y.RADIUS, c);
                  ge(g, Or), y.component.update(g), t.set(f, y);
                } else {
                  if (v.isTransposed) {
                    if (pi(l)) return;
                    y = i.createLineGrid(a, l, u, Y.CIRCLE, c);
                  } else y = i.createCircleGrid(a, l, u, Y.RADIUS, c);
                  y && (i.cache.set(f, y), t.set(f, y));
                }
              }
            }
          }
        });
      }),
      (r.prototype.createLineAxis = function (t, i, n, a, o) {
        var s = {
          component: new VE(this.getLineAxisCfg(t, i, a)),
          layer: n,
          direction: a === Y.RADIUS ? Y.NONE : a,
          type: Wt.AXIS,
          extra: { dim: o, scale: t },
        };
        return s.component.set('field', t.field), s.component.init(), s;
      }),
      (r.prototype.createLineGrid = function (t, i, n, a, o) {
        var s = this.getLineGridCfg(t, i, a, o);
        if (s) {
          var l = {
            component: new WE(s),
            layer: n,
            direction: Y.NONE,
            type: Wt.GRID,
            extra: { dim: o, scale: t, alignTick: M(s, 'alignTick', !0) },
          };
          return l.component.init(), l;
        }
      }),
      (r.prototype.createCircleAxis = function (t, i, n, a, o) {
        var s = {
          component: new YE(this.getCircleAxisCfg(t, i, a)),
          layer: n,
          direction: a,
          type: Wt.AXIS,
          extra: { dim: o, scale: t },
        };
        return s.component.set('field', t.field), s.component.init(), s;
      }),
      (r.prototype.createCircleGrid = function (t, i, n, a, o) {
        var s = this.getCircleGridCfg(t, i, a, o);
        if (s) {
          var l = {
            component: new XE(s),
            layer: n,
            direction: Y.NONE,
            type: Wt.GRID,
            extra: { dim: o, scale: t, alignTick: M(s, 'alignTick', !0) },
          };
          return l.component.init(), l;
        }
      }),
      (r.prototype.getLineAxisCfg = function (t, i, n) {
        var a = M(i, ['top']) ? this.axisForeContainer : this.axisContainer,
          o = this.view.getCoordinate(),
          s = Mo(o, n),
          l = yd(t, i),
          u = Fo(this.view.getTheme(), n),
          c = M(i, ['title'])
            ? _(
                { title: { style: { text: l } } },
                { title: pd(this.view.getTheme(), n, i.title) },
                i,
              )
            : i,
          h = _(
            x(x({ container: a }, s), {
              ticks: t.getTicks().map(function (b) {
                return { id: ''.concat(b.tickValue), name: b.text, value: b.value };
              }),
              verticalFactor: o.isPolar ? dd(s, o.getCenter()) * -1 : dd(s, o.getCenter()),
              theme: u,
            }),
            u,
            c,
          ),
          f = this.getAnimateCfg(h),
          v = f.animate,
          d = f.animateOption;
        (h.animateOption = d), (h.animate = v);
        var p = Sm(s),
          g = M(h, 'verticalLimitLength', p ? 1 / 3 : 1 / 2);
        if (g <= 1) {
          var y = this.view.getCanvas().get('width'),
            m = this.view.getCanvas().get('height');
          h.verticalLimitLength = g * (p ? y : m);
        }
        return h;
      }),
      (r.prototype.getLineGridCfg = function (t, i, n, a) {
        if (ap(Fo(this.view.getTheme(), n), i)) {
          var o = np(this.view.getTheme(), n),
            s = _(
              { container: M(i, ['top']) ? this.gridForeContainer : this.gridContainer },
              o,
              M(i, 'grid'),
              this.getAnimateCfg(i),
            );
          return (s.items = No(this.view.getCoordinate(), t, a, M(s, 'alignTick', !0))), s;
        }
      }),
      (r.prototype.getCircleAxisCfg = function (t, i, n) {
        var a = M(i, ['top']) ? this.axisForeContainer : this.axisContainer,
          o = this.view.getCoordinate(),
          s = t.getTicks().map(function (p) {
            return { id: ''.concat(p.tickValue), name: p.text, value: p.value };
          });
        !t.isCategory && Math.abs(o.endAngle - o.startAngle) === Math.PI * 2 && s.pop();
        var l = yd(t, i),
          u = Fo(this.view.getTheme(), Y.CIRCLE),
          c = M(i, ['title'])
            ? _(
                { title: { style: { text: l } } },
                { title: pd(this.view.getTheme(), n, i.title) },
                i,
              )
            : i,
          h = _(
            x(x({ container: a }, uu(this.view.getCoordinate())), {
              ticks: s,
              verticalFactor: 1,
              theme: u,
            }),
            u,
            c,
          ),
          f = this.getAnimateCfg(h),
          v = f.animate,
          d = f.animateOption;
        return (h.animate = v), (h.animateOption = d), h;
      }),
      (r.prototype.getCircleGridCfg = function (t, i, n, a) {
        if (ap(Fo(this.view.getTheme(), n), i)) {
          var o = np(this.view.getTheme(), Y.RADIUS),
            s = _(
              {
                container: M(i, ['top']) ? this.gridForeContainer : this.gridContainer,
                center: this.view.getCoordinate().getCenter(),
              },
              o,
              M(i, 'grid'),
              this.getAnimateCfg(i),
            ),
            l = M(s, 'alignTick', !0),
            u = a === 'x' ? this.view.getYScales()[0] : this.view.getXScale();
          return (s.items = yu(this.view.getCoordinate(), u, t, l, a)), s;
        }
      }),
      (r.prototype.getId = function (t, i) {
        var n = this.view.getCoordinate();
        return ''.concat(t, '-').concat(i, '-').concat(n.type);
      }),
      (r.prototype.getAnimateCfg = function (t) {
        return {
          animate: this.view.getOptions().animate && M(t, 'animate'),
          animateOption: t && t.animateOption ? _({}, op, t.animateOption) : op,
        };
      }),
      r
    );
  })(Pn);
function Gr(e, r, t) {
  return t === Y.TOP
    ? [e.minX + e.width / 2 - r.width / 2, e.minY]
    : t === Y.BOTTOM
    ? [e.minX + e.width / 2 - r.width / 2, e.maxY - r.height]
    : t === Y.LEFT
    ? [e.minX, e.minY + e.height / 2 - r.height / 2]
    : t === Y.RIGHT
    ? [e.maxX - r.width, e.minY + e.height / 2 - r.height / 2]
    : t === Y.TOP_LEFT || t === Y.LEFT_TOP
    ? [e.tl.x, e.tl.y]
    : t === Y.TOP_RIGHT || t === Y.RIGHT_TOP
    ? [e.tr.x - r.width, e.tr.y]
    : t === Y.BOTTOM_LEFT || t === Y.LEFT_BOTTOM
    ? [e.bl.x, e.bl.y - r.height]
    : t === Y.BOTTOM_RIGHT || t === Y.RIGHT_BOTTOM
    ? [e.br.x - r.width, e.br.y - r.height]
    : [0, 0];
}
function sp(e, r) {
  return hn(e) ? (e === !1 ? !1 : {}) : M(e, [r], e);
}
function zo(e) {
  return M(e, 'position', Y.BOTTOM);
}
var TO = (function (e) {
    I(r, e);
    function r(t) {
      var i = e.call(this, t) || this;
      return (i.container = i.view.getLayer($t.FORE).addGroup()), i;
    }
    return (
      Object.defineProperty(r.prototype, 'name', {
        get: function () {
          return 'legend';
        },
        enumerable: !1,
        configurable: !0,
      }),
      (r.prototype.init = function () {}),
      (r.prototype.render = function () {
        this.update();
      }),
      (r.prototype.layout = function () {
        var t = this;
        (this.layoutBBox = this.view.viewBBox),
          A(this.components, function (i) {
            var n = i.component,
              a = i.direction,
              o = cu(a),
              s = n.get('maxWidthRatio'),
              l = n.get('maxHeightRatio'),
              u = t.getCategoryLegendSizeCfg(o, s, l),
              c = n.get('maxWidth'),
              h = n.get('maxHeight');
            n.update({
              maxWidth: Math.min(u.maxWidth, c || 0),
              maxHeight: Math.min(u.maxHeight, h || 0),
            });
            var f = n.get('padding'),
              v = n.getLayoutBBox(),
              d = new he(v.x, v.y, v.width, v.height).expand(f),
              p = K(Gr(t.view.viewBBox, d, a), 2),
              g = p[0],
              y = p[1],
              m = K(Gr(t.layoutBBox, d, a), 2),
              b = m[0],
              w = m[1],
              S = 0,
              C = 0;
            a.startsWith('top') || a.startsWith('bottom') ? ((S = g), (C = w)) : ((S = b), (C = y)),
              n.setLocation({ x: S + f[3], y: C + f[0] }),
              (t.layoutBBox = t.layoutBBox.cut(d, a));
          });
      }),
      (r.prototype.update = function () {
        var t = this;
        this.option = this.view.getOptions().legends;
        var i = {},
          n = function (f, v, d) {
            var p = t.getId(d.field),
              g = t.getComponentById(p);
            if (g) {
              var y = void 0,
                m = sp(t.option, d.field);
              m !== !1 &&
                (M(m, 'custom')
                  ? (y = t.getCategoryCfg(f, v, d, m, !0))
                  : d.isLinear
                  ? (y = t.getContinuousCfg(f, v, d, m))
                  : d.isCategory && (y = t.getCategoryCfg(f, v, d, m))),
                y &&
                  (ge(y, ['container']), (g.direction = zo(m)), g.component.update(y), (i[p] = !0));
            } else {
              var b = t.createFieldLegend(f, v, d);
              b && (b.component.init(), t.components.push(b), (i[p] = !0));
            }
          };
        if (M(this.option, 'custom')) {
          var a = 'global-custom',
            o = this.getComponentById(a);
          if (o) {
            var s = this.getCategoryCfg(void 0, void 0, void 0, this.option, !0);
            ge(s, ['container']), o.component.update(s), (i[a] = !0);
          } else {
            var l = this.createCustomLegend(void 0, void 0, void 0, this.option);
            if (l) {
              l.init();
              var u = $t.FORE,
                c = zo(this.option);
              this.components.push({
                id: a,
                component: l,
                layer: u,
                direction: c,
                type: Wt.LEGEND,
                extra: void 0,
              }),
                (i[a] = !0);
            }
          }
        } else this.loopLegends(n);
        var h = [];
        A(this.getComponents(), function (f) {
          i[f.id] ? h.push(f) : f.component.destroy();
        }),
          (this.components = h);
      }),
      (r.prototype.clear = function () {
        e.prototype.clear.call(this), this.container.clear();
      }),
      (r.prototype.destroy = function () {
        e.prototype.destroy.call(this), this.container.remove(!0);
      }),
      (r.prototype.getGeometries = function (t) {
        var i = this,
          n = t.geometries;
        return (
          A(t.views, function (a) {
            n = n.concat(i.getGeometries(a));
          }),
          n
        );
      }),
      (r.prototype.loopLegends = function (t) {
        var i = this.view.getRootView() === this.view;
        if (i) {
          var n = this.getGeometries(this.view),
            a = {};
          A(n, function (o) {
            var s = o.getGroupAttributes();
            A(s, function (l) {
              var u = l.getScale(l.type);
              !u || u.type === 'identity' || a[u.field] || (t(o, l, u), (a[u.field] = !0));
            });
          });
        }
      }),
      (r.prototype.createFieldLegend = function (t, i, n) {
        var a,
          o = sp(this.option, n.field),
          s = $t.FORE,
          l = zo(o);
        if (
          (o !== !1 &&
            (M(o, 'custom')
              ? (a = this.createCustomLegend(t, i, n, o))
              : n.isLinear
              ? (a = this.createContinuousLegend(t, i, n, o))
              : n.isCategory && (a = this.createCategoryLegend(t, i, n, o))),
          a)
        )
          return (
            a.set('field', n.field),
            {
              id: this.getId(n.field),
              component: a,
              layer: s,
              direction: l,
              type: Wt.LEGEND,
              extra: { scale: n },
            }
          );
      }),
      (r.prototype.createCustomLegend = function (t, i, n, a) {
        var o = this.getCategoryCfg(t, i, n, a, !0);
        return new hd(o);
      }),
      (r.prototype.createContinuousLegend = function (t, i, n, a) {
        var o = this.getContinuousCfg(t, i, n, ge(a, ['value']));
        return new _E(o);
      }),
      (r.prototype.createCategoryLegend = function (t, i, n, a) {
        var o = this.getCategoryCfg(t, i, n, a);
        return new hd(o);
      }),
      (r.prototype.getContinuousCfg = function (t, i, n, a) {
        var o = n.getTicks(),
          s = We(o, function (p) {
            return p.value === 0;
          }),
          l = We(o, function (p) {
            return p.value === 1;
          }),
          u = o.map(function (p) {
            var g = p.value,
              y = p.tickValue,
              m = i.mapping(n.invert(g)).join('');
            return { value: y, attrValue: m, color: m, scaleValue: g };
          });
        s ||
          u.push({
            value: n.min,
            attrValue: i.mapping(n.invert(0)).join(''),
            color: i.mapping(n.invert(0)).join(''),
            scaleValue: 0,
          }),
          l ||
            u.push({
              value: n.max,
              attrValue: i.mapping(n.invert(1)).join(''),
              color: i.mapping(n.invert(1)).join(''),
              scaleValue: 1,
            }),
          u.sort(function (p, g) {
            return p.value - g.value;
          });
        var c = {
          min: Me(u).value,
          max: Vt(u).value,
          colors: [],
          rail: { type: i.type },
          track: {},
        };
        i.type === 'size' &&
          (c.track = {
            style: { fill: i.type === 'size' ? this.view.getTheme().defaultColor : void 0 },
          }),
          i.type === 'color' &&
            (c.colors = u.map(function (p) {
              return p.attrValue;
            }));
        var h = this.container,
          f = zo(a),
          v = cu(f),
          d = M(a, 'title');
        return (
          d && (d = _({ text: Oa(n) }, d)),
          (c.container = h),
          (c.layout = v),
          (c.title = d),
          (c.animateOption = yn),
          this.mergeLegendCfg(c, a, 'continuous')
        );
      }),
      (r.prototype.getCategoryCfg = function (t, i, n, a, o) {
        var s = this.container,
          l = M(a, 'position', Y.BOTTOM),
          u = kd(this.view.getTheme(), l),
          c = M(u, ['marker']),
          h = M(a, 'marker'),
          f = cu(l),
          v = M(u, ['pageNavigator']),
          d = M(a, 'pageNavigator'),
          p = o ? dk(c, h, a.items) : Km(this.view, t, i, c, h),
          g = M(a, 'title');
        g && (g = _({ text: n ? Oa(n) : '' }, g));
        var y = M(a, 'maxWidthRatio'),
          m = M(a, 'maxHeightRatio'),
          b = this.getCategoryLegendSizeCfg(f, y, m);
        (b.container = s),
          (b.layout = f),
          (b.items = p),
          (b.title = g),
          (b.animateOption = yn),
          (b.pageNavigator = _({}, v, d));
        var w = this.mergeLegendCfg(b, a, l);
        w.reversed && w.items.reverse();
        var S = M(w, 'maxItemWidth');
        return S && S <= 1 && (w.maxItemWidth = this.view.viewBBox.width * S), w;
      }),
      (r.prototype.mergeLegendCfg = function (t, i, n) {
        var a = n.split('-')[0],
          o = kd(this.view.getTheme(), a);
        return _({}, o, t, i);
      }),
      (r.prototype.getId = function (t) {
        return ''.concat(this.name, '-').concat(t);
      }),
      (r.prototype.getComponentById = function (t) {
        return We(this.components, function (i) {
          return i.id === t;
        });
      }),
      (r.prototype.getCategoryLegendSizeCfg = function (t, i, n) {
        i === void 0 && (i = Wf), n === void 0 && (n = Wf);
        var a = this.view.viewBBox,
          o = a.width,
          s = a.height;
        return t === 'vertical'
          ? { maxWidth: o * i, maxHeight: s }
          : { maxWidth: o, maxHeight: s * n };
      }),
      r
    );
  })(Pn),
  kO = (function (e) {
    I(r, e);
    function r(t) {
      var i = e.call(this, t) || this;
      return (
        (i.onChangeFn = Nr),
        (i.resetMeasure = function () {
          i.clear();
        }),
        (i.onValueChange = function (n) {
          var a = K(n, 2),
            o = a[0],
            s = a[1];
          (i.start = o), (i.end = s), i.changeViewData(o, s);
        }),
        (i.container = i.view.getLayer($t.FORE).addGroup()),
        (i.onChangeFn = Xc(i.onValueChange, 20, { leading: !0 })),
        (i.width = 0),
        i.view.on(st.BEFORE_CHANGE_DATA, i.resetMeasure),
        i.view.on(st.BEFORE_CHANGE_SIZE, i.resetMeasure),
        i
      );
    }
    return (
      Object.defineProperty(r.prototype, 'name', {
        get: function () {
          return 'slider';
        },
        enumerable: !1,
        configurable: !0,
      }),
      (r.prototype.destroy = function () {
        e.prototype.destroy.call(this),
          this.view.off(st.BEFORE_CHANGE_DATA, this.resetMeasure),
          this.view.off(st.BEFORE_CHANGE_SIZE, this.resetMeasure);
      }),
      (r.prototype.init = function () {}),
      (r.prototype.render = function () {
        this.option = this.view.getOptions().slider;
        var t = this.getSliderCfg(),
          i = t.start,
          n = t.end;
        R(this.start) && ((this.start = i), (this.end = n));
        var a = this.view.getOptions().data;
        this.option && !we(a)
          ? this.slider
            ? (this.slider = this.updateSlider())
            : ((this.slider = this.createSlider()),
              this.slider.component.on('sliderchange', this.onChangeFn))
          : this.slider && (this.slider.component.destroy(), (this.slider = void 0));
      }),
      (r.prototype.layout = function () {
        var t = this;
        if (
          (this.option &&
            !this.width &&
            (this.measureSlider(),
            setTimeout(function () {
              t.view.destroyed || t.changeViewData(t.start, t.end);
            }, 0)),
          this.slider)
        ) {
          var i = this.view.coordinateBBox.width,
            n = this.slider.component.get('padding'),
            a = K(n, 4),
            o = a[0];
          a[1], a[2];
          var s = a[3],
            l = this.slider.component.getLayoutBBox(),
            u = new he(l.x, l.y, Math.min(l.width, i), l.height).expand(n),
            c = this.getMinMaxText(this.start, this.end),
            h = c.minText,
            f = c.maxText,
            v = K(Gr(this.view.viewBBox, u, Y.BOTTOM), 2);
          v[0];
          var d = v[1],
            p = K(Gr(this.view.coordinateBBox, u, Y.BOTTOM), 2),
            g = p[0];
          p[1],
            this.slider.component.update(
              x(x({}, this.getSliderCfg()), {
                x: g + s,
                y: d + o,
                width: this.width,
                start: this.start,
                end: this.end,
                minText: h,
                maxText: f,
              }),
            ),
            (this.view.viewBBox = this.view.viewBBox.cut(u, Y.BOTTOM));
        }
      }),
      (r.prototype.update = function () {
        this.render();
      }),
      (r.prototype.createSlider = function () {
        var t = this.getSliderCfg(),
          i = new zE(x({ container: this.container }, t));
        return i.init(), { component: i, layer: $t.FORE, direction: Y.BOTTOM, type: Wt.SLIDER };
      }),
      (r.prototype.updateSlider = function () {
        var t = this.getSliderCfg();
        if (this.width) {
          var i = this.getMinMaxText(this.start, this.end),
            n = i.minText,
            a = i.maxText;
          t = x(x({}, t), {
            width: this.width,
            start: this.start,
            end: this.end,
            minText: n,
            maxText: a,
          });
        }
        return this.slider.component.update(t), this.slider;
      }),
      (r.prototype.measureSlider = function () {
        var t = this.getSliderCfg().width;
        this.width = t;
      }),
      (r.prototype.getSliderCfg = function () {
        var t = {
          height: 16,
          start: 0,
          end: 1,
          minText: '',
          maxText: '',
          x: 0,
          y: 0,
          width: this.view.coordinateBBox.width,
        };
        if (yt(this.option)) {
          var i = x({ data: this.getData() }, M(this.option, 'trendCfg', {}));
          (t = _({}, t, this.getThemeOptions(), this.option)), (t = x(x({}, t), { trendCfg: i }));
        }
        return (
          (t.start = Mt(Math.min(R(t.start) ? 0 : t.start, R(t.end) ? 1 : t.end), 0, 1)),
          (t.end = Mt(Math.max(R(t.start) ? 0 : t.start, R(t.end) ? 1 : t.end), 0, 1)),
          t
        );
      }),
      (r.prototype.getData = function () {
        var t = this.view.getOptions().data,
          i = K(this.view.getYScales(), 1),
          n = i[0],
          a = this.view.getGroupScales();
        if (a.length) {
          var o = a[0],
            s = o.field,
            l = o.ticks;
          return t.reduce(function (u, c) {
            return c[s] === l[0] && u.push(c[n.field]), u;
          }, []);
        }
        return t.map(function (u) {
          return u[n.field] || 0;
        });
      }),
      (r.prototype.getThemeOptions = function () {
        var t = this.view.getTheme();
        return M(t, ['components', 'slider', 'common'], {});
      }),
      (r.prototype.getMinMaxText = function (t, i) {
        var n = this.view.getOptions().data,
          a = this.view.getXScale(),
          o = _e(n, a.field);
        a.isLinear && (o = o.sort());
        var s = o,
          l = Xt(n);
        if (!a || !l) return {};
        var u = Xt(s),
          c = Math.round(t * (u - 1)),
          h = Math.round(i * (u - 1)),
          f = M(s, [c]),
          v = M(s, [h]),
          d = this.getSliderCfg().formatter;
        return d && ((f = d(f, n[c], c)), (v = d(v, n[h], h))), { minText: f, maxText: v };
      }),
      (r.prototype.changeViewData = function (t, i) {
        var n = this.view.getOptions().data,
          a = this.view.getXScale(),
          o = Xt(n);
        if (!(!a || !o)) {
          var s = _e(n, a.field),
            l = this.view.getXScale().isLinear
              ? s.sort(function (v, d) {
                  return Number(v) - Number(d);
                })
              : s,
            u = l,
            c = Xt(u),
            h = Math.round(t * (c - 1)),
            f = Math.round(i * (c - 1));
          this.view.filter(a.field, function (v, d) {
            var p = u.indexOf(v);
            return p > -1 ? en(p, h, f) : !0;
          }),
            this.view.render(!0);
        }
      }),
      (r.prototype.getComponents = function () {
        return this.slider ? [this.slider] : [];
      }),
      (r.prototype.clear = function () {
        this.slider && (this.slider.component.destroy(), (this.slider = void 0)),
          (this.width = 0),
          (this.start = void 0),
          (this.end = void 0);
      }),
      r
    );
  })(Pn),
  Go = 0,
  lp = 8,
  IO = 32,
  LO = 20,
  OO = (function (e) {
    I(r, e);
    function r(t) {
      var i = e.call(this, t) || this;
      return (
        (i.onChangeFn = Nr),
        (i.resetMeasure = function () {
          i.clear();
        }),
        (i.onValueChange = function (n) {
          var a = n.ratio,
            o = i.getValidScrollbarCfg().animate;
          i.ratio = Mt(a, 0, 1);
          var s = i.view.getOptions().animate;
          o || i.view.animate(!1), i.changeViewData(i.getScrollRange(), !0), i.view.animate(s);
        }),
        (i.container = i.view.getLayer($t.FORE).addGroup()),
        (i.onChangeFn = Xc(i.onValueChange, 20, { leading: !0 })),
        (i.trackLen = 0),
        (i.thumbLen = 0),
        (i.ratio = 0),
        i.view.on(st.BEFORE_CHANGE_DATA, i.resetMeasure),
        i.view.on(st.BEFORE_CHANGE_SIZE, i.resetMeasure),
        i
      );
    }
    return (
      Object.defineProperty(r.prototype, 'name', {
        get: function () {
          return 'scrollbar';
        },
        enumerable: !1,
        configurable: !0,
      }),
      (r.prototype.destroy = function () {
        e.prototype.destroy.call(this),
          this.view.off(st.BEFORE_CHANGE_DATA, this.resetMeasure),
          this.view.off(st.BEFORE_CHANGE_SIZE, this.resetMeasure);
      }),
      (r.prototype.init = function () {}),
      (r.prototype.render = function () {
        (this.option = this.view.getOptions().scrollbar),
          this.option
            ? this.scrollbar
              ? (this.scrollbar = this.updateScrollbar())
              : ((this.scrollbar = this.createScrollbar()),
                this.scrollbar.component.on('scrollchange', this.onChangeFn))
            : this.scrollbar && (this.scrollbar.component.destroy(), (this.scrollbar = void 0));
      }),
      (r.prototype.layout = function () {
        var t = this;
        if (
          (this.option &&
            !this.trackLen &&
            (this.measureScrollbar(),
            setTimeout(function () {
              t.view.destroyed || t.changeViewData(t.getScrollRange(), !0);
            })),
          this.scrollbar)
        ) {
          var i = this.view.coordinateBBox.width,
            n = this.scrollbar.component.get('padding'),
            a = this.scrollbar.component.getLayoutBBox(),
            o = new he(a.x, a.y, Math.min(a.width, i), a.height).expand(n),
            s = this.getScrollbarComponentCfg(),
            l = void 0,
            u = void 0;
          if (s.isHorizontal) {
            var c = K(Gr(this.view.viewBBox, o, Y.BOTTOM), 2);
            c[0];
            var h = c[1],
              f = K(Gr(this.view.coordinateBBox, o, Y.BOTTOM), 2),
              v = f[0];
            f[1], (l = v), (u = h);
          } else {
            var d = K(Gr(this.view.viewBBox, o, Y.RIGHT), 2);
            d[0];
            var h = d[1],
              p = K(Gr(this.view.viewBBox, o, Y.RIGHT), 2),
              v = p[0];
            p[1], (l = v), (u = h);
          }
          (l += n[3]),
            (u += n[0]),
            this.trackLen
              ? this.scrollbar.component.update(
                  x(x({}, s), {
                    x: l,
                    y: u,
                    trackLen: this.trackLen,
                    thumbLen: this.thumbLen,
                    thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,
                  }),
                )
              : this.scrollbar.component.update(x(x({}, s), { x: l, y: u })),
            (this.view.viewBBox = this.view.viewBBox.cut(o, s.isHorizontal ? Y.BOTTOM : Y.RIGHT));
        }
      }),
      (r.prototype.update = function () {
        this.render();
      }),
      (r.prototype.getComponents = function () {
        return this.scrollbar ? [this.scrollbar] : [];
      }),
      (r.prototype.clear = function () {
        this.scrollbar && (this.scrollbar.component.destroy(), (this.scrollbar = void 0)),
          (this.trackLen = 0),
          (this.thumbLen = 0),
          (this.ratio = 0),
          (this.cnt = 0),
          (this.step = 0),
          (this.data = void 0),
          (this.xScaleCfg = void 0),
          (this.yScalesCfg = []);
      }),
      (r.prototype.setValue = function (t) {
        this.onValueChange({ ratio: t });
      }),
      (r.prototype.getValue = function () {
        return this.ratio;
      }),
      (r.prototype.getThemeOptions = function () {
        var t = this.view.getTheme();
        return M(t, ['components', 'scrollbar', 'common'], {});
      }),
      (r.prototype.getScrollbarTheme = function (t) {
        var i = M(this.view.getTheme(), ['components', 'scrollbar']),
          n = t || {},
          a = n.thumbHighlightColor,
          o = mt(n, ['thumbHighlightColor']);
        return {
          default: _({}, M(i, ['default', 'style'], {}), o),
          hover: _({}, M(i, ['hover', 'style'], {}), { thumbColor: a }),
        };
      }),
      (r.prototype.measureScrollbar = function () {
        var t = this.view.getXScale(),
          i = this.view.getYScales().slice();
        (this.data = this.getScrollbarData()),
          (this.step = this.getStep()),
          (this.cnt = this.getCnt());
        var n = this.getScrollbarComponentCfg(),
          a = n.trackLen,
          o = n.thumbLen;
        (this.trackLen = a),
          (this.thumbLen = o),
          (this.xScaleCfg = { field: t.field, values: t.values || [] }),
          (this.yScalesCfg = i);
      }),
      (r.prototype.getScrollRange = function () {
        var t = Math.floor((this.cnt - this.step) * Mt(this.ratio, 0, 1)),
          i = Math.min(t + this.step - 1, this.cnt - 1);
        return [t, i];
      }),
      (r.prototype.changeViewData = function (t, i) {
        var n = this,
          a = K(t, 2),
          o = a[0],
          s = a[1],
          l = this.getValidScrollbarCfg().type,
          u = l !== 'vertical',
          c = _e(this.data, this.xScaleCfg.field),
          h = this.view.getXScale().isLinear
            ? c.sort(function (v, d) {
                return Number(v) - Number(d);
              })
            : c,
          f = u ? h : h.reverse();
        this.yScalesCfg.forEach(function (v) {
          n.view.scale(v.field, {
            formatter: v.formatter,
            type: v.type,
            min: v.min,
            max: v.max,
            tickMethod: v.tickMethod,
          });
        }),
          this.view.filter(this.xScaleCfg.field, function (v) {
            var d = f.indexOf(v);
            return d > -1 ? en(d, o, s) : !0;
          }),
          this.view.render(!0);
      }),
      (r.prototype.createScrollbar = function () {
        var t = this.getValidScrollbarCfg().type,
          i = t !== 'vertical',
          n = new HE(
            x(x({ container: this.container }, this.getScrollbarComponentCfg()), { x: 0, y: 0 }),
          );
        return (
          n.init(),
          { component: n, layer: $t.FORE, direction: i ? Y.BOTTOM : Y.RIGHT, type: Wt.SCROLLBAR }
        );
      }),
      (r.prototype.updateScrollbar = function () {
        var t = this.getScrollbarComponentCfg(),
          i = this.trackLen
            ? x(x({}, t), {
                trackLen: this.trackLen,
                thumbLen: this.thumbLen,
                thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,
              })
            : x({}, t);
        return this.scrollbar.component.update(i), this.scrollbar;
      }),
      (r.prototype.getStep = function () {
        if (this.step) return this.step;
        var t = this.view.coordinateBBox,
          i = this.getValidScrollbarCfg(),
          n = i.type,
          a = i.categorySize,
          o = n !== 'vertical';
        return Math.floor((o ? t.width : t.height) / a);
      }),
      (r.prototype.getCnt = function () {
        if (this.cnt) return this.cnt;
        var t = this.view.getXScale(),
          i = this.getScrollbarData(),
          n = _e(i, t.field);
        return Xt(n);
      }),
      (r.prototype.getScrollbarComponentCfg = function () {
        var t = this.view,
          i = t.coordinateBBox,
          n = t.viewBBox,
          a = this.getValidScrollbarCfg(),
          o = a.type,
          s = a.padding,
          l = a.width,
          u = a.height,
          c = a.style,
          h = o !== 'vertical',
          f = K(s, 4),
          v = f[0],
          d = f[1],
          p = f[2],
          g = f[3],
          y = h ? { x: i.minX + g, y: n.maxY - u - p } : { x: n.maxX - l - d, y: i.minY + v },
          m = this.getStep(),
          b = this.getCnt(),
          w = h ? i.width - g - d : i.height - v - p,
          S = Math.max(w * Mt(m / b, 0, 1), LO);
        return x(x({}, this.getThemeOptions()), {
          x: y.x,
          y: y.y,
          size: h ? u : l,
          isHorizontal: h,
          trackLen: w,
          thumbLen: S,
          thumbOffset: 0,
          theme: this.getScrollbarTheme(c),
        });
      }),
      (r.prototype.getValidScrollbarCfg = function () {
        var t = {
          type: 'horizontal',
          categorySize: IO,
          width: lp,
          height: lp,
          padding: [0, 0, 0, 0],
          animate: !0,
          style: {},
        };
        return (
          yt(this.option) && (t = x(x({}, t), this.option)),
          (!yt(this.option) || !this.option.padding) &&
            (t.padding = t.type === 'horizontal' ? [Go, 0, Go, 0] : [0, Go, 0, Go]),
          t
        );
      }),
      (r.prototype.getScrollbarData = function () {
        var t = this.view.getCoordinate(),
          i = this.getValidScrollbarCfg(),
          n = this.view.getOptions().data || [];
        return t.isReflect('y') && i.type === 'vertical' && (n = Et([], K(n), !1).reverse()), n;
      }),
      r
    );
  })(Pn),
  PO = { fill: '#CCD6EC', opacity: 0.3 };
function DO(e, r, t) {
  var i,
    n,
    a,
    o,
    s,
    l,
    u = HT(e, r, t);
  if (u.length) {
    u = Te(u);
    try {
      for (var c = vt(u), h = c.next(); !h.done; h = c.next()) {
        var f = h.value;
        try {
          for (var v = ((a = void 0), vt(f)), d = v.next(); !d.done; d = v.next()) {
            var p = d.value,
              g = p.mappingData,
              y = g.x,
              m = g.y;
            (p.x = $(y) ? y[y.length - 1] : y), (p.y = $(m) ? m[m.length - 1] : m);
          }
        } catch (T) {
          a = { error: T };
        } finally {
          try {
            d && !d.done && (o = v.return) && o.call(v);
          } finally {
            if (a) throw a.error;
          }
        }
      }
    } catch (T) {
      i = { error: T };
    } finally {
      try {
        h && !h.done && (n = c.return) && n.call(c);
      } finally {
        if (i) throw i.error;
      }
    }
    var b = t.shared;
    if (b === !1 && u.length > 1) {
      var w = u[0],
        S = Math.abs(r.y - w[0].y);
      try {
        for (var C = vt(u), F = C.next(); !F.done; F = C.next()) {
          var E = F.value,
            k = Math.abs(r.y - E[0].y);
          k <= S && ((w = E), (S = k));
        }
      } catch (T) {
        s = { error: T };
      } finally {
        try {
          F && !F.done && (l = C.return) && l.call(C);
        } finally {
          if (s) throw s.error;
        }
      }
      u = [w];
    }
    return Ii(Te(u));
  }
  return [];
}
var BO = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.show = function (t) {
        var i = this.context.view,
          n = this.context.event,
          a = i.getController('tooltip').getTooltipCfg(),
          o = DO(i, { x: n.x, y: n.y }, a);
        if (!Bt(o, this.items) && ((this.items = o), o.length)) {
          var s = i.getXScale().field,
            l = o[0].data[s],
            u = [],
            c = i.geometries;
          if (
            (A(c, function (V) {
              if (V.type === 'interval' || V.type === 'schema') {
                var H = V.getElementsBy(function (G) {
                  var X = G.getData();
                  return X[s] === l;
                });
                u = u.concat(H);
              }
            }),
            u.length)
          ) {
            var h = i.getCoordinate(),
              f = u[0].shape.getCanvasBBox(),
              v = u[0].shape.getCanvasBBox(),
              d = f;
            A(u, function (V) {
              var H = V.shape.getCanvasBBox();
              h.isTransposed
                ? (H.minY < f.minY && (f = H), H.maxY > v.maxY && (v = H))
                : (H.minX < f.minX && (f = H), H.maxX > v.maxX && (v = H)),
                (d.x = Math.min(H.minX, d.minX)),
                (d.y = Math.min(H.minY, d.minY)),
                (d.width = Math.max(H.maxX, d.maxX) - d.x),
                (d.height = Math.max(H.maxY, d.maxY) - d.y);
            });
            var p = i.backgroundGroup,
              g = i.coordinateBBox,
              y = void 0;
            if (h.isRect) {
              var m = i.getXScale(),
                b = t || {},
                w = b.appendRatio,
                S = b.appendWidth;
              R(S) &&
                ((w = R(w) ? (m.isLinear ? 0 : 0.25) : w),
                (S = h.isTransposed ? w * v.height : w * f.width));
              var C = void 0,
                F = void 0,
                E = void 0,
                k = void 0;
              h.isTransposed
                ? ((C = g.minX),
                  (F = Math.min(v.minY, f.minY) - S),
                  (E = g.width),
                  (k = d.height + S * 2))
                : ((C = Math.min(f.minX, v.minX) - S),
                  (F = g.minY),
                  (E = d.width + S * 2),
                  (k = g.height)),
                (y = [['M', C, F], ['L', C + E, F], ['L', C + E, F + k], ['L', C, F + k], ['Z']]);
            } else {
              var T = Me(u),
                O = Vt(u),
                P = La(T.getModel(), h).startAngle,
                z = La(O.getModel(), h).endAngle,
                W = h.getCenter(),
                j = h.getRadius(),
                D = h.innerRadius * j;
              y = Wr(W.x, W.y, j, P, z, D);
            }
            if (this.regionPath) this.regionPath.attr('path', y), this.regionPath.show();
            else {
              var N = M(t, 'style', PO);
              this.regionPath = p.addShape({
                type: 'path',
                name: 'active-region',
                capture: !1,
                attrs: x(x({}, N), { path: y }),
              });
            }
          }
        }
      }),
      (r.prototype.hide = function () {
        this.regionPath && this.regionPath.hide(), (this.items = null);
      }),
      (r.prototype.destroy = function () {
        this.hide(), this.regionPath && this.regionPath.remove(!0), e.prototype.destroy.call(this);
      }),
      r
    );
  })(Ft),
  L0 = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.timeStamp = 0), t;
    }
    return (
      (r.prototype.show = function () {
        var t = this.context,
          i = t.event,
          n = t.view,
          a = n.isTooltipLocked();
        if (!a) {
          var o = this.timeStamp,
            s = +new Date(),
            l = M(t.view.getOptions(), 'tooltip.showDelay', 16);
          if (s - o > l) {
            var u = this.location,
              c = { x: i.x, y: i.y };
            (!u || !Bt(u, c)) && this.showTooltip(n, c), (this.timeStamp = s), (this.location = c);
          }
        }
      }),
      (r.prototype.hide = function () {
        var t = this.context.view,
          i = t.getController('tooltip'),
          n = this.context.event,
          a = n.clientX,
          o = n.clientY;
        i.isCursorEntered({ x: a, y: o }) ||
          t.isTooltipLocked() ||
          (this.hideTooltip(t), (this.location = null));
      }),
      (r.prototype.showTooltip = function (t, i) {
        t.showTooltip(i);
      }),
      (r.prototype.hideTooltip = function (t) {
        t.hideTooltip();
      }),
      r
    );
  })(Ft),
  RO = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.showTooltip = function (t, i) {
        var n = nr(t);
        A(n, function (a) {
          var o = uc(t, a, i);
          a.showTooltip(o);
        });
      }),
      (r.prototype.hideTooltip = function (t) {
        var i = nr(t);
        A(i, function (n) {
          n.hideTooltip();
        });
      }),
      r
    );
  })(L0),
  $O = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.timeStamp = 0), t;
    }
    return (
      (r.prototype.destroy = function () {
        e.prototype.destroy.call(this), this.tooltip && this.tooltip.destroy();
      }),
      (r.prototype.show = function () {
        var t = this.context,
          i = t.event,
          n = this.timeStamp,
          a = +new Date();
        if (a - n > 16) {
          var o = this.location,
            s = { x: i.x, y: i.y };
          (!o || !Bt(o, s)) && this.showTooltip(s), (this.timeStamp = a), (this.location = s);
        }
      }),
      (r.prototype.hide = function () {
        this.hideTooltip(), (this.location = null);
      }),
      (r.prototype.showTooltip = function (t) {
        var i = this.context,
          n = i.event,
          a = n.target;
        if (a && a.get('tip')) {
          this.tooltip || this.renderTooltip();
          var o = a.get('tip');
          this.tooltip.update(x({ title: o }, t)), this.tooltip.show();
        }
      }),
      (r.prototype.hideTooltip = function () {
        this.tooltip && this.tooltip.hide();
      }),
      (r.prototype.renderTooltip = function () {
        var t,
          i = this.context.view,
          n = i.canvas,
          a = { start: { x: 0, y: 0 }, end: { x: n.get('width'), y: n.get('height') } },
          o = i.getTheme(),
          s = M(o, ['components', 'tooltip', 'domStyles'], {}),
          l = new dl({
            parent: n.get('el').parentNode,
            region: a,
            visible: !1,
            crosshairs: null,
            domStyles: x(
              {},
              _(
                {},
                s,
                ((t = {}),
                (t[Cr] = { 'max-width': '50%' }),
                (t[Ar] = { 'word-break': 'break-all' }),
                t),
              ),
            ),
          });
        l.init(), l.setCapture(!1), (this.tooltip = l);
      }),
      r
    );
  })(Ft),
  Yh = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.stateName = ''), t;
    }
    return (
      (r.prototype.hasState = function (t) {
        return t.hasState(this.stateName);
      }),
      (r.prototype.setElementState = function (t, i) {
        t.setState(this.stateName, i);
      }),
      (r.prototype.setState = function () {
        this.setStateEnable(!0);
      }),
      (r.prototype.clear = function () {
        var t = this.context.view;
        this.clearViewState(t);
      }),
      (r.prototype.clearViewState = function (t) {
        var i = this,
          n = Im(t, this.stateName);
        A(n, function (a) {
          i.setElementState(a, !1);
        });
      }),
      r
    );
  })(Ft);
function up(e) {
  return M(e.get('delegateObject'), 'item');
}
var Wh = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.ignoreListItemStates = ['unchecked']), t;
    }
    return (
      (r.prototype.isItemIgnore = function (t, i) {
        var n = this.ignoreListItemStates,
          a = n.filter(function (o) {
            return i.hasState(t, o);
          });
        return !!a.length;
      }),
      (r.prototype.setStateByComponent = function (t, i, n) {
        var a = this.context.view,
          o = t.get('field'),
          s = Kt(a);
        this.setElementsStateByItem(s, o, i, n);
      }),
      (r.prototype.setStateByElement = function (t, i) {
        this.setElementState(t, i);
      }),
      (r.prototype.isMathItem = function (t, i, n) {
        var a = this.context.view,
          o = gn(a, i),
          s = je(t, i);
        return !R(s) && n.name === o.getText(s);
      }),
      (r.prototype.setElementsStateByItem = function (t, i, n, a) {
        var o = this;
        A(t, function (s) {
          o.isMathItem(s, i, n) && s.setState(o.stateName, a);
        });
      }),
      (r.prototype.setStateEnable = function (t) {
        var i = Zr(this.context);
        if (i) Em(this.context) && this.setStateByElement(i, t);
        else {
          var n = Pi(this.context);
          if (Pa(n)) {
            var a = n.item,
              o = n.component;
            if (a && o && !this.isItemIgnore(a, o)) {
              var s = this.context.event.gEvent;
              if (s && s.fromShape && s.toShape && up(s.fromShape) === up(s.toShape)) return;
              this.setStateByComponent(o, a, t);
            }
          }
        }
      }),
      (r.prototype.toggle = function () {
        var t = Zr(this.context);
        if (t) {
          var i = t.hasState(this.stateName);
          this.setElementState(t, !i);
        }
      }),
      (r.prototype.reset = function () {
        this.setStateEnable(!1);
      }),
      r
    );
  })(Yh),
  NO = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.stateName = 'active'), t;
    }
    return (
      (r.prototype.active = function () {
        this.setState();
      }),
      r
    );
  })(Wh),
  zO = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.cache = {}), t;
    }
    return (
      (r.prototype.getColorScale = function (t, i) {
        var n = i.geometry.getAttribute('color');
        if (!n) return null;
        var a = t.getScaleByField(n.getFields()[0]);
        return a;
      }),
      (r.prototype.getLinkPath = function (t, i) {
        var n = this.context.view,
          a = n.getCoordinate().isTransposed,
          o = t.shape.getCanvasBBox(),
          s = i.shape.getCanvasBBox(),
          l = a
            ? [
                ['M', o.minX, o.minY],
                ['L', s.minX, s.maxY],
                ['L', s.maxX, s.maxY],
                ['L', o.maxX, o.minY],
                ['Z'],
              ]
            : [
                ['M', o.maxX, o.minY],
                ['L', s.minX, s.minY],
                ['L', s.minX, s.maxY],
                ['L', o.maxX, o.maxY],
                ['Z'],
              ];
        return l;
      }),
      (r.prototype.addLinkShape = function (t, i, n, a) {
        var o = { opacity: 0.4, fill: i.shape.attr('fill') };
        t.addShape({
          type: 'path',
          attrs: x(x({}, _({}, o, q(a) ? a(o, i) : a)), { path: this.getLinkPath(i, n) }),
        });
      }),
      (r.prototype.linkByElement = function (t, i) {
        var n = this,
          a = this.context.view,
          o = this.getColorScale(a, t);
        if (o) {
          var s = je(t, o.field);
          if (!this.cache[s]) {
            var l = mT(a, o.field, s),
              u = this.linkGroup,
              c = u.addGroup();
            this.cache[s] = c;
            var h = l.length;
            A(l, function (f, v) {
              if (v < h - 1) {
                var d = l[v + 1];
                n.addLinkShape(c, f, d, i);
              }
            });
          }
        }
      }),
      (r.prototype.removeLink = function (t) {
        var i = this.getColorScale(this.context.view, t);
        if (i) {
          var n = je(t, i.field);
          this.cache[n] && (this.cache[n].remove(), (this.cache[n] = null));
        }
      }),
      (r.prototype.link = function (t) {
        var i = this.context;
        this.linkGroup ||
          (this.linkGroup = i.view.foregroundGroup.addGroup({
            id: 'link-by-color-group',
            capture: !1,
          }));
        var n = Zr(i);
        n && this.linkByElement(n, t == null ? void 0 : t.style);
      }),
      (r.prototype.unlink = function () {
        var t = Zr(this.context);
        t && this.removeLink(t);
      }),
      (r.prototype.clear = function () {
        this.linkGroup && this.linkGroup.clear(), (this.cache = {});
      }),
      (r.prototype.destroy = function () {
        e.prototype.destroy.call(this), this.linkGroup && this.linkGroup.remove();
      }),
      r
    );
  })(Ft),
  Xh = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (
        (t.startPoint = null),
        (t.endPoint = null),
        (t.isStarted = !1),
        (t.effectSiblings = !1),
        (t.effectByRecord = !1),
        t
      );
    }
    return (
      (r.prototype.getCurrentPoint = function () {
        var t = this.context.event;
        return { x: t.x, y: t.y };
      }),
      (r.prototype.start = function () {
        this.clear(), (this.startPoint = this.getCurrentPoint()), (this.isStarted = !0);
      }),
      (r.prototype.getIntersectElements = function () {
        var t = null;
        if (Da(this.context)) t = xh(this.context, 10);
        else {
          var i = this.startPoint,
            n = this.isStarted ? this.getCurrentPoint() : this.endPoint;
          if (!i || !n) return;
          var a = {
              minX: Math.min(i.x, n.x),
              minY: Math.min(i.y, n.y),
              maxX: Math.max(i.x, n.x),
              maxY: Math.max(i.y, n.y),
            },
            o = this.context.view;
          t = wh(o, a);
        }
        return t;
      }),
      (r.prototype.setStateEnable = function (t) {
        if (this.effectSiblings && !this.effectByRecord) this.setSiblingsState(t);
        else {
          var i = Kt(this.context.view),
            n = this.getIntersectElements();
          n && n.length
            ? this.effectByRecord
              ? this.setSiblingsStateByRecord(n, t)
              : this.setElementsState(n, t, i)
            : this.clear();
        }
      }),
      (r.prototype.setSiblingsStateByRecord = function (t, i) {
        var n = this,
          a = this.context.view,
          o = nr(a),
          s = t.map(function (c) {
            return c.getModel().data;
          }),
          l = a.getXScale().field,
          u = a.getYScales()[0].field;
        A(o, function (c) {
          var h = Kt(c),
            f = h.filter(function (v) {
              var d = v.getModel().data;
              return Om(s, d, l, u);
            });
          n.setElementsState(f, i, h);
        });
      }),
      (r.prototype.setSiblingsState = function (t) {
        var i = this,
          n = this.context.view,
          a = nr(n);
        Da(this.context) &&
          A(a, function (o) {
            var s = Kt(o),
              l = km(i.context, o, 10);
            l && l.length ? i.setElementsState(l, t, s) : i.clearViewState(o);
          });
      }),
      (r.prototype.setElementsState = function (t, i, n) {
        var a = this;
        A(n, function (o) {
          t.includes(o) ? a.setElementState(o, i) : a.setElementState(o, !1);
        });
      }),
      (r.prototype.end = function () {
        (this.isStarted = !1), (this.endPoint = this.getCurrentPoint());
      }),
      (r.prototype.clear = function () {
        var t = this,
          i = this.context.view;
        if (this.effectSiblings) {
          var n = nr(i);
          A(n, function (a) {
            t.clearViewState(a);
          });
        } else this.clearViewState(i);
      }),
      r
    );
  })(Yh),
  GO = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.stateName = 'active'), t;
    }
    return (
      (r.prototype.active = function () {
        this.setState();
      }),
      r
    );
  })(Xh),
  _h = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.setStateEnable = function (t) {
        var i = Zr(this.context);
        if (i) {
          if (!Em(this.context)) return;
          t
            ? (this.clear(), this.setElementState(i, !0))
            : this.hasState(i) && this.setElementState(i, !1);
        }
      }),
      (r.prototype.toggle = function () {
        var t = Zr(this.context);
        if (t) {
          var i = this.hasState(t);
          i || this.clear(), this.setElementState(t, !i);
        }
      }),
      (r.prototype.reset = function () {
        this.setStateEnable(!1);
      }),
      r
    );
  })(Yh),
  HO = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.stateName = 'active'), t;
    }
    return (
      (r.prototype.active = function () {
        this.setState();
      }),
      r
    );
  })(_h),
  pa = 'inactive',
  ga = 'active';
function jh(e) {
  var r = Kt(e);
  A(r, function (t) {
    t.hasState(ga) && t.setState(ga, !1), t.hasState(pa) && t.setState(pa, !1);
  });
}
function O0(e, r, t) {
  A(e, function (i) {
    r(i)
      ? (i.hasState(pa) && i.setState(pa, !1), i.setState(ga, t))
      : (i.hasState(ga) && i.setState(ga, !1), i.setState(pa, t));
  });
}
var mi = ls.INACTIVE,
  dr = ls.ACTIVE,
  Uh = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.stateName = dr), t;
    }
    return (
      (r.prototype.setElementsStateByItem = function (t, i, n, a) {
        var o = this,
          s = function (l) {
            return o.isMathItem(l, i, n);
          };
        this.setHighlightBy(t, s, a);
      }),
      (r.prototype.setElementHighlight = function (t, i) {
        i(t)
          ? (t.hasState(mi) && t.setState(mi, !1), t.setState(dr, !0))
          : t.hasState(dr) || t.setState(mi, !0);
      }),
      (r.prototype.setHighlightBy = function (t, i, n) {
        var a = this;
        if (n)
          A(t, function (l) {
            a.setElementHighlight(l, i);
          });
        else {
          var o = Im(this.context.view, dr),
            s = !0;
          A(o, function (l) {
            if (!i(l)) return (s = !1), !1;
          }),
            s
              ? this.clear()
              : A(t, function (l) {
                  i(l) && (l.hasState(dr) && l.setState(dr, !1), l.setState(mi, !0));
                });
        }
      }),
      (r.prototype.setElementState = function (t, i) {
        var n = this.context.view,
          a = Kt(n);
        this.setHighlightBy(
          a,
          function (o) {
            return t === o;
          },
          i,
        );
      }),
      (r.prototype.highlight = function () {
        this.setState();
      }),
      (r.prototype.clear = function () {
        var t = this.context.view;
        jh(t);
      }),
      r
    );
  })(Wh),
  VO = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.setStateByElement = function (t, i) {
        var n = this.context.view,
          a = t.geometry.getAttribute('color');
        if (a) {
          var o = n.getScaleByField(a.getFields()[0]),
            s = je(t, o.field),
            l = Kt(n),
            u = l.filter(function (c) {
              return je(c, o.field) === s;
            });
          this.setHighlightBy(
            l,
            function (c) {
              return u.includes(c);
            },
            i,
          );
        }
      }),
      r
    );
  })(Uh),
  YO = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.setElementHighlight = function (t, i) {
        i(t)
          ? (t.hasState(mi) && t.setState(mi, !1), t.setState(dr, !0))
          : (t.setState(mi, !0), t.hasState(dr) && t.setState(dr, !1));
      }),
      (r.prototype.setStateByElement = function (t, i) {
        var n = this.context.view,
          a = n.getXScale(),
          o = je(t, a.field),
          s = Kt(n),
          l = s.filter(function (u) {
            return je(u, a.field) === o;
          });
        this.setHighlightBy(
          s,
          function (u) {
            return l.includes(u);
          },
          i,
        );
      }),
      (r.prototype.toggle = function () {
        var t = Zr(this.context);
        if (t) {
          var i = t.hasState(this.stateName);
          this.setStateByElement(t, !i);
        }
      }),
      r
    );
  })(Uh),
  Qe;
(function (e) {
  (e.BEFORE_HIGHLIGHT = 'element-range-highlight:beforehighlight'),
    (e.AFTER_HIGHLIGHT = 'element-range-highlight:afterhighlight'),
    (e.BEFORE_CLEAR = 'element-range-highlight:beforeclear'),
    (e.AFTER_CLEAR = 'element-range-highlight:afterclear');
})(Qe || (Qe = {}));
var P0 = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.stateName = 'active'), t;
    }
    return (
      (r.prototype.clearViewState = function (t) {
        jh(t);
      }),
      (r.prototype.highlight = function () {
        var t = this.context,
          i = t.view,
          n = t.event,
          a = this.getIntersectElements(),
          o = { view: i, event: n, highlightElements: a };
        i.emit(Qe.BEFORE_HIGHLIGHT, Lt.fromData(i, Qe.BEFORE_HIGHLIGHT, o)),
          this.setState(),
          i.emit(Qe.AFTER_HIGHLIGHT, Lt.fromData(i, Qe.AFTER_HIGHLIGHT, o));
      }),
      (r.prototype.clear = function () {
        var t = this.context.view;
        t.emit(Qe.BEFORE_CLEAR, Lt.fromData(t, Qe.BEFORE_CLEAR, {})),
          e.prototype.clear.call(this),
          t.emit(Qe.AFTER_CLEAR, Lt.fromData(t, Qe.AFTER_CLEAR, {}));
      }),
      (r.prototype.setElementsState = function (t, i, n) {
        O0(
          n,
          function (a) {
            return t.indexOf(a) >= 0;
          },
          i,
        );
      }),
      r
    );
  })(Xh),
  WO = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.stateName = 'active'), t;
    }
    return (
      (r.prototype.highlight = function () {
        this.setState();
      }),
      (r.prototype.setElementState = function (t, i) {
        var n = this.context.view,
          a = Kt(n);
        O0(
          a,
          function (o) {
            return t === o;
          },
          i,
        );
      }),
      (r.prototype.clear = function () {
        var t = this.context.view;
        jh(t);
      }),
      r
    );
  })(_h),
  XO = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.stateName = 'selected'), t;
    }
    return (
      (r.prototype.selected = function () {
        this.setState();
      }),
      r
    );
  })(Xh),
  _O = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.stateName = 'selected'), t;
    }
    return (
      (r.prototype.selected = function () {
        this.setState();
      }),
      r
    );
  })(Wh),
  jO = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.stateName = 'selected'), t;
    }
    return (
      (r.prototype.selected = function () {
        this.setState();
      }),
      r
    );
  })(_h),
  Hi = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.stateName = ''), (t.ignoreItemStates = []), t;
    }
    return (
      (r.prototype.getTriggerListInfo = function () {
        var t = Pi(this.context),
          i = null;
        return Pa(t) && (i = { item: t.item, list: t.component }), i;
      }),
      (r.prototype.getAllowComponents = function () {
        var t = this,
          i = this.context.view,
          n = Lm(i),
          a = [];
        return (
          A(n, function (o) {
            o.isList() && t.allowSetStateByElement(o) && a.push(o);
          }),
          a
        );
      }),
      (r.prototype.hasState = function (t, i) {
        return t.hasState(i, this.stateName);
      }),
      (r.prototype.clearAllComponentsState = function () {
        var t = this,
          i = this.getAllowComponents();
        A(i, function (n) {
          n.clearItemsState(t.stateName);
        });
      }),
      (r.prototype.allowSetStateByElement = function (t) {
        var i = t.get('field');
        if (!i) return !1;
        if (this.cfg && this.cfg.componentNames) {
          var n = t.get('name');
          if (this.cfg.componentNames.indexOf(n) === -1) return !1;
        }
        var a = this.context.view,
          o = gn(a, i);
        return o && o.isCategory;
      }),
      (r.prototype.allowSetStateByItem = function (t, i) {
        var n = this.ignoreItemStates;
        if (n.length) {
          var a = n.filter(function (o) {
            return i.hasState(t, o);
          });
          return a.length === 0;
        }
        return !0;
      }),
      (r.prototype.setStateByElement = function (t, i, n) {
        var a = t.get('field'),
          o = this.context.view,
          s = gn(o, a),
          l = je(i, a),
          u = s.getText(l);
        this.setItemsState(t, u, n);
      }),
      (r.prototype.setStateEnable = function (t) {
        var i = this,
          n = Zr(this.context);
        if (n) {
          var a = this.getAllowComponents();
          A(a, function (u) {
            i.setStateByElement(u, n, t);
          });
        } else {
          var o = Pi(this.context);
          if (Pa(o)) {
            var s = o.item,
              l = o.component;
            this.allowSetStateByElement(l) &&
              this.allowSetStateByItem(s, l) &&
              this.setItemState(l, s, t);
          }
        }
      }),
      (r.prototype.setItemsState = function (t, i, n) {
        var a = this,
          o = t.getItems();
        A(o, function (s) {
          s.name === i && a.setItemState(t, s, n);
        });
      }),
      (r.prototype.setItemState = function (t, i, n) {
        t.setItemState(i, this.stateName, n);
      }),
      (r.prototype.setState = function () {
        this.setStateEnable(!0);
      }),
      (r.prototype.reset = function () {
        this.setStateEnable(!1);
      }),
      (r.prototype.toggle = function () {
        var t = this.getTriggerListInfo();
        if (t && t.item) {
          var i = t.list,
            n = t.item,
            a = this.hasState(i, n);
          this.setItemState(i, n, !a);
        }
      }),
      (r.prototype.clear = function () {
        var t = this.getTriggerListInfo();
        t ? t.list.clearItemsState(this.stateName) : this.clearAllComponentsState();
      }),
      r
    );
  })(Ft),
  UO = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.stateName = 'active'), t;
    }
    return (
      (r.prototype.active = function () {
        this.setState();
      }),
      r
    );
  })(Hi),
  cp = 'inactive',
  hp = 'active';
function qO(e) {
  var r = e.getItems();
  A(r, function (t) {
    e.hasState(t, hp) && e.setItemState(t, hp, !1), e.hasState(t, cp) && e.setItemState(t, cp, !1);
  });
}
var qn = 'inactive',
  ui = 'active',
  qh = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.stateName = ui), (t.ignoreItemStates = ['unchecked']), t;
    }
    return (
      (r.prototype.setItemsState = function (t, i, n) {
        this.setHighlightBy(
          t,
          function (a) {
            return a.name === i;
          },
          n,
        );
      }),
      (r.prototype.setItemState = function (t, i, n) {
        t.getItems(),
          this.setHighlightBy(
            t,
            function (a) {
              return a === i;
            },
            n,
          );
      }),
      (r.prototype.setHighlightBy = function (t, i, n) {
        var a = t.getItems();
        if (n)
          A(a, function (l) {
            i(l)
              ? (t.hasState(l, qn) && t.setItemState(l, qn, !1), t.setItemState(l, ui, !0))
              : t.hasState(l, ui) || t.setItemState(l, qn, !0);
          });
        else {
          var o = t.getItemsByState(ui),
            s = !0;
          A(o, function (l) {
            if (!i(l)) return (s = !1), !1;
          }),
            s
              ? this.clear()
              : A(a, function (l) {
                  i(l) &&
                    (t.hasState(l, ui) && t.setItemState(l, ui, !1), t.setItemState(l, qn, !0));
                });
        }
      }),
      (r.prototype.highlight = function () {
        this.setState();
      }),
      (r.prototype.clear = function () {
        var t = this.getTriggerListInfo();
        if (t) qO(t.list);
        else {
          var i = this.getAllowComponents();
          A(i, function (n) {
            n.clearItemsState(ui), n.clearItemsState(qn);
          });
        }
      }),
      r
    );
  })(Hi),
  ZO = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.stateName = 'selected'), t;
    }
    return (
      (r.prototype.selected = function () {
        this.setState();
      }),
      r
    );
  })(Hi),
  KO = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.stateName = 'unchecked'), t;
    }
    return (
      (r.prototype.unchecked = function () {
        this.setState();
      }),
      r
    );
  })(Hi),
  ji = 'unchecked',
  Ho = 'checked',
  QO = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.stateName = Ho), t;
    }
    return (
      (r.prototype.setItemState = function (t, i, n) {
        this.setCheckedBy(
          t,
          function (a) {
            return a === i;
          },
          n,
        );
      }),
      (r.prototype.setCheckedBy = function (t, i, n) {
        var a = t.getItems();
        n &&
          A(a, function (o) {
            i(o)
              ? (t.hasState(o, ji) && t.setItemState(o, ji, !1), t.setItemState(o, Ho, !0))
              : t.hasState(o, Ho) || t.setItemState(o, ji, !0);
          });
      }),
      (r.prototype.toggle = function () {
        var t = this.getTriggerListInfo();
        if (t && t.item) {
          var i = t.list,
            n = t.item,
            a = !Vs(i.getItems(), function (o) {
              return i.hasState(o, ji);
            });
          a || i.hasState(n, ji) ? this.setItemState(i, n, !0) : this.reset();
        }
      }),
      (r.prototype.checked = function () {
        this.setState();
      }),
      (r.prototype.reset = function () {
        var t = this.getAllowComponents();
        A(t, function (i) {
          i.clearItemsState(Ho), i.clearItemsState(ji);
        });
      }),
      r
    );
  })(Hi),
  Ui = 'unchecked',
  JO = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.toggle = function () {
        var t,
          i,
          n,
          a,
          o,
          s,
          l,
          u,
          c = this.getTriggerListInfo();
        if (c != null && c.item) {
          var h = c.list,
            f = c.item,
            v = h.getItems(),
            d = v.filter(function (T) {
              return !h.hasState(T, Ui);
            }),
            p = v.filter(function (T) {
              return h.hasState(T, Ui);
            }),
            g = d[0];
          if (v.length === d.length)
            try {
              for (var y = vt(v), m = y.next(); !m.done; m = y.next()) {
                var b = m.value;
                h.setItemState(b, Ui, b.id !== f.id);
              }
            } catch (T) {
              t = { error: T };
            } finally {
              try {
                m && !m.done && (i = y.return) && i.call(y);
              } finally {
                if (t) throw t.error;
              }
            }
          else if (v.length - p.length === 1)
            if (g.id === f.id)
              try {
                for (var w = vt(v), S = w.next(); !S.done; S = w.next()) {
                  var b = S.value;
                  h.setItemState(b, Ui, !1);
                }
              } catch (T) {
                n = { error: T };
              } finally {
                try {
                  S && !S.done && (a = w.return) && a.call(w);
                } finally {
                  if (n) throw n.error;
                }
              }
            else
              try {
                for (var C = vt(v), F = C.next(); !F.done; F = C.next()) {
                  var b = F.value;
                  h.setItemState(b, Ui, b.id !== f.id);
                }
              } catch (T) {
                o = { error: T };
              } finally {
                try {
                  F && !F.done && (s = C.return) && s.call(C);
                } finally {
                  if (o) throw o.error;
                }
              }
          else
            try {
              for (var E = vt(v), k = E.next(); !k.done; k = E.next()) {
                var b = k.value;
                h.setItemState(b, Ui, b.id !== f.id);
              }
            } catch (T) {
              l = { error: T };
            } finally {
              try {
                k && !k.done && (u = E.return) && u.call(E);
              } finally {
                if (l) throw l.error;
              }
            }
        }
      }),
      r
    );
  })(Hi),
  fp = 'showRadio',
  mu = 'legend-radio-tip',
  tP = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.timeStamp = 0), t;
    }
    return (
      (r.prototype.show = function () {
        var t = this.getTriggerListInfo();
        if (t != null && t.item) {
          var i = t.list,
            n = t.item;
          i.setItemState(n, fp, !0);
        }
      }),
      (r.prototype.hide = function () {
        var t = this.getTriggerListInfo();
        if (t != null && t.item) {
          var i = t.list,
            n = t.item;
          i.setItemState(n, fp, !1);
        }
      }),
      (r.prototype.destroy = function () {
        e.prototype.destroy.call(this), this.tooltip && this.tooltip.destroy();
      }),
      (r.prototype.showTip = function () {
        var t = this.context,
          i = t.event,
          n = this.timeStamp,
          a = +new Date(),
          o = this.context.event.target;
        if (a - n > 16 && o.get('name') === 'legend-item-radio') {
          var s = this.location,
            l = { x: i.x, y: i.y };
          (this.timeStamp = a), (this.location = l), (!s || !Bt(s, l)) && this.showTooltip(l);
        }
      }),
      (r.prototype.hideTip = function () {
        this.hideTooltip(), (this.location = null);
      }),
      (r.prototype.showTooltip = function (t) {
        var i = this.context,
          n = i.event,
          a = n.target;
        if (a && a.get('tip')) {
          this.tooltip || this.renderTooltip();
          var o = i.view.getCanvas().get('el').getBoundingClientRect(),
            s = o.x,
            l = o.y;
          this.tooltip.update(x(x({ title: a.get('tip') }, t), { x: t.x + s, y: t.y + l })),
            this.tooltip.show();
        }
      }),
      (r.prototype.hideTooltip = function () {
        this.tooltip && this.tooltip.hide();
      }),
      (r.prototype.renderTooltip = function () {
        var t,
          i =
            ((t = {}),
            (t[Cr] = {
              padding: '6px 8px',
              transform: 'translate(-50%, -80%)',
              background: 'rgba(0,0,0,0.75)',
              color: '#fff',
              'border-radius': '2px',
              'z-index': 100,
            }),
            (t[Ar] = {
              'font-size': '12px',
              'line-height': '14px',
              'margin-bottom': 0,
              'word-break': 'break-all',
            }),
            t);
        document.getElementById(mu) && document.body.removeChild(document.getElementById(mu));
        var n = new dl({
          parent: document.body,
          region: null,
          visible: !1,
          crosshairs: null,
          domStyles: i,
          containerId: mu,
        });
        n.init(), n.setCapture(!1), (this.tooltip = n);
      }),
      r
    );
  })(Hi),
  Zh = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (
        (t.maskShape = null),
        (t.points = []),
        (t.starting = !1),
        (t.moving = !1),
        (t.preMovePoint = null),
        (t.shapeType = 'path'),
        t
      );
    }
    return (
      (r.prototype.getCurrentPoint = function () {
        var t = this.context.event;
        return { x: t.x, y: t.y };
      }),
      (r.prototype.emitEvent = function (t) {
        var i = 'mask:'.concat(t),
          n = this.context.view,
          a = this.context.event;
        n.emit(i, {
          target: this.maskShape,
          shape: this.maskShape,
          points: this.points,
          x: a.x,
          y: a.y,
        });
      }),
      (r.prototype.createMask = function () {
        var t = this.context.view,
          i = this.getMaskAttrs(),
          n = t.foregroundGroup.addShape({
            type: this.shapeType,
            name: 'mask',
            draggable: !0,
            attrs: x({ fill: '#C5D4EB', opacity: 0.3 }, i),
          });
        return n;
      }),
      (r.prototype.getMaskPath = function () {
        return [];
      }),
      (r.prototype.show = function () {
        this.maskShape && (this.maskShape.show(), this.emitEvent('show'));
      }),
      (r.prototype.start = function (t) {
        (this.starting = !0),
          (this.moving = !1),
          (this.points = [this.getCurrentPoint()]),
          this.maskShape ||
            ((this.maskShape = this.createMask()), this.maskShape.set('capture', !1)),
          this.updateMask(t == null ? void 0 : t.maskStyle),
          this.emitEvent('start');
      }),
      (r.prototype.moveStart = function () {
        (this.moving = !0), (this.preMovePoint = this.getCurrentPoint());
      }),
      (r.prototype.move = function () {
        if (!(!this.moving || !this.maskShape)) {
          var t = this.getCurrentPoint(),
            i = this.preMovePoint,
            n = t.x - i.x,
            a = t.y - i.y,
            o = this.points;
          A(o, function (s) {
            (s.x += n), (s.y += a);
          }),
            this.updateMask(),
            this.emitEvent('change'),
            (this.preMovePoint = t);
        }
      }),
      (r.prototype.updateMask = function (t) {
        var i = _({}, this.getMaskAttrs(), t);
        this.maskShape.attr(i);
      }),
      (r.prototype.moveEnd = function () {
        (this.moving = !1), (this.preMovePoint = null);
      }),
      (r.prototype.end = function () {
        (this.starting = !1),
          this.emitEvent('end'),
          this.maskShape && this.maskShape.set('capture', !0);
      }),
      (r.prototype.hide = function () {
        this.maskShape && (this.maskShape.hide(), this.emitEvent('hide'));
      }),
      (r.prototype.resize = function () {
        this.starting &&
          this.maskShape &&
          (this.points.push(this.getCurrentPoint()), this.updateMask(), this.emitEvent('change'));
      }),
      (r.prototype.destroy = function () {
        (this.points = []),
          this.maskShape && this.maskShape.remove(),
          (this.maskShape = null),
          (this.preMovePoint = null),
          e.prototype.destroy.call(this);
      }),
      r
    );
  })(Ft),
  eP = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.shapeType = 'circle'), t;
    }
    return (
      (r.prototype.getMaskAttrs = function () {
        var t = this.points,
          i = Vt(this.points),
          n = 0,
          a = 0,
          o = 0;
        if (t.length) {
          var s = t[0];
          (n = bh(s, i) / 2), (a = (i.x + s.x) / 2), (o = (i.y + s.y) / 2);
        }
        return { x: a, y: o, r: n };
      }),
      r
    );
  })(Zh),
  D0 = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.shapeType = 'rect'), t;
    }
    return (
      (r.prototype.getRegion = function () {
        var t = this.points;
        return { start: Me(t), end: Vt(t) };
      }),
      (r.prototype.getMaskAttrs = function () {
        var t = this.getRegion(),
          i = t.start,
          n = t.end,
          a = Math.min(i.x, n.x),
          o = Math.min(i.y, n.y),
          s = Math.abs(n.x - i.x),
          l = Math.abs(n.y - i.y);
        return { x: a, y: o, width: s, height: l };
      }),
      r
    );
  })(Zh);
function vp(e) {
  (e.x = Mt(e.x, 0, 1)), (e.y = Mt(e.y, 0, 1));
}
var B0 = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.dim = 'x'), (t.inPlot = !0), t;
    }
    return (
      (r.prototype.getRegion = function () {
        var t = null,
          i = null,
          n = this.points,
          a = this.dim,
          o = this.context.view.getCoordinate(),
          s = o.invert(Me(n)),
          l = o.invert(Vt(n));
        return (
          this.inPlot && (vp(s), vp(l)),
          a === 'x'
            ? ((t = o.convert({ x: s.x, y: 0 })), (i = o.convert({ x: l.x, y: 1 })))
            : ((t = o.convert({ x: 0, y: s.y })), (i = o.convert({ x: 1, y: l.y }))),
          { start: t, end: i }
        );
      }),
      r
    );
  })(D0),
  R0 = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getMaskPath = function () {
        var t = this.points,
          i = [];
        return (
          t.length &&
            (A(t, function (n, a) {
              a === 0 ? i.push(['M', n.x, n.y]) : i.push(['L', n.x, n.y]);
            }),
            i.push(['L', t[0].x, t[0].y])),
          i
        );
      }),
      (r.prototype.getMaskAttrs = function () {
        return { path: this.getMaskPath() };
      }),
      (r.prototype.addPoint = function () {
        this.resize();
      }),
      r
    );
  })(Zh),
  rP = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getMaskPath = function () {
        var t = this.points;
        return bT(t, !0);
      }),
      r
    );
  })(R0),
  iP = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.setCursor = function (t) {
        var i = this.context.view;
        i.getCanvas().setCursor(t);
      }),
      (r.prototype.default = function () {
        this.setCursor('default');
      }),
      (r.prototype.pointer = function () {
        this.setCursor('pointer');
      }),
      (r.prototype.move = function () {
        this.setCursor('move');
      }),
      (r.prototype.crosshair = function () {
        this.setCursor('crosshair');
      }),
      (r.prototype.wait = function () {
        this.setCursor('wait');
      }),
      (r.prototype.help = function () {
        this.setCursor('help');
      }),
      (r.prototype.text = function () {
        this.setCursor('text');
      }),
      (r.prototype.eResize = function () {
        this.setCursor('e-resize');
      }),
      (r.prototype.wResize = function () {
        this.setCursor('w-resize');
      }),
      (r.prototype.nResize = function () {
        this.setCursor('n-resize');
      }),
      (r.prototype.sResize = function () {
        this.setCursor('s-resize');
      }),
      (r.prototype.neResize = function () {
        this.setCursor('ne-resize');
      }),
      (r.prototype.nwResize = function () {
        this.setCursor('nw-resize');
      }),
      (r.prototype.seResize = function () {
        this.setCursor('se-resize');
      }),
      (r.prototype.swResize = function () {
        this.setCursor('sw-resize');
      }),
      (r.prototype.nsResize = function () {
        this.setCursor('ns-resize');
      }),
      (r.prototype.ewResize = function () {
        this.setCursor('ew-resize');
      }),
      (r.prototype.zoomIn = function () {
        this.setCursor('zoom-in');
      }),
      (r.prototype.zoomOut = function () {
        this.setCursor('zoom-out');
      }),
      r
    );
  })(Ft),
  nP = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.filterView = function (t, i, n) {
        var a = this;
        t.getScaleByField(i) && t.filter(i, n),
          t.views &&
            t.views.length &&
            A(t.views, function (o) {
              a.filterView(o, i, n);
            });
      }),
      (r.prototype.filter = function () {
        var t = Pi(this.context);
        if (t) {
          var i = this.context.view,
            n = t.component,
            a = n.get('field');
          if (Pa(t)) {
            if (a) {
              var o = n.getItemsByState('unchecked'),
                s = gn(i, a),
                l = o.map(function (v) {
                  return v.name;
                });
              l.length
                ? this.filterView(i, a, function (v) {
                    var d = s.getText(v);
                    return !l.includes(d);
                  })
                : this.filterView(i, a, null),
                i.render(!0);
            }
          } else if (Tm(t)) {
            var u = n.getValue(),
              c = K(u, 2),
              h = c[0],
              f = c[1];
            this.filterView(i, a, function (v) {
              return v >= h && v <= f;
            }),
              i.render(!0);
          }
        }
      }),
      r
    );
  })(Ft);
function dp(e, r, t, i) {
  var n = Math.min(t[r], i[r]),
    a = Math.max(t[r], i[r]),
    o = K(e.range, 2),
    s = o[0],
    l = o[1];
  if ((n < s && (n = s), a > l && (a = l), n === l && a === l)) return null;
  var u = e.invert(n),
    c = e.invert(a);
  if (e.isCategory) {
    var h = e.values.indexOf(u),
      f = e.values.indexOf(c),
      v = e.values.slice(h, f + 1);
    return function (d) {
      return v.includes(d);
    };
  } else
    return function (d) {
      return d >= u && d <= c;
    };
}
var de;
(function (e) {
  (e.FILTER = 'brush-filter-processing'),
    (e.RESET = 'brush-filter-reset'),
    (e.BEFORE_FILTER = 'brush-filter:beforefilter'),
    (e.AFTER_FILTER = 'brush-filter:afterfilter'),
    (e.BEFORE_RESET = 'brush-filter:beforereset'),
    (e.AFTER_RESET = 'brush-filter:afterreset');
})(de || (de = {}));
var bl = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.dims = ['x', 'y']), (t.startPoint = null), (t.isStarted = !1), t;
    }
    return (
      (r.prototype.hasDim = function (t) {
        return this.dims.includes(t);
      }),
      (r.prototype.start = function () {
        var t = this.context;
        (this.isStarted = !0), (this.startPoint = t.getCurrentPoint());
      }),
      (r.prototype.filter = function () {
        var t, i;
        if (Da(this.context)) {
          var n = this.context.event.target,
            a = n.getCanvasBBox();
          (t = { x: a.x, y: a.y }), (i = { x: a.maxX, y: a.maxY });
        } else {
          if (!this.isStarted) return;
          (t = this.startPoint), (i = this.context.getCurrentPoint());
        }
        if (!(Math.abs(t.x - i.x) < 5 || Math.abs(t.x - i.y) < 5)) {
          var o = this.context,
            s = o.view,
            l = o.event,
            u = { view: s, event: l, dims: this.dims };
          s.emit(de.BEFORE_FILTER, Lt.fromData(s, de.BEFORE_FILTER, u));
          var c = s.getCoordinate(),
            h = c.invert(i),
            f = c.invert(t);
          if (this.hasDim('x')) {
            var v = s.getXScale(),
              d = dp(v, 'x', h, f);
            this.filterView(s, v.field, d);
          }
          if (this.hasDim('y')) {
            var p = s.getYScales()[0],
              d = dp(p, 'y', h, f);
            this.filterView(s, p.field, d);
          }
          this.reRender(s, { source: de.FILTER }),
            s.emit(de.AFTER_FILTER, Lt.fromData(s, de.AFTER_FILTER, u));
        }
      }),
      (r.prototype.end = function () {
        this.isStarted = !1;
      }),
      (r.prototype.reset = function () {
        var t = this.context.view;
        if (
          (t.emit(de.BEFORE_RESET, Lt.fromData(t, de.BEFORE_RESET, {})),
          (this.isStarted = !1),
          this.hasDim('x'))
        ) {
          var i = t.getXScale();
          this.filterView(t, i.field, null);
        }
        if (this.hasDim('y')) {
          var n = t.getYScales()[0];
          this.filterView(t, n.field, null);
        }
        this.reRender(t, { source: de.RESET }),
          t.emit(de.AFTER_RESET, Lt.fromData(t, de.AFTER_RESET, {}));
      }),
      (r.prototype.filterView = function (t, i, n) {
        t.filter(i, n);
      }),
      (r.prototype.reRender = function (t, i) {
        t.render(!0, i);
      }),
      r
    );
  })(Ft),
  Kh = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.filterView = function (t, i, n) {
        var a = nr(t);
        A(a, function (o) {
          o.filter(i, n);
        });
      }),
      (r.prototype.reRender = function (t) {
        var i = nr(t);
        A(i, function (n) {
          n.render(!0);
        });
      }),
      r
    );
  })(bl),
  aP = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.filter = function () {
        var t = Pi(this.context),
          i = this.context.view,
          n = Kt(i);
        if (Da(this.context)) {
          var a = xh(this.context, 10);
          a &&
            A(n, function (p) {
              a.includes(p) ? p.show() : p.hide();
            });
        } else if (t) {
          var o = t.component,
            s = o.get('field');
          if (Pa(t)) {
            if (s) {
              var l = o.getItemsByState('unchecked'),
                u = gn(i, s),
                c = l.map(function (p) {
                  return p.name;
                });
              A(n, function (p) {
                var g = je(p, s),
                  y = u.getText(g);
                c.indexOf(y) >= 0 ? p.hide() : p.show();
              });
            }
          } else if (Tm(t)) {
            var h = o.getValue(),
              f = K(h, 2),
              v = f[0],
              d = f[1];
            A(n, function (p) {
              var g = je(p, s);
              g >= v && g <= d ? p.show() : p.hide();
            });
          }
        }
      }),
      (r.prototype.clear = function () {
        var t = Kt(this.context.view);
        A(t, function (i) {
          i.show();
        });
      }),
      (r.prototype.reset = function () {
        this.clear();
      }),
      r
    );
  })(Ft),
  $0 = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.byRecord = !1), t;
    }
    return (
      (r.prototype.filter = function () {
        Da(this.context) && (this.byRecord ? this.filterByRecord() : this.filterByBBox());
      }),
      (r.prototype.filterByRecord = function () {
        var t = this.context.view,
          i = xh(this.context, 10);
        if (i) {
          var n = t.getXScale().field,
            a = t.getYScales()[0].field,
            o = i.map(function (l) {
              return l.getModel().data;
            }),
            s = nr(t);
          A(s, function (l) {
            var u = Kt(l);
            A(u, function (c) {
              var h = c.getModel().data;
              Om(o, h, n, a) ? c.show() : c.hide();
            });
          });
        }
      }),
      (r.prototype.filterByBBox = function () {
        var t = this,
          i = this.context.view,
          n = nr(i);
        A(n, function (a) {
          var o = km(t.context, a, 10),
            s = Kt(a);
          o &&
            A(s, function (l) {
              o.includes(l) ? l.show() : l.hide();
            });
        });
      }),
      (r.prototype.reset = function () {
        var t = nr(this.context.view);
        A(t, function (i) {
          var n = Kt(i);
          A(n, function (a) {
            a.show();
          });
        });
      }),
      r
    );
  })(Ft),
  oP = 10,
  sP = 5,
  lP = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (
        (t.buttonGroup = null),
        (t.buttonCfg = {
          name: 'button',
          text: 'button',
          textStyle: { x: 0, y: 0, fontSize: 12, fill: '#333333', cursor: 'pointer' },
          padding: [8, 10],
          style: { fill: '#f7f7f7', stroke: '#cccccc', cursor: 'pointer' },
          activeStyle: { fill: '#e6e6e6' },
        }),
        t
      );
    }
    return (
      (r.prototype.getButtonCfg = function () {
        return _(this.buttonCfg, this.cfg);
      }),
      (r.prototype.drawButton = function () {
        var t = this.getButtonCfg(),
          i = this.context.view.foregroundGroup.addGroup({ name: t.name }),
          n = i.addShape({
            type: 'text',
            name: 'button-text',
            attrs: x({ text: t.text }, t.textStyle),
          }),
          a = n.getBBox(),
          o = Ch(t.padding),
          s = i.addShape({
            type: 'rect',
            name: 'button-rect',
            attrs: x(
              {
                x: a.x - o[3],
                y: a.y - o[0],
                width: a.width + o[1] + o[3],
                height: a.height + o[0] + o[2],
              },
              t.style,
            ),
          });
        s.toBack(),
          i.on('mouseenter', function () {
            s.attr(t.activeStyle);
          }),
          i.on('mouseleave', function () {
            s.attr(t.style);
          }),
          (this.buttonGroup = i);
      }),
      (r.prototype.resetPosition = function () {
        var t = this.context.view,
          i = t.getCoordinate(),
          n = i.convert({ x: 1, y: 1 }),
          a = this.buttonGroup,
          o = a.getBBox(),
          s = Ht(null, [['t', n.x - o.width - oP, n.y + o.height + sP]]);
        a.setMatrix(s);
      }),
      (r.prototype.show = function () {
        this.buttonGroup || this.drawButton(), this.resetPosition(), this.buttonGroup.show();
      }),
      (r.prototype.hide = function () {
        this.buttonGroup && this.buttonGroup.hide();
      }),
      (r.prototype.destroy = function () {
        var t = this.buttonGroup;
        t && t.remove(), e.prototype.destroy.call(this);
      }),
      r
    );
  })(Ft),
  uP = 4,
  cP = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.starting = !1), (t.dragStart = !1), t;
    }
    return (
      (r.prototype.start = function () {
        (this.starting = !0), (this.startPoint = this.context.getCurrentPoint());
      }),
      (r.prototype.drag = function () {
        if (this.startPoint) {
          var t = this.context.getCurrentPoint(),
            i = this.context.view,
            n = this.context.event;
          this.dragStart
            ? i.emit('drag', { target: n.target, x: n.x, y: n.y })
            : bh(t, this.startPoint) > uP &&
              (i.emit('dragstart', { target: n.target, x: n.x, y: n.y }), (this.dragStart = !0));
        }
      }),
      (r.prototype.end = function () {
        if (this.dragStart) {
          var t = this.context.view,
            i = this.context.event;
          t.emit('dragend', { target: i.target, x: i.x, y: i.y });
        }
        (this.starting = !1), (this.dragStart = !1);
      }),
      r
    );
  })(Ft),
  hP = 5,
  fP = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.starting = !1), (t.isMoving = !1), (t.startPoint = null), (t.startMatrix = null), t;
    }
    return (
      (r.prototype.start = function () {
        (this.starting = !0),
          (this.startPoint = this.context.getCurrentPoint()),
          (this.startMatrix = this.context.view.middleGroup.getMatrix());
      }),
      (r.prototype.move = function () {
        if (this.starting) {
          var t = this.startPoint,
            i = this.context.getCurrentPoint(),
            n = bh(t, i);
          if ((n > hP && !this.isMoving && (this.isMoving = !0), this.isMoving)) {
            var a = this.context.view,
              o = Ht(this.startMatrix, [['t', i.x - t.x, i.y - t.y]]);
            a.backgroundGroup.setMatrix(o),
              a.foregroundGroup.setMatrix(o),
              a.middleGroup.setMatrix(o);
          }
        }
      }),
      (r.prototype.end = function () {
        this.isMoving && (this.isMoving = !1),
          (this.startMatrix = null),
          (this.starting = !1),
          (this.startPoint = null);
      }),
      (r.prototype.reset = function () {
        (this.starting = !1), (this.startPoint = null), (this.isMoving = !1);
        var t = this.context.view;
        t.backgroundGroup.resetMatrix(),
          t.foregroundGroup.resetMatrix(),
          t.middleGroup.resetMatrix(),
          (this.isMoving = !1);
      }),
      r
    );
  })(Ft),
  pp = 'x',
  gp = 'y',
  N0 = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.dims = [pp, gp]), (t.cfgFields = ['dims']), (t.cacheScaleDefs = {}), t;
    }
    return (
      (r.prototype.hasDim = function (t) {
        return this.dims.includes(t);
      }),
      (r.prototype.getScale = function (t) {
        var i = this.context.view;
        return t === 'x' ? i.getXScale() : i.getYScales()[0];
      }),
      (r.prototype.resetDim = function (t) {
        var i = this.context.view;
        if (this.hasDim(t) && this.cacheScaleDefs[t]) {
          var n = this.getScale(t);
          i.scale(n.field, this.cacheScaleDefs[t]), (this.cacheScaleDefs[t] = null);
        }
      }),
      (r.prototype.reset = function () {
        this.resetDim(pp), this.resetDim(gp);
        var t = this.context.view;
        t.render(!0);
      }),
      r
    );
  })(Ft),
  vP = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.startPoint = null), (t.starting = !1), (t.startCache = {}), t;
    }
    return (
      (r.prototype.start = function () {
        var t = this;
        (this.startPoint = this.context.getCurrentPoint()), (this.starting = !0);
        var i = this.dims;
        A(i, function (n) {
          var a = t.getScale(n),
            o = a.min,
            s = a.max,
            l = a.values;
          t.startCache[n] = { min: o, max: s, values: l };
        });
      }),
      (r.prototype.end = function () {
        (this.startPoint = null), (this.starting = !1), (this.startCache = {});
      }),
      (r.prototype.translate = function () {
        var t = this;
        if (this.starting) {
          var i = this.startPoint,
            n = this.context.view.getCoordinate(),
            a = this.context.getCurrentPoint(),
            o = n.invert(i),
            s = n.invert(a),
            l = s.x - o.x,
            u = s.y - o.y,
            c = this.context.view,
            h = this.dims;
          A(h, function (f) {
            t.translateDim(f, { x: l * -1, y: u * -1 });
          }),
            c.render(!0);
        }
      }),
      (r.prototype.translateDim = function (t, i) {
        if (this.hasDim(t)) {
          var n = this.getScale(t);
          n.isLinear && this.translateLinear(t, n, i);
        }
      }),
      (r.prototype.translateLinear = function (t, i, n) {
        var a = this.context.view,
          o = this.startCache[t],
          s = o.min,
          l = o.max,
          u = l - s,
          c = n[t] * u;
        this.cacheScaleDefs[t] || (this.cacheScaleDefs[t] = { nice: i.nice, min: s, max: l }),
          a.scale(i.field, { nice: !1, min: s + c, max: l + c });
      }),
      (r.prototype.reset = function () {
        e.prototype.reset.call(this), (this.startPoint = null), (this.starting = !1);
      }),
      r
    );
  })(N0),
  dP = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.zoomRatio = 0.05), t;
    }
    return (
      (r.prototype.zoomIn = function () {
        this.zoom(this.zoomRatio);
      }),
      (r.prototype.zoom = function (t) {
        var i = this,
          n = this.dims;
        A(n, function (a) {
          i.zoomDim(a, t);
        }),
          this.context.view.render(!0);
      }),
      (r.prototype.zoomOut = function () {
        this.zoom(-1 * this.zoomRatio);
      }),
      (r.prototype.zoomDim = function (t, i) {
        if (this.hasDim(t)) {
          var n = this.getScale(t);
          n.isLinear && this.zoomLinear(t, n, i);
        }
      }),
      (r.prototype.zoomLinear = function (t, i, n) {
        var a = this.context.view;
        this.cacheScaleDefs[t] ||
          (this.cacheScaleDefs[t] = { nice: i.nice, min: i.min, max: i.max });
        var o = this.cacheScaleDefs[t],
          s = o.max - o.min,
          l = i.min,
          u = i.max,
          c = n * s,
          h = l - c,
          f = u + c,
          v = f - h,
          d = v / s;
        f > h && d < 100 && d > 0.01 && a.scale(i.field, { nice: !1, min: l - c, max: u + c });
      }),
      r
    );
  })(N0);
function pP(e) {
  var r = e.gEvent.originalEvent;
  return r.deltaY > 0;
}
var gP = 1,
  yP = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.scroll = function (t) {
        var i = this.context,
          n = i.view,
          a = i.event;
        if (n.getOptions().scrollbar) {
          var o = (t == null ? void 0 : t.wheelDelta) || gP,
            s = n.getController('scrollbar'),
            l = n.getXScale(),
            u = n.getOptions().data,
            c = Xt(_e(u, l.field)),
            h = Xt(l.values),
            f = s.getValue(),
            v = Math.floor((c - h) * f),
            d = v + (pP(a) ? o : -o),
            p = o / (c - h) / 1e4,
            g = Mt(d / (c - h) + p, 0, 1);
          s.setValue(g);
        }
      }),
      r
    );
  })(Ft),
  mP = 'aixs-description-tooltip',
  xP = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.show = function () {
        var t = this.context,
          i = Pi(t).axis,
          n = i.cfg.title,
          a = n.description,
          o = n.text,
          s = n.descriptionTooltipStyle,
          l = t.event,
          u = l.x,
          c = l.y;
        this.tooltip || this.renderTooltip(),
          this.tooltip.update({
            title: o || '',
            customContent: function () {
              return `
          <div class="`
                .concat(Cr, '" style={')
                .concat(
                  s,
                  `}>
            <div class="`,
                )
                .concat(
                  Ar,
                  `">
              `,
                )
                .concat(
                  a,
                  `
            </div>
          </div>
        `,
                );
            },
            x: u,
            y: c,
          }),
          this.tooltip.show();
      }),
      (r.prototype.destroy = function () {
        e.prototype.destroy.call(this), this.tooltip && this.tooltip.destroy();
      }),
      (r.prototype.hide = function () {
        this.tooltip && this.tooltip.hide();
      }),
      (r.prototype.renderTooltip = function () {
        var t,
          i = this.context.view,
          n = i.canvas,
          a = { start: { x: 0, y: 0 }, end: { x: n.get('width'), y: n.get('height') } },
          o = new dl({
            parent: n.get('el').parentNode,
            region: a,
            visible: !1,
            containerId: mP,
            domStyles: x(
              {},
              _(
                {},
                ((t = {}),
                (t[Cr] = {
                  'max-width': '50%',
                  padding: '10px',
                  'line-height': '15px',
                  'font-size': '12px',
                  color: 'rgba(0, 0, 0, .65)',
                }),
                (t[Ar] = { 'word-break': 'break-all', 'margin-bottom': '3px' }),
                t),
              ),
            ),
          });
        o.init(), o.setCapture(!1), (this.tooltip = o);
      }),
      r
    );
  })(Ft);
DT('dark', Dm(bk));
Ng('canvas', nI);
Ng('svg', $I);
ur('Polygon', KI);
ur('Interval', _I);
ur('Schema', QI);
ur('Path', Rh);
ur('Point', qI);
ur('Line', jI);
ur('Area', zI);
ur('Edge', GI);
ur('Heatmap', HI);
ur('Violin', tL);
Ja('base', ml);
Ja('interval', gL);
Ja('pie', yL);
Ja('polar', F0);
Se('overlap', LL);
Se('distribute', xL);
Se('fixed-overlap', IL);
Se('hide-overlap', HL);
Se('limit-in-shape', FL);
Se('limit-in-canvas', ML);
Se('limit-in-plot', nO);
Se('pie-outer', bL);
Se('adjust-color', YL);
Se('interval-adjust-position', jL);
Se('interval-hide-overlap', qL);
Se('point-adjust-position', QL);
Se('pie-spider', AL);
Se('path-adjust-position', eO);
ke('fade-in', aO);
ke('fade-out', oO);
ke('grow-in-x', lO);
ke('grow-in-xy', cO);
ke('grow-in-y', uO);
ke('scale-in-x', vO);
ke('scale-in-y', dO);
ke('wave-in', gO);
ke('zoom-in', yO);
ke('zoom-out', mO);
ke('position-update', fO);
ke('sector-path-update', pO);
ke('path-in', hO);
On('rect', CO);
On('mirror', SO);
On('list', wO);
On('matrix', bO);
On('circle', xO);
On('tree', AO);
Gi('axis', EO);
Gi('legend', TO);
Gi('tooltip', zm);
Gi('annotation', FO);
Gi('slider', kO);
Gi('scrollbar', OO);
tt('tooltip', L0);
tt('sibling-tooltip', RO);
tt('ellipsis-text', $O);
tt('element-active', NO);
tt('element-single-active', HO);
tt('element-range-active', GO);
tt('element-highlight', Uh);
tt('element-highlight-by-x', YO);
tt('element-highlight-by-color', VO);
tt('element-single-highlight', WO);
tt('element-range-highlight', P0);
tt('element-sibling-highlight', P0, { effectSiblings: !0, effectByRecord: !0 });
tt('element-selected', _O);
tt('element-single-selected', jO);
tt('element-range-selected', XO);
tt('element-link-by-color', zO);
tt('active-region', BO);
tt('list-active', UO);
tt('list-selected', ZO);
tt('list-highlight', qh);
tt('list-unchecked', KO);
tt('list-checked', QO);
tt('list-focus', JO);
tt('list-radio', tP);
tt('legend-item-highlight', qh, { componentNames: ['legend'] });
tt('axis-label-highlight', qh, { componentNames: ['axis'] });
tt('axis-description', xP);
tt('rect-mask', D0);
tt('x-rect-mask', B0, { dim: 'x' });
tt('y-rect-mask', B0, { dim: 'y' });
tt('circle-mask', eP);
tt('path-mask', R0);
tt('smooth-path-mask', rP);
tt('cursor', iP);
tt('data-filter', nP);
tt('brush', bl);
tt('brush-x', bl, { dims: ['x'] });
tt('brush-y', bl, { dims: ['y'] });
tt('sibling-filter', Kh);
tt('sibling-x-filter', Kh);
tt('sibling-y-filter', Kh);
tt('element-filter', aP);
tt('element-sibling-filter', $0);
tt('element-sibling-filter-record', $0, { byRecord: !0 });
tt('view-drag', cP);
tt('view-move', fP);
tt('scale-translate', vP);
tt('scale-zoom', dP);
tt('reset-button', lP, { name: 'reset-button', text: 'reset' });
tt('mousewheel-scroll', yP);
function Xr(e) {
  return e.isInPlot();
}
nt('tooltip', {
  start: [
    {
      trigger: 'plot:mousemove',
      action: 'tooltip:show',
      throttle: { wait: 50, leading: !0, trailing: !1 },
    },
    {
      trigger: 'plot:touchmove',
      action: 'tooltip:show',
      throttle: { wait: 50, leading: !0, trailing: !1 },
    },
  ],
  end: [
    { trigger: 'plot:mouseleave', action: 'tooltip:hide' },
    { trigger: 'plot:leave', action: 'tooltip:hide' },
    { trigger: 'plot:touchend', action: 'tooltip:hide' },
  ],
});
nt('ellipsis-text', {
  start: [
    {
      trigger: 'legend-item-name:mousemove',
      action: 'ellipsis-text:show',
      throttle: { wait: 50, leading: !0, trailing: !1 },
    },
    {
      trigger: 'legend-item-name:touchstart',
      action: 'ellipsis-text:show',
      throttle: { wait: 50, leading: !0, trailing: !1 },
    },
    {
      trigger: 'axis-label:mousemove',
      action: 'ellipsis-text:show',
      throttle: { wait: 50, leading: !0, trailing: !1 },
    },
    {
      trigger: 'axis-label:touchstart',
      action: 'ellipsis-text:show',
      throttle: { wait: 50, leading: !0, trailing: !1 },
    },
  ],
  end: [
    { trigger: 'legend-item-name:mouseleave', action: 'ellipsis-text:hide' },
    { trigger: 'legend-item-name:touchend', action: 'ellipsis-text:hide' },
    { trigger: 'axis-label:mouseleave', action: 'ellipsis-text:hide' },
    { trigger: 'axis-label:mouseout', action: 'ellipsis-text:hide' },
    { trigger: 'axis-label:touchend', action: 'ellipsis-text:hide' },
  ],
});
nt('element-active', {
  start: [{ trigger: 'element:mouseenter', action: 'element-active:active' }],
  end: [{ trigger: 'element:mouseleave', action: 'element-active:reset' }],
});
nt('element-selected', {
  start: [{ trigger: 'element:click', action: 'element-selected:toggle' }],
});
nt('element-highlight', {
  start: [{ trigger: 'element:mouseenter', action: 'element-highlight:highlight' }],
  end: [{ trigger: 'element:mouseleave', action: 'element-highlight:reset' }],
});
nt('element-highlight-by-x', {
  start: [{ trigger: 'element:mouseenter', action: 'element-highlight-by-x:highlight' }],
  end: [{ trigger: 'element:mouseleave', action: 'element-highlight-by-x:reset' }],
});
nt('element-highlight-by-color', {
  start: [{ trigger: 'element:mouseenter', action: 'element-highlight-by-color:highlight' }],
  end: [{ trigger: 'element:mouseleave', action: 'element-highlight-by-color:reset' }],
});
nt('legend-active', {
  start: [
    { trigger: 'legend-item:mouseenter', action: ['list-active:active', 'element-active:active'] },
  ],
  end: [
    { trigger: 'legend-item:mouseleave', action: ['list-active:reset', 'element-active:reset'] },
  ],
});
nt('legend-highlight', {
  start: [
    {
      trigger: 'legend-item:mouseenter',
      action: ['legend-item-highlight:highlight', 'element-highlight:highlight'],
    },
  ],
  end: [
    {
      trigger: 'legend-item:mouseleave',
      action: ['legend-item-highlight:reset', 'element-highlight:reset'],
    },
  ],
});
nt('axis-label-highlight', {
  start: [
    {
      trigger: 'axis-label:mouseenter',
      action: ['axis-label-highlight:highlight', 'element-highlight:highlight'],
    },
  ],
  end: [
    {
      trigger: 'axis-label:mouseleave',
      action: ['axis-label-highlight:reset', 'element-highlight:reset'],
    },
  ],
});
nt('element-list-highlight', {
  start: [
    {
      trigger: 'element:mouseenter',
      action: ['list-highlight:highlight', 'element-highlight:highlight'],
    },
  ],
  end: [
    { trigger: 'element:mouseleave', action: ['list-highlight:reset', 'element-highlight:reset'] },
  ],
});
nt('element-range-highlight', {
  showEnable: [
    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },
    { trigger: 'mask:mouseenter', action: 'cursor:move' },
    { trigger: 'plot:mouseleave', action: 'cursor:default' },
    { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },
  ],
  start: [
    {
      trigger: 'plot:mousedown',
      isEnable: function (e) {
        return !e.isInShape('mask');
      },
      action: ['rect-mask:start', 'rect-mask:show'],
    },
    { trigger: 'mask:dragstart', action: ['rect-mask:moveStart'] },
  ],
  processing: [
    { trigger: 'plot:mousemove', action: ['rect-mask:resize'] },
    { trigger: 'mask:drag', action: ['rect-mask:move'] },
    { trigger: 'mask:change', action: ['element-range-highlight:highlight'] },
  ],
  end: [
    { trigger: 'plot:mouseup', action: ['rect-mask:end'] },
    { trigger: 'mask:dragend', action: ['rect-mask:moveEnd'] },
    {
      trigger: 'document:mouseup',
      isEnable: function (e) {
        return !e.isInPlot();
      },
      action: ['element-range-highlight:clear', 'rect-mask:end', 'rect-mask:hide'],
    },
  ],
  rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', 'rect-mask:hide'] }],
});
nt('brush', {
  showEnable: [
    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },
    { trigger: 'plot:mouseleave', action: 'cursor:default' },
  ],
  start: [
    {
      trigger: 'mousedown',
      isEnable: Xr,
      action: ['brush:start', 'rect-mask:start', 'rect-mask:show'],
    },
  ],
  processing: [{ trigger: 'mousemove', isEnable: Xr, action: ['rect-mask:resize'] }],
  end: [
    {
      trigger: 'mouseup',
      isEnable: Xr,
      action: ['brush:filter', 'brush:end', 'rect-mask:end', 'rect-mask:hide', 'reset-button:show'],
    },
  ],
  rollback: [
    {
      trigger: 'reset-button:click',
      action: ['brush:reset', 'reset-button:hide', 'cursor:crosshair'],
    },
  ],
});
nt('brush-visible', {
  showEnable: [
    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },
    { trigger: 'plot:mouseleave', action: 'cursor:default' },
  ],
  start: [{ trigger: 'plot:mousedown', action: ['rect-mask:start', 'rect-mask:show'] }],
  processing: [
    { trigger: 'plot:mousemove', action: ['rect-mask:resize'] },
    { trigger: 'mask:change', action: ['element-range-highlight:highlight'] },
  ],
  end: [
    {
      trigger: 'plot:mouseup',
      action: [
        'rect-mask:end',
        'rect-mask:hide',
        'element-filter:filter',
        'element-range-highlight:clear',
      ],
    },
  ],
  rollback: [{ trigger: 'dblclick', action: ['element-filter:clear'] }],
});
nt('brush-x', {
  showEnable: [
    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },
    { trigger: 'plot:mouseleave', action: 'cursor:default' },
  ],
  start: [
    {
      trigger: 'mousedown',
      isEnable: Xr,
      action: ['brush-x:start', 'x-rect-mask:start', 'x-rect-mask:show'],
    },
  ],
  processing: [{ trigger: 'mousemove', isEnable: Xr, action: ['x-rect-mask:resize'] }],
  end: [
    {
      trigger: 'mouseup',
      isEnable: Xr,
      action: ['brush-x:filter', 'brush-x:end', 'x-rect-mask:end', 'x-rect-mask:hide'],
    },
  ],
  rollback: [{ trigger: 'dblclick', action: ['brush-x:reset'] }],
});
nt('element-path-highlight', {
  showEnable: [
    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },
    { trigger: 'plot:mouseleave', action: 'cursor:default' },
  ],
  start: [
    { trigger: 'mousedown', isEnable: Xr, action: 'path-mask:start' },
    { trigger: 'mousedown', isEnable: Xr, action: 'path-mask:show' },
  ],
  processing: [{ trigger: 'mousemove', action: 'path-mask:addPoint' }],
  end: [{ trigger: 'mouseup', action: 'path-mask:end' }],
  rollback: [{ trigger: 'dblclick', action: 'path-mask:hide' }],
});
nt('element-single-selected', {
  start: [{ trigger: 'element:click', action: 'element-single-selected:toggle' }],
});
nt('legend-filter', {
  showEnable: [
    { trigger: 'legend-item:mouseenter', action: ['cursor:pointer', 'list-radio:show'] },
    { trigger: 'legend-item:mouseleave', action: ['cursor:default', 'list-radio:hide'] },
  ],
  start: [
    {
      trigger: 'legend-item:click',
      isEnable: function (e) {
        return !e.isInShape('legend-item-radio');
      },
      action: [
        'legend-item-highlight:reset',
        'element-highlight:reset',
        'list-unchecked:toggle',
        'data-filter:filter',
        'list-radio:show',
      ],
    },
    { trigger: 'legend-item-radio:mouseenter', action: ['list-radio:showTip'] },
    { trigger: 'legend-item-radio:mouseleave', action: ['list-radio:hideTip'] },
    {
      trigger: 'legend-item-radio:click',
      action: ['list-focus:toggle', 'data-filter:filter', 'list-radio:show'],
    },
  ],
});
nt('continuous-filter', {
  start: [{ trigger: 'legend:valuechanged', action: 'data-filter:filter' }],
});
nt('continuous-visible-filter', {
  start: [{ trigger: 'legend:valuechanged', action: 'element-filter:filter' }],
});
nt('legend-visible-filter', {
  showEnable: [
    { trigger: 'legend-item:mouseenter', action: 'cursor:pointer' },
    { trigger: 'legend-item:mouseleave', action: 'cursor:default' },
  ],
  start: [
    {
      trigger: 'legend-item:click',
      action: [
        'legend-item-highlight:reset',
        'element-highlight:reset',
        'list-unchecked:toggle',
        'element-filter:filter',
      ],
    },
  ],
});
nt('active-region', {
  start: [{ trigger: 'plot:mousemove', action: 'active-region:show' }],
  end: [{ trigger: 'plot:mouseleave', action: 'active-region:hide' }],
});
nt('axis-description', {
  start: [{ trigger: 'axis-description:mousemove', action: 'axis-description:show' }],
  end: [{ trigger: 'axis-description:mouseleave', action: 'axis-description:hide' }],
});
function yp(e) {
  return e.gEvent.preventDefault(), e.gEvent.originalEvent.deltaY > 0;
}
nt('view-zoom', {
  start: [
    {
      trigger: 'plot:mousewheel',
      isEnable: function (e) {
        return yp(e.event);
      },
      action: 'scale-zoom:zoomOut',
      throttle: { wait: 100, leading: !0, trailing: !1 },
    },
    {
      trigger: 'plot:mousewheel',
      isEnable: function (e) {
        return !yp(e.event);
      },
      action: 'scale-zoom:zoomIn',
      throttle: { wait: 100, leading: !0, trailing: !1 },
    },
  ],
});
nt('sibling-tooltip', {
  start: [{ trigger: 'plot:mousemove', action: 'sibling-tooltip:show' }],
  end: [{ trigger: 'plot:mouseleave', action: 'sibling-tooltip:hide' }],
});
nt('plot-mousewheel-scroll', {
  start: [{ trigger: 'plot:mousewheel', action: 'mousewheel-scroll:scroll' }],
});
var me = [
    'type',
    'alias',
    'tickCount',
    'tickInterval',
    'min',
    'max',
    'nice',
    'minLimit',
    'maxLimit',
    'range',
    'tickMethod',
    'base',
    'exponent',
    'mask',
    'sync',
  ],
  Ue;
(function (e) {
  (e.ERROR = 'error'), (e.WARN = 'warn'), (e.INFO = 'log');
})(Ue || (Ue = {}));
var wP = 'AntV/G2Plot';
function bP(e) {
  for (var r = [], t = 1; t < arguments.length; t++) r[t - 1] = arguments[t];
  var i = 0;
  return (
    wP +
    ': ' +
    e.replace(/%s/g, function () {
      return '' + r[i++];
    })
  );
}
function Fr(e, r, t) {
  for (var i = [], n = 3; n < arguments.length; n++) i[n - 3] = arguments[n];
  r || console[e](bP.apply(void 0, Ct([t], i)));
}
function gt(e, r) {
  var t = {};
  return (
    e !== null &&
      typeof e == 'object' &&
      r.forEach(function (i) {
        var n = e[i];
        n !== void 0 && (t[i] = n);
      }),
    t
  );
}
function Qh(e, r) {
  if (!e) return {};
  var t = e.filter(function (a) {
      var o = M(a, [r]);
      return it(o) && !isNaN(o);
    }),
    i = t.every(function (a) {
      return M(a, [r]) >= 0;
    }),
    n = t.every(function (a) {
      return M(a, [r]) <= 0;
    });
  return i ? { min: 0 } : n ? { max: 0 } : {};
}
function z0(e, r, t, i, n) {
  if ((n === void 0 && (n = []), !Array.isArray(e))) return { nodes: [], links: [] };
  var a = [],
    o = {},
    s = -1;
  return (
    e.forEach(function (l) {
      var u = l[r],
        c = l[t],
        h = l[i],
        f = gt(l, n);
      o[u] || (o[u] = x({ id: ++s, name: u }, f)),
        o[c] || (o[c] = x({ id: ++s, name: c }, f)),
        a.push(x({ source: o[u].id, target: o[c].id, value: h }, f));
    }),
    {
      nodes: Object.values(o).sort(function (l, u) {
        return l.id - u.id;
      }),
      links: a,
    }
  );
}
function xn(e, r) {
  var t = Qt(e, function (i) {
    var n = i[r];
    return n === null || (typeof n == 'number' && !isNaN(n));
  });
  return Fr(Ue.WARN, t.length === e.length, 'illegal data existed in chart data.'), t;
}
var SP = 5,
  CP = {}.toString,
  G0 = function (e, r) {
    return CP.call(e) === '[object ' + r + ']';
  },
  AP = function (e) {
    return G0(e, 'Array');
  },
  MP = function (e) {
    return typeof e == 'object' && e !== null;
  },
  mp = function (e) {
    if (!MP(e) || !G0(e, 'Object')) return !1;
    for (var r = e; Object.getPrototypeOf(r) !== null; ) r = Object.getPrototypeOf(r);
    return Object.getPrototypeOf(e) === r;
  },
  H0 = function (e, r, t, i) {
    (t = t || 0), (i = i || SP);
    for (var n in r)
      if (Object.prototype.hasOwnProperty.call(r, n)) {
        var a = r[n];
        a
          ? mp(a)
            ? (mp(e[n]) || (e[n] = {}), t < i ? H0(e[n], a, t + 1, i) : (e[n] = r[n]))
            : AP(a)
            ? ((e[n] = []), (e[n] = e[n].concat(a)))
            : (e[n] = a)
          : (e[n] = a);
      }
  },
  B = function (e) {
    for (var r = [], t = 1; t < arguments.length; t++) r[t - 1] = arguments[t];
    for (var i = 0; i < r.length; i += 1) H0(e, r[i]);
    return e;
  };
function bc(e) {
  if (!e) return { width: 0, height: 0 };
  var r = getComputedStyle(e);
  return {
    width:
      (e.clientWidth || parseInt(r.width, 10)) -
      parseInt(r.paddingLeft, 10) -
      parseInt(r.paddingRight, 10),
    height:
      (e.clientHeight || parseInt(r.height, 10)) -
      parseInt(r.paddingTop, 10) -
      parseInt(r.paddingBottom, 10),
  };
}
function rt() {
  for (var e = [], r = 0; r < arguments.length; r++) e[r] = arguments[r];
  return function (t) {
    return e.reduce(function (i, n) {
      return n(i);
    }, t);
  };
}
function ee(e, r) {
  return e.geometries.find(function (t) {
    return t.type === r;
  });
}
function Es(e) {
  return oe(
    e.geometries,
    function (r, t) {
      return r.concat(t.elements);
    },
    [],
  );
}
function $a(e) {
  return M(e, ['views', 'length'], 0) <= 0
    ? Es(e)
    : oe(
        e.views,
        function (r, t) {
          return r.concat($a(t));
        },
        Es(e),
      );
}
function FP(e) {
  return M(e, ['views', 'length'], 0) <= 0
    ? e.geometries
    : oe(
        e.views,
        function (r, t) {
          return r.concat(t.geometries);
        },
        e.geometries,
      );
}
function xp(e) {
  if (!e) return e;
  var r = e.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);
  return r
    .map(function (t) {
      return t.toLowerCase();
    })
    .join('-');
}
function _t(e) {
  if (!ri(e, 'Object')) return e;
  var r = x({}, e);
  return r.formatter && !r.content && (r.content = r.formatter), r;
}
var xu;
function EP() {
  return xu || (xu = document.createElement('canvas').getContext('2d')), xu;
}
kn(
  function (e, r) {
    r === void 0 && (r = {});
    var t = r.fontSize,
      i = r.fontFamily,
      n = i === void 0 ? 'sans-serif' : i,
      a = r.fontWeight,
      o = r.fontStyle,
      s = r.fontVariant,
      l = EP();
    l.font = [o, a, s, t + 'px', n].join(' ');
    var u = l.measureText(et(e) ? e : '');
    return u.width;
  },
  function (e, r) {
    return r === void 0 && (r = {}), Ct([e], Ys(r)).join('');
  },
);
function Bi(e) {
  return typeof e == 'number' && !isNaN(e);
}
function TP(e, r, t) {
  var i = Math.min(r, t),
    n = Math.max(r, t);
  return e >= i && e <= n;
}
function Qr(e) {
  if (it(e)) return [e, e, e, e];
  if ($(e)) {
    var r = e.length;
    if (r === 1) return [e[0], e[0], e[0], e[0]];
    if (r === 2) return [e[0], e[1], e[0], e[1]];
    if (r === 3) return [e[0], e[1], e[2], e[1]];
    if (r === 4) return e;
  }
  return [0, 0, 0, 0];
}
function Sl(e, r, t) {
  r === void 0 && (r = 'bottom'), t === void 0 && (t = 25);
  var i = Qr(e),
    n = [
      r.startsWith('top') ? t : 0,
      r.startsWith('right') ? t : 0,
      r.startsWith('bottom') ? t : 0,
      r.startsWith('left') ? t : 0,
    ];
  return [i[0] + n[0], i[1] + n[1], i[2] + n[2], i[3] + n[3]];
}
function Jh(e) {
  var r = e.map(function (i) {
      return Qr(i);
    }),
    t = [0, 0, 0, 0];
  return (
    r.length > 0 &&
      (t = t.map(function (i, n) {
        return (
          r.forEach(function (a, o) {
            i += r[o][n];
          }),
          i
        );
      })),
    t
  );
}
function kP(e, r) {
  var t = [];
  if (e.length) {
    t.push(['M', e[0].x, e[0].y]);
    for (var i = 1, n = e.length; i < n; i += 1) {
      var a = e[i];
      t.push(['L', a.x, a.y]);
    }
    r && t.push(['Z']);
  }
  return t;
}
var IP = function (e, r, t, i) {
  var n = [],
    a,
    o,
    s = !!i,
    l,
    u;
  if (s) {
    (l = [1 / 0, 1 / 0]), (u = [-1 / 0, -1 / 0]);
    for (var c = 0, h = e.length; c < h; c++) {
      var f = e[c];
      (l = jt([0, 0], l, f)), (u = Ut([0, 0], u, f));
    }
    (l = jt([0, 0], l, i[0])), (u = Ut([0, 0], u, i[1]));
  }
  for (var c = 0, v = e.length; c < v; c++) {
    var f = e[c];
    if (t) (a = e[c ? c - 1 : v - 1]), (o = e[(c + 1) % v]);
    else if (c === 0 || c === v - 1) {
      n.push(f);
      continue;
    } else (a = e[c - 1]), (o = e[c + 1]);
    var d = [0, 0];
    (d = Si(d, o, a)), (d = ce(d, d, r));
    var p = fn(f, a),
      g = fn(f, o),
      y = p + g;
    y !== 0 && ((p /= y), (g /= y));
    var m = ce([0, 0], d, -p),
      b = ce([0, 0], d, g),
      w = tr([0, 0], f, m),
      S = tr([0, 0], f, b);
    s &&
      ((w = Ut([0, 0], w, l)),
      (w = jt([0, 0], w, u)),
      (S = Ut([0, 0], S, l)),
      (S = jt([0, 0], S, u))),
      n.push(w),
      n.push(S);
  }
  return t && n.push(n.shift()), n;
};
function LP(e, r, t) {
  for (var i = !!r, n = [], a = 0, o = e.length; a < o; a += 2) n.push([e[a], e[a + 1]]);
  for (var s = IP(n, 0.4, i, t), l = n.length, u = [], c, h, f, a = 0; a < l - 1; a++)
    (c = s[a * 2]),
      (h = s[a * 2 + 1]),
      (f = n[a + 1]),
      u.push(['C', c[0], c[1], h[0], h[1], f[0], f[1]]);
  return (
    i &&
      ((c = s[l]), (h = s[l + 1]), (f = n[0]), u.push(['C', c[0], c[1], h[0], h[1], f[0], f[1]])),
    u
  );
}
function OP(e, r, t) {
  var i = [],
    n = e[0],
    a = null;
  if (e.length <= 2) return kP(e, r);
  for (var o = 0, s = e.length; o < s; o++) {
    var l = e[o];
    (!a || !(a.x === l.x && a.y === l.y)) && (i.push(l.x), i.push(l.y), (a = l));
  }
  var u = t || [
      [0, 0],
      [1, 1],
    ],
    c = LP(i, r, u);
  return c.unshift(['M', n.x, n.y]), c;
}
function V0(e) {
  var r = {
      overflow: 'hidden',
      'white-space': 'nowrap',
      'text-overflow': 'ellipsis',
      display: 'flex',
      justifyContent: 'center',
      alignItems: 'center',
    },
    t = [
      'stroke',
      'lineWidth',
      'shadowColor',
      'strokeOpacity',
      'shadowBlur',
      'shadowOffsetX',
      'shadowOffsetY',
      'fill',
    ];
  M(e, 'fill') && (r.color = e.fill);
  var i = gt(e, t),
    n = i.shadowColor,
    a = i.shadowBlur,
    o = a === void 0 ? 0 : a,
    s = i.shadowOffsetX,
    l = s === void 0 ? 0 : s,
    u = i.shadowOffsetY,
    c = u === void 0 ? 0 : u;
  r['text-shadow'] = '' + [n, l + 'px', c + 'px', o + 'px'].join(' ');
  var h = gt(e, t),
    f = h.stroke,
    v = h.lineWidth,
    d = v === void 0 ? 0 : v;
  return (
    (r['-webkit-text-stroke'] = '' + [d + 'px', f].join(' ')),
    A(e, function (p, g) {
      ['fontSize'].includes(g) && it(p)
        ? (r[xp(g)] = p + 'px')
        : g && !t.includes(g) && (r[xp(g)] = '' + p);
    }),
    r
  );
}
function Y0(e, r) {
  (e.style['pointer-events'] = 'none'),
    A(r, function (t, i) {
      i && t && (e.style[i] = t);
    });
}
var Cl = function (e, r, t) {
    var i = r.statistic,
      n = r.plotType,
      a = i.title,
      o = i.content;
    [a, o].forEach(function (s, l) {
      if (s) {
        var u = '';
        l === 0
          ? (u = o ? 'translate(-50%, -100%)' : 'translate(-50%, -50%)')
          : (u = a ? 'translate(-50%, 0)' : 'translate(-50%, -50%)');
        var c = q(s.style) ? s.style(t) : s.style;
        e.annotation().html(
          x(
            {
              position: ['50%', '50%'],
              html: function (h, f) {
                var v = f.getCoordinate(),
                  d = 0;
                if (n === 'pie' || n === 'ring-progress') d = v.getRadius() * v.innerRadius * 2;
                else if (n === 'liquid') {
                  var p = M(f.geometries, [0, 'elements', 0, 'shape']);
                  if (p) {
                    var g = p.find(function (w) {
                        return w.get('name') === 'wrap';
                      }),
                      y = g.getCanvasBBox().width;
                    d = y;
                  }
                } else d || (d = v.getWidth());
                Y0(h, x({ width: d + 'px', transform: u }, V0(c)));
                var m = f.getData();
                if (s.customHtml) return s.customHtml(h, f, t, m);
                var b = s.content;
                return (
                  s.formatter && (b = s.formatter(t, m)), b ? (et(b) ? b : '' + b) : '<div></div>'
                );
              },
              key: (l === 0 ? 'top' : 'bottom') + '-statistic',
            },
            gt(s, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']),
          ),
        );
      }
    });
  },
  PP = function (e, r, t) {
    var i = r.statistic,
      n = i.title,
      a = i.content;
    [n, a].forEach(function (o) {
      if (o) {
        var s = q(o.style) ? o.style(t) : o.style;
        e.annotation().html(
          x(
            {
              position: ['50%', '100%'],
              html: function (l, u) {
                var c = u.getCoordinate(),
                  h = u.views[0].getCoordinate(),
                  f = h.getCenter(),
                  v = h.getRadius(),
                  d = Math.max(Math.sin(h.startAngle), Math.sin(h.endAngle)) * v,
                  p = f.y + d - c.y.start - parseFloat(M(s, 'fontSize', 0)),
                  g = c.getRadius() * c.innerRadius * 2;
                Y0(l, x({ width: g + 'px', transform: 'translate(-50%, ' + p + 'px)' }, V0(s)));
                var y = u.getData();
                if (o.customHtml) return o.customHtml(l, u, t, y);
                var m = o.content;
                return (
                  o.formatter && (m = o.formatter(t, y)), m ? (et(m) ? m : '' + m) : '<div></div>'
                );
              },
            },
            gt(o, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']),
          ),
        );
      }
    });
  };
function W0(e, r) {
  return r
    ? oe(
        r,
        function (t, i, n) {
          return t.replace(new RegExp('{\\s*' + n + '\\s*}', 'g'), i);
        },
        e,
      )
    : e;
}
function lt(e, r) {
  return e.views.find(function (t) {
    return t.id === r;
  });
}
function na(e) {
  var r = e.parent;
  return r ? r.views : [];
}
function wp(e) {
  return na(e).filter(function (r) {
    return r !== e;
  });
}
function ro(e, r, t) {
  t === void 0 && (t = e.geometries),
    typeof r == 'boolean' ? e.animate(r) : e.animate(!0),
    A(t, function (i) {
      var n;
      q(r) ? (n = r(i.type || i.shapeType, i) || !0) : (n = r), i.animate(n);
    });
}
function Al() {
  return typeof window == 'object' ? (window == null ? void 0 : window.devicePixelRatio) : 2;
}
function tf(e, r) {
  r === void 0 && (r = e);
  var t = document.createElement('canvas'),
    i = Al();
  (t.width = e * i), (t.height = r * i), (t.style.width = e + 'px'), (t.style.height = r + 'px');
  var n = t.getContext('2d');
  return n.scale(i, i), t;
}
function ef(e, r, t, i) {
  i === void 0 && (i = t);
  var n = r.backgroundColor,
    a = r.opacity;
  (e.globalAlpha = a), (e.fillStyle = n), e.beginPath(), e.fillRect(0, 0, t, i), e.closePath();
}
function X0(e, r, t) {
  var i = e + r;
  return t ? i * 2 : i;
}
function _0(e, r) {
  var t = r
    ? [
        [e * 0.25, e * 0.25],
        [e * 0.75, e * 0.75],
      ]
    : [[e * 0.5, e * 0.5]];
  return t;
}
function rf(e, r) {
  var t = (r * Math.PI) / 180,
    i = {
      a: Math.cos(t) * (1 / e),
      b: Math.sin(t) * (1 / e),
      c: -Math.sin(t) * (1 / e),
      d: Math.cos(t) * (1 / e),
      e: 0,
      f: 0,
    };
  return i;
}
var DP = {
  size: 6,
  padding: 2,
  backgroundColor: 'transparent',
  opacity: 1,
  rotation: 0,
  fill: '#fff',
  fillOpacity: 0.5,
  stroke: 'transparent',
  lineWidth: 0,
  isStagger: !0,
};
function BP(e, r, t, i) {
  var n = r.size,
    a = r.fill,
    o = r.lineWidth,
    s = r.stroke,
    l = r.fillOpacity;
  e.beginPath(),
    (e.globalAlpha = l),
    (e.fillStyle = a),
    (e.strokeStyle = s),
    (e.lineWidth = o),
    e.arc(t, i, n / 2, 0, 2 * Math.PI, !1),
    e.fill(),
    o && e.stroke(),
    e.closePath();
}
function RP(e) {
  var r = B({}, DP, e),
    t = r.size,
    i = r.padding,
    n = r.isStagger,
    a = r.rotation,
    o = X0(t, i, n),
    s = _0(o, n),
    l = tf(o, o),
    u = l.getContext('2d');
  ef(u, r, o);
  for (var c = 0, h = s; c < h.length; c++) {
    var f = h[c],
      v = f[0],
      d = f[1];
    BP(u, r, v, d);
  }
  var p = u.createPattern(l, 'repeat');
  if (p) {
    var g = Al(),
      y = rf(g, a);
    p.setTransform(y);
  }
  return p;
}
var $P = {
  rotation: 45,
  spacing: 5,
  opacity: 1,
  backgroundColor: 'transparent',
  strokeOpacity: 0.5,
  stroke: '#fff',
  lineWidth: 2,
};
function NP(e, r, t) {
  var i = r.stroke,
    n = r.lineWidth,
    a = r.strokeOpacity,
    o = new Path2D(t);
  (e.globalAlpha = a),
    (e.lineCap = 'square'),
    (e.strokeStyle = n ? i : 'transparent'),
    (e.lineWidth = n),
    e.stroke(o);
}
function zP(e) {
  var r = B({}, $P, e),
    t = r.spacing,
    i = r.rotation,
    n = r.lineWidth,
    a = t + n || 1,
    o = t + n || 1,
    s =
      `
            M 0 0 L ` +
      a +
      ` 0
            M 0 ` +
      o +
      ' L ' +
      a +
      ' ' +
      o +
      `
            `,
    l = tf(a, o),
    u = l.getContext('2d');
  ef(u, r, a, o), NP(u, r, s);
  var c = u.createPattern(l, 'repeat');
  if (c) {
    var h = Al(),
      f = rf(h, i);
    c.setTransform(f);
  }
  return c;
}
var GP = {
  size: 6,
  padding: 1,
  isStagger: !0,
  backgroundColor: 'transparent',
  opacity: 1,
  rotation: 0,
  fill: '#fff',
  fillOpacity: 0.5,
  stroke: 'transparent',
  lineWidth: 0,
};
function HP(e, r, t, i) {
  var n = r.stroke,
    a = r.size,
    o = r.fill,
    s = r.lineWidth,
    l = r.fillOpacity;
  (e.globalAlpha = l),
    (e.strokeStyle = n),
    (e.lineWidth = s),
    (e.fillStyle = o),
    e.strokeRect(t - a / 2, i - a / 2, a, a),
    e.fillRect(t - a / 2, i - a / 2, a, a);
}
function VP(e) {
  var r = B({}, GP, e),
    t = r.size,
    i = r.padding,
    n = r.isStagger,
    a = r.rotation,
    o = X0(t, i, n),
    s = _0(o, n),
    l = tf(o, o),
    u = l.getContext('2d');
  ef(u, r, o);
  for (var c = 0, h = s; c < h.length; c++) {
    var f = h[c],
      v = f[0],
      d = f[1];
    HP(u, r, v, d);
  }
  var p = u.createPattern(l, 'repeat');
  if (p) {
    var g = Al(),
      y = rf(g, a);
    p.setTransform(y);
  }
  return p;
}
function YP(e) {
  var r = e.type,
    t = e.cfg,
    i;
  switch (r) {
    case 'dot':
      i = RP(t);
      break;
    case 'line':
      i = zP(t);
      break;
    case 'square':
      i = VP(t);
      break;
  }
  return i;
}
function Ie(e) {
  var r = this;
  return function (t) {
    var i,
      n = t.options,
      a = t.chart,
      o = n.pattern;
    if (!o) return t;
    var s = function (l) {
      for (var u, c, h, f = [], v = 1; v < arguments.length; v++) f[v - 1] = arguments[v];
      var d = a.getTheme().defaultColor,
        p = d,
        g =
          (c = (u = a.geometries) === null || u === void 0 ? void 0 : u[0]) === null || c === void 0
            ? void 0
            : c.getAttribute('color');
      if (g) {
        var y = g.getFields()[0],
          m = M(l, y);
        p = be.getMappingValue(
          g,
          m,
          ((h = g.values) === null || h === void 0 ? void 0 : h[0]) || d,
        );
      }
      var b = o;
      typeof o == 'function' && (b = o.call(r, l, p)),
        b instanceof CanvasPattern || (b = YP(B({}, { cfg: { backgroundColor: p } }, b)));
      var w = n[e];
      return x(x({}, typeof w == 'function' ? w.call.apply(w, Ct([r, l], f)) : w || {}), {
        fill: b || p,
      });
    };
    return B({}, t, { options: ((i = {}), (i[e] = s), i) });
  };
}
function Dn(e) {
  var r = e.chart,
    t = e.options,
    i = t.legend,
    n = t.colorField,
    a = t.seriesField;
  return i === !1 ? r.legend(!1) : (n || a) && r.legend(n || a, i), e;
}
function Yt(e) {
  var r = e.chart,
    t = e.options,
    i = t.tooltip;
  return i !== void 0 && r.tooltip(i), e;
}
function It(e) {
  var r = e.chart,
    t = e.options,
    i = t.interactions;
  return (
    A(i, function (n) {
      n.enable === !1 ? r.removeInteraction(n.type) : r.interaction(n.type, n.cfg || {});
    }),
    e
  );
}
function wt(e) {
  var r = e.chart,
    t = e.options,
    i = t.animation;
  return ro(r, i), e;
}
function ht(e) {
  var r = e.chart,
    t = e.options,
    i = t.theme;
  return i && r.theme(i), e;
}
function oi(e) {
  var r = e.chart,
    t = e.options,
    i = t.state;
  return (
    i &&
      A(r.geometries, function (n) {
        n.state(i);
      }),
    e
  );
}
function io(e) {
  var r = e.chart,
    t = e.options,
    i = t.slider;
  return r.option('slider', i), e;
}
function nf(e) {
  var r = e.chart,
    t = e.options,
    i = t.scrollbar;
  return r.option('scrollbar', i), e;
}
function Rt(e, r) {
  return function (t) {
    var i = t.chart,
      n = t.options,
      a = {};
    return (
      A(e, function (o, s) {
        a[s] = gt(o, me);
      }),
      (a = B({}, r, n.meta, a)),
      i.scale(a),
      t
    );
  };
}
function Ot(e) {
  return function (r) {
    var t = r.chart,
      i = r.options,
      n = t.getController('annotation');
    return (
      A(Ct(i.annotations || [], e || []), function (a) {
        n.annotation(a);
      }),
      r
    );
  };
}
function Ri(e) {
  var r = e.chart,
    t = e.options,
    i = t.yAxis,
    n = t.limitInPlot,
    a = n;
  return (
    yt(i) &&
      R(n) &&
      (Object.values(gt(i, ['min', 'max', 'minLimit', 'maxLimit'])).some(function (o) {
        return !R(o);
      })
        ? (a = !0)
        : (a = !1)),
    (r.limitInPlot = a),
    e
  );
}
function j0(e) {
  return (
    e === void 0 && (e = 'rect'),
    function (r) {
      var t = r.chart,
        i = r.options,
        n = i.coordinate,
        a = Array.from(n || [])
          .map(function (o) {
            return o.type === 'reflectX'
              ? ['reflect', 'x']
              : o.type === 'reflectY'
              ? ['reflect', 'y']
              : o.type === 'transpose'
              ? ['transpose']
              : null;
          })
          .filter(function (o) {
            return !!o;
          });
      return a.length !== 0 && t.coordinate({ type: e, actions: a }), r;
    }
  );
}
var WP = { locale: 'en-US' },
  Jo = {};
function U0(e, r) {
  Jo[e] = r;
}
function Ml(e) {
  return {
    get: function (r, t) {
      return W0(M(Jo[e], r) || M(Jo[WP.locale], r) || M(Jo['en-US'], r) || r, t);
    },
  };
}
var XP = {
    locale: 'en-US',
    general: { increase: 'Increase', decrease: 'Decrease', root: 'Root' },
    statistic: { total: 'Total' },
    conversionTag: { label: 'Rate' },
    legend: {},
    tooltip: {},
    slider: {},
    scrollbar: {},
    waterfall: { total: 'Total' },
  },
  _P = {
    locale: 'zh-CN',
    general: { increase: '', decrease: '', root: '' },
    statistic: { total: '' },
    conversionTag: { label: '' },
    legend: {},
    tooltip: {},
    slider: {},
    scrollbar: {},
    waterfall: { total: '' },
  };
function Ge(e, r) {
  if (e === !1) return { fields: !1 };
  var t = M(e, 'fields'),
    i = M(e, 'formatter');
  return i && !t && (t = r), { fields: t, formatter: i };
}
function Vo(e, r) {
  var t = e.type,
    i = e.xField,
    n = e.yField,
    a = e.colorField,
    o = e.shapeField,
    s = e.sizeField,
    l = e.styleField,
    u = e.rawFields,
    c = [];
  if (((u = (q(u) ? u(t, r) : u) || []), r === 'color')) c = Ct([a || i], u);
  else if (r === 'shape') c = Ct([o || i], u);
  else if (r === 'size') c = Ct([s || i], u);
  else {
    c = Ct([i, n, a, o, s, l], u);
    var h = ['x', 'y', 'color', 'shape', 'size', 'style'].indexOf(r),
      f = c[h];
    c.splice(h, 1), c.unshift(f);
  }
  var v = Ii(
      c.filter(function (p) {
        return !!p;
      }),
    ),
    d = t === 'line' && [i, n].includes(v.join('*')) ? '' : v.join('*');
  return { mappingFields: v, tileMappingField: d };
}
function Zi(e, r) {
  if (r)
    return function () {
      for (var t = [], i = 0; i < arguments.length; i++) t[i] = arguments[i];
      var n = {};
      return (
        e.forEach(function (a, o) {
          n[a] = t[o];
        }),
        delete n.undefined,
        r(n)
      );
    };
}
function Ce(e) {
  var r = e.chart,
    t = e.options,
    i = t.type,
    n = t.args,
    a = t.mapping,
    o = t.xField,
    s = t.yField,
    l = t.colorField,
    u = t.shapeField,
    c = t.sizeField,
    h = t.tooltipFields,
    f = t.label,
    v = t.state,
    d = t.customInfo;
  if (!a) return e;
  var p = a.color,
    g = a.shape,
    y = a.size,
    m = a.style,
    b = a.tooltip,
    w = r[i](n).position(o + '*' + s);
  if (et(p)) l ? w.color(l, p) : w.color(p);
  else if (q(p)) {
    var S = Vo(t, 'color'),
      C = S.mappingFields,
      F = S.tileMappingField;
    w.color(F, Zi(C, p));
  } else l && w.color(l, p);
  if (et(g)) u ? w.shape(u, [g]) : w.shape(g);
  else if (q(g)) {
    var E = Vo(t, 'shape'),
      C = E.mappingFields,
      F = E.tileMappingField;
    w.shape(F, Zi(C, g));
  } else u && w.shape(u, g);
  if (it(y)) c ? w.size(c, y) : w.size(y);
  else if (q(y)) {
    var k = Vo(t, 'size'),
      C = k.mappingFields,
      F = k.tileMappingField;
    w.size(F, Zi(C, y));
  } else c && w.size(c, y);
  if (q(m)) {
    var T = Vo(t, 'style'),
      C = T.mappingFields,
      F = T.tileMappingField;
    w.style(F, Zi(C, m));
  } else yt(m) && w.style(m);
  if ((h === !1 ? w.tooltip(!1) : we(h) || w.tooltip(h.join('*'), Zi(h, b)), f === !1)) w.label(!1);
  else if (f) {
    var O = f.callback,
      P = f.fields,
      z = mt(f, ['callback', 'fields']);
    w.label({ fields: P || [s], callback: O, cfg: _t(z) });
  }
  return (
    v && w.state(v),
    d && w.customInfo(d),
    [o, s]
      .filter(function (W) {
        return W !== l;
      })
      .forEach(function (W) {
        r.legend(W, !1);
      }),
    x(x({}, e), { ext: { geometry: w } })
  );
}
function Fl(e) {
  var r = e.options,
    t = r.area,
    i = r.xField,
    n = r.yField,
    a = r.seriesField,
    o = r.smooth,
    s = r.tooltip,
    l = r.useDeferredLabel,
    u = Ge(s, [i, n, a]),
    c = u.fields,
    h = u.formatter;
  return t
    ? Ce(
        B({}, e, {
          options: {
            type: 'area',
            colorField: a,
            tooltipFields: c,
            mapping: x({ shape: o ? 'smooth' : 'area', tooltip: h }, t),
            args: { useDeferredLabel: l },
          },
        }),
      )
    : e;
}
function q0(e) {
  var r = e.options,
    t = r.edge,
    i = r.xField,
    n = r.yField,
    a = r.seriesField,
    o = r.tooltip,
    s = r.useDeferredLabel,
    l = Ge(o, [i, n, a]),
    u = l.fields,
    c = l.formatter;
  return t
    ? Ce(
        B({}, e, {
          options: {
            type: 'edge',
            colorField: a,
            tooltipFields: u,
            mapping: x({ tooltip: c }, t),
            args: { useDeferredLabel: s },
          },
        }),
      )
    : e;
}
function jP(e) {
  var r = e.chart,
    t = e.options,
    i = e.ext,
    n = t.seriesField,
    a = t.isGroup,
    o = t.isStack,
    s = t.marginRatio,
    l = t.widthRatio,
    u = t.groupField,
    c = t.theme,
    h = [];
  if (
    (n &&
      (a && h.push({ type: 'dodge', dodgeBy: u || n, marginRatio: s }),
      o && h.push({ type: 'stack', marginRatio: s })),
    h.length && i != null && i.geometry)
  ) {
    var f = i == null ? void 0 : i.geometry;
    f.adjust(h);
  }
  return R(l) || r.theme(B({}, yt(c) ? c : da(c), { columnWidthRatio: l })), e;
}
function re(e) {
  var r = e.options,
    t = r.xField,
    i = r.yField,
    n = r.interval,
    a = r.seriesField,
    o = r.tooltip,
    s = r.minColumnWidth,
    l = r.maxColumnWidth,
    u = r.columnBackground,
    c = r.dodgePadding,
    h = r.intervalPadding,
    f = r.useDeferredLabel,
    v = Ge(o, [t, i, a]),
    d = v.fields,
    p = v.formatter,
    g = (
      n
        ? Ce(
            B({}, e, {
              options: {
                type: 'interval',
                colorField: a,
                tooltipFields: d,
                mapping: x({ tooltip: p }, n),
                args: {
                  dodgePadding: c,
                  intervalPadding: h,
                  minColumnWidth: s,
                  maxColumnWidth: l,
                  background: u,
                  useDeferredLabel: f,
                },
              },
            }),
          )
        : e
    ).ext;
  return jP(x(x({}, e), { ext: g }));
}
function Bn(e) {
  var r = e.options,
    t = r.line,
    i = r.stepType,
    n = r.xField,
    a = r.yField,
    o = r.seriesField,
    s = r.smooth,
    l = r.connectNulls,
    u = r.tooltip,
    c = r.useDeferredLabel,
    h = Ge(u, [n, a, o]),
    f = h.fields,
    v = h.formatter;
  return t
    ? Ce(
        B({}, e, {
          options: {
            type: 'line',
            colorField: o,
            tooltipFields: f,
            mapping: _({ shape: i || (s ? 'smooth' : 'line'), tooltip: v }, t),
            args: { connectNulls: l, useDeferredLabel: c },
          },
        }),
      )
    : e;
}
function Le(e) {
  var r = e.options,
    t = r.point,
    i = r.xField,
    n = r.yField,
    a = r.seriesField,
    o = r.sizeField,
    s = r.shapeField,
    l = r.tooltip,
    u = r.useDeferredLabel,
    c = Ge(l, [i, n, a, o, s]),
    h = c.fields,
    f = c.formatter;
  return t
    ? Ce(
        B({}, e, {
          options: {
            type: 'point',
            colorField: a,
            shapeField: s,
            tooltipFields: h,
            mapping: x({ tooltip: f }, t),
            args: { useDeferredLabel: u },
          },
        }),
      )
    : e;
}
function El(e) {
  var r = e.options,
    t = r.polygon,
    i = r.xField,
    n = r.yField,
    a = r.seriesField,
    o = r.tooltip,
    s = r.useDeferredLabel,
    l = Ge(o, [i, n, a]),
    u = l.fields,
    c = l.formatter;
  return t
    ? Ce(
        B({}, e, {
          options: {
            type: 'polygon',
            colorField: a,
            tooltipFields: u,
            mapping: x({ tooltip: c }, t),
            args: { useDeferredLabel: s },
          },
        }),
      )
    : e;
}
function af(e) {
  var r = e.options,
    t = r.schema,
    i = r.xField,
    n = r.yField,
    a = r.seriesField,
    o = r.tooltip,
    s = r.useDeferredLabel,
    l = Ge(o, [i, n, a]),
    u = l.fields,
    c = l.formatter;
  return t
    ? Ce(
        B({}, e, {
          options: {
            type: 'schema',
            colorField: a,
            tooltipFields: u,
            mapping: x({ tooltip: c }, t),
            args: { useDeferredLabel: s },
          },
        }),
      )
    : e;
}
function UP(e) {
  var r = e.options,
    t = r.violin,
    i = r.xField,
    n = r.yField,
    a = r.seriesField,
    o = r.sizeField,
    s = r.tooltip,
    l = Ge(s, [i, n, a, o]),
    u = l.fields,
    c = l.formatter;
  return t
    ? Ce(
        B({}, e, {
          options: {
            type: 'violin',
            colorField: a,
            tooltipFields: u,
            mapping: x({ tooltip: c }, t),
          },
        }),
      )
    : e;
}
var Ti = {},
  wn = {},
  Z0 = {};
(function (e) {
  Object.defineProperty(e, '__esModule', { value: !0 }), (e.default = void 0);
  var r = 1,
    t = function () {
      return ''.concat(r++);
    };
  e.default = t;
})(Z0);
var Tl = {},
  kl = {},
  of = {};
(function (e) {
  Object.defineProperty(e, '__esModule', { value: !0 }), (e.default = void 0);
  var r = function (i) {
    var n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 60,
      a = null;
    return function () {
      for (var o = this, s = arguments.length, l = new Array(s), u = 0; u < s; u++)
        l[u] = arguments[u];
      clearTimeout(a),
        (a = setTimeout(function () {
          i.apply(o, l);
        }, n));
    };
  };
  e.default = r;
})(of);
var wr = {};
Object.defineProperty(wr, '__esModule', { value: !0 });
wr.SensorTabIndex = wr.SensorClassName = wr.SizeSensorId = void 0;
var qP = 'size-sensor-id';
wr.SizeSensorId = qP;
var ZP = 'size-sensor-object';
wr.SensorClassName = ZP;
var KP = '-1';
wr.SensorTabIndex = KP;
Object.defineProperty(kl, '__esModule', { value: !0 });
kl.createSensor = void 0;
var QP = JP(of),
  bp = wr;
function JP(e) {
  return e && e.__esModule ? e : { default: e };
}
var tD = function (r) {
  var t = void 0,
    i = [],
    n = function () {
      getComputedStyle(r).position === 'static' && (r.style.position = 'relative');
      var c = document.createElement('object');
      return (
        (c.onload = function () {
          c.contentDocument.defaultView.addEventListener('resize', a), a();
        }),
        (c.style.display = 'block'),
        (c.style.position = 'absolute'),
        (c.style.top = '0'),
        (c.style.left = '0'),
        (c.style.height = '100%'),
        (c.style.width = '100%'),
        (c.style.overflow = 'hidden'),
        (c.style.pointerEvents = 'none'),
        (c.style.zIndex = '-1'),
        (c.style.opacity = '0'),
        c.setAttribute('class', bp.SensorClassName),
        c.setAttribute('tabindex', bp.SensorTabIndex),
        (c.type = 'text/html'),
        r.appendChild(c),
        (c.data = 'about:blank'),
        c
      );
    },
    a = (0, QP.default)(function () {
      i.forEach(function (u) {
        u(r);
      });
    }),
    o = function (c) {
      t || (t = n()), i.indexOf(c) === -1 && i.push(c);
    },
    s = function () {
      t &&
        t.parentNode &&
        (t.contentDocument && t.contentDocument.defaultView.removeEventListener('resize', a),
        t.parentNode.removeChild(t),
        (t = void 0),
        (i = []));
    },
    l = function (c) {
      var h = i.indexOf(c);
      h !== -1 && i.splice(h, 1), i.length === 0 && t && s();
    };
  return { element: r, bind: o, destroy: s, unbind: l };
};
kl.createSensor = tD;
var Il = {};
Object.defineProperty(Il, '__esModule', { value: !0 });
Il.createSensor = void 0;
var eD = rD(of);
function rD(e) {
  return e && e.__esModule ? e : { default: e };
}
var iD = function (r) {
  var t = void 0,
    i = [],
    n = (0, eD.default)(function () {
      i.forEach(function (u) {
        u(r);
      });
    }),
    a = function () {
      var c = new ResizeObserver(n);
      return c.observe(r), n(), c;
    },
    o = function (c) {
      t || (t = a()), i.indexOf(c) === -1 && i.push(c);
    },
    s = function () {
      t.disconnect(), (i = []), (t = void 0);
    },
    l = function (c) {
      var h = i.indexOf(c);
      h !== -1 && i.splice(h, 1), i.length === 0 && t && s();
    };
  return { element: r, bind: o, destroy: s, unbind: l };
};
Il.createSensor = iD;
Object.defineProperty(Tl, '__esModule', { value: !0 });
Tl.createSensor = void 0;
var nD = kl,
  aD = Il,
  oD = typeof ResizeObserver != 'undefined' ? aD.createSensor : nD.createSensor;
Tl.createSensor = oD;
Object.defineProperty(wn, '__esModule', { value: !0 });
wn.removeSensor = wn.getSensor = void 0;
var sD = uD(Z0),
  lD = Tl,
  Ts = wr;
function uD(e) {
  return e && e.__esModule ? e : { default: e };
}
var ya = {},
  cD = function (r) {
    var t = r.getAttribute(Ts.SizeSensorId);
    if (t && ya[t]) return ya[t];
    var i = (0, sD.default)();
    r.setAttribute(Ts.SizeSensorId, i);
    var n = (0, lD.createSensor)(r);
    return (ya[i] = n), n;
  };
wn.getSensor = cD;
var hD = function (r) {
  var t = r.element.getAttribute(Ts.SizeSensorId);
  r.element.removeAttribute(Ts.SizeSensorId), r.destroy(), t && ya[t] && delete ya[t];
};
wn.removeSensor = hD;
Object.defineProperty(Ti, '__esModule', { value: !0 });
Ti.ver = Ti.clear = K0 = Ti.bind = void 0;
var Sc = wn,
  fD = function (r, t) {
    var i = (0, Sc.getSensor)(r);
    return (
      i.bind(t),
      function () {
        i.unbind(t);
      }
    );
  },
  K0 = (Ti.bind = fD),
  vD = function (r) {
    var t = (0, Sc.getSensor)(r);
    (0, Sc.removeSensor)(t);
  };
Ti.clear = vD;
var dD = '1.0.1';
Ti.ver = dD;
var Sp = 'data-chart-source-type',
  Q0 = [
    'padding',
    'appendPadding',
    'renderer',
    'pixelRatio',
    'syncViewPadding',
    'supportCSSTransform',
    'limitInPlot',
  ],
  at = (function (e) {
    I(r, e);
    function r(t, i) {
      var n = e.call(this) || this;
      return (
        (n.container = typeof t == 'string' ? document.getElementById(t) : t),
        (n.options = B({}, n.getDefaultOptions(), i)),
        n.createG2(),
        n.bindEvents(),
        n
      );
    }
    return (
      (r.getDefaultOptions = function () {
        return {
          renderer: 'canvas',
          xAxis: {
            nice: !0,
            label: { autoRotate: !1, autoHide: { type: 'equidistance', cfg: { minGap: 6 } } },
          },
          yAxis: { nice: !0, label: { autoHide: !0, autoRotate: !1 } },
          animation: !0,
        };
      }),
      (r.prototype.createG2 = function () {
        var t = this.options,
          i = t.width,
          n = t.height,
          a = t.defaultInteractions;
        (this.chart = new ZT(
          x(
            x(
              x(x({ container: this.container, autoFit: !1 }, this.getChartSize(i, n)), {
                localRefresh: !1,
              }),
              gt(this.options, Q0),
            ),
            { defaultInteractions: a },
          ),
        )),
          this.container.setAttribute(Sp, 'G2Plot');
      }),
      (r.prototype.getChartSize = function (t, i) {
        var n = bc(this.container);
        return { width: t || n.width || 400, height: i || n.height || 400 };
      }),
      (r.prototype.bindEvents = function () {
        var t = this;
        this.chart &&
          this.chart.on('*', function (i) {
            i != null && i.type && t.emit(i.type, i);
          });
      }),
      (r.prototype.getDefaultOptions = function () {
        return r.getDefaultOptions();
      }),
      (r.prototype.render = function () {
        this.chart.clear(),
          (this.chart.options = { data: [], animate: !0 }),
          (this.chart.views = []),
          this.execAdaptor(),
          this.chart.render(),
          this.bindSizeSensor();
      }),
      (r.prototype.update = function (t) {
        this.updateOption(t), this.render();
      }),
      (r.prototype.updateOption = function (t) {
        this.options = B({}, this.options, t);
      }),
      (r.prototype.setState = function (t, i, n) {
        n === void 0 && (n = !0);
        var a = $a(this.chart);
        A(a, function (o) {
          i(o.getData()) && o.setState(t, n);
        });
      }),
      (r.prototype.getStates = function () {
        var t = $a(this.chart),
          i = [];
        return (
          A(t, function (n) {
            var a = n.getData(),
              o = n.getStates();
            A(o, function (s) {
              i.push({ data: a, state: s, geometry: n.geometry, element: n });
            });
          }),
          i
        );
      }),
      (r.prototype.changeData = function (t) {
        this.update({ data: t });
      }),
      (r.prototype.changeSize = function (t, i) {
        this.chart.changeSize(t, i);
      }),
      (r.prototype.addAnnotations = function (t, i) {
        i = i || this.chart;
        var n = Ct(t),
          a = i.getController('annotation'),
          o = a.getComponents().map(function (u) {
            return u.extra;
          });
        a.clear(!0);
        for (
          var s = function (u) {
              var c = o[u],
                h = n.findIndex(function (f) {
                  return f.id && f.id === c.id;
                });
              h !== -1 && ((c = B({}, c, n[h])), n.splice(h, 1)), a.annotation(c);
            },
            l = 0;
          l < o.length;
          l++
        )
          s(l);
        n.forEach(function (u) {
          return a.annotation(u);
        }),
          i.render(!0);
      }),
      (r.prototype.removeAnnotations = function (t) {
        var i = this.chart.getController('annotation'),
          n = i.getComponents().map(function (s) {
            return s.extra;
          });
        i.clear(!0);
        for (
          var a = function (s) {
              var l = n[s];
              t.find(function (u) {
                return u.id && u.id === l.id;
              }) || i.annotation(l);
            },
            o = 0;
          o < n.length;
          o++
        )
          a(o);
        this.chart.render(!0);
      }),
      (r.prototype.destroy = function () {
        this.unbindSizeSensor(),
          this.chart.destroy(),
          this.off(),
          this.container.removeAttribute(Sp);
      }),
      (r.prototype.execAdaptor = function () {
        var t = this.getSchemaAdaptor(),
          i = this.options,
          n = i.padding,
          a = i.appendPadding;
        (this.chart.padding = n),
          (this.chart.appendPadding = a),
          t({ chart: this.chart, options: this.options });
      }),
      (r.prototype.triggerResize = function () {
        this.chart.forceFit();
      }),
      (r.prototype.bindSizeSensor = function () {
        var t = this;
        if (!this.unbind) {
          var i = this.options.autoFit,
            n = i === void 0 ? !0 : i;
          n &&
            (this.unbind = K0(this.container, function () {
              var a = bc(t.container),
                o = a.width,
                s = a.height;
              (o !== t.chart.width || s !== t.chart.height) && t.triggerResize();
            }));
        }
      }),
      (r.prototype.unbindSizeSensor = function () {
        this.unbind && (this.unbind(), (this.unbind = void 0));
      }),
      r
    );
  })(_c);
function J0(e, r, t, i) {
  var n = oe(
    e,
    function (a, o) {
      var s = o[t],
        l = a.has(s) ? a.get(s) : 0,
        u = o[r];
      return (l = Bi(u) ? l + u : l), a.set(s, l), a;
    },
    new Map(),
  );
  return Tt(e, function (a) {
    var o,
      s = a[r],
      l = a[t],
      u = Bi(s) && n.get(l) !== 0 ? s / n.get(l) : 0;
    return x(x({}, a), ((o = {}), (o[i] = u), o));
  });
}
function pD(e, r, t, i) {
  var n = oe(
    e,
    function (a, o) {
      var s = oe(
          t,
          function (c, h) {
            return '' + c + o[h];
          },
          '',
        ),
        l = a.has(s) ? a.get(s) : 0,
        u = o[r];
      return (l = Bi(u) ? l + u : l), a.set(s, l), a;
    },
    new Map(),
  );
  return Tt(e, function (a) {
    var o,
      s = a[r],
      l = oe(
        t,
        function (c, h) {
          return '' + c + a[h];
        },
        '',
      ),
      u = Bi(s) && n.get(l) !== 0 ? s / n.get(l) : 0;
    return x(x({}, a), ((o = {}), (o[i] = u), o));
  });
}
function no(e, r, t, i, n) {
  return n ? J0(e, r, t, i) : e;
}
function gD(e) {
  var r = e.chart,
    t = e.options,
    i = t.data,
    n = t.color,
    a = t.lineStyle,
    o = t.lineShape,
    s = t.point,
    l = t.area,
    u = t.seriesField,
    c = s == null ? void 0 : s.state,
    h = l == null ? void 0 : l.state;
  r.data(i);
  var f = B({}, e, {
      options: {
        shapeField: u,
        line: { color: n, style: a, shape: o },
        point: s && x({ color: n, shape: 'circle' }, s),
        area: l && x({ color: n }, l),
        label: void 0,
      },
    }),
    v = B({}, f, { options: { tooltip: !1, state: c } }),
    d = B({}, f, { options: { tooltip: !1, state: h } });
  return Bn(f), Le(v), Fl(d), e;
}
function Ll(e) {
  var r,
    t,
    i = e.options,
    n = i.xAxis,
    a = i.yAxis,
    o = i.xField,
    s = i.yField,
    l = i.data;
  return rt(
    Rt(
      ((r = {}), (r[o] = n), (r[s] = a), r),
      ((t = {}), (t[o] = { type: 'cat' }), (t[s] = Qh(l, s)), t),
    ),
  )(e);
}
function yD(e) {
  var r = e.chart,
    t = e.options,
    i = t.reflect;
  if (i) {
    var n = i;
    $(n) || (n = [n]);
    var a = n.map(function (o) {
      return ['reflect', o];
    });
    r.coordinate({ type: 'rect', actions: a });
  }
  return e;
}
function tx(e) {
  var r = e.chart,
    t = e.options,
    i = t.xAxis,
    n = t.yAxis,
    a = t.xField,
    o = t.yField;
  return i === !1 ? r.axis(a, !1) : r.axis(a, i), n === !1 ? r.axis(o, !1) : r.axis(o, n), e;
}
function ex(e) {
  var r = e.chart,
    t = e.options,
    i = t.legend,
    n = t.seriesField;
  return i && n ? r.legend(n, i) : i === !1 && r.legend(!1), e;
}
function mD(e) {
  var r = e.chart,
    t = e.options,
    i = t.label,
    n = t.yField,
    a = ee(r, 'line');
  if (!i) a.label(!1);
  else {
    var o = i.callback,
      s = mt(i, ['callback']);
    a.label({
      fields: [n],
      callback: o,
      cfg: x(
        {
          layout: [
            { type: 'limit-in-plot' },
            { type: 'path-adjust-position' },
            { type: 'point-adjust-position' },
            { type: 'limit-in-plot', cfg: { action: 'hide' } },
          ],
        },
        _t(s),
      ),
    });
  }
  return e;
}
function xD(e) {
  var r = e.chart,
    t = e.options,
    i = t.isStack;
  return (
    i &&
      A(r.geometries, function (n) {
        n.adjust('stack');
      }),
    e
  );
}
function rx(e) {
  return rt(gD, Ll, xD, ht, yD, tx, ex, Yt, mD, io, nf, It, wt, Ot(), Ri)(e);
}
function wD(e) {
  var r = e.chart,
    t = e.options,
    i = t.data,
    n = t.areaStyle,
    a = t.color,
    o = t.point,
    s = t.line,
    l = t.isPercent,
    u = t.xField,
    c = t.yField,
    h = t.tooltip,
    f = t.seriesField,
    v = t.startOnZero,
    d = o == null ? void 0 : o.state,
    p = no(i, c, u, c, l);
  r.data(p);
  var g = l
      ? x(
          {
            formatter: function (w) {
              return { name: w[f] || w[u], value: (Number(w[c]) * 100).toFixed(2) + '%' };
            },
          },
          h,
        )
      : h,
    y = B({}, e, {
      options: {
        area: { color: a, style: n },
        point: o && x({ color: a }, o),
        tooltip: g,
        label: void 0,
        args: { startOnZero: v },
      },
    }),
    m = {
      chart: r,
      options: B({ line: { size: 2 } }, Ws(t, ['state']), {
        line: s && x({ color: a }, s),
        sizeField: f,
        state: s == null ? void 0 : s.state,
        tooltip: !1,
        label: void 0,
        args: { startOnZero: v },
      }),
    },
    b = B({}, y, { options: { tooltip: !1, state: d } });
  return Fl(y), Bn(m), Le(b), e;
}
function bD(e) {
  var r = e.chart,
    t = e.options,
    i = t.label,
    n = t.yField,
    a = ee(r, 'area');
  if (!i) a.label(!1);
  else {
    var o = i.callback,
      s = mt(i, ['callback']);
    a.label({
      fields: [n],
      callback: o,
      cfg: x(
        {
          layout: [
            { type: 'limit-in-plot' },
            { type: 'path-adjust-position' },
            { type: 'point-adjust-position' },
            { type: 'limit-in-plot', cfg: { action: 'hide' } },
          ],
        },
        _t(s),
      ),
    });
  }
  return e;
}
function SD(e) {
  var r = e.chart,
    t = e.options,
    i = t.isStack,
    n = t.isPercent,
    a = t.seriesField;
  return (
    (n || i) &&
      a &&
      A(r.geometries, function (o) {
        o.adjust('stack');
      }),
    e
  );
}
function ix(e) {
  return rt(ht, Ie('areaStyle'), j0('rect'), wD, Ll, SD, tx, ex, Yt, bD, io, Ot(), It, wt, Ri)(e);
}
var CD = B({}, at.getDefaultOptions(), {
    tooltip: { shared: !0, showMarkers: !0, showCrosshairs: !0, crosshairs: { type: 'x' } },
    isStack: !0,
    line: {},
    legend: { position: 'top-left', radio: {} },
  }),
  nx = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'area'), t;
    }
    return (
      (r.getDefaultOptions = function () {
        return CD;
      }),
      (r.prototype.getDefaultOptions = function () {
        return r.getDefaultOptions();
      }),
      (r.prototype.changeData = function (t) {
        this.updateOption({ data: t });
        var i = this.options,
          n = i.isPercent,
          a = i.xField,
          o = i.yField,
          s = this,
          l = s.chart,
          u = s.options;
        Ll({ chart: l, options: u }), this.chart.changeData(no(t, o, a, o, n));
      }),
      (r.prototype.getSchemaAdaptor = function () {
        return ix;
      }),
      r
    );
  })(at),
  AD = 10,
  MD = 5,
  FD = {
    padding: [8, 10],
    text: 'reset',
    textStyle: { default: { x: 0, y: 0, fontSize: 12, fill: '#333333', cursor: 'pointer' } },
    buttonStyle: {
      default: { fill: '#f7f7f7', stroke: '#cccccc', cursor: 'pointer' },
      active: { fill: '#e6e6e6' },
    },
  },
  ED = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.buttonGroup = null), (t.buttonCfg = x({ name: 'button' }, FD)), t;
    }
    return (
      (r.prototype.getButtonCfg = function () {
        var t = this.context.view,
          i = M(t, ['interactions', 'filter-action', 'cfg', 'buttonConfig']);
        return B(this.buttonCfg, i, this.cfg);
      }),
      (r.prototype.drawButton = function () {
        var t = this.getButtonCfg(),
          i = this.context.view.foregroundGroup.addGroup({ name: t.name }),
          n = this.drawText(i);
        this.drawBackground(i, n.getBBox()), (this.buttonGroup = i);
      }),
      (r.prototype.drawText = function (t) {
        var i,
          n = this.getButtonCfg();
        return t.addShape({
          type: 'text',
          name: 'button-text',
          attrs: x(
            { text: n.text },
            (i = n.textStyle) === null || i === void 0 ? void 0 : i.default,
          ),
        });
      }),
      (r.prototype.drawBackground = function (t, i) {
        var n,
          a = this.getButtonCfg(),
          o = Qr(a.padding),
          s = t.addShape({
            type: 'rect',
            name: 'button-rect',
            attrs: x(
              {
                x: i.x - o[3],
                y: i.y - o[0],
                width: i.width + o[1] + o[3],
                height: i.height + o[0] + o[2],
              },
              (n = a.buttonStyle) === null || n === void 0 ? void 0 : n.default,
            ),
          });
        return (
          s.toBack(),
          t.on('mouseenter', function () {
            var l;
            s.attr((l = a.buttonStyle) === null || l === void 0 ? void 0 : l.active);
          }),
          t.on('mouseleave', function () {
            var l;
            s.attr((l = a.buttonStyle) === null || l === void 0 ? void 0 : l.default);
          }),
          s
        );
      }),
      (r.prototype.resetPosition = function () {
        var t = this.context.view,
          i = t.getCoordinate(),
          n = i.convert({ x: 1, y: 1 }),
          a = this.buttonGroup,
          o = a.getBBox(),
          s = be.transform(null, [['t', n.x - o.width - AD, n.y + o.height + MD]]);
        a.setMatrix(s);
      }),
      (r.prototype.show = function () {
        this.buttonGroup || this.drawButton(), this.resetPosition(), this.buttonGroup.show();
      }),
      (r.prototype.hide = function () {
        this.buttonGroup && this.buttonGroup.hide();
      }),
      (r.prototype.destroy = function () {
        var t = this.buttonGroup;
        t && t.remove(), e.prototype.destroy.call(this);
      }),
      r
    );
  })(Ft);
tt('brush-reset-button', ED, { name: 'brush-reset-button' });
nt('filter-action', {});
function vr(e) {
  return e.isInPlot();
}
function Vi(e, r, t) {
  var i = t || {},
    n = i.mask,
    a = i.isStartEnable,
    o = r || 'rect';
  switch (e) {
    case 'brush':
      return {
        showEnable: [
          {
            trigger: 'plot:mouseenter',
            action: 'cursor:crosshair',
            isEnable:
              a ||
              function () {
                return !0;
              },
          },
          { trigger: 'plot:mouseleave', action: 'cursor:default' },
        ],
        start: [
          {
            trigger: 'mousedown',
            isEnable: a || vr,
            action: ['brush:start', o + '-mask:start', o + '-mask:show'],
            arg: [null, { maskStyle: n == null ? void 0 : n.style }],
          },
        ],
        processing: [{ trigger: 'mousemove', isEnable: vr, action: [o + '-mask:resize'] }],
        end: [
          {
            trigger: 'mouseup',
            isEnable: vr,
            action: [
              'brush:filter',
              'brush:end',
              o + '-mask:end',
              o + '-mask:hide',
              'brush-reset-button:show',
            ],
          },
        ],
        rollback: [
          {
            trigger: 'brush-reset-button:click',
            action: ['brush:reset', 'brush-reset-button:hide', 'cursor:crosshair'],
          },
        ],
      };
    case 'brush-highlight':
      return {
        showEnable: [
          {
            trigger: 'plot:mouseenter',
            action: 'cursor:crosshair',
            isEnable:
              a ||
              function () {
                return !0;
              },
          },
          {
            trigger: 'plot:mousemove',
            action: 'cursor:crosshair',
            isEnable:
              a ||
              function () {
                return !0;
              },
          },
          {
            trigger: 'plot:mousemove',
            action: 'cursor:default',
            isEnable: function (s) {
              return a ? !a(s) : !1;
            },
          },
          {
            trigger: 'mask:mouseenter',
            action: 'cursor:move',
            isEnable:
              a ||
              function () {
                return !0;
              },
          },
          { trigger: 'plot:mouseleave', action: 'cursor:default' },
          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },
        ],
        start: [
          {
            trigger: 'plot:mousedown',
            isEnable:
              a ||
              function (s) {
                return !s.isInShape('mask');
              },
            action: [o + '-mask:start', o + '-mask:show'],
            arg: [{ maskStyle: n == null ? void 0 : n.style }],
          },
          { trigger: 'mask:dragstart', action: [o + '-mask:moveStart'] },
        ],
        processing: [
          { trigger: 'plot:mousemove', action: [o + '-mask:resize'] },
          { trigger: 'mask:drag', action: [o + '-mask:move'] },
          { trigger: 'mask:change', action: ['element-range-highlight:highlight'] },
        ],
        end: [
          { trigger: 'plot:mouseup', action: [o + '-mask:end'] },
          { trigger: 'mask:dragend', action: [o + '-mask:moveEnd'] },
          {
            trigger: 'document:mouseup',
            isEnable: function (s) {
              return !s.isInPlot();
            },
            action: ['element-range-highlight:clear', o + '-mask:end', o + '-mask:hide'],
          },
        ],
        rollback: [
          { trigger: 'dblclick', action: ['element-range-highlight:clear', o + '-mask:hide'] },
        ],
      };
    case 'brush-x':
      return {
        showEnable: [
          {
            trigger: 'plot:mouseenter',
            action: 'cursor:crosshair',
            isEnable:
              a ||
              function () {
                return !0;
              },
          },
          { trigger: 'plot:mouseleave', action: 'cursor:default' },
        ],
        start: [
          {
            trigger: 'mousedown',
            isEnable: a || vr,
            action: ['brush-x:start', o + '-mask:start', o + '-mask:show'],
            arg: [null, { maskStyle: n == null ? void 0 : n.style }],
          },
        ],
        processing: [{ trigger: 'mousemove', isEnable: vr, action: [o + '-mask:resize'] }],
        end: [
          {
            trigger: 'mouseup',
            isEnable: vr,
            action: ['brush-x:filter', 'brush-x:end', o + '-mask:end', o + '-mask:hide'],
          },
        ],
        rollback: [{ trigger: 'dblclick', action: ['brush-x:reset'] }],
      };
    case 'brush-x-highlight':
      return {
        showEnable: [
          {
            trigger: 'plot:mouseenter',
            action: 'cursor:crosshair',
            isEnable:
              a ||
              function () {
                return !0;
              },
          },
          {
            trigger: 'mask:mouseenter',
            action: 'cursor:move',
            isEnable:
              a ||
              function () {
                return !0;
              },
          },
          { trigger: 'plot:mouseleave', action: 'cursor:default' },
          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },
        ],
        start: [
          {
            trigger: 'plot:mousedown',
            isEnable:
              a ||
              function (s) {
                return !s.isInShape('mask');
              },
            action: [o + '-mask:start', o + '-mask:show'],
            arg: [{ maskStyle: n == null ? void 0 : n.style }],
          },
          { trigger: 'mask:dragstart', action: [o + '-mask:moveStart'] },
        ],
        processing: [
          { trigger: 'plot:mousemove', action: [o + '-mask:resize'] },
          { trigger: 'mask:drag', action: [o + '-mask:move'] },
          { trigger: 'mask:change', action: ['element-range-highlight:highlight'] },
        ],
        end: [
          { trigger: 'plot:mouseup', action: [o + '-mask:end'] },
          { trigger: 'mask:dragend', action: [o + '-mask:moveEnd'] },
          {
            trigger: 'document:mouseup',
            isEnable: function (s) {
              return !s.isInPlot();
            },
            action: ['element-range-highlight:clear', o + '-mask:end', o + '-mask:hide'],
          },
        ],
        rollback: [
          { trigger: 'dblclick', action: ['element-range-highlight:clear', o + '-mask:hide'] },
        ],
      };
    case 'brush-y':
      return {
        showEnable: [
          {
            trigger: 'plot:mouseenter',
            action: 'cursor:crosshair',
            isEnable:
              a ||
              function () {
                return !0;
              },
          },
          { trigger: 'plot:mouseleave', action: 'cursor:default' },
        ],
        start: [
          {
            trigger: 'mousedown',
            isEnable: a || vr,
            action: ['brush-y:start', o + '-mask:start', o + '-mask:show'],
            arg: [null, { maskStyle: n == null ? void 0 : n.style }],
          },
        ],
        processing: [{ trigger: 'mousemove', isEnable: vr, action: [o + '-mask:resize'] }],
        end: [
          {
            trigger: 'mouseup',
            isEnable: vr,
            action: ['brush-y:filter', 'brush-y:end', o + '-mask:end', o + '-mask:hide'],
          },
        ],
        rollback: [{ trigger: 'dblclick', action: ['brush-y:reset'] }],
      };
    case 'brush-y-highlight':
      return {
        showEnable: [
          {
            trigger: 'plot:mouseenter',
            action: 'cursor:crosshair',
            isEnable:
              a ||
              function () {
                return !0;
              },
          },
          {
            trigger: 'mask:mouseenter',
            action: 'cursor:move',
            isEnable:
              a ||
              function () {
                return !0;
              },
          },
          { trigger: 'plot:mouseleave', action: 'cursor:default' },
          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },
        ],
        start: [
          {
            trigger: 'plot:mousedown',
            isEnable:
              a ||
              function (s) {
                return !s.isInShape('mask');
              },
            action: [o + '-mask:start', o + '-mask:show'],
            arg: [{ maskStyle: n == null ? void 0 : n.style }],
          },
          { trigger: 'mask:dragstart', action: [o + '-mask:moveStart'] },
        ],
        processing: [
          { trigger: 'plot:mousemove', action: [o + '-mask:resize'] },
          { trigger: 'mask:drag', action: [o + '-mask:move'] },
          { trigger: 'mask:change', action: ['element-range-highlight:highlight'] },
        ],
        end: [
          { trigger: 'plot:mouseup', action: [o + '-mask:end'] },
          { trigger: 'mask:dragend', action: [o + '-mask:moveEnd'] },
          {
            trigger: 'document:mouseup',
            isEnable: function (s) {
              return !s.isInPlot();
            },
            action: ['element-range-highlight:clear', o + '-mask:end', o + '-mask:hide'],
          },
        ],
        rollback: [
          { trigger: 'dblclick', action: ['element-range-highlight:clear', o + '-mask:hide'] },
        ],
      };
    default:
      return {};
  }
}
nt('brush', Vi('brush'));
nt('brush-highlight', Vi('brush-highlight'));
nt('brush-x', Vi('brush-x', 'x-rect'));
nt('brush-y', Vi('brush-y', 'y-rect'));
nt('brush-x-highlight', Vi('brush-x-highlight', 'x-rect'));
nt('brush-y-highlight', Vi('brush-y-highlight', 'y-rect'));
var Cp = [
  'brush',
  'brush-x',
  'brush-y',
  'brush-highlight',
  'brush-x-highlight',
  'brush-y-highlight',
];
function ax(e) {
  var r = e.options,
    t = r.brush,
    i = Qt(r.interactions || [], function (n) {
      return Cp.indexOf(n.type) === -1;
    });
  return (
    t != null &&
      t.enabled &&
      (Cp.forEach(function (n) {
        var a = !1;
        switch (t.type) {
          case 'x-rect':
            a = n === (t.action === 'highlight' ? 'brush-x-highlight' : 'brush-x');
            break;
          case 'y-rect':
            a = n === (t.action === 'highlight' ? 'brush-y-highlight' : 'brush-y');
            break;
          default:
            a = n === (t.action === 'highlight' ? 'brush-highlight' : 'brush');
            break;
        }
        var o = { type: n, enable: a };
        t && (o.cfg = Vi(n, t.type, t)), i.push(o);
      }),
      (t == null ? void 0 : t.action) !== 'highlight' &&
        i.push({ type: 'filter-action', cfg: { buttonConfig: t.button } })),
    B({}, e, { options: { interactions: i } })
  );
}
var ki = { hover: '__interval-connected-area-hover__', click: '__interval-connected-area-click__' },
  sf = function (e, r) {
    return e === 'hover'
      ? [
          {
            trigger: 'interval:mouseenter',
            action: ['element-highlight-by-color:highlight', 'element-link-by-color:link'],
            arg: [null, { style: r }],
          },
        ]
      : [
          {
            trigger: 'interval:click',
            action: [
              'element-highlight-by-color:clear',
              'element-highlight-by-color:highlight',
              'element-link-by-color:clear',
              'element-link-by-color:unlink',
              'element-link-by-color:link',
            ],
            arg: [null, null, null, null, { style: r }],
          },
        ];
  };
nt(ki.hover, {
  start: sf(ki.hover),
  end: [
    {
      trigger: 'interval:mouseleave',
      action: ['element-highlight-by-color:reset', 'element-link-by-color:unlink'],
    },
  ],
});
nt(ki.click, {
  start: sf(ki.click),
  end: [
    {
      trigger: 'document:mousedown',
      action: ['element-highlight-by-color:clear', 'element-link-by-color:clear'],
    },
  ],
});
function TD(e) {
  return (
    e === void 0 && (e = !1),
    function (r) {
      var t = r.chart,
        i = r.options,
        n = i.connectedArea,
        a = function () {
          t.removeInteraction(ki.hover), t.removeInteraction(ki.click);
        };
      if (!e && n) {
        var o = n.trigger || 'hover';
        a(), t.interaction(ki[o], { start: sf(o, n.style) });
      } else a();
      return r;
    }
  );
}
function ox(e, r) {
  return !it(e) || !it(r) || (e === 0 && r === 0)
    ? '-'
    : e === r
    ? '100%'
    : e === 0
    ? ''
    : ((100 * r) / e).toFixed(2) + '%';
}
function kD(e, r) {
  return B(
    {
      size: r ? 32 : 80,
      spacing: r ? 8 : 12,
      offset: r ? 32 : 0,
      arrow: e.arrow !== !1 && { headSize: 12, style: { fill: 'rgba(0, 0, 0, 0.05)' } },
      text: e.text !== !1 && {
        style: {
          fontSize: 12,
          fill: 'rgba(0, 0, 0, 0.85)',
          textAlign: 'center',
          textBaseline: 'middle',
        },
        formatter: ox,
      },
    },
    e,
  );
}
function ks(e, r) {
  return Tt(r.getModel().points, function (t) {
    return e.convertPoint(t);
  });
}
function ID(e, r, t) {
  var i = e.view,
    n = e.geometry,
    a = e.group,
    o = e.options,
    s = e.horizontal,
    l = o.offset,
    u = o.size,
    c = o.arrow,
    h = i.getCoordinate(),
    f = ks(h, r)[3],
    v = ks(h, t)[0],
    d = v.y - f.y,
    p = v.x - f.x;
  if (typeof c != 'boolean') {
    var g = c.headSize,
      y = o.spacing,
      m;
    s
      ? (p - g) / 2 < y
        ? ((y = Math.max(1, (p - g) / 2)),
          (m = [
            [f.x + y, f.y - l],
            [f.x + y, f.y - l - u],
            [v.x - y, v.y - l - u / 2],
          ]))
        : (m = [
            [f.x + y, f.y - l],
            [f.x + y, f.y - l - u],
            [v.x - y - g, v.y - l - u],
            [v.x - y, v.y - l - u / 2],
            [v.x - y - g, v.y - l],
          ])
      : (d - g) / 2 < y
      ? ((y = Math.max(1, (d - g) / 2)),
        (m = [
          [f.x + l, f.y + y],
          [f.x + l + u, f.y + y],
          [v.x + l + u / 2, v.y - y],
        ]))
      : (m = [
          [f.x + l, f.y + y],
          [f.x + l + u, f.y + y],
          [v.x + l + u, v.y - y - g],
          [v.x + l + u / 2, v.y - y],
          [v.x + l, v.y - y - g],
        ]),
      a.addShape('polygon', {
        id: i.id + '-conversion-tag-arrow-' + n.getElementId(r.getModel().mappingData),
        name: 'conversion-tag-arrow',
        origin: { element: r, nextElement: t },
        attrs: x(x({}, c.style || {}), { points: m }),
      });
  }
}
function LD(e, r, t) {
  var i,
    n,
    a,
    o = e.view,
    s = e.geometry,
    l = e.group,
    u = e.options,
    c = e.field,
    h = e.horizontal,
    f = u.offset,
    v = u.size;
  if (typeof u.text != 'boolean') {
    var d = o.getCoordinate(),
      p =
        ((i = u.text) === null || i === void 0 ? void 0 : i.formatter) &&
        ((n = u.text) === null || n === void 0
          ? void 0
          : n.formatter(r.getData()[c], t.getData()[c])),
      g = ks(d, r)[h ? 3 : 0],
      y = ks(d, t)[h ? 0 : 3],
      m = l.addShape('text', {
        id: o.id + '-conversion-tag-text-' + s.getElementId(r.getModel().mappingData),
        name: 'conversion-tag-text',
        origin: { element: r, nextElement: t },
        attrs: x(x({}, ((a = u.text) === null || a === void 0 ? void 0 : a.style) || {}), {
          text: p,
          x: h ? (g.x + y.x) / 2 : g.x + f + v / 2,
          y: h ? g.y - f - v / 2 : (g.y + y.y) / 2,
        }),
      });
    if (h) {
      var b = y.x - g.x,
        w = m.getBBox().width;
      if (w > b) {
        var S = w / p.length,
          C = Math.max(1, Math.ceil(b / S) - 1),
          F = p.slice(0, C) + '...';
        m.attr('text', F);
      }
    }
  }
}
function OD(e, r, t) {
  ID(e, r, t), LD(e, r, t);
}
function PD(e, r, t) {
  return (
    r === void 0 && (r = !0),
    t === void 0 && (t = !1),
    function (i) {
      var n = i.options,
        a = i.chart,
        o = n.conversionTag,
        s = n.theme;
      return (
        o &&
          !t &&
          (a.theme(B({}, yt(s) ? s : da(s), { columnWidthRatio: 1 / 3 })),
          a.annotation().shape({
            render: function (l, u) {
              var c = l.addGroup({
                  id: a.id + '-conversion-tag-group',
                  name: 'conversion-tag-group',
                }),
                h = We(a.geometries, function (d) {
                  return d.type === 'interval';
                }),
                f = { view: u, geometry: h, group: c, field: e, horizontal: r, options: kD(o, r) },
                v = h.elements;
              A(v, function (d, p) {
                p > 0 && OD(f, v[p - 1], d);
              });
            },
          })),
        i
      );
    }
  );
}
function DD(e) {
  var r = e.options,
    t = r.legend,
    i = r.seriesField,
    n = r.isStack;
  return (
    i ? t !== !1 && (t = x({ position: n ? 'right-top' : 'top-left' }, t)) : (t = !1),
    (e.options.legend = t),
    e
  );
}
function BD(e) {
  var r = e.chart,
    t = e.options,
    i = t.data,
    n = t.columnStyle,
    a = t.color,
    o = t.columnWidthRatio,
    s = t.isPercent,
    l = t.isGroup,
    u = t.isStack,
    c = t.xField,
    h = t.yField,
    f = t.seriesField,
    v = t.groupField,
    d = t.tooltip,
    p = t.shape,
    g = s && l && u ? pD(i, h, [c, v], h) : no(i, h, c, h, s),
    y = [];
  u && f && !l
    ? g.forEach(function (w) {
        var S = y.find(function (C) {
          return C[c] === w[c] && C[f] === w[f];
        });
        S ? (S[h] += w[h] || 0) : y.push(x({}, w));
      })
    : (y = g),
    r.data(y);
  var m = s
      ? x(
          {
            formatter: function (w) {
              return {
                name: l && u ? w[f] + ' - ' + w[v] : w[f] || w[c],
                value: (Number(w[h]) * 100).toFixed(2) + '%',
              };
            },
          },
          d,
        )
      : d,
    b = B({}, e, {
      options: { data: y, widthRatio: o, tooltip: m, interval: { shape: p, style: n, color: a } },
    });
  return re(b), b;
}
function lf(e) {
  var r,
    t,
    i = e.options,
    n = i.xAxis,
    a = i.yAxis,
    o = i.xField,
    s = i.yField,
    l = i.data,
    u = i.isPercent,
    c = u ? { max: 1, min: 0, minLimit: 0, maxLimit: 1 } : {};
  return rt(
    Rt(
      ((r = {}), (r[o] = n), (r[s] = a), r),
      ((t = {}), (t[o] = { type: 'cat' }), (t[s] = x(x({}, Qh(l, s)), c)), t),
    ),
  )(e);
}
function RD(e) {
  var r = e.chart,
    t = e.options,
    i = t.xAxis,
    n = t.yAxis,
    a = t.xField,
    o = t.yField;
  return i === !1 ? r.axis(a, !1) : r.axis(a, i), n === !1 ? r.axis(o, !1) : r.axis(o, n), e;
}
function $D(e) {
  var r = e.chart,
    t = e.options,
    i = t.legend,
    n = t.seriesField;
  return i && n ? r.legend(n, i) : i === !1 && r.legend(!1), e;
}
function ND(e) {
  var r = e.chart,
    t = e.options,
    i = t.label,
    n = t.yField,
    a = t.isRange,
    o = ee(r, 'interval');
  if (!i) o.label(!1);
  else {
    var s = i.callback,
      l = mt(i, ['callback']);
    o.label({
      fields: [n],
      callback: s,
      cfg: x(
        {
          layout:
            l != null && l.position
              ? void 0
              : [
                  { type: 'interval-adjust-position' },
                  { type: 'interval-hide-overlap' },
                  { type: 'adjust-color' },
                  { type: 'limit-in-plot', cfg: { action: 'hide' } },
                ],
        },
        _t(
          a
            ? x(
                {
                  content: function (u) {
                    var c;
                    return (c = u[n]) === null || c === void 0 ? void 0 : c.join('-');
                  },
                },
                l,
              )
            : l,
        ),
      ),
    });
  }
  return e;
}
function zD(e) {
  var r = e.chart,
    t = e.options,
    i = t.tooltip,
    n = t.isGroup,
    a = t.isStack,
    o = t.groupField,
    s = t.data,
    l = t.xField,
    u = t.yField,
    c = t.seriesField;
  if (i === !1) r.tooltip(!1);
  else {
    var h = i;
    if (n && a) {
      var f = h.customItems,
        v =
          (h == null ? void 0 : h.formatter) ||
          function (d) {
            return { name: d[c] + ' - ' + d[o], value: d[u] };
          };
      h = x(x({}, h), {
        customItems: function (d) {
          var p = [];
          return (
            A(d, function (g) {
              var y = Qt(s, function (m) {
                return Fg(m, gt(g.data, [l, c]));
              });
              y.forEach(function (m) {
                p.push(x(x(x({}, g), { value: m[u], data: m, mappingData: { _origin: m } }), v(m)));
              });
            }),
            f ? f(p) : p
          );
        },
      });
    }
    r.tooltip(h);
  }
  return e;
}
function Ol(e, r) {
  r === void 0 && (r = !1);
  var t = e.options,
    i = t.seriesField;
  return rt(
    DD,
    ht,
    Ie('columnStyle'),
    oi,
    j0('rect'),
    BD,
    lf,
    RD,
    $D,
    zD,
    io,
    nf,
    ND,
    ax,
    It,
    wt,
    Ot(),
    PD(t.yField, !r, !!i),
    TD(!t.isStack),
    Ri,
  )(e);
}
function GD(e) {
  var r = e.options,
    t = r.xField,
    i = r.yField,
    n = r.xAxis,
    a = r.yAxis,
    o = { left: 'bottom', right: 'top', top: 'left', bottom: 'right' },
    s = a !== !1 ? x({ position: o[(a == null ? void 0 : a.position) || 'left'] }, a) : !1,
    l = n !== !1 ? x({ position: o[(n == null ? void 0 : n.position) || 'bottom'] }, n) : !1;
  return x(x({}, e), { options: x(x({}, r), { xField: i, yField: t, xAxis: s, yAxis: l }) });
}
function HD(e) {
  var r = e.options,
    t = r.label;
  return (
    t &&
      !t.position &&
      ((t.position = 'left'),
      t.layout ||
        (t.layout = [
          { type: 'interval-adjust-position' },
          { type: 'interval-hide-overlap' },
          { type: 'adjust-color' },
          { type: 'limit-in-plot', cfg: { action: 'hide' } },
        ])),
    B({}, e, { options: { label: t } })
  );
}
function VD(e) {
  var r = e.options,
    t = r.seriesField,
    i = r.isStack,
    n = r.legend;
  return (
    t ? n !== !1 && (n = x({ position: i ? 'top-left' : 'right-top' }, n || {})) : (n = !1),
    B({}, e, { options: { legend: n } })
  );
}
function YD(e) {
  var r = e.options,
    t = [{ type: 'transpose' }, { type: 'reflectY' }].concat(r.coordinate || []);
  return B({}, e, { options: { coordinate: t } });
}
function WD(e) {
  var r = e.chart,
    t = e.options,
    i = t.barStyle,
    n = t.barWidthRatio,
    a = t.minBarWidth,
    o = t.maxBarWidth,
    s = t.barBackground;
  return Ol(
    {
      chart: r,
      options: x(x({}, t), {
        columnStyle: i,
        columnWidthRatio: n,
        minColumnWidth: a,
        maxColumnWidth: o,
        columnBackground: s,
      }),
    },
    !0,
  );
}
function sx(e) {
  return rt(GD, HD, VD, Yt, YD, WD)(e);
}
var XD = B({}, at.getDefaultOptions(), {
    barWidthRatio: 0.6,
    marginRatio: 1 / 32,
    tooltip: { shared: !0, showMarkers: !1, offset: 20 },
    legend: { radio: {} },
    interactions: [{ type: 'active-region' }],
  }),
  _D = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'bar'), t;
    }
    return (
      (r.getDefaultOptions = function () {
        return XD;
      }),
      (r.prototype.changeData = function (t) {
        var i, n;
        this.updateOption({ data: t });
        var a = this,
          o = a.chart,
          s = a.options,
          l = s.isPercent,
          u = s.xField,
          c = s.yField,
          h = s.xAxis,
          f = s.yAxis;
        (i = [c, u]), (u = i[0]), (c = i[1]), (n = [f, h]), (h = n[0]), (f = n[1]);
        var v = x(x({}, s), { xField: u, yField: c, yAxis: f, xAxis: h });
        lf({ chart: o, options: v }), o.changeData(no(t, u, c, u, l));
      }),
      (r.prototype.getDefaultOptions = function () {
        return r.getDefaultOptions();
      }),
      (r.prototype.getSchemaAdaptor = function () {
        return sx;
      }),
      r
    );
  })(at),
  jD = B({}, at.getDefaultOptions(), {
    columnWidthRatio: 0.6,
    marginRatio: 1 / 32,
    tooltip: { shared: !0, showMarkers: !1, offset: 20 },
    legend: { radio: {} },
    interactions: [{ type: 'active-region' }],
  }),
  UD = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'column'), t;
    }
    return (
      (r.getDefaultOptions = function () {
        return jD;
      }),
      (r.prototype.changeData = function (t) {
        this.updateOption({ data: t });
        var i = this.options,
          n = i.yField,
          a = i.xField,
          o = i.isPercent,
          s = this,
          l = s.chart,
          u = s.options;
        lf({ chart: l, options: u }), this.chart.changeData(no(t, n, a, n, o));
      }),
      (r.prototype.getDefaultOptions = function () {
        return r.getDefaultOptions();
      }),
      (r.prototype.getSchemaAdaptor = function () {
        return Ol;
      }),
      r
    );
  })(at),
  wu,
  Jr = '$$percentage$$',
  ti = '$$mappingValue$$',
  br = '$$conversion$$',
  Cc = '$$totalPercentage$$',
  Na = '$$x$$',
  za = '$$y$$',
  qD = {
    appendPadding: [0, 80],
    minSize: 0,
    maxSize: 1,
    meta: ((wu = {}), (wu[ti] = { min: 0, max: 1, nice: !1 }), wu),
    label: { style: { fill: '#fff', fontSize: 12 } },
    tooltip: { showTitle: !1, showMarkers: !1, shared: !1 },
    conversionTag: { offsetX: 10, offsetY: 0, style: { fontSize: 12, fill: 'rgba(0,0,0,0.45)' } },
  },
  lx = 'CONVERSION_TAG_NAME';
function uf(e, r, t) {
  var i = [],
    n = t.yField,
    a = t.maxSize,
    o = t.minSize,
    s = M(Ig(r, n), [n]),
    l = it(a) ? a : 1,
    u = it(o) ? o : 0;
  return (
    (i = Tt(e, function (c, h) {
      var f = (c[n] || 0) / s;
      return (c[Jr] = f), (c[ti] = (l - u) * f + u), (c[br] = [M(e, [h - 1, n]), c[n]]), c;
    })),
    i
  );
}
function cf(e) {
  return function (r) {
    var t = r.chart,
      i = r.options,
      n = i.conversionTag,
      a = i.filteredData,
      o = a || t.getOptions().data;
    if (n) {
      var s = n.formatter;
      o.forEach(function (l, u) {
        if (!(u <= 0 || Number.isNaN(l[ti]))) {
          var c = e(l, u, o, {
            top: !0,
            name: lx,
            text: {
              content: q(s) ? s(l, o) : s,
              offsetX: n.offsetX,
              offsetY: n.offsetY,
              position: 'end',
              autoRotate: !1,
              style: x({ textAlign: 'start', textBaseline: 'middle' }, n.style),
            },
          });
          t.annotation().line(c);
        }
      });
    }
    return r;
  };
}
function ZD(e) {
  var r = e.chart,
    t = e.options,
    i = t.data,
    n = i === void 0 ? [] : i,
    a = t.yField,
    o = t.maxSize,
    s = t.minSize,
    l = uf(n, n, { yField: a, maxSize: o, minSize: s });
  return r.data(l), e;
}
function KD(e) {
  var r = e.chart,
    t = e.options,
    i = t.xField,
    n = t.yField,
    a = t.color,
    o = t.tooltip,
    s = t.label,
    l = t.shape,
    u = l === void 0 ? 'funnel' : l,
    c = t.funnelStyle,
    h = t.state,
    f = Ge(o, [i, n]),
    v = f.fields,
    d = f.formatter;
  Ce({
    chart: r,
    options: {
      type: 'interval',
      xField: i,
      yField: ti,
      colorField: i,
      tooltipFields: $(v) && v.concat([Jr, br]),
      mapping: { shape: u, tooltip: d, color: a, style: c },
      label: s,
      state: h,
    },
  });
  var p = ee(e.chart, 'interval');
  return p.adjust('symmetric'), e;
}
function QD(e) {
  var r = e.chart,
    t = e.options,
    i = t.isTransposed;
  return r.coordinate({ type: 'rect', actions: i ? [] : [['transpose'], ['scale', 1, -1]] }), e;
}
function ux(e) {
  var r = e.options,
    t = e.chart,
    i = r.maxSize,
    n = M(t, ['geometries', '0', 'dataArray'], []),
    a = M(t, ['options', 'data', 'length']),
    o = Tt(n, function (l) {
      return M(l, ['0', 'nextPoints', '0', 'x']) * a - 0.5;
    }),
    s = function (l, u, c, h) {
      var f = i - (i - l[ti]) / 2;
      return x(x({}, h), { start: [o[u - 1] || u - 0.5, f], end: [o[u - 1] || u - 0.5, f + 0.05] });
    };
  return cf(s)(e), e;
}
function cx(e) {
  return rt(ZD, KD, QD, ux)(e);
}
function JD(e) {
  var r,
    t = e.chart,
    i = e.options,
    n = i.data,
    a = n === void 0 ? [] : n,
    o = i.yField;
  return t.data(a), t.scale(((r = {}), (r[o] = { sync: !0 }), r)), e;
}
function tB(e) {
  var r = e.chart,
    t = e.options,
    i = t.data,
    n = t.xField,
    a = t.yField,
    o = t.color,
    s = t.compareField,
    l = t.isTransposed,
    u = t.tooltip,
    c = t.maxSize,
    h = t.minSize,
    f = t.label,
    v = t.funnelStyle,
    d = t.state,
    p = t.showFacetTitle;
  return (
    r.facet('mirror', {
      fields: [s],
      transpose: !l,
      padding: l ? 0 : [32, 0, 0, 0],
      showTitle: p,
      eachView: function (g, y) {
        var m = l ? y.rowIndex : y.columnIndex;
        l ||
          g.coordinate({ type: 'rect', actions: [['transpose'], ['scale', m === 0 ? -1 : 1, -1]] });
        var b = uf(y.data, i, { yField: a, maxSize: c, minSize: h });
        g.data(b);
        var w = Ge(u, [n, a, s]),
          S = w.fields,
          C = w.formatter,
          F = l
            ? { offset: m === 0 ? 10 : -23, position: m === 0 ? 'bottom' : 'top' }
            : { offset: 10, position: 'left', style: { textAlign: m === 0 ? 'end' : 'start' } };
        Ce({
          chart: g,
          options: {
            type: 'interval',
            xField: n,
            yField: ti,
            colorField: n,
            tooltipFields: $(S) && S.concat([Jr, br]),
            mapping: { shape: 'funnel', tooltip: C, color: o, style: v },
            label: f === !1 ? !1 : B({}, F, f),
            state: d,
          },
        });
      },
    }),
    e
  );
}
function hx(e) {
  var r = e.chart,
    t = e.index,
    i = e.options,
    n = i.conversionTag,
    a = i.isTransposed;
  (it(t) ? [r] : r.views).forEach(function (o, s) {
    var l = M(o, ['geometries', '0', 'dataArray'], []),
      u = M(o, ['options', 'data', 'length']),
      c = Tt(l, function (f) {
        return M(f, ['0', 'nextPoints', '0', 'x']) * u - 0.5;
      }),
      h = function (f, v, d, p) {
        var g = (t || s) === 0 ? -1 : 1;
        return B({}, p, {
          start: [c[v - 1] || v - 0.5, f[ti]],
          end: [c[v - 1] || v - 0.5, f[ti] + 0.05],
          text: a
            ? { style: { textAlign: 'start' } }
            : {
                offsetX: n !== !1 ? g * n.offsetX : 0,
                style: { textAlign: (t || s) === 0 ? 'end' : 'start' },
              },
        });
      };
    cf(h)(B({}, { chart: o, options: i }));
  });
}
function eB(e) {
  var r = e.chart;
  return (
    r.once('beforepaint', function () {
      return hx(e);
    }),
    e
  );
}
function rB(e) {
  return rt(JD, tB, eB)(e);
}
function iB(e) {
  var r = e.chart,
    t = e.options,
    i = t.data,
    n = i === void 0 ? [] : i,
    a = t.yField,
    o = oe(
      n,
      function (u, c) {
        return u + (c[a] || 0);
      },
      0,
    ),
    s = Ig(n, a)[a],
    l = Tt(n, function (u, c) {
      var h = [],
        f = [];
      if (((u[Cc] = (u[a] || 0) / o), c)) {
        var v = n[c - 1][Na],
          d = n[c - 1][za];
        (h[0] = v[3]), (f[0] = d[3]), (h[1] = v[2]), (f[1] = d[2]);
      } else (h[0] = -0.5), (f[0] = 1), (h[1] = 0.5), (f[1] = 1);
      return (
        (f[2] = f[1] - u[Cc]),
        (h[2] = (f[2] + 1) / 4),
        (f[3] = f[2]),
        (h[3] = -h[2]),
        (u[Na] = h),
        (u[za] = f),
        (u[Jr] = (u[a] || 0) / s),
        (u[br] = [M(n, [c - 1, a]), u[a]]),
        u
      );
    });
  return r.data(l), e;
}
function nB(e) {
  var r = e.chart,
    t = e.options,
    i = t.xField,
    n = t.yField,
    a = t.color,
    o = t.tooltip,
    s = t.label,
    l = t.funnelStyle,
    u = t.state,
    c = Ge(o, [i, n]),
    h = c.fields,
    f = c.formatter;
  return (
    Ce({
      chart: r,
      options: {
        type: 'polygon',
        xField: Na,
        yField: za,
        colorField: i,
        tooltipFields: $(h) && h.concat([Jr, br]),
        label: s,
        state: u,
        mapping: { tooltip: f, color: a, style: l },
      },
    }),
    e
  );
}
function aB(e) {
  var r = e.chart,
    t = e.options,
    i = t.isTransposed;
  return r.coordinate({ type: 'rect', actions: i ? [['transpose'], ['reflect', 'x']] : [] }), e;
}
function oB(e) {
  var r = function (t, i, n, a) {
    return x(x({}, a), { start: [t[Na][1], t[za][1]], end: [t[Na][1] + 0.05, t[za][1]] });
  };
  return cf(r)(e), e;
}
function sB(e) {
  return rt(iB, nB, aB, oB)(e);
}
function lB(e) {
  var r,
    t = e.chart,
    i = e.options,
    n = i.data,
    a = n === void 0 ? [] : n,
    o = i.yField;
  return t.data(a), t.scale(((r = {}), (r[o] = { sync: !0 }), r)), e;
}
function uB(e) {
  var r = e.chart,
    t = e.options,
    i = t.seriesField,
    n = t.isTransposed,
    a = t.showFacetTitle;
  return (
    r.facet('rect', {
      fields: [i],
      padding: [n ? 0 : 32, 10, 0, 10],
      showTitle: a,
      eachView: function (o, s) {
        cx(B({}, e, { chart: o, options: { data: s.data } }));
      },
    }),
    e
  );
}
function cB(e) {
  return rt(lB, uB)(e);
}
var hB = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.rendering = !1), t;
    }
    return (
      (r.prototype.change = function (t) {
        var i = this;
        if (!this.rendering) {
          var n = t.seriesField,
            a = t.compareField,
            o = a ? hx : ux,
            s = this.context.view,
            l = n || a ? s.views : [s];
          Tt(l, function (u, c) {
            var h = u.getController('annotation'),
              f = Qt(M(h, ['option'], []), function (d) {
                var p = d.name;
                return p !== lx;
              });
            h.clear(!0),
              A(f, function (d) {
                typeof d == 'object' && u.annotation()[d.type](d);
              });
            var v = M(u, ['filteredData'], u.getOptions().data);
            o({ chart: u, index: c, options: x(x({}, t), { filteredData: uf(v, v, t) }) }),
              u.filterData(v),
              (i.rendering = !0),
              u.render(!0);
          });
        }
        this.rendering = !1;
      }),
      r
    );
  })(Ft),
  fx = 'funnel-conversion-tag',
  Ac = 'funnel-afterrender',
  vx = { trigger: 'afterrender', action: fx + ':change' };
tt(fx, hB);
nt(Ac, { start: [vx] });
function fB(e) {
  var r = e.options,
    t = r.compareField,
    i = r.xField,
    n = r.yField,
    a = r.locale,
    o = r.funnelStyle,
    s = r.data,
    l = Ml(a),
    u = {
      label: t
        ? {
            fields: [i, n, t, Jr, br],
            formatter: function (h) {
              return '' + h[n];
            },
          }
        : {
            fields: [i, n, Jr, br],
            offset: 0,
            position: 'middle',
            formatter: function (h) {
              return h[i] + ' ' + h[n];
            },
          },
      tooltip: {
        title: i,
        formatter: function (h) {
          return { name: h[i], value: h[n] };
        },
      },
      conversionTag: {
        formatter: function (h) {
          return l.get(['conversionTag', 'label']) + ': ' + ox.apply(void 0, h[br]);
        },
      },
    },
    c;
  return (
    (t || o) &&
      (c = function (h) {
        return B({}, t && { lineWidth: 1, stroke: '#fff' }, q(o) ? o(h) : o);
      }),
    B({ options: u }, e, { options: { funnelStyle: c, data: ue(s) } })
  );
}
function vB(e) {
  var r = e.options,
    t = r.compareField,
    i = r.dynamicHeight,
    n = r.seriesField;
  return n ? cB(e) : t ? rB(e) : i ? sB(e) : cx(e);
}
function dB(e) {
  var r,
    t = e.options,
    i = t.xAxis,
    n = t.yAxis,
    a = t.xField,
    o = t.yField;
  return rt(Rt(((r = {}), (r[a] = i), (r[o] = n), r)))(e);
}
function pB(e) {
  var r = e.chart;
  return r.axis(!1), e;
}
function gB(e) {
  var r = e.chart,
    t = e.options,
    i = t.legend;
  return i === !1 ? r.legend(!1) : r.legend(i), e;
}
function yB(e) {
  var r = e.chart,
    t = e.options,
    i = t.interactions,
    n = t.dynamicHeight;
  return (
    A(i, function (a) {
      a.enable === !1 ? r.removeInteraction(a.type) : r.interaction(a.type, a.cfg || {});
    }),
    n ? r.removeInteraction(Ac) : r.interaction(Ac, { start: [x(x({}, vx), { arg: t })] }),
    e
  );
}
function dx(e) {
  return rt(fB, vB, dB, pB, Yt, yB, gB, wt, ht, Ot())(e);
}
var mB = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'funnel'), t;
    }
    return (
      (r.getDefaultOptions = function () {
        return qD;
      }),
      (r.prototype.getDefaultOptions = function () {
        return r.getDefaultOptions();
      }),
      (r.prototype.getSchemaAdaptor = function () {
        return dx;
      }),
      (r.prototype.setState = function (t, i, n) {
        n === void 0 && (n = !0);
        var a = $a(this.chart);
        A(a, function (o) {
          i(o.getData()) && o.setState(t, n);
        });
      }),
      (r.prototype.getStates = function () {
        var t = $a(this.chart),
          i = [];
        return (
          A(t, function (n) {
            var a = n.getData(),
              o = n.getStates();
            A(o, function (s) {
              i.push({ data: a, state: s, geometry: n.geometry, element: n });
            });
          }),
          i
        );
      }),
      (r.CONVERSATION_FIELD = br),
      (r.PERCENT_FIELD = Jr),
      (r.TOTAL_PERCENT_FIELD = Cc),
      r
    );
  })(at),
  Yo,
  hf = 'range',
  px = 'type',
  mr = 'percent',
  xB = '#f0f0f0',
  gx = 'indicator-view',
  yx = 'range-view',
  wB = {
    percent: 0,
    range: { ticks: [] },
    innerRadius: 0.9,
    radius: 0.95,
    startAngle: (-7 / 6) * Math.PI,
    endAngle: (1 / 6) * Math.PI,
    syncViewPadding: !0,
    axis: {
      line: null,
      label: { offset: -24, style: { textAlign: 'center', textBaseline: 'middle' } },
      subTickLine: { length: -8 },
      tickLine: { length: -12 },
      grid: null,
    },
    indicator: {
      pointer: { style: { lineWidth: 5, lineCap: 'round' } },
      pin: { style: { r: 9.75, lineWidth: 4.5, fill: '#fff' } },
    },
    statistic: { title: !1 },
    meta:
      ((Yo = {}),
      (Yo[hf] = { sync: 'v' }),
      (Yo[mr] = { sync: 'v', tickCount: 5, tickInterval: 0.2 }),
      Yo),
    animation: !1,
  };
function bB(e, r) {
  return e.map(function (t, i) {
    var n;
    return (n = {}), (n[hf] = t - (e[i - 1] || 0)), (n[px] = '' + i), (n[mr] = r), n;
  });
}
function mx(e) {
  var r;
  return [((r = {}), (r[mr] = Mt(e, 0, 1)), r)];
}
function xx(e, r) {
  var t = M(r, ['ticks'], []),
    i = Xt(t) ? Ii(t) : [0, Mt(e, 0, 1), 1];
  return i[0] || i.shift(), bB(i, e);
}
function SB(e) {
  var r = e.chart,
    t = e.options,
    i = t.percent,
    n = t.range,
    a = t.radius,
    o = t.innerRadius,
    s = t.startAngle,
    l = t.endAngle,
    u = t.axis,
    c = t.indicator,
    h = t.gaugeStyle,
    f = t.type,
    v = t.meter,
    d = n.color,
    p = n.width;
  if (c) {
    var g = mx(i),
      y = r.createView({ id: gx });
    y.data(g),
      y
        .point()
        .position(mr + '*1')
        .shape(c.shape || 'gauge-indicator')
        .customInfo({ defaultColor: r.getTheme().defaultColor, indicator: c }),
      y.coordinate('polar', { startAngle: s, endAngle: l, radius: o * a }),
      y.axis(mr, u),
      y.scale(mr, gt(u, me));
  }
  var m = xx(i, t.range),
    b = r.createView({ id: yx });
  b.data(m);
  var w = et(d) ? [d, xB] : d,
    S = re({
      chart: b,
      options: {
        xField: '1',
        yField: hf,
        seriesField: px,
        rawFields: [mr],
        isStack: !0,
        interval: { color: w, style: h, shape: f === 'meter' ? 'meter-gauge' : null },
        args: { zIndexReversed: !0, sortZIndex: !0 },
        minColumnWidth: p,
        maxColumnWidth: p,
      },
    }).ext,
    C = S.geometry;
  return (
    C.customInfo({ meter: v }),
    b.coordinate('polar', { innerRadius: o, radius: a, startAngle: s, endAngle: l }).transpose(),
    e
  );
}
function CB(e) {
  var r;
  return rt(Rt(((r = { range: { min: 0, max: 1, maxLimit: 1, minLimit: 0 } }), (r[mr] = {}), r)))(
    e,
  );
}
function wx(e, r) {
  var t = e.chart,
    i = e.options,
    n = i.statistic,
    a = i.percent;
  if ((t.getController('annotation').clear(!0), n)) {
    var o = n.content,
      s = void 0;
    o &&
      (s = B(
        {},
        {
          content: (a * 100).toFixed(2) + '%',
          style: {
            opacity: 0.75,
            fontSize: '30px',
            lineHeight: 1,
            textAlign: 'center',
            color: 'rgba(44,53,66,0.85)',
          },
        },
        o,
      )),
      PP(t, { statistic: x(x({}, n), { content: s }) }, { percent: a });
  }
  return r && t.render(!0), e;
}
function AB(e) {
  var r = e.chart,
    t = e.options,
    i = t.tooltip;
  return (
    i
      ? r.tooltip(
          B(
            {
              showTitle: !1,
              showMarkers: !1,
              containerTpl: '<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',
              domStyles: { 'g2-tooltip': { padding: '4px 8px', fontSize: '10px' } },
              customContent: function (n, a) {
                var o = M(a, [0, 'data', mr], 0);
                return (o * 100).toFixed(2) + '%';
              },
            },
            i,
          ),
        )
      : r.tooltip(!1),
    e
  );
}
function MB(e) {
  var r = e.chart;
  return r.legend(!1), e;
}
function bx(e) {
  return rt(ht, wt, SB, CB, AB, wx, It, Ot(), MB)(e);
}
dt('point', 'gauge-indicator', {
  draw: function (e, r) {
    var t = e.customInfo,
      i = t.indicator,
      n = t.defaultColor,
      a = i,
      o = a.pointer,
      s = a.pin,
      l = r.addGroup(),
      u = this.parsePoint({ x: 0, y: 0 });
    return (
      o &&
        l.addShape('line', {
          name: 'pointer',
          attrs: x({ x1: u.x, y1: u.y, x2: e.x, y2: e.y, stroke: n }, o.style),
        }),
      s && l.addShape('circle', { name: 'pin', attrs: x({ x: u.x, y: u.y, stroke: n }, s.style) }),
      l
    );
  },
});
dt('interval', 'meter-gauge', {
  draw: function (e, r) {
    var t = e.customInfo.meter,
      i = t === void 0 ? {} : t,
      n = i.steps,
      a = n === void 0 ? 50 : n,
      o = i.stepRatio,
      s = o === void 0 ? 0.5 : o;
    (a = a < 1 ? 1 : a), (s = Mt(s, 0, 1));
    var l = this.coordinate,
      u = l.startAngle,
      c = l.endAngle,
      h = 0;
    if (s > 0 && s < 1) {
      var f = c - u;
      h = f / a / (s / (1 - s) + 1 - 1 / a);
    }
    for (
      var v = (h / (1 - s)) * s,
        d = r.addGroup(),
        p = this.coordinate.getCenter(),
        g = this.coordinate.getRadius(),
        y = be.getAngle(e, this.coordinate),
        m = y.startAngle,
        b = y.endAngle,
        w = m;
      w < b;

    ) {
      var S = void 0,
        C = (w - u) % (v + h);
      C < v ? (S = w + (v - C)) : ((w += v + h - C), (S = w + v));
      var F = be.getSectorPath(p.x, p.y, g, w, Math.min(S, b), g * this.coordinate.innerRadius);
      d.addShape('path', {
        name: 'meter-gauge',
        attrs: { path: F, fill: e.color, stroke: e.color, lineWidth: 0.5 },
      }),
        (w = S + h);
    }
    return d;
  },
});
var FB = (function (e) {
  I(r, e);
  function r() {
    var t = (e !== null && e.apply(this, arguments)) || this;
    return (t.type = 'gauge'), t;
  }
  return (
    (r.getDefaultOptions = function () {
      return wB;
    }),
    (r.prototype.changeData = function (t) {
      this.chart.emit(st.BEFORE_CHANGE_DATA, Lt.fromData(this.chart, st.BEFORE_CHANGE_DATA, null)),
        this.updateOption({ percent: t });
      var i = this.chart.views.find(function (a) {
        return a.id === gx;
      });
      i && i.data(mx(t));
      var n = this.chart.views.find(function (a) {
        return a.id === yx;
      });
      n && n.data(xx(t, this.options.range)),
        wx({ chart: this.chart, options: this.options }, !0),
        this.chart.emit(st.AFTER_CHANGE_DATA, Lt.fromData(this.chart, st.AFTER_CHANGE_DATA, null));
    }),
    (r.prototype.getDefaultOptions = function () {
      return r.getDefaultOptions();
    }),
    (r.prototype.getSchemaAdaptor = function () {
      return bx;
    }),
    r
  );
})(at);
function Ap(e, r, t) {
  if (t === 1) return [0, r];
  var i = Math.floor(e / r);
  return [r * i, r * (i + 1)];
}
function EB(e) {
  return Math.ceil(Math.log(e.length) / Math.LN2) + 1;
}
function Sx(e, r, t, i, n) {
  var a = ue(e);
  NS(a, r);
  var o = _e(a, r),
    s = Tg(o),
    l = s.max - s.min,
    u = t;
  if ((!t && i && (u = i > 1 ? l / (i - 1) : s.max), !t && !i)) {
    var c = EB(o);
    u = l / c;
  }
  var h = {},
    f = Fe(a, n);
  we(f)
    ? A(a, function (d) {
        var p = d[r],
          g = Ap(p, u, i),
          y = g[0] + '-' + g[1];
        jr(h, y) || (h[y] = { range: g, count: 0 }), (h[y].count += 1);
      })
    : Object.keys(f).forEach(function (d) {
        A(f[d], function (p) {
          var g = p[r],
            y = Ap(g, u, i),
            m = y[0] + '-' + y[1],
            b = m + '-' + d;
          jr(h, b) || ((h[b] = { range: y, count: 0 }), (h[b][n] = d)), (h[b].count += 1);
        });
      });
  var v = [];
  return (
    A(h, function (d) {
      v.push(d);
    }),
    v
  );
}
var Is = 'range',
  Ga = 'count',
  TB = B({}, at.getDefaultOptions(), {
    columnStyle: { stroke: '#FFFFFF' },
    tooltip: { shared: !0, showMarkers: !1 },
    interactions: [{ type: 'active-region' }],
  });
function kB(e) {
  var r = e.chart,
    t = e.options,
    i = t.data,
    n = t.binField,
    a = t.binNumber,
    o = t.binWidth,
    s = t.color,
    l = t.stackField,
    u = t.legend,
    c = t.columnStyle,
    h = Sx(i, n, o, a, l);
  r.data(h);
  var f = B({}, e, {
    options: {
      xField: Is,
      yField: Ga,
      seriesField: l,
      isStack: !0,
      interval: { color: s, style: c },
    },
  });
  return re(f), u && l ? r.legend(l, u) : r.legend(!1), e;
}
function IB(e) {
  var r,
    t = e.options,
    i = t.xAxis,
    n = t.yAxis;
  return rt(Rt(((r = {}), (r[Is] = i), (r[Ga] = n), r)))(e);
}
function LB(e) {
  var r = e.chart,
    t = e.options,
    i = t.xAxis,
    n = t.yAxis;
  return i === !1 ? r.axis(Is, !1) : r.axis(Is, i), n === !1 ? r.axis(Ga, !1) : r.axis(Ga, n), e;
}
function OB(e) {
  var r = e.chart,
    t = e.options,
    i = t.label,
    n = ee(r, 'interval');
  if (!i) n.label(!1);
  else {
    var a = i.callback,
      o = mt(i, ['callback']);
    n.label({ fields: [Ga], callback: a, cfg: _t(o) });
  }
  return e;
}
function Cx(e) {
  return rt(ht, Ie('columnStyle'), kB, IB, LB, oi, OB, Yt, It, wt)(e);
}
var PB = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'histogram'), t;
    }
    return (
      (r.getDefaultOptions = function () {
        return TB;
      }),
      (r.prototype.changeData = function (t) {
        this.updateOption({ data: t });
        var i = this.options,
          n = i.binField,
          a = i.binNumber,
          o = i.binWidth,
          s = i.stackField;
        this.chart.changeData(Sx(t, n, o, a, s));
      }),
      (r.prototype.getDefaultOptions = function () {
        return r.getDefaultOptions();
      }),
      (r.prototype.getSchemaAdaptor = function () {
        return Cx;
      }),
      r
    );
  })(at),
  DB = B({}, at.getDefaultOptions(), {
    tooltip: { shared: !0, showMarkers: !0, showCrosshairs: !0, crosshairs: { type: 'x' } },
    legend: { position: 'top-left', radio: {} },
    isStack: !1,
  }),
  BB = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.active = function () {
        var t = this.getView(),
          i = this.context.event;
        if (i.data) {
          var n = i.data.items,
            a = t.geometries.filter(function (o) {
              return o.type === 'point';
            });
          A(a, function (o) {
            A(o.elements, function (s) {
              var l =
                Eg(n, function (u) {
                  return u.data === s.data;
                }) !== -1;
              s.setState('active', l);
            });
          });
        }
      }),
      (r.prototype.reset = function () {
        var t = this.getView(),
          i = t.geometries.filter(function (n) {
            return n.type === 'point';
          });
        A(i, function (n) {
          A(n.elements, function (a) {
            a.setState('active', !1);
          });
        });
      }),
      (r.prototype.getView = function () {
        return this.context.view;
      }),
      r
    );
  })(Ft);
tt('marker-active', BB);
nt('marker-active', {
  start: [{ trigger: 'tooltip:show', action: 'marker-active:active' }],
  end: [{ trigger: 'tooltip:hide', action: 'marker-active:reset' }],
});
var RB = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'line'), t;
    }
    return (
      (r.getDefaultOptions = function () {
        return DB;
      }),
      (r.prototype.changeData = function (t) {
        this.updateOption({ data: t });
        var i = this,
          n = i.chart,
          a = i.options;
        Ll({ chart: n, options: a }), this.chart.changeData(t);
      }),
      (r.prototype.getDefaultOptions = function () {
        return r.getDefaultOptions();
      }),
      (r.prototype.getSchemaAdaptor = function () {
        return rx;
      }),
      r
    );
  })(at),
  Ax = B({}, at.getDefaultOptions(), {
    legend: { position: 'right', radio: {} },
    tooltip: { shared: !1, showTitle: !1, showMarkers: !1 },
    label: { layout: { type: 'limit-in-plot', cfg: { action: 'ellipsis' } } },
    pieStyle: { stroke: 'white', lineWidth: 1 },
    statistic: {
      title: {
        style: {
          fontWeight: 300,
          color: '#4B535E',
          textAlign: 'center',
          fontSize: '20px',
          lineHeight: 1,
        },
      },
      content: {
        style: {
          fontWeight: 'bold',
          color: 'rgba(44,53,66,0.85)',
          textAlign: 'center',
          fontSize: '32px',
          lineHeight: 1,
        },
      },
    },
    theme: { components: { annotation: { text: { animate: !1 } } } },
  }),
  $B = [1, 0, 0, 0, 1, 0, 0, 0, 1];
function Mc(e, r) {
  var t = r ? Ct(r) : Ct($B);
  return be.transform(t, e);
}
var NB = (function (e) {
  I(r, e);
  function r() {
    return (e !== null && e.apply(this, arguments)) || this;
  }
  return (
    (r.prototype.getActiveElements = function () {
      var t = be.getDelegationObject(this.context);
      if (t) {
        var i = this.context.view,
          n = t.component,
          a = t.item,
          o = n.get('field');
        if (o) {
          var s = i.geometries[0].elements;
          return s.filter(function (l) {
            return l.getModel().data[o] === a.value;
          });
        }
      }
      return [];
    }),
    (r.prototype.getActiveElementLabels = function () {
      var t = this.context.view,
        i = this.getActiveElements(),
        n = t.geometries[0].labelsContainer.getChildren();
      return n.filter(function (a) {
        return i.find(function (o) {
          return Bt(o.getData(), a.get('data'));
        });
      });
    }),
    (r.prototype.transfrom = function (t) {
      t === void 0 && (t = 7.5);
      var i = this.getActiveElements(),
        n = this.getActiveElementLabels();
      i.forEach(function (a, o) {
        var s = n[o],
          l = a.geometry.coordinate;
        if (l.isPolar && l.isTransposed) {
          var u = be.getAngle(a.getModel(), l),
            c = u.startAngle,
            h = u.endAngle,
            f = (c + h) / 2,
            v = t,
            d = v * Math.cos(f),
            p = v * Math.sin(f);
          a.shape.setMatrix(Mc([['t', d, p]])), s.setMatrix(Mc([['t', d, p]]));
        }
      });
    }),
    (r.prototype.active = function () {
      this.transfrom();
    }),
    (r.prototype.reset = function () {
      this.transfrom(0);
    }),
    r
  );
})(Ft);
function zB(e) {
  var r = e.event,
    t,
    i = r.target;
  return i && (t = i.get('element')), t;
}
var GB = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.getAnnotations = function (t) {
        var i = t || this.context.view;
        return i.getController('annotation').option;
      }),
      (r.prototype.getInitialAnnotation = function () {
        return this.initialAnnotation;
      }),
      (r.prototype.init = function () {
        var t = this,
          i = this.context.view;
        i.removeInteraction('tooltip'),
          i.on('afterchangesize', function () {
            var n = t.getAnnotations(i);
            t.initialAnnotation = n;
          });
      }),
      (r.prototype.change = function (t) {
        var i = this.context,
          n = i.view,
          a = i.event;
        this.initialAnnotation || (this.initialAnnotation = this.getAnnotations());
        var o = M(a, ['data', 'data']);
        if (a.type.match('legend-item')) {
          var s = be.getDelegationObject(this.context),
            l = n.getGroupedFields()[0];
          if (s && l) {
            var u = s.item;
            o = n.getData().find(function (v) {
              return v[l] === u.value;
            });
          }
        }
        if (o) {
          var c = M(t, 'annotations', []),
            h = M(t, 'statistic', {});
          n.getController('annotation').clear(!0),
            A(c, function (v) {
              typeof v == 'object' && n.annotation()[v.type](v);
            }),
            Cl(n, { statistic: h, plotType: 'pie' }, o),
            n.render(!0);
        }
        var f = zB(this.context);
        f && f.shape.toFront();
      }),
      (r.prototype.reset = function () {
        var t = this.context.view,
          i = t.getController('annotation');
        i.clear(!0);
        var n = this.getInitialAnnotation();
        A(n, function (a) {
          t.annotation()[a.type](a);
        }),
          t.render(!0);
      }),
      r
    );
  })(Ft),
  Mx = 'pie-statistic';
tt(Mx, GB);
nt('pie-statistic-active', {
  start: [{ trigger: 'element:mouseenter', action: 'pie-statistic:change' }],
  end: [{ trigger: 'element:mouseleave', action: 'pie-statistic:reset' }],
});
tt('pie-legend', NB);
nt('pie-legend-active', {
  start: [{ trigger: 'legend-item:mouseenter', action: 'pie-legend:active' }],
  end: [{ trigger: 'legend-item:mouseleave', action: 'pie-legend:reset' }],
});
function HB(e, r) {
  var t = null;
  return (
    A(e, function (i) {
      typeof i[r] == 'number' && (t += i[r]);
    }),
    t
  );
}
function VB(e, r) {
  var t;
  switch (e) {
    case 'inner':
      return (
        (t = '-30%'), et(r) && r.endsWith('%') ? (parseFloat(r) * 0.01 > 0 ? t : r) : r < 0 ? r : t
      );
    case 'outer':
      return (
        (t = 12), et(r) && r.endsWith('%') ? (parseFloat(r) * 0.01 < 0 ? t : r) : r > 0 ? r : t
      );
    default:
      return r;
  }
}
function Ls(e, r) {
  return Hc(xn(e, r), function (t) {
    return t[r] === 0;
  });
}
function YB(e) {
  var r = e.chart,
    t = e.options,
    i = t.data,
    n = t.angleField,
    a = t.colorField,
    o = t.color,
    s = t.pieStyle,
    l = t.shape,
    u = xn(i, n);
  if (Ls(u, n)) {
    var c = '$$percentage$$';
    (u = u.map(function (f) {
      var v;
      return x(x({}, f), ((v = {}), (v[c] = 1 / u.length), v));
    })),
      r.data(u);
    var h = B({}, e, {
      options: {
        xField: '1',
        yField: c,
        seriesField: a,
        isStack: !0,
        interval: { color: o, shape: l, style: s },
        args: { zIndexReversed: !0, sortZIndex: !0 },
      },
    });
    re(h);
  } else {
    r.data(u);
    var h = B({}, e, {
      options: {
        xField: '1',
        yField: n,
        seriesField: a,
        isStack: !0,
        interval: { color: o, shape: l, style: s },
        args: { zIndexReversed: !0, sortZIndex: !0 },
      },
    });
    re(h);
  }
  return e;
}
function WB(e) {
  var r,
    t = e.chart,
    i = e.options,
    n = i.meta,
    a = i.colorField,
    o = B({}, n);
  return t.scale(o, ((r = {}), (r[a] = { type: 'cat' }), r)), e;
}
function XB(e) {
  var r = e.chart,
    t = e.options,
    i = t.radius,
    n = t.innerRadius,
    a = t.startAngle,
    o = t.endAngle;
  return (
    r.coordinate({ type: 'theta', cfg: { radius: i, innerRadius: n, startAngle: a, endAngle: o } }),
    e
  );
}
function _B(e) {
  var r = e.chart,
    t = e.options,
    i = t.label,
    n = t.colorField,
    a = t.angleField,
    o = r.geometries[0];
  if (!i) o.label(!1);
  else {
    var s = i.callback,
      l = mt(i, ['callback']),
      u = _t(l);
    if (u.content) {
      var c = u.content;
      u.content = function (d, p, g) {
        var y = d[n],
          m = d[a],
          b = r.getScaleByField(a),
          w = b == null ? void 0 : b.scale(m);
        return q(c)
          ? c(x(x({}, d), { percent: w }), p, g)
          : et(c)
          ? W0(c, {
              value: m,
              name: y,
              percentage: it(w) && !R(m) ? (w * 100).toFixed(2) + '%' : null,
            })
          : c;
      };
    }
    var h = { inner: '', outer: 'pie-outer', spider: 'pie-spider' },
      f = u.type ? h[u.type] : 'pie-outer',
      v = u.layout ? ($(u.layout) ? u.layout : [u.layout]) : [];
    (u.layout = (f ? [{ type: f }] : []).concat(v)),
      o.label({
        fields: n ? [a, n] : [a],
        callback: s,
        cfg: x(x({}, u), { offset: VB(u.type, u.offset), type: 'pie' }),
      });
  }
  return e;
}
function Fx(e) {
  var r = e.innerRadius,
    t = e.statistic,
    i = e.angleField,
    n = e.colorField,
    a = e.meta,
    o = e.locale,
    s = Ml(o);
  if (r && t) {
    var l = B({}, Ax.statistic, t),
      u = l.title,
      c = l.content;
    return (
      u !== !1 &&
        (u = B(
          {},
          {
            formatter: function (h) {
              var f = h ? h[n] : R(u.content) ? s.get(['statistic', 'total']) : u.content,
                v =
                  M(a, [n, 'formatter']) ||
                  function (d) {
                    return d;
                  };
              return v(f);
            },
          },
          u,
        )),
      c !== !1 &&
        (c = B(
          {},
          {
            formatter: function (h, f) {
              var v = h ? h[i] : HB(f, i),
                d =
                  M(a, [i, 'formatter']) ||
                  function (p) {
                    return p;
                  };
              return h || R(c.content) ? d(v) : c.content;
            },
          },
          c,
        )),
      B({}, { statistic: { title: u, content: c } }, e)
    );
  }
  return e;
}
function Ex(e) {
  var r = e.chart,
    t = e.options,
    i = Fx(t),
    n = i.innerRadius,
    a = i.statistic;
  return (
    r.getController('annotation').clear(!0),
    rt(Ot())(e),
    n && a && Cl(r, { statistic: a, plotType: 'pie' }),
    e
  );
}
function jB(e) {
  var r = e.chart,
    t = e.options,
    i = t.tooltip,
    n = t.colorField,
    a = t.angleField,
    o = t.data;
  if (i === !1) r.tooltip(i);
  else if ((r.tooltip(B({}, i, { shared: !1 })), Ls(o, a))) {
    var s = M(i, 'fields'),
      l = M(i, 'formatter');
    we(M(i, 'fields')) &&
      ((s = [n, a]),
      (l =
        l ||
        function (u) {
          return { name: u[n], value: _a(u[a]) };
        })),
      r.geometries[0].tooltip(s.join('*'), Zi(s, l));
  }
  return e;
}
function UB(e) {
  var r = e.chart,
    t = e.options,
    i = Fx(t),
    n = i.interactions,
    a = i.statistic,
    o = i.annotations;
  return (
    A(n, function (s) {
      var l, u;
      if (s.enable === !1) r.removeInteraction(s.type);
      else if (s.type === 'pie-statistic-active') {
        var c = [];
        (!((l = s.cfg) === null || l === void 0) && l.start) ||
          (c = [
            {
              trigger: 'element:mouseenter',
              action: Mx + ':change',
              arg: { statistic: a, annotations: o },
            },
          ]),
          A((u = s.cfg) === null || u === void 0 ? void 0 : u.start, function (h) {
            c.push(x(x({}, h), { arg: { statistic: a, annotations: o } }));
          }),
          r.interaction(s.type, B({}, s.cfg, { start: c }));
      } else r.interaction(s.type, s.cfg || {});
    }),
    e
  );
}
function Tx(e) {
  return rt(Ie('pieStyle'), YB, WB, ht, XB, Dn, jB, _B, oi, Ex, UB, wt)(e);
}
var kx = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'pie'), t;
    }
    return (
      (r.getDefaultOptions = function () {
        return Ax;
      }),
      (r.prototype.changeData = function (t) {
        this.chart.emit(
          st.BEFORE_CHANGE_DATA,
          Lt.fromData(this.chart, st.BEFORE_CHANGE_DATA, null),
        );
        var i = this.options,
          n = this.options.angleField,
          a = xn(i.data, n),
          o = xn(t, n);
        Ls(a, n) || Ls(o, n)
          ? this.update({ data: t })
          : (this.updateOption({ data: t }),
            this.chart.data(o),
            Ex({ chart: this.chart, options: this.options }),
            this.chart.render(!0)),
          this.chart.emit(
            st.AFTER_CHANGE_DATA,
            Lt.fromData(this.chart, st.AFTER_CHANGE_DATA, null),
          );
      }),
      (r.prototype.getDefaultOptions = function () {
        return r.getDefaultOptions();
      }),
      (r.prototype.getSchemaAdaptor = function () {
        return Tx;
      }),
      r
    );
  })(at),
  Ix = ['#FAAD14', '#E8EDF3'],
  qB = { percent: 0.2, color: Ix, animation: {} };
function ff(e) {
  var r = Mt(Bi(e) ? e : 0, 0, 1);
  return [
    { current: '' + r, type: 'current', percent: r },
    { current: '' + r, type: 'target', percent: 1 },
  ];
}
function Lx(e) {
  var r = e.chart,
    t = e.options,
    i = t.percent,
    n = t.progressStyle,
    a = t.color,
    o = t.barWidthRatio;
  r.data(ff(i));
  var s = B({}, e, {
    options: {
      xField: 'current',
      yField: 'percent',
      seriesField: 'type',
      widthRatio: o,
      interval: { style: n, color: et(a) ? [a, Ix[1]] : a },
      args: { zIndexReversed: !0, sortZIndex: !0 },
    },
  });
  return re(s), r.tooltip(!1), r.axis(!1), r.legend(!1), e;
}
function ZB(e) {
  var r = e.chart;
  return r.coordinate('rect').transpose(), e;
}
function Ox(e) {
  return rt(Lx, Rt({}), ZB, wt, ht, Ot())(e);
}
var KB = (function (e) {
  I(r, e);
  function r() {
    var t = (e !== null && e.apply(this, arguments)) || this;
    return (t.type = 'process'), t;
  }
  return (
    (r.getDefaultOptions = function () {
      return qB;
    }),
    (r.prototype.changeData = function (t) {
      this.updateOption({ percent: t }), this.chart.changeData(ff(t));
    }),
    (r.prototype.getDefaultOptions = function () {
      return r.getDefaultOptions();
    }),
    (r.prototype.getSchemaAdaptor = function () {
      return Ox;
    }),
    r
  );
})(at);
function QB(e) {
  var r = e.chart,
    t = e.options,
    i = t.innerRadius,
    n = t.radius;
  return r.coordinate('theta', { innerRadius: i, radius: n }), e;
}
function Px(e, r) {
  var t = e.chart,
    i = e.options,
    n = i.innerRadius,
    a = i.statistic,
    o = i.percent,
    s = i.meta;
  if ((t.getController('annotation').clear(!0), n && a)) {
    var l =
        M(s, ['percent', 'formatter']) ||
        function (c) {
          return (c * 100).toFixed(2) + '%';
        },
      u = a.content;
    u && (u = B({}, u, { content: R(u.content) ? l(o) : u.content })),
      Cl(t, { statistic: x(x({}, a), { content: u }), plotType: 'ring-progress' }, { percent: o });
  }
  return r && t.render(!0), e;
}
function Dx(e) {
  return rt(Lx, Rt({}), QB, Px, wt, ht, Ot())(e);
}
var JB = {
    percent: 0.2,
    innerRadius: 0.8,
    radius: 0.98,
    color: ['#FAAD14', '#E8EDF3'],
    statistic: {
      title: !1,
      content: {
        style: {
          fontSize: '14px',
          fontWeight: 300,
          fill: '#4D4D4D',
          textAlign: 'center',
          textBaseline: 'middle',
        },
      },
    },
    animation: {},
  },
  tR = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'ring-process'), t;
    }
    return (
      (r.getDefaultOptions = function () {
        return JB;
      }),
      (r.prototype.changeData = function (t) {
        this.chart.emit(
          st.BEFORE_CHANGE_DATA,
          Lt.fromData(this.chart, st.BEFORE_CHANGE_DATA, null),
        ),
          this.updateOption({ percent: t }),
          this.chart.data(ff(t)),
          Px({ chart: this.chart, options: this.options }, !0),
          this.chart.emit(
            st.AFTER_CHANGE_DATA,
            Lt.fromData(this.chart, st.AFTER_CHANGE_DATA, null),
          );
      }),
      (r.prototype.getDefaultOptions = function () {
        return r.getDefaultOptions();
      }),
      (r.prototype.getSchemaAdaptor = function () {
        return Dx;
      }),
      r
    );
  })(at);
function ei(e, r) {
  return eR(e) || rR(e, r) || iR();
}
function eR(e) {
  if (Array.isArray(e)) return e;
}
function rR(e, r) {
  var t = [],
    i = !0,
    n = !1,
    a = void 0;
  try {
    for (
      var o = e[Symbol.iterator](), s;
      !(i = (s = o.next()).done) && (t.push(s.value), !(r && t.length === r));
      i = !0
    );
  } catch (l) {
    (n = !0), (a = l);
  } finally {
    try {
      !i && o.return != null && o.return();
    } finally {
      if (n) throw a;
    }
  }
  return t;
}
function iR() {
  throw new TypeError('Invalid attempt to destructure non-iterable instance');
}
function vf(e, r, t, i) {
  (e = e.filter(function (d, p) {
    var g = r(d, p),
      y = t(d, p);
    return g != null && isFinite(g) && y != null && isFinite(y);
  })),
    i &&
      e.sort(function (d, p) {
        return r(d) - r(p);
      });
  for (
    var n = e.length,
      a = new Float64Array(n),
      o = new Float64Array(n),
      s = 0,
      l = 0,
      u,
      c,
      h,
      f = 0;
    f < n;

  )
    (h = e[f]),
      (a[f] = u = +r(h, f, e)),
      (o[f] = c = +t(h, f, e)),
      ++f,
      (s += (u - s) / f),
      (l += (c - l) / f);
  for (var v = 0; v < n; ++v) (a[v] -= s), (o[v] -= l);
  return [a, o, s, l];
}
function Yi(e, r, t, i) {
  for (var n = 0, a = 0, o = e.length; a < o; a++) {
    var s = e[a],
      l = +r(s, a, e),
      u = +t(s, a, e);
    l != null && isFinite(l) && u != null && isFinite(u) && i(l, u, n++);
  }
}
function Rn(e, r, t, i, n) {
  var a = 0,
    o = 0;
  return (
    Yi(e, r, t, function (s, l) {
      var u = l - n(s),
        c = l - i;
      (a += u * u), (o += c * c);
    }),
    1 - a / o
  );
}
function Mp(e) {
  return (Math.atan2(e[1][1] - e[0][1], e[1][0] - e[0][0]) * 180) / Math.PI;
}
function nR(e) {
  return [(e[0][0] + e[1][0]) / 2, (e[0][1] + e[1][1]) / 2];
}
function ao(e, r, t) {
  for (
    var i = (Math.log(r - e) * Math.LOG10E + 1) | 0,
      n = 1 * Math.pow(10, -i / 2 - 1),
      a = 1e4,
      o = [l(e), l(r)],
      s = 0;
    u(o) && s < a;

  );
  return o;
  function l(c) {
    return [c, t(c)];
  }
  function u(c) {
    s++;
    for (var h = c.length, f = !1, v = 0; v < h - 1; v++) {
      var d = c[v],
        p = c[v + 1],
        g = nR([d, p]),
        y = l(g[0]),
        m = Mp([d, g]),
        b = Mp([d, y]),
        w = Math.abs(m - b);
      w > n && (c.splice(v + 1, 0, y), (f = !0));
    }
    return f;
  }
}
function oo(e, r, t, i) {
  var n = i - e * e,
    a = Math.abs(n) < 1e-24 ? 0 : (t - e * r) / n,
    o = r - a * e;
  return [o, a];
}
function aR() {
  var e = function (a) {
      return a[0];
    },
    r = function (a) {
      return a[1];
    },
    t;
  function i(n) {
    var a = 0,
      o = 0,
      s = 0,
      l = 0,
      u = 0,
      c = 0,
      h = t ? +t[0] : 1 / 0,
      f = t ? +t[1] : -1 / 0;
    Yi(n, e, r, function (b, w) {
      var S = Math.log(w),
        C = b * w;
      ++a,
        (o += (w - o) / a),
        (l += (C - l) / a),
        (c += (b * C - c) / a),
        (s += (w * S - s) / a),
        (u += (C * S - u) / a),
        t || (b < h && (h = b), b > f && (f = b));
    });
    var v = oo(l / o, s / o, u / o, c / o),
      d = ei(v, 2),
      p = d[0],
      g = d[1];
    p = Math.exp(p);
    var y = function (w) {
        return p * Math.exp(g * w);
      },
      m = ao(h, f, y);
    return (m.a = p), (m.b = g), (m.predict = y), (m.rSquared = Rn(n, e, r, o, y)), m;
  }
  return (
    (i.domain = function (n) {
      return arguments.length ? ((t = n), i) : t;
    }),
    (i.x = function (n) {
      return arguments.length ? ((e = n), i) : e;
    }),
    (i.y = function (n) {
      return arguments.length ? ((r = n), i) : r;
    }),
    i
  );
}
function Bx() {
  var e = function (a) {
      return a[0];
    },
    r = function (a) {
      return a[1];
    },
    t;
  function i(n) {
    var a = 0,
      o = 0,
      s = 0,
      l = 0,
      u = 0,
      c = t ? +t[0] : 1 / 0,
      h = t ? +t[1] : -1 / 0;
    Yi(n, e, r, function (m, b) {
      ++a,
        (o += (m - o) / a),
        (s += (b - s) / a),
        (l += (m * b - l) / a),
        (u += (m * m - u) / a),
        t || (m < c && (c = m), m > h && (h = m));
    });
    var f = oo(o, s, l, u),
      v = ei(f, 2),
      d = v[0],
      p = v[1],
      g = function (b) {
        return p * b + d;
      },
      y = [
        [c, g(c)],
        [h, g(h)],
      ];
    return (y.a = p), (y.b = d), (y.predict = g), (y.rSquared = Rn(n, e, r, s, g)), y;
  }
  return (
    (i.domain = function (n) {
      return arguments.length ? ((t = n), i) : t;
    }),
    (i.x = function (n) {
      return arguments.length ? ((e = n), i) : e;
    }),
    (i.y = function (n) {
      return arguments.length ? ((r = n), i) : r;
    }),
    i
  );
}
function oR(e) {
  e.sort(function (t, i) {
    return t - i;
  });
  var r = e.length / 2;
  return r % 1 === 0 ? (e[r - 1] + e[r]) / 2 : e[Math.floor(r)];
}
var Fp = 2,
  Ep = 1e-12;
function sR() {
  var e = function (a) {
      return a[0];
    },
    r = function (a) {
      return a[1];
    },
    t = 0.3;
  function i(n) {
    for (
      var a = vf(n, e, r, !0),
        o = ei(a, 4),
        s = o[0],
        l = o[1],
        u = o[2],
        c = o[3],
        h = s.length,
        f = Math.max(2, ~~(t * h)),
        v = new Float64Array(h),
        d = new Float64Array(h),
        p = new Float64Array(h).fill(1),
        g = -1;
      ++g <= Fp;

    ) {
      for (var y = [0, f - 1], m = 0; m < h; ++m) {
        for (
          var b = s[m],
            w = y[0],
            S = y[1],
            C = b - s[w] > s[S] - b ? w : S,
            F = 0,
            E = 0,
            k = 0,
            T = 0,
            O = 0,
            P = 1 / Math.abs(s[C] - b || 1),
            z = w;
          z <= S;
          ++z
        ) {
          var W = s[z],
            j = l[z],
            D = lR(Math.abs(b - W) * P) * p[z],
            N = W * D;
          (F += D), (E += N), (k += j * D), (T += j * N), (O += W * N);
        }
        var V = oo(E / F, k / F, T / F, O / F),
          H = ei(V, 2),
          G = H[0],
          X = H[1];
        (v[m] = G + X * b), (d[m] = Math.abs(l[m] - v[m])), uR(s, m + 1, y);
      }
      if (g === Fp) break;
      var Q = oR(d);
      if (Math.abs(Q) < Ep) break;
      for (var J = 0, U, Z; J < h; ++J)
        (U = d[J] / (6 * Q)), (p[J] = U >= 1 ? Ep : (Z = 1 - U * U) * Z);
    }
    return cR(s, v, u, c);
  }
  return (
    (i.bandwidth = function (n) {
      return arguments.length ? ((t = n), i) : t;
    }),
    (i.x = function (n) {
      return arguments.length ? ((e = n), i) : e;
    }),
    (i.y = function (n) {
      return arguments.length ? ((r = n), i) : r;
    }),
    i
  );
}
function lR(e) {
  return (e = 1 - e * e * e) * e * e;
}
function uR(e, r, t) {
  var i = e[r],
    n = t[0],
    a = t[1] + 1;
  if (!(a >= e.length)) for (; r > n && e[a] - i <= i - e[n]; ) (t[0] = ++n), (t[1] = a), ++a;
}
function cR(e, r, t, i) {
  for (var n = e.length, a = [], o = 0, s = 0, l = [], u; o < n; ++o)
    (u = e[o] + t),
      l[0] === u
        ? (l[1] += (r[o] - l[1]) / ++s)
        : ((s = 0), (l[1] += i), (l = [u, r[o]]), a.push(l));
  return (l[1] += i), a;
}
function hR() {
  var e = function (o) {
      return o[0];
    },
    r = function (o) {
      return o[1];
    },
    t = Math.E,
    i;
  function n(a) {
    var o = 0,
      s = 0,
      l = 0,
      u = 0,
      c = 0,
      h = i ? +i[0] : 1 / 0,
      f = i ? +i[1] : -1 / 0,
      v = Math.log(t);
    Yi(a, e, r, function (w, S) {
      var C = Math.log(w) / v;
      ++o,
        (s += (C - s) / o),
        (l += (S - l) / o),
        (u += (C * S - u) / o),
        (c += (C * C - c) / o),
        i || (w < h && (h = w), w > f && (f = w));
    });
    var d = oo(s, l, u, c),
      p = ei(d, 2),
      g = p[0],
      y = p[1],
      m = function (S) {
        return (y * Math.log(S)) / v + g;
      },
      b = ao(h, f, m);
    return (b.a = y), (b.b = g), (b.predict = m), (b.rSquared = Rn(a, e, r, l, m)), b;
  }
  return (
    (n.domain = function (a) {
      return arguments.length ? ((i = a), n) : i;
    }),
    (n.x = function (a) {
      return arguments.length ? ((e = a), n) : e;
    }),
    (n.y = function (a) {
      return arguments.length ? ((r = a), n) : r;
    }),
    (n.base = function (a) {
      return arguments.length ? ((t = a), n) : t;
    }),
    n
  );
}
function Rx() {
  var e = function (a) {
      return a[0];
    },
    r = function (a) {
      return a[1];
    },
    t;
  function i(n) {
    var a = vf(n, e, r),
      o = ei(a, 4),
      s = o[0],
      l = o[1],
      u = o[2],
      c = o[3],
      h = s.length,
      f = 0,
      v = 0,
      d = 0,
      p = 0,
      g = 0,
      y,
      m,
      b,
      w;
    for (y = 0; y < h; )
      (m = s[y]),
        (b = l[y++]),
        (w = m * m),
        (f += (w - f) / y),
        (v += (w * m - v) / y),
        (d += (w * w - d) / y),
        (p += (m * b - p) / y),
        (g += (w * b - g) / y);
    var S = 0,
      C = 0,
      F = t ? +t[0] : 1 / 0,
      E = t ? +t[1] : -1 / 0;
    Yi(n, e, r, function (D, N) {
      C++, (S += (N - S) / C), t || (D < F && (F = D), D > E && (E = D));
    });
    var k = d - f * f,
      T = f * k - v * v,
      O = (g * f - p * v) / T,
      P = (p * k - g * v) / T,
      z = -O * f,
      W = function (N) {
        return (N = N - u), O * N * N + P * N + z + c;
      },
      j = ao(F, E, W);
    return (
      (j.a = O),
      (j.b = P - 2 * O * u),
      (j.c = z - P * u + O * u * u + c),
      (j.predict = W),
      (j.rSquared = Rn(n, e, r, S, W)),
      j
    );
  }
  return (
    (i.domain = function (n) {
      return arguments.length ? ((t = n), i) : t;
    }),
    (i.x = function (n) {
      return arguments.length ? ((e = n), i) : e;
    }),
    (i.y = function (n) {
      return arguments.length ? ((r = n), i) : r;
    }),
    i
  );
}
function fR() {
  var e = function (o) {
      return o[0];
    },
    r = function (o) {
      return o[1];
    },
    t = 3,
    i;
  function n(a) {
    if (t === 1) {
      var o = Bx().x(e).y(r).domain(i)(a);
      return (o.coefficients = [o.b, o.a]), delete o.a, delete o.b, o;
    }
    if (t === 2) {
      var s = Rx().x(e).y(r).domain(i)(a);
      return (s.coefficients = [s.c, s.b, s.a]), delete s.a, delete s.b, delete s.c, s;
    }
    var l = vf(a, e, r),
      u = ei(l, 4),
      c = u[0],
      h = u[1],
      f = u[2],
      v = u[3],
      d = c.length,
      p = [],
      g = [],
      y = t + 1,
      m = 0,
      b = 0,
      w = i ? +i[0] : 1 / 0,
      S = i ? +i[1] : -1 / 0;
    Yi(a, e, r, function (W, j) {
      ++b, (m += (j - m) / b), i || (W < w && (w = W), W > S && (S = W));
    });
    var C, F, E, k, T;
    for (C = 0; C < y; ++C) {
      for (E = 0, k = 0; E < d; ++E) k += Math.pow(c[E], C) * h[E];
      for (p.push(k), T = new Float64Array(y), F = 0; F < y; ++F) {
        for (E = 0, k = 0; E < d; ++E) k += Math.pow(c[E], C + F);
        T[F] = k;
      }
      g.push(T);
    }
    g.push(p);
    var O = dR(g),
      P = function (j) {
        j -= f;
        var D = v + O[0] + O[1] * j + O[2] * j * j;
        for (C = 3; C < y; ++C) D += O[C] * Math.pow(j, C);
        return D;
      },
      z = ao(w, S, P);
    return (z.coefficients = vR(y, O, -f, v)), (z.predict = P), (z.rSquared = Rn(a, e, r, m, P)), z;
  }
  return (
    (n.domain = function (a) {
      return arguments.length ? ((i = a), n) : i;
    }),
    (n.x = function (a) {
      return arguments.length ? ((e = a), n) : e;
    }),
    (n.y = function (a) {
      return arguments.length ? ((r = a), n) : r;
    }),
    (n.order = function (a) {
      return arguments.length ? ((t = a), n) : t;
    }),
    n
  );
}
function vR(e, r, t, i) {
  var n = Array(e),
    a,
    o,
    s,
    l;
  for (a = 0; a < e; ++a) n[a] = 0;
  for (a = e - 1; a >= 0; --a)
    for (s = r[a], l = 1, n[a] += s, o = 1; o <= a; ++o)
      (l *= (a + 1 - o) / o), (n[a - o] += s * Math.pow(t, o) * l);
  return (n[0] += i), n;
}
function dR(e) {
  var r = e.length - 1,
    t = [],
    i,
    n,
    a,
    o,
    s;
  for (i = 0; i < r; ++i) {
    for (o = i, n = i + 1; n < r; ++n) Math.abs(e[i][n]) > Math.abs(e[i][o]) && (o = n);
    for (a = i; a < r + 1; ++a) (s = e[a][i]), (e[a][i] = e[a][o]), (e[a][o] = s);
    for (n = i + 1; n < r; ++n) for (a = r; a >= i; a--) e[a][n] -= (e[a][i] * e[i][n]) / e[i][i];
  }
  for (n = r - 1; n >= 0; --n) {
    for (s = 0, a = n + 1; a < r; ++a) s += e[a][n] * t[a];
    t[n] = (e[r][n] - s) / e[n][n];
  }
  return t;
}
function pR() {
  var e = function (a) {
      return a[0];
    },
    r = function (a) {
      return a[1];
    },
    t;
  function i(n) {
    var a = 0,
      o = 0,
      s = 0,
      l = 0,
      u = 0,
      c = 0,
      h = t ? +t[0] : 1 / 0,
      f = t ? +t[1] : -1 / 0;
    Yi(n, e, r, function (b, w) {
      var S = Math.log(b),
        C = Math.log(w);
      ++a,
        (o += (S - o) / a),
        (s += (C - s) / a),
        (l += (S * C - l) / a),
        (u += (S * S - u) / a),
        (c += (w - c) / a),
        t || (b < h && (h = b), b > f && (f = b));
    });
    var v = oo(o, s, l, u),
      d = ei(v, 2),
      p = d[0],
      g = d[1];
    p = Math.exp(p);
    var y = function (w) {
        return p * Math.pow(w, g);
      },
      m = ao(h, f, y);
    return (m.a = p), (m.b = g), (m.predict = y), (m.rSquared = Rn(n, e, r, c, y)), m;
  }
  return (
    (i.domain = function (n) {
      return arguments.length ? ((t = n), i) : t;
    }),
    (i.x = function (n) {
      return arguments.length ? ((e = n), i) : e;
    }),
    (i.y = function (n) {
      return arguments.length ? ((r = n), i) : r;
    }),
    i
  );
}
var gR = { exp: aR, linear: Bx, loess: sR, log: hR, poly: fR, pow: pR, quad: Rx };
function yR(e, r) {
  var t = 10,
    i = {
      regionStyle: [
        {
          position: { start: [e, 'max'], end: ['max', r] },
          style: { fill: '#d8d0c0', opacity: 0.4 },
        },
        {
          position: { start: ['min', 'max'], end: [e, r] },
          style: { fill: '#a3dda1', opacity: 0.4 },
        },
        {
          position: { start: ['min', r], end: [e, 'min'] },
          style: { fill: '#d8d0c0', opacity: 0.4 },
        },
        {
          position: { start: [e, r], end: ['max', 'min'] },
          style: { fill: '#a3dda1', opacity: 0.4 },
        },
      ],
      lineStyle: { stroke: '#9ba29a', lineWidth: 1 },
      labelStyle: [
        {
          position: ['max', r],
          offsetX: -t,
          offsetY: -t,
          style: { textAlign: 'right', textBaseline: 'bottom', fontSize: 14, fill: '#ccc' },
        },
        {
          position: ['min', r],
          offsetX: t,
          offsetY: -t,
          style: { textAlign: 'left', textBaseline: 'bottom', fontSize: 14, fill: '#ccc' },
        },
        {
          position: ['min', r],
          offsetX: t,
          offsetY: t,
          style: { textAlign: 'left', textBaseline: 'top', fontSize: 14, fill: '#ccc' },
        },
        {
          position: ['max', r],
          offsetX: -t,
          offsetY: t,
          style: { textAlign: 'right', textBaseline: 'top', fontSize: 14, fill: '#ccc' },
        },
      ],
    };
  return i;
}
var mR = function (e, r) {
    var t = r.view,
      i = r.options,
      n = i.xField,
      a = i.yField,
      o = t.getScaleByField(n),
      s = t.getScaleByField(a),
      l = e.map(function (u) {
        return t.getCoordinate().convert({ x: o.scale(u[0]), y: s.scale(u[1]) });
      });
    return OP(l, !1);
  },
  xR = function (e) {
    var r = e.options,
      t = r.xField,
      i = r.yField,
      n = r.data,
      a = r.regressionLine,
      o = a.type,
      s = o === void 0 ? 'linear' : o,
      l = a.algorithm,
      u;
    if (l) u = $(l) ? l : l(n);
    else {
      var c = gR[s]()
        .x(function (h) {
          return h[t];
        })
        .y(function (h) {
          return h[i];
        });
      u = c(n);
    }
    return mR(u, e);
  },
  wR = function (e) {
    var r,
      t = e.meta,
      i = t === void 0 ? {} : t,
      n = e.xField,
      a = e.yField,
      o = e.data,
      s = o[0][n],
      l = o[0][a],
      u = s > 0,
      c = l > 0;
    function h(f, v) {
      var d = M(i, [f]);
      function p(y) {
        return M(d, y);
      }
      var g = {};
      return v === 'x'
        ? (it(s) &&
            (it(p('min')) || (g.min = u ? 0 : s * 2), it(p('max')) || (g.max = u ? s * 2 : 0)),
          g)
        : (it(l) &&
            (it(p('min')) || (g.min = c ? 0 : l * 2), it(p('max')) || (g.max = c ? l * 2 : 0)),
          g);
    }
    return x(
      x({}, i),
      ((r = {}), (r[n] = x(x({}, i[n]), h(n, 'x'))), (r[a] = x(x({}, i[a]), h(a, 'y'))), r),
    );
  };
function $x(e) {
  var r = e.data,
    t = r === void 0 ? [] : r,
    i = e.xField,
    n = e.yField;
  if (t.length) {
    for (
      var a = !0, o = !0, s = t[0], l = void 0, u = 1;
      u < t.length &&
      ((l = t[u]), s[i] !== l[i] && (a = !1), s[n] !== l[n] && (o = !1), !(!a && !o));
      u++
    )
      s = l;
    var c = [];
    a && c.push(i), o && c.push(n);
    var h = gt(wR(e), c);
    return B({}, e, { meta: h });
  }
  return e;
}
function bR(e) {
  var r = e.chart,
    t = e.options,
    i = t.data,
    n = t.type,
    a = t.color,
    o = t.shape,
    s = t.pointStyle,
    l = t.shapeField,
    u = t.colorField,
    c = t.xField,
    h = t.yField,
    f = t.sizeField,
    v = t.size,
    d = t.tooltip;
  f && (v || (v = [2, 8]), it(v) && (v = [v, v])),
    d && !d.fields && (d = x(x({}, d), { fields: [c, h, u, f, l] })),
    r.data(i),
    Le(
      B({}, e, {
        options: { seriesField: u, point: { color: a, shape: o, size: v, style: s }, tooltip: d },
      }),
    );
  var p = ee(r, 'point');
  return n && p.adjust(n), e;
}
function ts(e) {
  var r,
    t = e.options,
    i = t.xAxis,
    n = t.yAxis,
    a = t.xField,
    o = t.yField,
    s = $x(t);
  return rt(Rt(((r = {}), (r[a] = i), (r[o] = n), r)))(B({}, e, { options: s }));
}
function SR(e) {
  var r = e.chart,
    t = e.options,
    i = t.xAxis,
    n = t.yAxis,
    a = t.xField,
    o = t.yField;
  return r.axis(a, i), r.axis(o, n), e;
}
function CR(e) {
  var r = e.chart,
    t = e.options,
    i = t.legend,
    n = t.colorField,
    a = t.shapeField,
    o = t.sizeField,
    s = t.shapeLegend,
    l = t.sizeLegend,
    u = i !== !1;
  return (
    n && r.legend(n, u ? i : !1),
    a && (s ? r.legend(a, s) : r.legend(a, s === !1 ? !1 : i)),
    o && r.legend(o, l || !1),
    !u && !s && !l && r.legend(!1),
    e
  );
}
function AR(e) {
  var r = e.chart,
    t = e.options,
    i = t.label,
    n = t.yField,
    a = ee(r, 'point');
  if (!i) a.label(!1);
  else {
    var o = i.callback,
      s = mt(i, ['callback']);
    a.label({ fields: [n], callback: o, cfg: _t(s) });
  }
  return e;
}
function MR(e) {
  var r = e.options,
    t = r.quadrant,
    i = [];
  if (t) {
    var n = t.xBaseline,
      a = n === void 0 ? 0 : n,
      o = t.yBaseline,
      s = o === void 0 ? 0 : o,
      l = t.labels,
      u = t.regionStyle,
      c = t.lineStyle,
      h = yR(a, s),
      f = new Array(4).join(',').split(',');
    f.forEach(function (v, d) {
      i.push(
        x(x({ type: 'region', top: !1 }, h.regionStyle[d].position), {
          style: B({}, h.regionStyle[d].style, u == null ? void 0 : u[d]),
        }),
        x({ type: 'text', top: !0 }, B({}, h.labelStyle[d], l == null ? void 0 : l[d])),
      );
    }),
      i.push(
        { type: 'line', top: !1, start: ['min', s], end: ['max', s], style: B({}, h.lineStyle, c) },
        { type: 'line', top: !1, start: [a, 'min'], end: [a, 'max'], style: B({}, h.lineStyle, c) },
      );
  }
  return rt(Ot(i))(e);
}
function FR(e) {
  var r = e.options,
    t = e.chart,
    i = r.regressionLine;
  if (i) {
    var n = i.style,
      a = i.top,
      o = a === void 0 ? !1 : a,
      s = { stroke: '#9ba29a', lineWidth: 2, opacity: 0.5 };
    t.annotation().shape({
      top: o,
      render: function (l, u) {
        var c = l.addGroup({ id: t.id + '-regression-line', name: 'regression-line-group' }),
          h = xR({ view: u, options: r });
        c.addShape('path', { name: 'regression-line', attrs: x(x({ path: h }, s), n) });
      },
    });
  }
  return e;
}
function ER(e) {
  var r = e.chart,
    t = e.options,
    i = t.tooltip;
  return i ? r.tooltip(i) : i === !1 && r.tooltip(!1), e;
}
function Nx(e) {
  return rt(bR, ts, SR, CR, ER, AR, ax, io, nf, It, MR, wt, ht, FR)(e);
}
var TR = B({}, at.getDefaultOptions(), {
  size: 4,
  tooltip: { showTitle: !1, showMarkers: !1, showCrosshairs: !0, crosshairs: { type: 'xy' } },
});
nt('drag-move', {
  start: [{ trigger: 'plot:mousedown', action: 'scale-translate:start' }],
  processing: [
    {
      trigger: 'plot:mousemove',
      action: 'scale-translate:translate',
      throttle: { wait: 100, leading: !0, trailing: !1 },
    },
  ],
  end: [{ trigger: 'plot:mouseup', action: 'scale-translate:end' }],
});
var kR = (function (e) {
    I(r, e);
    function r(t, i) {
      var n = e.call(this, t, i) || this;
      return (
        (n.type = 'scatter'),
        n.on(st.BEFORE_RENDER, function (a) {
          var o,
            s,
            l = n,
            u = l.options,
            c = l.chart;
          if (((o = a.data) === null || o === void 0 ? void 0 : o.source) === de.FILTER) {
            var h = n.chart.filterData(n.chart.getData());
            ts({ chart: c, options: x(x({}, u), { data: h }) });
          }
          ((s = a.data) === null || s === void 0 ? void 0 : s.source) === de.RESET &&
            ts({ chart: c, options: u });
        }),
        n
      );
    }
    return (
      (r.getDefaultOptions = function () {
        return TR;
      }),
      (r.prototype.changeData = function (t) {
        this.updateOption($x(B({}, this.options, { data: t })));
        var i = this,
          n = i.options,
          a = i.chart;
        ts({ chart: a, options: n }), this.chart.changeData(t);
      }),
      (r.prototype.getSchemaAdaptor = function () {
        return Nx;
      }),
      (r.prototype.getDefaultOptions = function () {
        return r.getDefaultOptions();
      }),
      r
    );
  })(at),
  Ha = '$$stock-range$$',
  Pl = 'trend',
  zx = 'up',
  Gx = 'down',
  IR = {
    showMarkers: !1,
    showCrosshairs: !0,
    shared: !0,
    crosshairs: {
      type: 'xy',
      follow: !0,
      text: function (e, r, t) {
        var i;
        if (e === 'x') {
          var n = t[0];
          i = n ? n.title : r;
        } else i = r;
        return { position: e === 'y' ? 'start' : 'end', content: i, style: { fill: '#dfdfdf' } };
      },
      textBackground: { padding: [2, 4], style: { fill: '#666' } },
    },
  },
  LR = B({}, at.getDefaultOptions(), {
    tooltip: IR,
    interactions: [{ type: 'tooltip' }],
    legend: { position: 'top-left' },
    risingFill: '#ef5350',
    fallingFill: '#26a69a',
  });
function Hx(e, r) {
  return Tt(e, function (t) {
    var i = t && x({}, t);
    if ($(r) && i) {
      var n = r[0],
        a = r[1],
        o = r[2],
        s = r[3];
      (i[Pl] = i[n] <= i[a] ? zx : Gx), (i[Ha] = [i[n], i[a], i[o], i[s]]);
    }
    return i;
  });
}
function OR(e) {
  var r = e.chart,
    t = e.options,
    i = t.yField,
    n = t.data,
    a = t.risingFill,
    o = t.fallingFill,
    s = t.tooltip,
    l = t.stockStyle;
  r.data(Hx(n, i));
  var u = s;
  return (
    u !== !1 && (u = B({}, { fields: i }, u)),
    af(
      B({}, e, {
        options: {
          schema: { shape: 'candle', color: [a, o], style: l },
          yField: Ha,
          seriesField: Pl,
          rawFields: i,
          tooltip: u,
        },
      }),
    ),
    e
  );
}
function PR(e) {
  var r,
    t,
    i = e.chart,
    n = e.options,
    a = n.meta,
    o = n.xAxis,
    s = n.yAxis,
    l = n.xField,
    u = ((r = {}), (r[l] = { type: 'timeCat', tickCount: 6 }), (r[Pl] = { values: [zx, Gx] }), r),
    c = B(u, a, ((t = {}), (t[l] = gt(o, me)), (t[Ha] = gt(s, me)), t));
  return i.scale(c), e;
}
function DR(e) {
  var r = e.chart,
    t = e.options,
    i = t.xAxis,
    n = t.yAxis,
    a = t.xField;
  return i === !1 ? r.axis(a, !1) : r.axis(a, i), n === !1 ? r.axis(Ha, !1) : r.axis(Ha, n), e;
}
function BR(e) {
  var r = e.chart,
    t = e.options,
    i = t.tooltip;
  return i !== !1 ? r.tooltip(i) : r.tooltip(!1), e;
}
function RR(e) {
  var r = e.chart,
    t = e.options,
    i = t.legend;
  return i ? r.legend(Pl, i) : i === !1 && r.legend(!1), e;
}
function Vx(e) {
  rt(ht, OR, PR, DR, BR, RR, It, wt, Ot(), io)(e);
}
var $R = (function (e) {
  I(r, e);
  function r() {
    var t = (e !== null && e.apply(this, arguments)) || this;
    return (t.type = 'stock'), t;
  }
  return (
    (r.getDefaultOptions = function () {
      return LR;
    }),
    (r.prototype.getDefaultOptions = function () {
      return r.getDefaultOptions();
    }),
    (r.prototype.getSchemaAdaptor = function () {
      return Vx;
    }),
    (r.prototype.changeData = function (t) {
      this.updateOption({ data: t });
      var i = this.options.yField;
      this.chart.changeData(Hx(t, i));
    }),
    r
  );
})(at);
function Wi(e) {
  return Tt(e || [], function (r, t) {
    return { x: '' + t, y: r };
  });
}
var Va = 'x',
  ln = 'y',
  Yx = {
    showTitle: !1,
    shared: !0,
    showMarkers: !1,
    customContent: function (e, r) {
      return '' + M(r, [0, 'data', 'y'], 0);
    },
    containerTpl: '<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',
    itemTpl: '<span>{value}</span>',
    domStyles: { 'g2-tooltip': { padding: '2px 4px', fontSize: '10px' } },
    showCrosshairs: !0,
    crosshairs: { type: 'x' },
  },
  NR = { appendPadding: 2, tooltip: x({}, Yx), animation: {} };
function zR(e) {
  var r = e.chart,
    t = e.options,
    i = t.data,
    n = t.color,
    a = t.areaStyle,
    o = t.point,
    s = t.line,
    l = o == null ? void 0 : o.state,
    u = Wi(i);
  r.data(u);
  var c = B({}, e, {
      options: { xField: Va, yField: ln, area: { color: n, style: a }, line: s, point: o },
    }),
    h = B({}, c, { options: { tooltip: !1 } }),
    f = B({}, c, { options: { tooltip: !1, state: l } });
  return Fl(c), Bn(h), Le(f), r.axis(!1), r.legend(!1), e;
}
function $n(e) {
  var r,
    t,
    i = e.options,
    n = i.xAxis,
    a = i.yAxis,
    o = i.data,
    s = Wi(o);
  return rt(
    Rt(
      ((r = {}), (r[Va] = n), (r[ln] = a), r),
      ((t = {}), (t[Va] = { type: 'cat' }), (t[ln] = Qh(s, ln)), t),
    ),
  )(e);
}
function Wx(e) {
  return rt(Ie('areaStyle'), zR, $n, Yt, ht, wt, Ot())(e);
}
var GR = {
    appendPadding: 2,
    tooltip: x({}, Yx),
    color: 'l(90) 0:#E5EDFE 1:#ffffff',
    areaStyle: { fillOpacity: 0.6 },
    line: { size: 1, color: '#5B8FF9' },
    animation: {},
  },
  HR = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'tiny-area'), t;
    }
    return (
      (r.getDefaultOptions = function () {
        return GR;
      }),
      (r.prototype.changeData = function (t) {
        this.updateOption({ data: t });
        var i = this,
          n = i.chart,
          a = i.options;
        $n({ chart: n, options: a }), n.changeData(Wi(t));
      }),
      (r.prototype.getDefaultOptions = function () {
        return r.getDefaultOptions();
      }),
      (r.prototype.getSchemaAdaptor = function () {
        return Wx;
      }),
      r
    );
  })(at);
function VR(e) {
  var r = e.chart,
    t = e.options,
    i = t.data,
    n = t.color,
    a = t.columnStyle,
    o = t.columnWidthRatio,
    s = Wi(i);
  r.data(s);
  var l = B({}, e, {
    options: { xField: Va, yField: ln, widthRatio: o, interval: { style: a, color: n } },
  });
  return re(l), r.axis(!1), r.legend(!1), r.interaction('element-active'), e;
}
function Xx(e) {
  return rt(ht, Ie('columnStyle'), VR, $n, Yt, wt, Ot())(e);
}
var YR = {
    showTitle: !1,
    shared: !0,
    showMarkers: !1,
    customContent: function (e, r) {
      return '' + M(r, [0, 'data', 'y'], 0);
    },
    containerTpl: '<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',
    itemTpl: '<span>{value}</span>',
    domStyles: { 'g2-tooltip': { padding: '2px 4px', fontSize: '10px' } },
  },
  WR = { appendPadding: 2, tooltip: x({}, YR), animation: {} },
  XR = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'tiny-column'), t;
    }
    return (
      (r.getDefaultOptions = function () {
        return WR;
      }),
      (r.prototype.changeData = function (t) {
        this.updateOption({ data: t });
        var i = this,
          n = i.chart,
          a = i.options;
        $n({ chart: n, options: a }), n.changeData(Wi(t));
      }),
      (r.prototype.getDefaultOptions = function () {
        return r.getDefaultOptions();
      }),
      (r.prototype.getSchemaAdaptor = function () {
        return Xx;
      }),
      r
    );
  })(at);
function _R(e) {
  var r = e.chart,
    t = e.options,
    i = t.data,
    n = t.color,
    a = t.lineStyle,
    o = t.point,
    s = o == null ? void 0 : o.state,
    l = Wi(i);
  r.data(l);
  var u = B({}, e, { options: { xField: Va, yField: ln, line: { color: n, style: a }, point: o } }),
    c = B({}, u, { options: { tooltip: !1, state: s } });
  return Bn(u), Le(c), r.axis(!1), r.legend(!1), e;
}
function _x(e) {
  return rt(_R, $n, ht, Yt, wt, Ot())(e);
}
var jR = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (t.type = 'tiny-line'), t;
    }
    return (
      (r.getDefaultOptions = function () {
        return NR;
      }),
      (r.prototype.changeData = function (t) {
        this.updateOption({ data: t });
        var i = this,
          n = i.chart,
          a = i.options;
        $n({ chart: n, options: a }), n.changeData(Wi(t));
      }),
      (r.prototype.getDefaultOptions = function () {
        return r.getDefaultOptions();
      }),
      (r.prototype.getSchemaAdaptor = function () {
        return _x;
      }),
      r
    );
  })(at),
  UR = {
    line: rx,
    pie: Tx,
    column: Ol,
    bar: sx,
    area: ix,
    gauge: bx,
    'tiny-line': _x,
    'tiny-column': Xx,
    'tiny-area': Wx,
    'ring-progress': Dx,
    progress: Ox,
    scatter: Nx,
    histogram: Cx,
    funnel: dx,
    stock: Vx,
  },
  qR = {
    line: RB,
    pie: kx,
    column: UD,
    bar: _D,
    area: nx,
    gauge: FB,
    'tiny-line': jR,
    'tiny-column': XR,
    'tiny-area': HR,
    'ring-progress': tR,
    progress: KB,
    scatter: kR,
    histogram: PB,
    funnel: mB,
    stock: $R,
  },
  ZR = {
    pie: { label: !1 },
    column: { tooltip: { showMarkers: !1 } },
    bar: { tooltip: { showMarkers: !1 } },
  };
function Fc(e, r, t) {
  var i = qR[e];
  if (!i) {
    console.error('could not find ' + e + ' plot');
    return;
  }
  var n = UR[e];
  n({ chart: r, options: B({}, i.getDefaultOptions(), M(ZR, e, {}), t) });
}
function KR(e) {
  var r = e.chart,
    t = e.options,
    i = t.views,
    n = t.legend;
  return (
    A(i, function (a) {
      var o = a.region,
        s = a.data,
        l = a.meta,
        u = a.axes,
        c = a.coordinate,
        h = a.interactions,
        f = a.annotations,
        v = a.tooltip,
        d = a.geometries,
        p = r.createView({ region: o });
      p.data(s);
      var g = {};
      u &&
        A(u, function (y, m) {
          g[m] = gt(y, me);
        }),
        (g = B({}, l, g)),
        p.scale(g),
        u
          ? A(u, function (y, m) {
              p.axis(m, y);
            })
          : p.axis(!1),
        p.coordinate(c),
        A(d, function (y) {
          var m = Ce({ chart: p, options: y }).ext,
            b = y.adjust;
          b && m.geometry.adjust(b);
        }),
        A(h, function (y) {
          y.enable === !1 ? p.removeInteraction(y.type) : p.interaction(y.type, y.cfg);
        }),
        A(f, function (y) {
          p.annotation()[y.type](x({}, y));
        }),
        typeof a.animation == 'boolean'
          ? p.animate(!1)
          : (p.animate(!0),
            A(p.geometries, function (y) {
              y.animate(a.animation);
            })),
        v && (p.interaction('tooltip'), p.tooltip(v));
    }),
    n
      ? A(n, function (a, o) {
          r.legend(o, a);
        })
      : r.legend(!1),
    r.tooltip(t.tooltip),
    e
  );
}
function QR(e) {
  var r = e.chart,
    t = e.options,
    i = t.plots,
    n = t.data,
    a = n === void 0 ? [] : n;
  return (
    A(i, function (o) {
      var s = o.type,
        l = o.region,
        u = o.options,
        c = u === void 0 ? {} : u,
        h = o.top,
        f = c.tooltip;
      if (h) {
        Fc(s, r, x(x({}, c), { data: a }));
        return;
      }
      var v = r.createView(x({ region: l }, gt(c, Q0)));
      f && v.interaction('tooltip'), Fc(s, v, x({ data: a }, c));
    }),
    e
  );
}
function JR(e) {
  var r = e.chart,
    t = e.options;
  return r.option('slider', t.slider), e;
}
function t$(e) {
  return rt(wt, KR, QR, It, wt, ht, Yt, JR, Ot())(e);
}
function e$(e, r) {
  var t = e.getModel(),
    i = t.data,
    n;
  return $(i) ? (n = i[0][r]) : (n = i[r]), n;
}
function r$(e) {
  var r = Es(e);
  A(r, function (t) {
    t.hasState('active') && t.setState('active', !1),
      t.hasState('selected') && t.setState('selected', !1),
      t.hasState('inactive') && t.setState('inactive', !1);
  });
}
var i$ = (function (e) {
  I(r, e);
  function r() {
    return (e !== null && e.apply(this, arguments)) || this;
  }
  return (
    (r.prototype.getAssociationItems = function (t, i) {
      var n,
        a = this.context.event,
        o = i || {},
        s = o.linkField,
        l = o.dim,
        u = [];
      if (!((n = a.data) === null || n === void 0) && n.data) {
        var c = a.data.data;
        A(t, function (h) {
          var f,
            v,
            d = s;
          if (
            (l === 'x'
              ? (d = h.getXScale().field)
              : l === 'y'
              ? (d =
                  (f = h.getYScales().find(function (g) {
                    return g.field === d;
                  })) === null || f === void 0
                    ? void 0
                    : f.field)
              : d || (d = (v = h.getGroupScales()[0]) === null || v === void 0 ? void 0 : v.field),
            !!d)
          ) {
            var p = Tt(Es(h), function (g) {
              var y = !1,
                m = !1,
                b = $(c) ? M(c[0], d) : M(c, d);
              return (
                e$(g, d) === b ? (y = !0) : (m = !0),
                { element: g, view: h, active: y, inactive: m }
              );
            });
            u.push.apply(u, p);
          }
        });
      }
      return u;
    }),
    (r.prototype.showTooltip = function (t) {
      var i = wp(this.context.view),
        n = this.getAssociationItems(i, t);
      A(n, function (a) {
        if (a.active) {
          var o = a.element.shape.getCanvasBBox();
          a.view.showTooltip({ x: o.minX + o.width / 2, y: o.minY + o.height / 2 });
        }
      });
    }),
    (r.prototype.hideTooltip = function () {
      var t = wp(this.context.view);
      A(t, function (i) {
        i.hideTooltip();
      });
    }),
    (r.prototype.active = function (t) {
      var i = na(this.context.view),
        n = this.getAssociationItems(i, t);
      A(n, function (a) {
        var o = a.active,
          s = a.element;
        o && s.setState('active', !0);
      });
    }),
    (r.prototype.selected = function (t) {
      var i = na(this.context.view),
        n = this.getAssociationItems(i, t);
      A(n, function (a) {
        var o = a.active,
          s = a.element;
        o && s.setState('selected', !0);
      });
    }),
    (r.prototype.highlight = function (t) {
      var i = na(this.context.view),
        n = this.getAssociationItems(i, t);
      A(n, function (a) {
        var o = a.inactive,
          s = a.element;
        o && s.setState('inactive', !0);
      });
    }),
    (r.prototype.reset = function () {
      var t = na(this.context.view);
      A(t, function (i) {
        r$(i);
      });
    }),
    r
  );
})(Ft);
tt('association', i$);
nt('association-active', {
  start: [{ trigger: 'element:mouseenter', action: 'association:active' }],
  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],
});
nt('association-selected', {
  start: [{ trigger: 'element:mouseenter', action: 'association:selected' }],
  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],
});
nt('association-highlight', {
  start: [{ trigger: 'element:mouseenter', action: 'association:highlight' }],
  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],
});
nt('association-tooltip', {
  start: [{ trigger: 'element:mousemove', action: 'association:showTooltip' }],
  end: [{ trigger: 'element:mouseleave', action: 'association:hideTooltip' }],
});
(function (e) {
  I(r, e);
  function r() {
    var t = (e !== null && e.apply(this, arguments)) || this;
    return (t.type = 'mix'), t;
  }
  return (
    (r.prototype.getSchemaAdaptor = function () {
      return t$;
    }),
    r
  );
})(at);
var Tp;
(function (e) {
  (e.DEV = 'DEV'), (e.BETA = 'BETA'), (e.STABLE = 'STABLE');
})(Tp || (Tp = {}));
var ar = 'first-axes-view',
  or = 'second-axes-view',
  xi = 'series-field-key';
function jx(e, r, t, i, n) {
  var a = [];
  r.forEach(function (h) {
    i.forEach(function (f) {
      var v,
        d = ((v = {}), (v[e] = f[e]), (v[t] = h), (v[h] = f[h]), v);
      a.push(d);
    });
  });
  var o = Object.values(Fe(a, t)),
    s = o[0],
    l = s === void 0 ? [] : s,
    u = o[1],
    c = u === void 0 ? [] : u;
  return n ? [l.reverse(), c.reverse()] : [l, c];
}
function xr(e) {
  return e !== 'vertical';
}
function n$(e, r, t) {
  var i = r[0],
    n = r[1],
    a = i.autoPadding,
    o = n.autoPadding,
    s = e.__axisPosition,
    l = s.layout,
    u = s.position;
  if (
    (xr(l) &&
      u === 'top' &&
      ((i.autoPadding = t.instance(a.top, 0, a.bottom, a.left)),
      (n.autoPadding = t.instance(o.top, a.left, o.bottom, 0))),
    xr(l) &&
      u === 'bottom' &&
      ((i.autoPadding = t.instance(a.top, a.right / 2 + 5, a.bottom, a.left)),
      (n.autoPadding = t.instance(o.top, o.right, o.bottom, a.right / 2 + 5))),
    !xr(l) && u === 'bottom')
  ) {
    var c = a.left >= o.left ? a.left : o.left;
    (i.autoPadding = t.instance(a.top, a.right, a.bottom / 2 + 5, c)),
      (n.autoPadding = t.instance(a.bottom / 2 + 5, o.right, o.bottom, c));
  }
  if (!xr(l) && u === 'top') {
    var c = a.left >= o.left ? a.left : o.left;
    (i.autoPadding = t.instance(a.top, a.right, 0, c)),
      (n.autoPadding = t.instance(0, o.right, a.top, c));
  }
}
function a$(e) {
  var r = e.chart,
    t = e.options,
    i = t.data,
    n = t.xField,
    a = t.yField,
    o = t.color,
    s = t.barStyle,
    l = t.widthRatio,
    u = t.legend,
    c = t.layout,
    h = jx(n, a, xi, i, xr(c));
  u ? r.legend(xi, u) : u === !1 && r.legend(!1);
  var f,
    v,
    d = h[0],
    p = h[1];
  xr(c)
    ? ((f = r.createView({ region: { start: { x: 0, y: 0 }, end: { x: 0.5, y: 1 } }, id: ar })),
      f.coordinate().transpose().reflect('x'),
      (v = r.createView({ region: { start: { x: 0.5, y: 0 }, end: { x: 1, y: 1 } }, id: or })),
      v.coordinate().transpose(),
      f.data(d),
      v.data(p))
    : ((f = r.createView({ region: { start: { x: 0, y: 0 }, end: { x: 1, y: 0.5 } }, id: ar })),
      (v = r.createView({ region: { start: { x: 0, y: 0.5 }, end: { x: 1, y: 1 } }, id: or })),
      v.coordinate().reflect('y'),
      f.data(d),
      v.data(p));
  var g = B({}, e, {
    chart: f,
    options: {
      widthRatio: l,
      xField: n,
      yField: a[0],
      seriesField: xi,
      interval: { color: o, style: s },
    },
  });
  re(g);
  var y = B({}, e, {
    chart: v,
    options: {
      xField: n,
      yField: a[1],
      seriesField: xi,
      widthRatio: l,
      interval: { color: o, style: s },
    },
  });
  return re(y), e;
}
function o$(e) {
  var r,
    t,
    i,
    n = e.options,
    a = e.chart,
    o = n.xAxis,
    s = n.yAxis,
    l = n.xField,
    u = n.yField,
    c = lt(a, ar),
    h = lt(a, or),
    f = {};
  return (
    En((n == null ? void 0 : n.meta) || {}).map(function (v) {
      M(n == null ? void 0 : n.meta, [v, 'alias']) && (f[v] = n.meta[v].alias);
    }),
    a.scale(
      ((r = {}),
      (r[xi] = {
        sync: !0,
        formatter: function (v) {
          return M(f, v, v);
        },
      }),
      r),
    ),
    Rt(((t = {}), (t[l] = o), (t[u[0]] = s[u[0]]), t))(B({}, e, { chart: c })),
    Rt(((i = {}), (i[l] = o), (i[u[1]] = s[u[1]]), i))(B({}, e, { chart: h })),
    e
  );
}
function s$(e) {
  var r = e.chart,
    t = e.options,
    i = t.xAxis,
    n = t.yAxis,
    a = t.xField,
    o = t.yField,
    s = t.layout,
    l = lt(r, ar),
    u = lt(r, or);
  return (
    (i == null ? void 0 : i.position) === 'bottom'
      ? u.axis(
          a,
          x(x({}, i), {
            label: {
              formatter: function () {
                return '';
              },
            },
          }),
        )
      : u.axis(a, !1),
    i === !1 ? l.axis(a, !1) : l.axis(a, x({ position: xr(s) ? 'top' : 'bottom' }, i)),
    n === !1
      ? (l.axis(o[0], !1), u.axis(o[1], !1))
      : (l.axis(o[0], n[o[0]]), u.axis(o[1], n[o[1]])),
    (r.__axisPosition = { position: l.getOptions().axes[a].position, layout: s }),
    e
  );
}
function l$(e) {
  var r = e.chart;
  return It(B({}, e, { chart: lt(r, ar) })), It(B({}, e, { chart: lt(r, or) })), e;
}
function u$(e) {
  var r = e.chart,
    t = e.options,
    i = t.yField,
    n = t.yAxis;
  return (
    Ri(B({}, e, { chart: lt(r, ar), options: { yAxis: n[i[0]] } })),
    Ri(B({}, e, { chart: lt(r, or), options: { yAxis: n[i[1]] } })),
    e
  );
}
function c$(e) {
  var r = e.chart;
  return ht(B({}, e, { chart: lt(r, ar) })), ht(B({}, e, { chart: lt(r, or) })), ht(e), e;
}
function h$(e) {
  var r = e.chart;
  return wt(B({}, e, { chart: lt(r, ar) })), wt(B({}, e, { chart: lt(r, or) })), e;
}
function f$(e) {
  var r = this,
    t,
    i,
    n = e.chart,
    a = e.options,
    o = a.label,
    s = a.yField,
    l = a.layout,
    u = lt(n, ar),
    c = lt(n, or),
    h = ee(u, 'interval'),
    f = ee(c, 'interval');
  if (!o) h.label(!1), f.label(!1);
  else {
    var v = o.callback,
      d = mt(o, ['callback']);
    d.position || (d.position = 'middle'), d.offset === void 0 && (d.offset = 2);
    var p = x({}, d);
    if (xr(l)) {
      var g =
        ((t = p.style) === null || t === void 0 ? void 0 : t.textAlign) ||
        (d.position === 'middle' ? 'center' : 'left');
      d.style = B({}, d.style, { textAlign: g });
      var y = { left: 'right', right: 'left', center: 'center' };
      p.style = B({}, p.style, { textAlign: y[g] });
    } else {
      var m = { top: 'bottom', bottom: 'top', middle: 'middle' };
      typeof d.position == 'string'
        ? (d.position = m[d.position])
        : typeof d.position == 'function' &&
          (d.position = function () {
            for (var S = [], C = 0; C < arguments.length; C++) S[C] = arguments[C];
            return m[d.position.apply(r, S)];
          });
      var b = ((i = p.style) === null || i === void 0 ? void 0 : i.textBaseline) || 'bottom';
      p.style = B({}, p.style, { textBaseline: b });
      var w = { top: 'bottom', bottom: 'top', middle: 'middle' };
      d.style = B({}, d.style, { textBaseline: w[b] });
    }
    h.label({ fields: [s[0]], callback: v, cfg: _t(p) }),
      f.label({ fields: [s[1]], callback: v, cfg: _t(d) });
  }
  return e;
}
function v$(e) {
  return rt(a$, o$, s$, u$, c$, f$, Yt, l$, h$)(e);
}
(function (e) {
  I(r, e);
  function r() {
    var t = (e !== null && e.apply(this, arguments)) || this;
    return (t.type = 'bidirectional-bar'), t;
  }
  return (
    (r.getDefaultOptions = function () {
      return B({}, e.getDefaultOptions.call(this), { syncViewPadding: n$ });
    }),
    (r.prototype.changeData = function (t) {
      t === void 0 && (t = []),
        this.chart.emit(
          st.BEFORE_CHANGE_DATA,
          Lt.fromData(this.chart, st.BEFORE_CHANGE_DATA, null),
        ),
        this.updateOption({ data: t });
      var i = this.options,
        n = i.xField,
        a = i.yField,
        o = i.layout,
        s = jx(n, a, xi, t, xr(o)),
        l = s[0],
        u = s[1],
        c = lt(this.chart, ar),
        h = lt(this.chart, or);
      c.data(l),
        h.data(u),
        this.chart.render(!0),
        this.chart.emit(st.AFTER_CHANGE_DATA, Lt.fromData(this.chart, st.AFTER_CHANGE_DATA, null));
    }),
    (r.prototype.getDefaultOptions = function () {
      return r.getDefaultOptions();
    }),
    (r.prototype.getSchemaAdaptor = function () {
      return v$;
    }),
    (r.SERIES_FIELD_KEY = xi),
    r
  );
})(at);
var bu,
  bn = '$$range$$',
  d$ = 'low-q1-median-q3-high',
  p$ = '$$y_outliers$$',
  Ux = 'outliers_view',
  g$ = B({}, at.getDefaultOptions(), {
    meta: ((bu = {}), (bu[bn] = { min: 0, alias: d$ }), bu),
    interactions: [{ type: 'active-region' }],
    tooltip: { showMarkers: !1, shared: !0 },
    boxStyle: { lineWidth: 1 },
  }),
  qx = function (e, r) {
    var t = e;
    if (Array.isArray(r)) {
      var i = r[0],
        n = r[1],
        a = r[2],
        o = r[3],
        s = r[4];
      t = Tt(e, function (l) {
        return (l[bn] = [l[i], l[n], l[a], l[o], l[s]]), l;
      });
    }
    return t;
  };
function y$(e) {
  var r = e.chart,
    t = e.options,
    i = t.xField,
    n = t.yField,
    a = t.groupField,
    o = t.color,
    s = t.tooltip,
    l = t.boxStyle;
  r.data(qx(t.data, n));
  var u = $(n) ? bn : n,
    c = n ? ($(n) ? n : [n]) : [],
    h = s;
  h !== !1 && (h = B({}, { fields: $(n) ? n : [] }, h));
  var f = af(
    B({}, e, {
      options: {
        xField: i,
        yField: u,
        seriesField: a,
        tooltip: h,
        rawFields: c,
        label: !1,
        schema: { shape: 'box', color: o, style: l },
      },
    }),
  ).ext;
  return a && f.geometry.adjust('dodge'), e;
}
function m$(e) {
  var r = e.chart,
    t = e.options,
    i = t.xField,
    n = t.data,
    a = t.outliersField,
    o = t.outliersStyle,
    s = t.padding,
    l = t.label;
  if (!a) return e;
  var u = r.createView({ padding: s, id: Ux }),
    c = n.reduce(function (h, f) {
      var v = f[a];
      return (
        v.forEach(function (d) {
          var p;
          return h.push(x(x({}, f), ((p = {}), (p[a] = d), p)));
        }),
        h
      );
    }, []);
  return (
    u.data(c),
    Le({
      chart: u,
      options: { xField: i, yField: a, point: { shape: 'circle', style: o }, label: l },
    }),
    u.axis(!1),
    e
  );
}
function x$(e) {
  var r,
    t,
    i = e.chart,
    n = e.options,
    a = n.meta,
    o = n.xAxis,
    s = n.yAxis,
    l = n.xField,
    u = n.yField,
    c = n.outliersField,
    h = Array.isArray(u) ? bn : u,
    f = {};
  if (c) {
    var v = p$;
    f = ((r = {}), (r[c] = { sync: v, nice: !0 }), (r[h] = { sync: v, nice: !0 }), r);
  }
  var d = B(f, a, ((t = {}), (t[l] = gt(o, me)), (t[h] = gt(s, me)), t));
  return i.scale(d), e;
}
function w$(e) {
  var r = e.chart,
    t = e.options,
    i = t.xAxis,
    n = t.yAxis,
    a = t.xField,
    o = t.yField,
    s = Array.isArray(o) ? bn : o;
  return i === !1 ? r.axis(a, !1) : r.axis(a, i), n === !1 ? r.axis(bn, !1) : r.axis(s, n), e;
}
function b$(e) {
  var r = e.chart,
    t = e.options,
    i = t.legend,
    n = t.groupField;
  return n ? (i ? r.legend(n, i) : r.legend(n, { position: 'bottom' })) : r.legend(!1), e;
}
function S$(e) {
  return rt(y$, m$, x$, w$, b$, Yt, Ot(), It, wt, ht)(e);
}
(function (e) {
  I(r, e);
  function r() {
    var t = (e !== null && e.apply(this, arguments)) || this;
    return (t.type = 'box'), t;
  }
  return (
    (r.getDefaultOptions = function () {
      return g$;
    }),
    (r.prototype.changeData = function (t) {
      this.updateOption({ data: t });
      var i = this.options.yField,
        n = this.chart.views.find(function (a) {
          return a.id === Ux;
        });
      n && n.data(t), this.chart.changeData(qx(t, i));
    }),
    (r.prototype.getDefaultOptions = function () {
      return r.getDefaultOptions();
    }),
    (r.prototype.getSchemaAdaptor = function () {
      return S$;
    }),
    r
  );
})(at);
function kp(e, r, t) {
  return e.length > 1 ? r + '_' + t : '' + r;
}
function Zx(e) {
  var r = e.data,
    t = e.xField,
    i = e.measureField,
    n = e.rangeField,
    a = e.targetField,
    o = e.layout,
    s = [],
    l = [];
  r.forEach(function (h, f) {
    var v = [h[n]].flat();
    v.sort(function (g, y) {
      return g - y;
    }),
      v.forEach(function (g, y) {
        var m,
          b = y === 0 ? g : v[y] - v[y - 1];
        s.push(((m = { rKey: n + '_' + y }), (m[t] = t ? h[t] : String(f)), (m[n] = b), m));
      });
    var d = [h[i]].flat();
    d.forEach(function (g, y) {
      var m;
      s.push(((m = { mKey: kp(d, i, y) }), (m[t] = t ? h[t] : String(f)), (m[i] = g), m));
    });
    var p = [h[a]].flat();
    p.forEach(function (g, y) {
      var m;
      s.push(((m = { tKey: kp(p, a, y) }), (m[t] = t ? h[t] : String(f)), (m[a] = g), m));
    }),
      l.push(h[n], h[i], h[a]);
  });
  var u = Math.min.apply(Math, l.flat(1 / 0)),
    c = Math.max.apply(Math, l.flat(1 / 0));
  return (u = u > 0 ? 0 : u), o === 'vertical' && s.reverse(), { min: u, max: c, ds: s };
}
function C$(e) {
  var r = e.chart,
    t = e.options,
    i = t.bulletStyle,
    n = t.targetField,
    a = t.rangeField,
    o = t.measureField,
    s = t.xField,
    l = t.color,
    u = t.layout,
    c = t.size,
    h = t.label,
    f = Zx(t),
    v = f.min,
    d = f.max,
    p = f.ds;
  r.data(p);
  var g = B({}, e, {
    options: {
      xField: s,
      yField: a,
      seriesField: 'rKey',
      isStack: !0,
      label: M(h, 'range'),
      interval: { color: M(l, 'range'), style: M(i, 'range'), size: M(c, 'range') },
    },
  });
  re(g), r.geometries[0].tooltip(!1);
  var y = B({}, e, {
    options: {
      xField: s,
      yField: o,
      seriesField: 'mKey',
      isStack: !0,
      label: M(h, 'measure'),
      interval: { color: M(l, 'measure'), style: M(i, 'measure'), size: M(c, 'measure') },
    },
  });
  re(y);
  var m = B({}, e, {
    options: {
      xField: s,
      yField: n,
      seriesField: 'tKey',
      label: M(h, 'target'),
      point: {
        color: M(l, 'target'),
        style: M(i, 'target'),
        size: q(M(c, 'target'))
          ? function (b) {
              return M(c, 'target')(b) / 2;
            }
          : M(c, 'target') / 2,
        shape: u === 'horizontal' ? 'line' : 'hyphen',
      },
    },
  });
  return (
    Le(m),
    u === 'horizontal' && r.coordinate().transpose(),
    x(x({}, e), { ext: { data: { min: v, max: d } } })
  );
}
function Kx(e) {
  var r,
    t,
    i = e.options,
    n = e.ext,
    a = i.xAxis,
    o = i.yAxis,
    s = i.targetField,
    l = i.rangeField,
    u = i.measureField,
    c = i.xField,
    h = n.data;
  return rt(
    Rt(
      ((r = {}), (r[c] = a), (r[u] = o), r),
      ((t = {}),
      (t[u] = { min: h == null ? void 0 : h.min, max: h == null ? void 0 : h.max, sync: !0 }),
      (t[s] = { sync: '' + u }),
      (t[l] = { sync: '' + u }),
      t),
    ),
  )(e);
}
function A$(e) {
  var r = e.chart,
    t = e.options,
    i = t.xAxis,
    n = t.yAxis,
    a = t.xField,
    o = t.measureField,
    s = t.rangeField,
    l = t.targetField;
  return (
    r.axis('' + s, !1),
    r.axis('' + l, !1),
    i === !1 ? r.axis('' + a, !1) : r.axis('' + a, i),
    n === !1 ? r.axis('' + o, !1) : r.axis('' + o, n),
    e
  );
}
function M$(e) {
  var r = e.chart,
    t = e.options,
    i = t.legend;
  return (
    r.removeInteraction('legend-filter'),
    r.legend(i),
    r.legend('rKey', !1),
    r.legend('mKey', !1),
    r.legend('tKey', !1),
    e
  );
}
function F$(e) {
  var r = e.chart,
    t = e.options,
    i = t.label,
    n = t.measureField,
    a = t.targetField,
    o = t.rangeField,
    s = r.geometries,
    l = s[0],
    u = s[1],
    c = s[2];
  return (
    M(i, 'range')
      ? l.label('' + o, x({ layout: [{ type: 'limit-in-plot' }] }, _t(i.range)))
      : l.label(!1),
    M(i, 'measure')
      ? u.label('' + n, x({ layout: [{ type: 'limit-in-plot' }] }, _t(i.measure)))
      : u.label(!1),
    M(i, 'target')
      ? c.label('' + a, x({ layout: [{ type: 'limit-in-plot' }] }, _t(i.target)))
      : c.label(!1),
    e
  );
}
function E$(e) {
  rt(C$, Kx, A$, M$, ht, F$, Yt, It, wt)(e);
}
var T$ = B({}, at.getDefaultOptions(), {
  layout: 'horizontal',
  size: { range: 30, measure: 20, target: 20 },
  xAxis: { tickLine: !1, line: null },
  bulletStyle: { range: { fillOpacity: 0.5 } },
  label: { measure: { position: 'right' } },
  tooltip: { showMarkers: !1 },
});
(function (e) {
  I(r, e);
  function r() {
    var t = (e !== null && e.apply(this, arguments)) || this;
    return (t.type = 'bullet'), t;
  }
  return (
    (r.getDefaultOptions = function () {
      return T$;
    }),
    (r.prototype.changeData = function (t) {
      this.updateOption({ data: t });
      var i = Zx(this.options),
        n = i.min,
        a = i.max,
        o = i.ds;
      Kx({ options: this.options, ext: { data: { min: n, max: a } }, chart: this.chart }),
        this.chart.changeData(o);
    }),
    (r.prototype.getSchemaAdaptor = function () {
      return E$;
    }),
    (r.prototype.getDefaultOptions = function () {
      return r.getDefaultOptions();
    }),
    r
  );
})(at);
var k$ = {
  y: 0,
  nodeWidthRatio: 0.05,
  weight: !1,
  nodePaddingRatio: 0.1,
  id: function (e) {
    return e.id;
  },
  source: function (e) {
    return e.source;
  },
  target: function (e) {
    return e.target;
  },
  sourceWeight: function (e) {
    return e.value || 1;
  },
  targetWeight: function (e) {
    return e.value || 1;
  },
  sortBy: null,
};
function I$(e, r, t) {
  A(e, function (i, n) {
    (i.inEdges = r.filter(function (a) {
      return '' + t.target(a) == '' + n;
    })),
      (i.outEdges = r.filter(function (a) {
        return '' + t.source(a) == '' + n;
      })),
      (i.edges = i.outEdges.concat(i.inEdges)),
      (i.frequency = i.edges.length),
      (i.value = 0),
      i.inEdges.forEach(function (a) {
        i.value += t.targetWeight(a);
      }),
      i.outEdges.forEach(function (a) {
        i.value += t.sourceWeight(a);
      });
  });
}
function L$(e, r) {
  var t = {
      weight: function (n, a) {
        return a.value - n.value;
      },
      frequency: function (n, a) {
        return a.frequency - n.frequency;
      },
      id: function (n, a) {
        return ('' + r.id(n)).localeCompare('' + r.id(a));
      },
    },
    i = t[r.sortBy];
  !i && q(r.sortBy) && (i = r.sortBy), i && e.sort(i);
}
function O$(e, r) {
  var t = e.length;
  if (!t) throw new TypeError("Invalid nodes: it's empty!");
  if (r.weight) {
    var i = r.nodePaddingRatio;
    if (i < 0 || i >= 1)
      throw new TypeError('Invalid nodePaddingRatio: it must be in range [0, 1)!');
    var n = i / (2 * t),
      a = r.nodeWidthRatio;
    if (a <= 0 || a >= 1)
      throw new TypeError('Invalid nodeWidthRatio: it must be in range (0, 1)!');
    var o = 0;
    e.forEach(function (l) {
      o += l.value;
    }),
      e.forEach(function (l) {
        (l.weight = l.value / o), (l.width = l.weight * (1 - i)), (l.height = a);
      }),
      e.forEach(function (l, u) {
        for (var c = 0, h = u - 1; h >= 0; h--) c += e[h].width + 2 * n;
        var f = (l.minX = n + c),
          v = (l.maxX = l.minX + l.width),
          d = (l.minY = r.y - a / 2),
          p = (l.maxY = d + a);
        (l.x = [f, v, v, f]), (l.y = [d, d, p, p]);
      });
  } else {
    var s = 1 / t;
    e.forEach(function (l, u) {
      (l.x = (u + 0.5) * s), (l.y = r.y);
    });
  }
  return e;
}
function P$(e, r, t) {
  if (t.weight) {
    var i = {};
    A(e, function (n, a) {
      i[a] = n.value;
    }),
      r.forEach(function (n) {
        var a = t.source(n),
          o = t.target(n),
          s = e[a],
          l = e[o];
        if (s && l) {
          var u = i[a],
            c = t.sourceWeight(n),
            h = s.minX + ((s.value - u) / s.value) * s.width,
            f = h + (c / s.value) * s.width;
          i[a] -= c;
          var v = i[o],
            d = t.targetWeight(n),
            p = l.minX + ((l.value - v) / l.value) * l.width,
            g = p + (d / l.value) * l.width;
          i[o] -= d;
          var y = t.y;
          (n.x = [h, f, p, g]), (n.y = [y, y, y, y]), (n.source = s), (n.target = l);
        }
      });
  } else
    r.forEach(function (n) {
      var a = e[t.source(n)],
        o = e[t.target(n)];
      a && o && ((n.x = [a.x, o.x]), (n.y = [a.y, o.y]), (n.source = a), (n.target = o));
    });
  return r;
}
function D$(e) {
  return xt({}, k$, e);
}
function B$(e, r) {
  var t = D$(e),
    i = {},
    n = r.nodes,
    a = r.links;
  n.forEach(function (l) {
    var u = t.id(l);
    i[u] = l;
  }),
    I$(i, a, t),
    L$(n, t);
  var o = O$(n, t),
    s = P$(i, a, t);
  return { nodes: o, links: s };
}
var Qx = 'x',
  Jx = 'y',
  t1 = 'name',
  e1 = 'source',
  R$ = {
    nodeStyle: { opacity: 1, fillOpacity: 1, lineWidth: 1 },
    edgeStyle: { opacity: 0.5, lineWidth: 2 },
    label: {
      fields: ['x', 'name'],
      callback: function (e, r) {
        var t = (e[0] + e[1]) / 2,
          i = t > 0.5 ? -4 : 4;
        return { offsetX: i, content: r };
      },
      labelEmit: !0,
      style: { fill: '#8c8c8c' },
    },
    tooltip: {
      showTitle: !1,
      showMarkers: !1,
      fields: ['source', 'target', 'value', 'isNode'],
      showContent: function (e) {
        return !M(e, [0, 'data', 'isNode']);
      },
      formatter: function (e) {
        var r = e.source,
          t = e.target,
          i = e.value;
        return { name: r + ' -> ' + t, value: i };
      },
    },
    interactions: [{ type: 'element-active' }],
    weight: !0,
    nodePaddingRatio: 0.1,
    nodeWidthRatio: 0.05,
  };
function $$(e) {
  var r = e.options,
    t = r.data,
    i = r.sourceField,
    n = r.targetField,
    a = r.weightField,
    o = r.nodePaddingRatio,
    s = r.nodeWidthRatio,
    l = r.rawFields,
    u = l === void 0 ? [] : l,
    c = z0(t, i, n, a),
    h = B$({ weight: !0, nodePaddingRatio: o, nodeWidthRatio: s }, c),
    f = h.nodes,
    v = h.links,
    d = f.map(function (g) {
      return x(x({}, gt(g, Ct(['id', 'x', 'y', 'name'], u))), { isNode: !0 });
    }),
    p = v.map(function (g) {
      return x(
        x(
          { source: g.source.name, target: g.target.name, name: g.source.name || g.target.name },
          gt(g, Ct(['x', 'y', 'value'], u)),
        ),
        { isNode: !1 },
      );
    });
  return x(x({}, e), { ext: x(x({}, e.ext), { chordData: { nodesData: d, edgesData: p } }) });
}
function N$(e) {
  var r,
    t = e.chart;
  return (
    t.scale(
      ((r = { x: { sync: !0, nice: !0 }, y: { sync: !0, nice: !0, max: 1 } }),
      (r[t1] = { sync: 'color' }),
      (r[e1] = { sync: 'color' }),
      r),
    ),
    e
  );
}
function z$(e) {
  var r = e.chart;
  return r.axis(!1), e;
}
function G$(e) {
  var r = e.chart;
  return r.legend(!1), e;
}
function H$(e) {
  var r = e.chart,
    t = e.options,
    i = t.tooltip;
  return r.tooltip(i), e;
}
function V$(e) {
  var r = e.chart;
  return r.coordinate('polar').reflect('y'), e;
}
function Y$(e) {
  var r = e.chart,
    t = e.options,
    i = e.ext.chordData.nodesData,
    n = t.nodeStyle,
    a = t.label,
    o = t.tooltip,
    s = r.createView();
  return (
    s.data(i),
    El({
      chart: s,
      options: {
        xField: Qx,
        yField: Jx,
        seriesField: t1,
        polygon: { style: n },
        label: a,
        tooltip: o,
      },
    }),
    e
  );
}
function W$(e) {
  var r = e.chart,
    t = e.options,
    i = e.ext.chordData.edgesData,
    n = t.edgeStyle,
    a = t.tooltip,
    o = r.createView();
  o.data(i);
  var s = { xField: Qx, yField: Jx, seriesField: e1, edge: { style: n, shape: 'arc' }, tooltip: a };
  return q0({ chart: o, options: s }), e;
}
function X$(e) {
  var r = e.chart,
    t = e.options,
    i = t.animation;
  return ro(r, i, FP(r)), e;
}
function _$(e) {
  return rt(ht, $$, V$, N$, z$, G$, H$, W$, Y$, It, oi, X$)(e);
}
(function (e) {
  I(r, e);
  function r() {
    var t = (e !== null && e.apply(this, arguments)) || this;
    return (t.type = 'chord'), t;
  }
  return (
    (r.getDefaultOptions = function () {
      return R$;
    }),
    (r.prototype.getDefaultOptions = function () {
      return r.getDefaultOptions();
    }),
    (r.prototype.getSchemaAdaptor = function () {
      return _$;
    }),
    r
  );
})(at);
var j$ = ['x', 'y', 'r', 'name', 'value', 'path', 'depth'],
  U$ = {
    colorField: 'name',
    autoFit: !0,
    pointStyle: { lineWidth: 0, stroke: '#fff' },
    legend: !1,
    hierarchyConfig: { size: [1, 1], padding: 0 },
    label: { fields: ['name'], layout: { type: 'limit-in-shape' } },
    tooltip: { showMarkers: !1, showTitle: !1 },
    drilldown: { enabled: !1 },
  },
  Ip = 4,
  q$ = 0,
  Lp = 5,
  Op = 'drilldown-bread-crumb',
  Z$ = {
    position: 'top-left',
    dividerText: '/',
    textStyle: { fontSize: 12, fill: 'rgba(0, 0, 0, 0.65)', cursor: 'pointer' },
    activeTextStyle: { fill: '#87B5FF' },
  },
  Ya = 'hierarchy-data-transform-params',
  K$ = (function (e) {
    I(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (
        (t.name = 'drill-down'),
        (t.historyCache = []),
        (t.breadCrumbGroup = null),
        (t.breadCrumbCfg = Z$),
        t
      );
    }
    return (
      (r.prototype.click = function () {
        var t = M(this.context, ['event', 'data', 'data']);
        if (!t) return !1;
        this.drill(t), this.drawBreadCrumb();
      }),
      (r.prototype.resetPosition = function () {
        if (this.breadCrumbGroup) {
          var t = this.context.view.getCoordinate(),
            i = this.breadCrumbGroup,
            n = i.getBBox(),
            a = this.getButtonCfg().position,
            o = { x: t.start.x, y: t.end.y - (n.height + Lp * 2) };
          t.isPolar && (o = { x: 0, y: 0 }),
            a === 'bottom-left' && (o = { x: t.start.x, y: t.start.y });
          var s = be.transform(null, [['t', o.x + q$, o.y + n.height + Lp]]);
          i.setMatrix(s);
        }
      }),
      (r.prototype.back = function () {
        Xt(this.historyCache) && this.backTo(this.historyCache.slice(0, -1));
      }),
      (r.prototype.reset = function () {
        this.historyCache[0] && this.backTo(this.historyCache.slice(0, 1)),
          (this.historyCache = []),
          this.hideCrumbGroup();
      }),
      (r.prototype.drill = function (t) {
        var i = this.context.view,
          n = M(i, ['interactions', 'drill-down', 'cfg', 'transformData'], function (u) {
            return u;
          }),
          a = n(x({ data: t.data }, t[Ya]));
        i.changeData(a);
        for (var o = [], s = t; s; ) {
          var l = s.data;
          o.unshift({
            id: l.name + '_' + s.height + '_' + s.depth,
            name: l.name,
            children: n(x({ data: l }, t[Ya])),
          }),
            (s = s.parent);
        }
        this.historyCache = (this.historyCache || []).slice(0, -1).concat(o);
      }),
      (r.prototype.backTo = function (t) {
        if (!(!t || t.length <= 0)) {
          var i = this.context.view,
            n = Vt(t).children;
          i.changeData(n),
            t.length > 1
              ? ((this.historyCache = t), this.drawBreadCrumb())
              : ((this.historyCache = []), this.hideCrumbGroup());
        }
      }),
      (r.prototype.getButtonCfg = function () {
        var t = this.context.view,
          i = M(t, ['interactions', 'drill-down', 'cfg', 'drillDownConfig']);
        return B(this.breadCrumbCfg, i == null ? void 0 : i.breadCrumb, this.cfg);
      }),
      (r.prototype.drawBreadCrumb = function () {
        this.drawBreadCrumbGroup(), this.resetPosition(), this.breadCrumbGroup.show();
      }),
      (r.prototype.drawBreadCrumbGroup = function () {
        var t = this,
          i = this.getButtonCfg(),
          n = this.historyCache;
        this.breadCrumbGroup
          ? this.breadCrumbGroup.clear()
          : (this.breadCrumbGroup = this.context.view.foregroundGroup.addGroup({ name: Op }));
        var a = 0;
        n.forEach(function (o, s) {
          var l = t.breadCrumbGroup.addShape({
              type: 'text',
              id: o.id,
              name: Op + '_' + o.name + '_text',
              attrs: x(x({ text: s === 0 && !R(i.rootText) ? i.rootText : o.name }, i.textStyle), {
                x: a,
                y: 0,
              }),
            }),
            u = l.getBBox();
          if (
            ((a += u.width + Ip),
            l.on('click', function (f) {
              var v,
                d = f.target.get('id');
              if (d !== ((v = Vt(n)) === null || v === void 0 ? void 0 : v.id)) {
                var p = n.slice(
                  0,
                  n.findIndex(function (g) {
                    return g.id === d;
                  }) + 1,
                );
                t.backTo(p);
              }
            }),
            l.on('mouseenter', function (f) {
              var v,
                d = f.target.get('id');
              d !== ((v = Vt(n)) === null || v === void 0 ? void 0 : v.id)
                ? l.attr(i.activeTextStyle)
                : l.attr({ cursor: 'default' });
            }),
            l.on('mouseleave', function () {
              l.attr(i.textStyle);
            }),
            s < n.length - 1)
          ) {
            var c = t.breadCrumbGroup.addShape({
                type: 'text',
                name: i.name + '_' + o.name + '_divider',
                attrs: x(x({ text: i.dividerText }, i.textStyle), { x: a, y: 0 }),
              }),
              h = c.getBBox();
            a += h.width + Ip;
          }
        });
      }),
      (r.prototype.hideCrumbGroup = function () {
        this.breadCrumbGroup && this.breadCrumbGroup.hide();
      }),
      (r.prototype.destroy = function () {
        this.breadCrumbGroup && this.breadCrumbGroup.remove(), e.prototype.destroy.call(this);
      }),
      r
    );
  })(Ft);
function Q$(e, r) {
  return e.parent === r.parent ? 1 : 2;
}
function J$(e) {
  return e.reduce(tN, 0) / e.length;
}
function tN(e, r) {
  return e + r.x;
}
function eN(e) {
  return 1 + e.reduce(rN, 0);
}
function rN(e, r) {
  return Math.max(e, r.y);
}
function iN(e) {
  for (var r; (r = e.children); ) e = r[0];
  return e;
}
function nN(e) {
  for (var r; (r = e.children); ) e = r[r.length - 1];
  return e;
}
function aN() {
  var e = Q$,
    r = 1,
    t = 1,
    i = !1;
  function n(a) {
    var o,
      s = 0;
    a.eachAfter(function (f) {
      var v = f.children;
      v ? ((f.x = J$(v)), (f.y = eN(v))) : ((f.x = o ? (s += e(f, o)) : 0), (f.y = 0), (o = f));
    });
    var l = iN(a),
      u = nN(a),
      c = l.x - e(l, u) / 2,
      h = u.x + e(u, l) / 2;
    return a.eachAfter(
      i
        ? function (f) {
            (f.x = (f.x - a.x) * r), (f.y = (a.y - f.y) * t);
          }
        : function (f) {
            (f.x = ((f.x - c) / (h - c)) * r), (f.y = (1 - (a.y ? f.y / a.y : 1)) * t);
          },
    );
  }
  return (
    (n.separation = function (a) {
      return arguments.length ? ((e = a), n) : e;
    }),
    (n.size = function (a) {
      return arguments.length ? ((i = !1), (r = +a[0]), (t = +a[1]), n) : i ? null : [r, t];
    }),
    (n.nodeSize = function (a) {
      return arguments.length ? ((i = !0), (r = +a[0]), (t = +a[1]), n) : i ? [r, t] : null;
    }),
    n
  );
}
function oN(e) {
  var r = 0,
    t = e.children,
    i = t && t.length;
  if (!i) r = 1;
  else for (; --i >= 0; ) r += t[i].value;
  e.value = r;
}
function sN() {
  return this.eachAfter(oN);
}
function lN(e, r) {
  let t = -1;
  for (const i of this) e.call(r, i, ++t, this);
  return this;
}
function uN(e, r) {
  for (var t = this, i = [t], n, a, o = -1; (t = i.pop()); )
    if ((e.call(r, t, ++o, this), (n = t.children)))
      for (a = n.length - 1; a >= 0; --a) i.push(n[a]);
  return this;
}
function cN(e, r) {
  for (var t = this, i = [t], n = [], a, o, s, l = -1; (t = i.pop()); )
    if ((n.push(t), (a = t.children))) for (o = 0, s = a.length; o < s; ++o) i.push(a[o]);
  for (; (t = n.pop()); ) e.call(r, t, ++l, this);
  return this;
}
function hN(e, r) {
  let t = -1;
  for (const i of this) if (e.call(r, i, ++t, this)) return i;
}
function fN(e) {
  return this.eachAfter(function (r) {
    for (var t = +e(r.data) || 0, i = r.children, n = i && i.length; --n >= 0; ) t += i[n].value;
    r.value = t;
  });
}
function vN(e) {
  return this.eachBefore(function (r) {
    r.children && r.children.sort(e);
  });
}
function dN(e) {
  for (var r = this, t = pN(r, e), i = [r]; r !== t; ) (r = r.parent), i.push(r);
  for (var n = i.length; e !== t; ) i.splice(n, 0, e), (e = e.parent);
  return i;
}
function pN(e, r) {
  if (e === r) return e;
  var t = e.ancestors(),
    i = r.ancestors(),
    n = null;
  for (e = t.pop(), r = i.pop(); e === r; ) (n = e), (e = t.pop()), (r = i.pop());
  return n;
}
function gN() {
  for (var e = this, r = [e]; (e = e.parent); ) r.push(e);
  return r;
}
function yN() {
  return Array.from(this);
}
function mN() {
  var e = [];
  return (
    this.eachBefore(function (r) {
      r.children || e.push(r);
    }),
    e
  );
}
function xN() {
  var e = this,
    r = [];
  return (
    e.each(function (t) {
      t !== e && r.push({ source: t.parent, target: t });
    }),
    r
  );
}
function* wN() {
  var e = this,
    r,
    t = [e],
    i,
    n,
    a;
  do
    for (r = t.reverse(), t = []; (e = r.pop()); )
      if ((yield e, (i = e.children))) for (n = 0, a = i.length; n < a; ++n) t.push(i[n]);
  while (t.length);
}
function Nn(e, r) {
  e instanceof Map ? ((e = [void 0, e]), r === void 0 && (r = CN)) : r === void 0 && (r = SN);
  for (var t = new Sn(e), i, n = [t], a, o, s, l; (i = n.pop()); )
    if ((o = r(i.data)) && (l = (o = Array.from(o)).length))
      for (i.children = o, s = l - 1; s >= 0; --s)
        n.push((a = o[s] = new Sn(o[s]))), (a.parent = i), (a.depth = i.depth + 1);
  return t.eachBefore(r1);
}
function bN() {
  return Nn(this).eachBefore(AN);
}
function SN(e) {
  return e.children;
}
function CN(e) {
  return Array.isArray(e) ? e[1] : null;
}
function AN(e) {
  e.data.value !== void 0 && (e.value = e.data.value), (e.data = e.data.data);
}
function r1(e) {
  var r = 0;
  do e.height = r;
  while ((e = e.parent) && e.height < ++r);
}
function Sn(e) {
  (this.data = e), (this.depth = this.height = 0), (this.parent = null);
}
Sn.prototype = Nn.prototype = {
  constructor: Sn,
  count: sN,
  each: lN,
  eachAfter: cN,
  eachBefore: uN,
  find: hN,
  sum: fN,
  sort: vN,
  path: dN,
  ancestors: gN,
  descendants: yN,
  leaves: mN,
  links: xN,
  copy: bN,
  [Symbol.iterator]: wN,
};
function MN(e) {
  return typeof e == 'object' && 'length' in e ? e : Array.from(e);
}
function FN(e) {
  for (var r = e.length, t, i; r; )
    (i = (Math.random() * r--) | 0), (t = e[r]), (e[r] = e[i]), (e[i] = t);
  return e;
}
function i1(e) {
  for (var r = 0, t = (e = FN(Array.from(e))).length, i = [], n, a; r < t; )
    (n = e[r]), a && n1(a, n) ? ++r : ((a = TN((i = EN(i, n)))), (r = 0));
  return a;
}
function EN(e, r) {
  var t, i;
  if (Su(r, e)) return [r];
  for (t = 0; t < e.length; ++t) if (Wo(r, e[t]) && Su(aa(e[t], r), e)) return [e[t], r];
  for (t = 0; t < e.length - 1; ++t)
    for (i = t + 1; i < e.length; ++i)
      if (
        Wo(aa(e[t], e[i]), r) &&
        Wo(aa(e[t], r), e[i]) &&
        Wo(aa(e[i], r), e[t]) &&
        Su(a1(e[t], e[i], r), e)
      )
        return [e[t], e[i], r];
  throw new Error();
}
function Wo(e, r) {
  var t = e.r - r.r,
    i = r.x - e.x,
    n = r.y - e.y;
  return t < 0 || t * t < i * i + n * n;
}
function n1(e, r) {
  var t = e.r - r.r + Math.max(e.r, r.r, 1) * 1e-9,
    i = r.x - e.x,
    n = r.y - e.y;
  return t > 0 && t * t > i * i + n * n;
}
function Su(e, r) {
  for (var t = 0; t < r.length; ++t) if (!n1(e, r[t])) return !1;
  return !0;
}
function TN(e) {
  switch (e.length) {
    case 1:
      return kN(e[0]);
    case 2:
      return aa(e[0], e[1]);
    case 3:
      return a1(e[0], e[1], e[2]);
  }
}
function kN(e) {
  return { x: e.x, y: e.y, r: e.r };
}
function aa(e, r) {
  var t = e.x,
    i = e.y,
    n = e.r,
    a = r.x,
    o = r.y,
    s = r.r,
    l = a - t,
    u = o - i,
    c = s - n,
    h = Math.sqrt(l * l + u * u);
  return { x: (t + a + (l / h) * c) / 2, y: (i + o + (u / h) * c) / 2, r: (h + n + s) / 2 };
}
function a1(e, r, t) {
  var i = e.x,
    n = e.y,
    a = e.r,
    o = r.x,
    s = r.y,
    l = r.r,
    u = t.x,
    c = t.y,
    h = t.r,
    f = i - o,
    v = i - u,
    d = n - s,
    p = n - c,
    g = l - a,
    y = h - a,
    m = i * i + n * n - a * a,
    b = m - o * o - s * s + l * l,
    w = m - u * u - c * c + h * h,
    S = v * d - f * p,
    C = (d * w - p * b) / (S * 2) - i,
    F = (p * g - d * y) / S,
    E = (v * b - f * w) / (S * 2) - n,
    k = (f * y - v * g) / S,
    T = F * F + k * k - 1,
    O = 2 * (a + C * F + E * k),
    P = C * C + E * E - a * a,
    z = -(T ? (O + Math.sqrt(O * O - 4 * T * P)) / (2 * T) : P / O);
  return { x: i + C + F * z, y: n + E + k * z, r: z };
}
function Pp(e, r, t) {
  var i = e.x - r.x,
    n,
    a,
    o = e.y - r.y,
    s,
    l,
    u = i * i + o * o;
  u
    ? ((a = r.r + t.r),
      (a *= a),
      (l = e.r + t.r),
      (l *= l),
      a > l
        ? ((n = (u + l - a) / (2 * u)),
          (s = Math.sqrt(Math.max(0, l / u - n * n))),
          (t.x = e.x - n * i - s * o),
          (t.y = e.y - n * o + s * i))
        : ((n = (u + a - l) / (2 * u)),
          (s = Math.sqrt(Math.max(0, a / u - n * n))),
          (t.x = r.x + n * i - s * o),
          (t.y = r.y + n * o + s * i)))
    : ((t.x = r.x + t.r), (t.y = r.y));
}
function Dp(e, r) {
  var t = e.r + r.r - 1e-6,
    i = r.x - e.x,
    n = r.y - e.y;
  return t > 0 && t * t > i * i + n * n;
}
function Bp(e) {
  var r = e._,
    t = e.next._,
    i = r.r + t.r,
    n = (r.x * t.r + t.x * r.r) / i,
    a = (r.y * t.r + t.y * r.r) / i;
  return n * n + a * a;
}
function Xo(e) {
  (this._ = e), (this.next = null), (this.previous = null);
}
function o1(e) {
  if (!(n = (e = MN(e)).length)) return 0;
  var r, t, i, n, a, o, s, l, u, c, h;
  if (((r = e[0]), (r.x = 0), (r.y = 0), !(n > 1))) return r.r;
  if (((t = e[1]), (r.x = -t.r), (t.x = r.r), (t.y = 0), !(n > 2))) return r.r + t.r;
  Pp(t, r, (i = e[2])),
    (r = new Xo(r)),
    (t = new Xo(t)),
    (i = new Xo(i)),
    (r.next = i.previous = t),
    (t.next = r.previous = i),
    (i.next = t.previous = r);
  t: for (s = 3; s < n; ++s) {
    Pp(r._, t._, (i = e[s])),
      (i = new Xo(i)),
      (l = t.next),
      (u = r.previous),
      (c = t._.r),
      (h = r._.r);
    do
      if (c <= h) {
        if (Dp(l._, i._)) {
          (t = l), (r.next = t), (t.previous = r), --s;
          continue t;
        }
        (c += l._.r), (l = l.next);
      } else {
        if (Dp(u._, i._)) {
          (r = u), (r.next = t), (t.previous = r), --s;
          continue t;
        }
        (h += u._.r), (u = u.previous);
      }
    while (l !== u.next);
    for (i.previous = r, i.next = t, r.next = t.previous = t = i, a = Bp(r); (i = i.next) !== t; )
      (o = Bp(i)) < a && ((r = i), (a = o));
    t = r.next;
  }
  for (r = [t._], i = t; (i = i.next) !== t; ) r.push(i._);
  for (i = i1(r), s = 0; s < n; ++s) (r = e[s]), (r.x -= i.x), (r.y -= i.y);
  return i.r;
}
function IN(e) {
  return o1(e), e;
}
function LN(e) {
  return e == null ? null : Os(e);
}
function Os(e) {
  if (typeof e != 'function') throw new Error();
  return e;
}
function vi() {
  return 0;
}
function Ki(e) {
  return function () {
    return e;
  };
}
function ON(e) {
  return Math.sqrt(e.value);
}
function s1() {
  var e = null,
    r = 1,
    t = 1,
    i = vi;
  function n(a) {
    return (
      (a.x = r / 2),
      (a.y = t / 2),
      e
        ? a.eachBefore(Rp(e)).eachAfter(Cu(i, 0.5)).eachBefore($p(1))
        : a
            .eachBefore(Rp(ON))
            .eachAfter(Cu(vi, 1))
            .eachAfter(Cu(i, a.r / Math.min(r, t)))
            .eachBefore($p(Math.min(r, t) / (2 * a.r))),
      a
    );
  }
  return (
    (n.radius = function (a) {
      return arguments.length ? ((e = LN(a)), n) : e;
    }),
    (n.size = function (a) {
      return arguments.length ? ((r = +a[0]), (t = +a[1]), n) : [r, t];
    }),
    (n.padding = function (a) {
      return arguments.length ? ((i = typeof a == 'function' ? a : Ki(+a)), n) : i;
    }),
    n
  );
}
function Rp(e) {
  return function (r) {
    r.children || (r.r = Math.max(0, +e(r) || 0));
  };
}
function Cu(e, r) {
  return function (t) {
    if ((i = t.children)) {
      var i,
        n,
        a = i.length,
        o = e(t) * r || 0,
        s;
      if (o) for (n = 0; n < a; ++n) i[n].r += o;
      if (((s = o1(i)), o)) for (n = 0; n < a; ++n) i[n].r -= o;
      t.r = s + o;
    }
  };
}
function $p(e) {
  return function (r) {
    var t = r.parent;
    (r.r *= e), t && ((r.x = t.x + e * r.x), (r.y = t.y + e * r.y));
  };
}
function l1(e) {
  (e.x0 = Math.round(e.x0)),
    (e.y0 = Math.round(e.y0)),
    (e.x1 = Math.round(e.x1)),
    (e.y1 = Math.round(e.y1));
}
function so(e, r, t, i, n) {
  for (var a = e.children, o, s = -1, l = a.length, u = e.value && (i - r) / e.value; ++s < l; )
    (o = a[s]), (o.y0 = t), (o.y1 = n), (o.x0 = r), (o.x1 = r += o.value * u);
}
function u1() {
  var e = 1,
    r = 1,
    t = 0,
    i = !1;
  function n(o) {
    var s = o.height + 1;
    return (
      (o.x0 = o.y0 = t), (o.x1 = e), (o.y1 = r / s), o.eachBefore(a(r, s)), i && o.eachBefore(l1), o
    );
  }
  function a(o, s) {
    return function (l) {
      l.children && so(l, l.x0, (o * (l.depth + 1)) / s, l.x1, (o * (l.depth + 2)) / s);
      var u = l.x0,
        c = l.y0,
        h = l.x1 - t,
        f = l.y1 - t;
      h < u && (u = h = (u + h) / 2),
        f < c && (c = f = (c + f) / 2),
        (l.x0 = u),
        (l.y0 = c),
        (l.x1 = h),
        (l.y1 = f);
    };
  }
  return (
    (n.round = function (o) {
      return arguments.length ? ((i = !!o), n) : i;
    }),
    (n.size = function (o) {
      return arguments.length ? ((e = +o[0]), (r = +o[1]), n) : [e, r];
    }),
    (n.padding = function (o) {
      return arguments.length ? ((t = +o), n) : t;
    }),
    n
  );
}
var PN = { depth: -1 },
  Np = {};
function DN(e) {
  return e.id;
}
function BN(e) {
  return e.parentId;
}
function RN() {
  var e = DN,
    r = BN;
  function t(i) {
    var n = Array.from(i),
      a = n.length,
      o,
      s,
      l,
      u,
      c,
      h,
      f,
      v = new Map();
    for (s = 0; s < a; ++s)
      (o = n[s]),
        (c = n[s] = new Sn(o)),
        (h = e(o, s, i)) != null && (h += '') && ((f = c.id = h), v.set(f, v.has(f) ? Np : c)),
        (h = r(o, s, i)) != null && (h += '') && (c.parent = h);
    for (s = 0; s < a; ++s)
      if (((c = n[s]), (h = c.parent))) {
        if (((u = v.get(h)), !u)) throw new Error('missing: ' + h);
        if (u === Np) throw new Error('ambiguous: ' + h);
        u.children ? u.children.push(c) : (u.children = [c]), (c.parent = u);
      } else {
        if (l) throw new Error('multiple roots');
        l = c;
      }
    if (!l) throw new Error('no root');
    if (
      ((l.parent = PN),
      l
        .eachBefore(function (d) {
          (d.depth = d.parent.depth + 1), --a;
        })
        .eachBefore(r1),
      (l.parent = null),
      a > 0)
    )
      throw new Error('cycle');
    return l;
  }
  return (
    (t.id = function (i) {
      return arguments.length ? ((e = Os(i)), t) : e;
    }),
    (t.parentId = function (i) {
      return arguments.length ? ((r = Os(i)), t) : r;
    }),
    t
  );
}
function $N(e, r) {
  return e.parent === r.parent ? 1 : 2;
}
function Au(e) {
  var r = e.children;
  return r ? r[0] : e.t;
}
function Mu(e) {
  var r = e.children;
  return r ? r[r.length - 1] : e.t;
}
function NN(e, r, t) {
  var i = t / (r.i - e.i);
  (r.c -= i), (r.s += t), (e.c += i), (r.z += t), (r.m += t);
}
function zN(e) {
  for (var r = 0, t = 0, i = e.children, n = i.length, a; --n >= 0; )
    (a = i[n]), (a.z += r), (a.m += r), (r += a.s + (t += a.c));
}
function GN(e, r, t) {
  return e.a.parent === r.parent ? e.a : t;
}
function es(e, r) {
  (this._ = e),
    (this.parent = null),
    (this.children = null),
    (this.A = null),
    (this.a = this),
    (this.z = 0),
    (this.m = 0),
    (this.c = 0),
    (this.s = 0),
    (this.t = null),
    (this.i = r);
}
es.prototype = Object.create(Sn.prototype);
function HN(e) {
  for (var r = new es(e, 0), t, i = [r], n, a, o, s; (t = i.pop()); )
    if ((a = t._.children))
      for (t.children = new Array((s = a.length)), o = s - 1; o >= 0; --o)
        i.push((n = t.children[o] = new es(a[o], o))), (n.parent = t);
  return ((r.parent = new es(null, 0)).children = [r]), r;
}
function VN() {
  var e = $N,
    r = 1,
    t = 1,
    i = null;
  function n(u) {
    var c = HN(u);
    if ((c.eachAfter(a), (c.parent.m = -c.z), c.eachBefore(o), i)) u.eachBefore(l);
    else {
      var h = u,
        f = u,
        v = u;
      u.eachBefore(function (m) {
        m.x < h.x && (h = m), m.x > f.x && (f = m), m.depth > v.depth && (v = m);
      });
      var d = h === f ? 1 : e(h, f) / 2,
        p = d - h.x,
        g = r / (f.x + d + p),
        y = t / (v.depth || 1);
      u.eachBefore(function (m) {
        (m.x = (m.x + p) * g), (m.y = m.depth * y);
      });
    }
    return u;
  }
  function a(u) {
    var c = u.children,
      h = u.parent.children,
      f = u.i ? h[u.i - 1] : null;
    if (c) {
      zN(u);
      var v = (c[0].z + c[c.length - 1].z) / 2;
      f ? ((u.z = f.z + e(u._, f._)), (u.m = u.z - v)) : (u.z = v);
    } else f && (u.z = f.z + e(u._, f._));
    u.parent.A = s(u, f, u.parent.A || h[0]);
  }
  function o(u) {
    (u._.x = u.z + u.parent.m), (u.m += u.parent.m);
  }
  function s(u, c, h) {
    if (c) {
      for (
        var f = u, v = u, d = c, p = f.parent.children[0], g = f.m, y = v.m, m = d.m, b = p.m, w;
        (d = Mu(d)), (f = Au(f)), d && f;

      )
        (p = Au(p)),
          (v = Mu(v)),
          (v.a = u),
          (w = d.z + m - f.z - g + e(d._, f._)),
          w > 0 && (NN(GN(d, u, h), u, w), (g += w), (y += w)),
          (m += d.m),
          (g += f.m),
          (b += p.m),
          (y += v.m);
      d && !Mu(v) && ((v.t = d), (v.m += m - y)),
        f && !Au(p) && ((p.t = f), (p.m += g - b), (h = u));
    }
    return h;
  }
  function l(u) {
    (u.x *= r), (u.y = u.depth * t);
  }
  return (
    (n.separation = function (u) {
      return arguments.length ? ((e = u), n) : e;
    }),
    (n.size = function (u) {
      return arguments.length ? ((i = !1), (r = +u[0]), (t = +u[1]), n) : i ? null : [r, t];
    }),
    (n.nodeSize = function (u) {
      return arguments.length ? ((i = !0), (r = +u[0]), (t = +u[1]), n) : i ? [r, t] : null;
    }),
    n
  );
}
function Dl(e, r, t, i, n) {
  for (var a = e.children, o, s = -1, l = a.length, u = e.value && (n - t) / e.value; ++s < l; )
    (o = a[s]), (o.x0 = r), (o.x1 = i), (o.y0 = t), (o.y1 = t += o.value * u);
}
var c1 = (1 + Math.sqrt(5)) / 2;
function h1(e, r, t, i, n, a) {
  for (
    var o = [],
      s = r.children,
      l,
      u,
      c = 0,
      h = 0,
      f = s.length,
      v,
      d,
      p = r.value,
      g,
      y,
      m,
      b,
      w,
      S,
      C;
    c < f;

  ) {
    (v = n - t), (d = a - i);
    do g = s[h++].value;
    while (!g && h < f);
    for (
      y = m = g, S = Math.max(d / v, v / d) / (p * e), C = g * g * S, w = Math.max(m / C, C / y);
      h < f;
      ++h
    ) {
      if (
        ((g += u = s[h].value),
        u < y && (y = u),
        u > m && (m = u),
        (C = g * g * S),
        (b = Math.max(m / C, C / y)),
        b > w)
      ) {
        g -= u;
        break;
      }
      w = b;
    }
    o.push((l = { value: g, dice: v < d, children: s.slice(c, h) })),
      l.dice
        ? so(l, t, i, n, p ? (i += (d * g) / p) : a)
        : Dl(l, t, i, p ? (t += (v * g) / p) : n, a),
      (p -= g),
      (c = h);
  }
  return o;
}
const f1 = (function e(r) {
  function t(i, n, a, o, s) {
    h1(r, i, n, a, o, s);
  }
  return (
    (t.ratio = function (i) {
      return e((i = +i) > 1 ? i : 1);
    }),
    t
  );
})(c1);
function v1() {
  var e = f1,
    r = !1,
    t = 1,
    i = 1,
    n = [0],
    a = vi,
    o = vi,
    s = vi,
    l = vi,
    u = vi;
  function c(f) {
    return (
      (f.x0 = f.y0 = 0),
      (f.x1 = t),
      (f.y1 = i),
      f.eachBefore(h),
      (n = [0]),
      r && f.eachBefore(l1),
      f
    );
  }
  function h(f) {
    var v = n[f.depth],
      d = f.x0 + v,
      p = f.y0 + v,
      g = f.x1 - v,
      y = f.y1 - v;
    g < d && (d = g = (d + g) / 2),
      y < p && (p = y = (p + y) / 2),
      (f.x0 = d),
      (f.y0 = p),
      (f.x1 = g),
      (f.y1 = y),
      f.children &&
        ((v = n[f.depth + 1] = a(f) / 2),
        (d += u(f) - v),
        (p += o(f) - v),
        (g -= s(f) - v),
        (y -= l(f) - v),
        g < d && (d = g = (d + g) / 2),
        y < p && (p = y = (p + y) / 2),
        e(f, d, p, g, y));
  }
  return (
    (c.round = function (f) {
      return arguments.length ? ((r = !!f), c) : r;
    }),
    (c.size = function (f) {
      return arguments.length ? ((t = +f[0]), (i = +f[1]), c) : [t, i];
    }),
    (c.tile = function (f) {
      return arguments.length ? ((e = Os(f)), c) : e;
    }),
    (c.padding = function (f) {
      return arguments.length ? c.paddingInner(f).paddingOuter(f) : c.paddingInner();
    }),
    (c.paddingInner = function (f) {
      return arguments.length ? ((a = typeof f == 'function' ? f : Ki(+f)), c) : a;
    }),
    (c.paddingOuter = function (f) {
      return arguments.length
        ? c.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f)
        : c.paddingTop();
    }),
    (c.paddingTop = function (f) {
      return arguments.length ? ((o = typeof f == 'function' ? f : Ki(+f)), c) : o;
    }),
    (c.paddingRight = function (f) {
      return arguments.length ? ((s = typeof f == 'function' ? f : Ki(+f)), c) : s;
    }),
    (c.paddingBottom = function (f) {
      return arguments.length ? ((l = typeof f == 'function' ? f : Ki(+f)), c) : l;
    }),
    (c.paddingLeft = function (f) {
      return arguments.length ? ((u = typeof f == 'function' ? f : Ki(+f)), c) : u;
    }),
    c
  );
}
function YN(e, r, t, i, n) {
  var a = e.children,
    o,
    s = a.length,
    l,
    u = new Array(s + 1);
  for (u[0] = l = o = 0; o < s; ++o) u[o + 1] = l += a[o].value;
  c(0, s, e.value, r, t, i, n);
  function c(h, f, v, d, p, g, y) {
    if (h >= f - 1) {
      var m = a[h];
      (m.x0 = d), (m.y0 = p), (m.x1 = g), (m.y1 = y);
      return;
    }
    for (var b = u[h], w = v / 2 + b, S = h + 1, C = f - 1; S < C; ) {
      var F = (S + C) >>> 1;
      u[F] < w ? (S = F + 1) : (C = F);
    }
    w - u[S - 1] < u[S] - w && h + 1 < S && --S;
    var E = u[S] - b,
      k = v - E;
    if (g - d > y - p) {
      var T = v ? (d * k + g * E) / v : g;
      c(h, S, E, d, p, T, y), c(S, f, k, T, p, g, y);
    } else {
      var O = v ? (p * k + y * E) / v : y;
      c(h, S, E, d, p, g, O), c(S, f, k, d, O, g, y);
    }
  }
}
function WN(e, r, t, i, n) {
  (e.depth & 1 ? Dl : so)(e, r, t, i, n);
}
const XN = (function e(r) {
    function t(i, n, a, o, s) {
      if ((l = i._squarify) && l.ratio === r)
        for (var l, u, c, h, f = -1, v, d = l.length, p = i.value; ++f < d; ) {
          for (u = l[f], c = u.children, h = u.value = 0, v = c.length; h < v; ++h)
            u.value += c[h].value;
          u.dice
            ? so(u, n, a, o, p ? (a += ((s - a) * u.value) / p) : s)
            : Dl(u, n, a, p ? (n += ((o - n) * u.value) / p) : o, s),
            (p -= u.value);
        }
      else (i._squarify = l = h1(r, i, n, a, o, s)), (l.ratio = r);
    }
    return (
      (t.ratio = function (i) {
        return e((i = +i) > 1 ? i : 1);
      }),
      t
    );
  })(c1),
  zp = Object.freeze(
    Object.defineProperty(
      {
        __proto__: null,
        cluster: aN,
        hierarchy: Nn,
        pack: s1,
        packEnclose: i1,
        packSiblings: IN,
        partition: u1,
        stratify: RN,
        tree: VN,
        treemap: v1,
        treemapBinary: YN,
        treemapDice: so,
        treemapResquarify: XN,
        treemapSlice: Dl,
        treemapSliceDice: WN,
        treemapSquarify: f1,
      },
      Symbol.toStringTag,
      { value: 'Module' },
    ),
  );
var d1 = 'nodeIndex',
  p1 = 'childNodeCount',
  df = 'nodeAncestor',
  Fu = 'Invalid field: it must be a string!';
function pf(e, r) {
  var t = e.field,
    i = e.fields;
  if (et(t)) return t;
  if ($(t)) return console.warn(Fu), t[0];
  if ((console.warn(Fu + ' will try to get fields instead.'), et(i))) return i;
  if ($(i) && i.length) return i[0];
  if (r) return r;
  throw new TypeError(Fu);
}
function gf(e) {
  var r = [];
  if (e && e.each) {
    var t, i;
    e.each(function (n) {
      var a, o;
      n.parent !== t ? ((t = n.parent), (i = 0)) : (i += 1);
      var s = Qt(
        (((a = n.ancestors) === null || a === void 0 ? void 0 : a.call(n)) || []).map(function (l) {
          return (
            r.find(function (u) {
              return u.name === l.name;
            }) || l
          );
        }),
        function (l) {
          var u = l.depth;
          return u > 0 && u < n.depth;
        },
      );
      (n[df] = s),
        (n[p1] = ((o = n.children) === null || o === void 0 ? void 0 : o.length) || 0),
        (n[d1] = i),
        r.push(n);
    });
  } else
    e &&
      e.eachNode &&
      e.eachNode(function (n) {
        r.push(n);
      });
  return r;
}
var _N = {
  field: 'value',
  as: ['x', 'y', 'r'],
  sort: function (e, r) {
    return r.value - e.value;
  },
};
function jN(e, r) {
  r = xt({}, _N, r);
  var t = r.as;
  if (!$(t) || t.length !== 3)
    throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');
  var i;
  try {
    i = pf(r);
  } catch (u) {
    console.warn(u);
  }
  var n = function (u) {
      return s1().size(r.size).padding(r.padding)(
        Nn(u)
          .sum(function (c) {
            return c[i];
          })
          .sort(r.sort),
      );
    },
    a = n(e),
    o = t[0],
    s = t[1],
    l = t[2];
  return (
    a.each(function (u) {
      (u[o] = u.x), (u[s] = u.y), (u[l] = u.r);
    }),
    gf(a)
  );
}
function g1(e) {
  var r = e.data,
    t = e.hierarchyConfig,
    i = e.rawFields,
    n = i === void 0 ? [] : i,
    a = e.enableDrillDown,
    o = jN(r, x(x({}, t), { field: 'value', as: ['x', 'y', 'r'] })),
    s = [];
  return (
    o.forEach(function (l) {
      for (var u, c = l.data.name, h = x({}, l); h.depth > 1; )
        (c = ((u = h.parent.data) === null || u === void 0 ? void 0 : u.name) + ' / ' + c),
          (h = h.parent);
      if (a && l.depth > 2) return null;
      var f = B({}, l.data, x(x(x({}, gt(l.data, n)), { path: c }), l));
      (f.ext = t), (f[Ya] = { hierarchyConfig: t, rawFields: n, enableDrillDown: a }), s.push(f);
    }),
    s
  );
}
function y1(e, r, t) {
  var i = Jh([e, r]),
    n = i[0],
    a = i[1],
    o = i[2],
    s = i[3],
    l = t.width,
    u = t.height,
    c = l - (s + a),
    h = u - (n + o),
    f = Math.min(c, h),
    v = (c - f) / 2,
    d = (h - f) / 2,
    p = n + d,
    g = a + v,
    y = o + d,
    m = s + v,
    b = [p, g, y, m],
    w = f < 0 ? 0 : f;
  return { finalPadding: b, finalSize: w };
}
function UN(e) {
  var r = e.chart,
    t = Math.min(r.viewBBox.width, r.viewBBox.height);
  return B(
    {
      options: {
        size: function (i) {
          var n = i.r;
          return n * t;
        },
      },
    },
    e,
  );
}
function qN(e) {
  var r = e.options,
    t = e.chart,
    i = t.viewBBox,
    n = r.padding,
    a = r.appendPadding,
    o = r.drilldown,
    s = a;
  if (o != null && o.enabled) {
    var l = Sl(t.appendPadding, M(o, ['breadCrumb', 'position']));
    s = Jh([l, a]);
  }
  var u = y1(n, s, i).finalPadding;
  return (t.padding = u), (t.appendPadding = 0), e;
}
function ZN(e) {
  var r = e.chart,
    t = e.options,
    i = r.padding,
    n = r.appendPadding,
    a = t.color,
    o = t.colorField,
    s = t.pointStyle,
    l = t.hierarchyConfig,
    u = t.sizeField,
    c = t.rawFields,
    h = c === void 0 ? [] : c,
    f = t.drilldown,
    v = g1({
      data: t.data,
      hierarchyConfig: l,
      enableDrillDown: f == null ? void 0 : f.enabled,
      rawFields: h,
    });
  r.data(v);
  var d = r.viewBBox,
    p = y1(i, n, d).finalSize,
    g = function (y) {
      var m = y.r;
      return m * p;
    };
  return (
    u &&
      (g = function (y) {
        return y[u] * p;
      }),
    Le(
      B({}, e, {
        options: {
          xField: 'x',
          yField: 'y',
          seriesField: o,
          sizeField: u,
          rawFields: Ct(j$, h),
          point: { color: a, style: s, shape: 'circle', size: g },
        },
      }),
    ),
    e
  );
}
function KN(e) {
  return rt(
    Rt(
      {},
      {
        x: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: !0 },
        y: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: !0 },
      },
    ),
  )(e);
}
function QN(e) {
  var r = e.chart,
    t = e.options,
    i = t.tooltip;
  if (i === !1) r.tooltip(!1);
  else {
    var n = i;
    M(i, 'fields') ||
      (n = B(
        {},
        {
          customItems: function (a) {
            return a.map(function (o) {
              var s = M(r.getOptions(), 'scales'),
                l = M(s, ['name', 'formatter'], function (c) {
                  return c;
                }),
                u = M(s, ['value', 'formatter'], function (c) {
                  return c;
                });
              return x(x({}, o), { name: l(o.data.name), value: u(o.data.value) });
            });
          },
        },
        n,
      )),
      r.tooltip(n);
  }
  return e;
}
function JN(e) {
  var r = e.chart;
  return r.axis(!1), e;
}
function t5(e) {
  var r = e.drilldown,
    t = e.interactions,
    i = t === void 0 ? [] : t;
  return r != null && r.enabled
    ? B({}, e, {
        interactions: Ct(i, [
          {
            type: 'drill-down',
            cfg: { drillDownConfig: r, transformData: g1, enableDrillDown: !0 },
          },
        ]),
      })
    : e;
}
function e5(e) {
  var r = e.chart,
    t = e.options;
  return It({ chart: r, options: t5(t) }), e;
}
function r5(e) {
  return rt(Ie('pointStyle'), UN, qN, ht, KN, ZN, JN, Dn, QN, e5, wt, Ot())(e);
}
function Gp(e) {
  var r = M(e, ['event', 'data', 'data'], {});
  return $(r.children) && r.children.length > 0;
}
function Hp(e) {
  var r = e.view.getCoordinate(),
    t = r.innerRadius;
  if (t) {
    var i = e.event,
      n = i.x,
      a = i.y,
      o = r.center,
      s = o.x,
      l = o.y,
      u = r.getRadius() * t,
      c = Math.sqrt(Math.pow(s - n, 2) + Math.pow(l - a, 2));
    return c < u;
  }
  return !1;
}
tt('drill-down-action', K$);
nt('drill-down', {
  showEnable: [
    { trigger: 'element:mouseenter', action: 'cursor:pointer', isEnable: Gp },
    { trigger: 'element:mouseleave', action: 'cursor:default' },
    { trigger: 'element:mouseleave', action: 'cursor:pointer', isEnable: Hp },
  ],
  start: [
    { trigger: 'element:click', isEnable: Gp, action: ['drill-down-action:click'] },
    { trigger: 'afterchangesize', action: ['drill-down-action:resetPosition'] },
    { trigger: 'click', isEnable: Hp, action: ['drill-down-action:back'] },
  ],
});
(function (e) {
  I(r, e);
  function r() {
    var t = (e !== null && e.apply(this, arguments)) || this;
    return (t.type = 'circle-packing'), t;
  }
  return (
    (r.getDefaultOptions = function () {
      return U$;
    }),
    (r.prototype.getDefaultOptions = function () {
      return r.getDefaultOptions();
    }),
    (r.prototype.getSchemaAdaptor = function () {
      return r5;
    }),
    (r.prototype.triggerResize = function () {
      this.chart.destroyed ||
        (this.chart.forceFit(), this.chart.clear(), this.execAdaptor(), this.chart.render(!0));
    }),
    r
  );
})(at);
var Oe = 'left-axes-view',
  Pe = 'right-axes-view',
  m1 = { nice: !0, label: { autoHide: !0, autoRotate: !1 } },
  i5 = x(x({}, m1), { position: 'left' }),
  n5 = x(x({}, m1), { position: 'right', grid: null }),
  Cn;
(function (e) {
  (e.Left = 'Left'), (e.Right = 'Right');
})(Cn || (Cn = {}));
var $i;
(function (e) {
  (e.Line = 'line'), (e.Column = 'column');
})($i || ($i = {}));
function Ec(e) {
  return M(e, 'geometry') === $i.Line;
}
function yf(e) {
  return M(e, 'geometry') === $i.Column;
}
function Vp(e, r, t) {
  return yf(t)
    ? B(
        {},
        {
          geometry: $i.Column,
          label:
            t.label && t.isRange
              ? {
                  content: function (i) {
                    var n;
                    return (n = i[r]) === null || n === void 0 ? void 0 : n.join('-');
                  },
                }
              : void 0,
        },
        t,
      )
    : x({ geometry: $i.Line }, t);
}
function Yp(e, r) {
  var t = e[0],
    i = e[1];
  if ($(r)) {
    var n = r[0],
      a = r[1];
    return [n, a];
  }
  var o = M(r, t),
    s = M(r, i);
  return [o, s];
}
function Wp(e, r) {
  return r === Cn.Left
    ? e === !1
      ? !1
      : B({}, i5, e)
    : r === Cn.Right
    ? e === !1
      ? !1
      : B({}, n5, e)
    : e;
}
function a5(e) {
  var r = e.options,
    t = e.chart,
    i = r.geometryOption,
    n = i.isStack,
    a = i.color,
    o = i.seriesField,
    s = i.groupField,
    l = i.isGroup,
    u = ['xField', 'yField'];
  if (Ec(i)) {
    Bn(
      B({}, e, {
        options: x(x(x({}, gt(r, u)), i), { line: { color: i.color, style: i.lineStyle } }),
      }),
    ),
      Le(
        B({}, e, {
          options: x(x(x({}, gt(r, u)), i), {
            point: i.point && x({ color: a, shape: 'circle' }, i.point),
          }),
        }),
      );
    var c = [];
    l && c.push({ type: 'dodge', dodgeBy: s || o, customOffset: 0 }),
      n && c.push({ type: 'stack' }),
      c.length &&
        A(t.geometries, function (h) {
          h.adjust(c);
        });
  }
  return (
    yf(i) &&
      Ol(
        B({}, e, {
          options: x(x(x({}, gt(r, u)), i), {
            widthRatio: i.columnWidthRatio,
            interval: x(x({}, gt(i, ['color'])), { style: i.columnStyle }),
          }),
        }),
      ),
    e
  );
}
function Xp(e) {
  var r = e.view,
    t = e.geometryOption,
    i = e.yField,
    n = e.legend,
    a = M(n, 'marker'),
    o = ee(r, Ec(t) ? 'line' : 'interval');
  if (!t.seriesField) {
    var s = M(r, 'options.scales.' + i + '.alias') || i,
      l = o.getAttribute('color'),
      u = r.getTheme().defaultColor;
    l && (u = be.getMappingValue(l, s, M(l, ['values', 0], u)));
    var c =
      (q(a) ? a : !we(a) && B({}, { style: { stroke: u, fill: u } }, a)) ||
      (Ec(t)
        ? {
            symbol: function (f, v, d) {
              return [
                ['M', f - d, v],
                ['L', f + d, v],
              ];
            },
            style: { lineWidth: 2, r: 6, stroke: u },
          }
        : { symbol: 'square', style: { fill: u } });
    return [{ value: i, name: s, marker: c, isGeometry: !0, viewId: r.id }];
  }
  var h = o.getGroupAttributes();
  return oe(
    h,
    function (f, v) {
      var d = be.getLegendItems(r, o, v, r.getTheme(), a);
      return f.concat(d);
    },
    [],
  );
}
var _p = function (e, r) {
  var t = r[0],
    i = r[1],
    n = e.getOptions().data,
    a = e.getXScale(),
    o = Xt(n);
  if (!(!a || !o)) {
    var s = _e(n, a.field),
      l = s,
      u = Xt(l),
      c = Math.floor(t * (u - 1)),
      h = Math.floor(i * (u - 1));
    e.filter(a.field, function (f) {
      var v = l.indexOf(f);
      return v > -1 ? TP(v, c, h) : !0;
    }),
      e.getRootView().render(!0);
  }
};
function o5(e) {
  var r,
    t = e.options,
    i = t.geometryOptions,
    n = i === void 0 ? [] : i,
    a = t.xField,
    o = t.yField,
    s = Hc(n, function (l) {
      var u = l.geometry;
      return u === $i.Line || u === void 0;
    });
  return B(
    {},
    {
      options: {
        geometryOptions: [],
        meta: ((r = {}), (r[a] = { type: 'cat', sync: !0, range: s ? [0, 1] : void 0 }), r),
        tooltip: { showMarkers: s, showCrosshairs: s, shared: !0, crosshairs: { type: 'x' } },
        interactions: s
          ? [{ type: 'legend-visible-filter' }]
          : [{ type: 'legend-visible-filter' }, { type: 'active-region' }],
        legend: { position: 'top-left' },
      },
    },
    e,
    {
      options: {
        yAxis: Yp(o, t.yAxis),
        geometryOptions: [Vp(a, o[0], n[0]), Vp(a, o[1], n[1])],
        annotations: Yp(o, t.annotations),
      },
    },
  );
}
function s5(e) {
  var r,
    t,
    i = e.chart,
    n = e.options,
    a = n.geometryOptions,
    o = { line: 0, column: 1 },
    s = [
      { type: (r = a[0]) === null || r === void 0 ? void 0 : r.geometry, id: Oe },
      { type: (t = a[1]) === null || t === void 0 ? void 0 : t.geometry, id: Pe },
    ];
  return (
    s
      .sort(function (l, u) {
        return -o[l.type] + o[u.type];
      })
      .forEach(function (l) {
        return i.createView({ id: l.id });
      }),
    e
  );
}
function l5(e) {
  var r = e.chart,
    t = e.options,
    i = t.xField,
    n = t.yField,
    a = t.geometryOptions,
    o = t.data,
    s = t.tooltip,
    l = [
      x(x({}, a[0]), { id: Oe, data: o[0], yField: n[0] }),
      x(x({}, a[1]), { id: Pe, data: o[1], yField: n[1] }),
    ];
  return (
    l.forEach(function (u) {
      var c = u.id,
        h = u.data,
        f = u.yField,
        v = yf(u) && u.isPercent,
        d = v ? J0(h, f, i, f) : h,
        p = lt(r, c).data(d),
        g = v
          ? x(
              {
                formatter: function (y) {
                  return {
                    name: y[u.seriesField] || f,
                    value: (Number(y[f]) * 100).toFixed(2) + '%',
                  };
                },
              },
              s,
            )
          : s;
      a5({ chart: p, options: { xField: i, yField: f, tooltip: g, geometryOption: u } });
    }),
    e
  );
}
function u5(e) {
  var r,
    t = e.chart,
    i = e.options,
    n = i.geometryOptions,
    a = ((r = t.getTheme()) === null || r === void 0 ? void 0 : r.colors10) || [],
    o = 0;
  return (
    t.once('beforepaint', function () {
      A(n, function (s, l) {
        var u = lt(t, l === 0 ? Oe : Pe);
        if (!s.color) {
          var c = u.getGroupScales(),
            h = M(c, [0, 'values', 'length'], 1),
            f = a.slice(o, o + h).concat(l === 0 ? [] : a);
          u.geometries.forEach(function (v) {
            s.seriesField ? v.color(s.seriesField, f) : v.color(f[0]);
          }),
            (o += h);
        }
      }),
        t.render(!0);
    }),
    e
  );
}
function c5(e) {
  var r,
    t,
    i = e.chart,
    n = e.options,
    a = n.xAxis,
    o = n.yAxis,
    s = n.xField,
    l = n.yField;
  return (
    Rt(((r = {}), (r[s] = a), (r[l[0]] = o[0]), r))(B({}, e, { chart: lt(i, Oe) })),
    Rt(((t = {}), (t[s] = a), (t[l[1]] = o[1]), t))(B({}, e, { chart: lt(i, Pe) })),
    e
  );
}
function h5(e) {
  var r = e.chart,
    t = e.options,
    i = lt(r, Oe),
    n = lt(r, Pe),
    a = t.xField,
    o = t.yField,
    s = t.xAxis,
    l = t.yAxis;
  return (
    r.axis(a, !1),
    r.axis(o[0], !1),
    r.axis(o[1], !1),
    i.axis(a, s),
    i.axis(o[0], Wp(l[0], Cn.Left)),
    n.axis(a, !1),
    n.axis(o[1], Wp(l[1], Cn.Right)),
    e
  );
}
function f5(e) {
  var r = e.chart,
    t = e.options,
    i = t.tooltip,
    n = lt(r, Oe),
    a = lt(r, Pe);
  return r.tooltip(i), n.tooltip({ shared: !0 }), a.tooltip({ shared: !0 }), e;
}
function v5(e) {
  var r = e.chart;
  return It(B({}, e, { chart: lt(r, Oe) })), It(B({}, e, { chart: lt(r, Pe) })), e;
}
function d5(e) {
  var r = e.chart,
    t = e.options,
    i = t.annotations,
    n = M(i, [0]),
    a = M(i, [1]);
  return (
    Ot(n)(B({}, e, { chart: lt(r, Oe), options: { annotations: n } })),
    Ot(a)(B({}, e, { chart: lt(r, Pe), options: { annotations: a } })),
    e
  );
}
function p5(e) {
  var r = e.chart;
  return ht(B({}, e, { chart: lt(r, Oe) })), ht(B({}, e, { chart: lt(r, Pe) })), ht(e), e;
}
function g5(e) {
  var r = e.chart;
  return wt(B({}, e, { chart: lt(r, Oe) })), wt(B({}, e, { chart: lt(r, Pe) })), e;
}
function y5(e) {
  var r = e.chart,
    t = e.options,
    i = t.yAxis;
  return (
    Ri(B({}, e, { chart: lt(r, Oe), options: { yAxis: i[0] } })),
    Ri(B({}, e, { chart: lt(r, Pe), options: { yAxis: i[1] } })),
    e
  );
}
function m5(e) {
  var r = e.chart,
    t = e.options,
    i = t.legend,
    n = t.geometryOptions,
    a = t.yField,
    o = t.data,
    s = lt(r, Oe),
    l = lt(r, Pe);
  if (i === !1) r.legend(!1);
  else if (yt(i) && i.custom === !0) r.legend(i);
  else {
    var u = M(n, [0, 'legend'], i),
      c = M(n, [1, 'legend'], i);
    r.once('beforepaint', function () {
      var h = o[0].length ? Xp({ view: s, geometryOption: n[0], yField: a[0], legend: u }) : [],
        f = o[1].length ? Xp({ view: l, geometryOption: n[1], yField: a[1], legend: c }) : [];
      r.legend(B({}, i, { custom: !0, items: h.concat(f) }));
    }),
      n[0].seriesField && s.legend(n[0].seriesField, u),
      n[1].seriesField && l.legend(n[1].seriesField, c),
      r.on('legend-item:click', function (h) {
        var f = M(h, 'gEvent.delegateObject', {});
        if (f && f.item) {
          var v = f.item,
            d = v.value,
            p = v.isGeometry,
            g = v.viewId;
          if (p) {
            var y = Eg(a, function (w) {
              return w === d;
            });
            if (y > -1) {
              var m = M(lt(r, g), 'geometries');
              A(m, function (w) {
                w.changeVisible(!f.item.unchecked);
              });
            }
          } else {
            var b = M(r.getController('legend'), 'option.items', []);
            A(r.views, function (w) {
              var S = w.getGroupScales();
              A(S, function (C) {
                C.values &&
                  C.values.indexOf(d) > -1 &&
                  w.filter(C.field, function (F) {
                    var E = We(b, function (k) {
                      return k.value === F;
                    });
                    return !E.unchecked;
                  });
              }),
                r.render(!0);
            });
          }
        }
      });
  }
  return e;
}
function x5(e) {
  var r = e.chart,
    t = e.options,
    i = t.slider,
    n = lt(r, Oe),
    a = lt(r, Pe);
  return (
    i &&
      (n.option('slider', i),
      n.on('slider:valuechanged', function (o) {
        var s = o.event,
          l = s.value,
          u = s.originValue;
        Bt(l, u) || _p(a, l);
      }),
      r.once('afterpaint', function () {
        if (!hn(i)) {
          var o = i.start,
            s = i.end;
          (o || s) && _p(a, [o, s]);
        }
      })),
    e
  );
}
function w5(e) {
  return rt(o5, s5, p5, l5, c5, h5, y5, f5, v5, d5, g5, u5, m5, x5)(e);
}
(function (e) {
  I(r, e);
  function r() {
    var t = (e !== null && e.apply(this, arguments)) || this;
    return (t.type = 'dual-axes'), t;
  }
  return (
    (r.prototype.getDefaultOptions = function () {
      return B({}, e.prototype.getDefaultOptions.call(this), { yAxis: [], syncViewPadding: !0 });
    }),
    (r.prototype.getSchemaAdaptor = function () {
      return w5;
    }),
    r
  );
})(at);
function b5(e, r) {
  var t = r.data,
    i = r.coordinate,
    n = r.interactions,
    a = r.annotations,
    o = r.animation,
    s = r.tooltip,
    l = r.axes,
    u = r.meta,
    c = r.geometries;
  t && e.data(t);
  var h = {};
  l &&
    A(l, function (f, v) {
      h[v] = gt(f, me);
    }),
    (h = B({}, u, h)),
    e.scale(h),
    i && e.coordinate(i),
    l === !1
      ? e.axis(!1)
      : A(l, function (f, v) {
          e.axis(v, f);
        }),
    A(c, function (f) {
      var v = Ce({ chart: e, options: f }).ext,
        d = f.adjust;
      d && v.geometry.adjust(d);
    }),
    A(n, function (f) {
      f.enable === !1 ? e.removeInteraction(f.type) : e.interaction(f.type, f.cfg);
    }),
    A(a, function (f) {
      e.annotation()[f.type](x({}, f));
    }),
    ro(e, o),
    s ? (e.interaction('tooltip'), e.tooltip(s)) : s === !1 && e.removeInteraction('tooltip');
}
function S5(e) {
  var r = e.chart,
    t = e.options,
    i = t.type,
    n = t.data,
    a = t.fields,
    o = t.eachView,
    s = Ws(t, [
      'type',
      'data',
      'fields',
      'eachView',
      'axes',
      'meta',
      'tooltip',
      'coordinate',
      'theme',
      'legend',
      'interactions',
      'annotations',
    ]);
  return (
    r.data(n),
    r.facet(
      i,
      x(x({}, s), {
        fields: a,
        eachView: function (l, u) {
          var c = o(l, u);
          if (c.geometries) b5(l, c);
          else {
            var h = c,
              f = h.options;
            f.tooltip && l.interaction('tooltip'), Fc(h.type, l, f);
          }
        },
      }),
    ),
    e
  );
}
function C5(e) {
  var r = e.chart,
    t = e.options,
    i = t.axes,
    n = t.meta,
    a = t.tooltip,
    o = t.coordinate,
    s = t.theme,
    l = t.legend,
    u = t.interactions,
    c = t.annotations,
    h = {};
  return (
    i &&
      A(i, function (f, v) {
        h[v] = gt(f, me);
      }),
    (h = B({}, n, h)),
    r.scale(h),
    r.coordinate(o),
    i
      ? A(i, function (f, v) {
          r.axis(v, f);
        })
      : r.axis(!1),
    a ? (r.interaction('tooltip'), r.tooltip(a)) : a === !1 && r.removeInteraction('tooltip'),
    r.legend(l),
    s && r.theme(s),
    A(u, function (f) {
      f.enable === !1 ? r.removeInteraction(f.type) : r.interaction(f.type, f.cfg);
    }),
    A(c, function (f) {
      r.annotation()[f.type](x({}, f));
    }),
    e
  );
}
function A5(e) {
  return rt(ht, S5, C5)(e);
}
var M5 = {
  title: { style: { fontSize: 12, fill: 'rgba(0,0,0,0.65)' } },
  rowTitle: { style: { fontSize: 12, fill: 'rgba(0,0,0,0.65)' } },
  columnTitle: { style: { fontSize: 12, fill: 'rgba(0,0,0,0.65)' } },
};
(function (e) {
  I(r, e);
  function r() {
    var t = (e !== null && e.apply(this, arguments)) || this;
    return (t.type = 'area'), t;
  }
  return (
    (r.getDefaultOptions = function () {
      return M5;
    }),
    (r.prototype.getDefaultOptions = function () {
      return r.getDefaultOptions();
    }),
    (r.prototype.getSchemaAdaptor = function () {
      return A5;
    }),
    r
  );
})(at);
function F5(e) {
  var r = e.chart,
    t = e.options,
    i = t.data,
    n = t.type,
    a = t.xField,
    o = t.yField,
    s = t.colorField,
    l = t.sizeField,
    u = t.sizeRatio,
    c = t.shape,
    h = t.color,
    f = t.tooltip,
    v = t.heatmapStyle,
    d = t.meta;
  r.data(i);
  var p = 'polygon';
  n === 'density' && (p = 'heatmap');
  var g = Ge(f, [a, o, s]),
    y = g.fields,
    m = g.formatter,
    b = 1;
  return (
    (u || u === 0) &&
      (!c && !l
        ? console.warn('sizeRatio is not in effect: Must define shape or sizeField first')
        : u < 0 || u > 1
        ? console.warn('sizeRatio is not in effect: It must be a number in [0,1]')
        : (b = u)),
    Ce(
      B({}, e, {
        options: {
          type: p,
          colorField: s,
          tooltipFields: y,
          shapeField: l || '',
          label: void 0,
          mapping: {
            tooltip: m,
            shape:
              c &&
              (l
                ? function (w) {
                    var S = i.map(function (k) {
                        return k[l];
                      }),
                      C = (d == null ? void 0 : d[l]) || {},
                      F = C.min,
                      E = C.max;
                    return (
                      (F = it(F) ? F : Math.min.apply(Math, S)),
                      (E = it(E) ? E : Math.max.apply(Math, S)),
                      [c, (M(w, l) - F) / (E - F), b]
                    );
                  }
                : function () {
                    return [c, 1, b];
                  }),
            color: h || (s && r.getTheme().sequenceColors.join('-')),
            style: v,
          },
        },
      }),
    ),
    e
  );
}
function E5(e) {
  var r,
    t = e.options,
    i = t.xAxis,
    n = t.yAxis,
    a = t.xField,
    o = t.yField;
  return rt(Rt(((r = {}), (r[a] = i), (r[o] = n), r)))(e);
}
function T5(e) {
  var r = e.chart,
    t = e.options,
    i = t.xAxis,
    n = t.yAxis,
    a = t.xField,
    o = t.yField;
  return i === !1 ? r.axis(a, !1) : r.axis(a, i), n === !1 ? r.axis(o, !1) : r.axis(o, n), e;
}
function k5(e) {
  var r = e.chart,
    t = e.options,
    i = t.legend,
    n = t.colorField,
    a = t.sizeField,
    o = t.sizeLegend,
    s = i !== !1;
  return (
    n && r.legend(n, s ? i : !1),
    a && r.legend(a, o === void 0 ? i : o),
    !s && !o && r.legend(!1),
    e
  );
}
function I5(e) {
  var r = e.chart,
    t = e.options,
    i = t.label,
    n = t.colorField,
    a = t.type,
    o = ee(r, a === 'density' ? 'heatmap' : 'polygon');
  if (!i) o.label(!1);
  else if (n) {
    var s = i.callback,
      l = mt(i, ['callback']);
    o.label({ fields: [n], callback: s, cfg: _t(l) });
  }
  return e;
}
function L5(e) {
  var r,
    t,
    i = e.chart,
    n = e.options,
    a = n.coordinate,
    o = n.reflect,
    s = B({ actions: [] }, a != null ? a : { type: 'rect' });
  return (
    o &&
      ((t = (r = s.actions) === null || r === void 0 ? void 0 : r.push) === null ||
        t === void 0 ||
        t.call(r, ['reflect', o])),
    i.coordinate(s),
    e
  );
}
function O5(e) {
  return rt(ht, Ie('heatmapStyle'), E5, L5, F5, T5, k5, Yt, I5, Ot(), It, wt, oi)(e);
}
var P5 = B({}, at.getDefaultOptions(), {
  type: 'polygon',
  legend: !1,
  coordinate: { type: 'rect' },
  xAxis: {
    tickLine: null,
    line: null,
    grid: { alignTick: !1, line: { style: { lineWidth: 1, lineDash: null, stroke: '#f0f0f0' } } },
  },
  yAxis: {
    grid: { alignTick: !1, line: { style: { lineWidth: 1, lineDash: null, stroke: '#f0f0f0' } } },
  },
});
dt('polygon', 'circle', {
  draw: function (e, r) {
    var t,
      i,
      n = e.x,
      a = e.y,
      o = this.parsePoints(e.points),
      s = Math.abs(o[2].x - o[1].x),
      l = Math.abs(o[1].y - o[0].y),
      u = Math.min(s, l) / 2,
      c = Number(e.shape[1]),
      h = Number(e.shape[2]),
      f = Math.sqrt(h),
      v = u * f * Math.sqrt(c),
      d =
        ((t = e.style) === null || t === void 0 ? void 0 : t.fill) ||
        e.color ||
        ((i = e.defaultStyle) === null || i === void 0 ? void 0 : i.fill),
      p = r.addShape('circle', {
        attrs: x(x(x({ x: n, y: a, r: v }, e.defaultStyle), e.style), { fill: d }),
      });
    return p;
  },
});
dt('polygon', 'square', {
  draw: function (e, r) {
    var t,
      i,
      n = e.x,
      a = e.y,
      o = this.parsePoints(e.points),
      s = Math.abs(o[2].x - o[1].x),
      l = Math.abs(o[1].y - o[0].y),
      u = Math.min(s, l),
      c = Number(e.shape[1]),
      h = Number(e.shape[2]),
      f = Math.sqrt(h),
      v = u * f * Math.sqrt(c),
      d =
        ((t = e.style) === null || t === void 0 ? void 0 : t.fill) ||
        e.color ||
        ((i = e.defaultStyle) === null || i === void 0 ? void 0 : i.fill),
      p = r.addShape('rect', {
        attrs: x(
          x(x({ x: n - v / 2, y: a - v / 2, width: v, height: v }, e.defaultStyle), e.style),
          { fill: d },
        ),
      });
    return p;
  },
});
(function (e) {
  I(r, e);
  function r() {
    var t = (e !== null && e.apply(this, arguments)) || this;
    return (t.type = 'heatmap'), t;
  }
  return (
    (r.getDefaultOptions = function () {
      return P5;
    }),
    (r.prototype.getSchemaAdaptor = function () {
      return O5;
    }),
    (r.prototype.getDefaultOptions = function () {
      return r.getDefaultOptions();
    }),
    r
  );
})(at);
var D5 = 'liquid';
function x1(e) {
  return [{ percent: e, type: D5 }];
}
function B5(e) {
  var r = e.chart,
    t = e.options,
    i = t.percent,
    n = t.liquidStyle,
    a = t.radius,
    o = t.outline,
    s = t.wave,
    l = t.shape,
    u = t.shapeStyle,
    c = t.animation;
  r.scale({ percent: { min: 0, max: 1 } }), r.data(x1(i));
  var h = t.color || r.getTheme().defaultColor,
    f = B({}, e, {
      options: {
        xField: 'type',
        yField: 'percent',
        widthRatio: a,
        interval: { color: h, style: n, shape: 'liquid-fill-gauge' },
      },
    }),
    v = re(f).ext,
    d = v.geometry,
    p = r.getTheme().background,
    g = { radius: a, outline: o, wave: s, shape: l, shapeStyle: u, background: p, animation: c };
  return d.customInfo(g), r.legend(!1), r.axis(!1), r.tooltip(!1), e;
}
function w1(e, r) {
  var t = e.chart,
    i = e.options,
    n = i.statistic,
    a = i.percent,
    o = i.meta;
  t.getController('annotation').clear(!0);
  var s =
      M(o, ['percent', 'formatter']) ||
      function (u) {
        return (u * 100).toFixed(2) + '%';
      },
    l = n.content;
  return (
    l && (l = B({}, l, { content: R(l.content) ? s(a) : l.content })),
    Cl(t, { statistic: x(x({}, n), { content: l }), plotType: 'liquid' }, { percent: a }),
    r && t.render(!0),
    e
  );
}
function R5(e) {
  return rt(ht, Ie('liquidStyle'), B5, w1, Rt({}), wt, It)(e);
}
var $5 = {
    radius: 0.9,
    statistic: {
      title: !1,
      content: {
        style: { opacity: 0.75, fontSize: '30px', lineHeight: '30px', textAlign: 'center' },
      },
    },
    outline: { border: 2, distance: 0 },
    wave: { count: 3, length: 192 },
    shape: 'circle',
  },
  jp = 5e3;
function Up(e, r, t) {
  return e + (r - e) * t;
}
function N5(e) {
  var r = x({ opacity: 1 }, e.style);
  return e.color && !r.fill && (r.fill = e.color), r;
}
function z5(e) {
  var r = { fill: '#fff', fillOpacity: 0, lineWidth: 4 },
    t = xt({}, r, e.style);
  return (
    e.color && !t.stroke && (t.stroke = e.color),
    it(e.opacity) && (t.opacity = t.strokeOpacity = e.opacity),
    t
  );
}
function G5(e, r, t, i) {
  return r === 0
    ? [
        [e + ((1 / 2) * t) / Math.PI / 2, i / 2],
        [e + ((1 / 2) * t) / Math.PI, i],
        [e + t / 4, i],
      ]
    : r === 1
    ? [
        [e + (((1 / 2) * t) / Math.PI / 2) * (Math.PI - 2), i],
        [e + (((1 / 2) * t) / Math.PI / 2) * (Math.PI - 1), i / 2],
        [e + t / 4, 0],
      ]
    : r === 2
    ? [
        [e + ((1 / 2) * t) / Math.PI / 2, -i / 2],
        [e + ((1 / 2) * t) / Math.PI, -i],
        [e + t / 4, -i],
      ]
    : [
        [e + (((1 / 2) * t) / Math.PI / 2) * (Math.PI - 2), -i],
        [e + (((1 / 2) * t) / Math.PI / 2) * (Math.PI - 1), -i / 2],
        [e + t / 4, 0],
      ];
}
function H5(e, r, t, i, n, a, o) {
  for (var s = Math.ceil(((2 * e) / t) * 4) * 4, l = [], u = i; u < -Math.PI * 2; )
    u += Math.PI * 2;
  for (; u > 0; ) u -= Math.PI * 2;
  u = (u / Math.PI / 2) * t;
  var c = a - e + u - e * 2;
  l.push(['M', c, r]);
  for (var h = 0, f = 0; f < s; ++f) {
    var v = f % 4,
      d = G5((f * t) / 4, v, t, n);
    l.push(['C', d[0][0] + c, -d[0][1] + r, d[1][0] + c, -d[1][1] + r, d[2][0] + c, -d[2][1] + r]),
      f === s - 1 && (h = d[2][0]);
  }
  return l.push(['L', h + c, o + e]), l.push(['L', c, o + e]), l.push(['Z']), l;
}
function V5(e, r, t, i, n, a, o, s, l, u) {
  for (
    var c = n.fill, h = n.opacity, f = o.getBBox(), v = f.maxX - f.minX, d = f.maxY - f.minY, p = 0;
    p < i;
    p++
  ) {
    var g = i <= 1 ? 1 : p / (i - 1),
      y = a.addShape('path', {
        name: 'waterwave-path',
        attrs: {
          path: H5(s, f.minY + d * t, l, 0, v / 32, e, r),
          fill: c,
          opacity: Up(0.2, 0.9, g) * h,
        },
      });
    try {
      if (u === !1) return;
      var m = Mc([['t', l, 0]]);
      y.stopAnimate(), y.animate({ matrix: m }, { duration: Up(0.5 * jp, jp, g), repeat: !0 });
    } catch (b) {
      console.warn('off-screen group animate error!');
    }
  }
}
function Y5(e, r, t, i) {
  var n = (t * 2) / 3,
    a = Math.max(n, i),
    o = n / 2,
    s = e,
    l = o + r - a / 2,
    u = Math.asin(o / ((a - o) * 0.85)),
    c = Math.sin(u) * o,
    h = Math.cos(u) * o,
    f = s - h,
    v = l + c,
    d = e,
    p = l + o / Math.sin(u);
  return (
    `
      M ` +
    f +
    ' ' +
    v +
    `
      A ` +
    o +
    ' ' +
    o +
    ' 0 1 1 ' +
    (f + h * 2) +
    ' ' +
    v +
    `
      Q ` +
    d +
    ' ' +
    p +
    ' ' +
    e +
    ' ' +
    (r + a / 2) +
    `
      Q ` +
    d +
    ' ' +
    p +
    ' ' +
    f +
    ' ' +
    v +
    `
      Z 
    `
  );
}
function W5(e, r, t, i) {
  var n = t / 2,
    a = i / 2;
  return (
    `
      M ` +
    e +
    ' ' +
    (r - a) +
    ` 
      a ` +
    n +
    ' ' +
    a +
    ' 0 1 0 0 ' +
    a * 2 +
    `
      a ` +
    n +
    ' ' +
    a +
    ' 0 1 0 0 ' +
    -a * 2 +
    `
      Z
    `
  );
}
function X5(e, r, t, i) {
  var n = i / 2,
    a = t / 2;
  return (
    `
      M ` +
    e +
    ' ' +
    (r - n) +
    `
      L ` +
    (e + a) +
    ' ' +
    r +
    `
      L ` +
    e +
    ' ' +
    (r + n) +
    `
      L ` +
    (e - a) +
    ' ' +
    r +
    `
      Z
    `
  );
}
function _5(e, r, t, i) {
  var n = i / 2,
    a = t / 2;
  return (
    `
      M ` +
    e +
    ' ' +
    (r - n) +
    `
      L ` +
    (e + a) +
    ' ' +
    (r + n) +
    `
      L ` +
    (e - a) +
    ' ' +
    (r + n) +
    `
      Z
    `
  );
}
function j5(e, r, t, i) {
  var n = 0.618,
    a = i / 2,
    o = (t / 2) * n;
  return (
    `
      M ` +
    (e - o) +
    ' ' +
    (r - a) +
    `
      L ` +
    (e + o) +
    ' ' +
    (r - a) +
    `
      L ` +
    (e + o) +
    ' ' +
    (r + a) +
    `
      L ` +
    (e - o) +
    ' ' +
    (r + a) +
    `
      Z
    `
  );
}
var qp = { pin: Y5, circle: W5, diamond: X5, triangle: _5, rect: j5 };
dt('interval', 'liquid-fill-gauge', {
  draw: function (e, r) {
    var t = 0.5,
      i = 0.5,
      n = e.customInfo,
      a = n,
      o = a.radius,
      s = a.shape,
      l = a.shapeStyle,
      u = a.background,
      c = a.animation,
      h = n.outline,
      f = n.wave,
      v = h.border,
      d = h.distance,
      p = f.count,
      g = f.length,
      y = oe(
        e.points,
        function (z, W) {
          return Math.min(z, W.x);
        },
        1 / 0,
      ),
      m = this.parsePoint({ x: t, y: i }),
      b = this.parsePoint({ x: y, y: i }),
      w = m.x - b.x,
      S = Math.min(w, b.y * o),
      C = N5(e),
      F = z5(xt({}, e, h)),
      E = S - v / 2,
      k = typeof s == 'function' ? s : qp[s] || qp.circle,
      T = k(m.x, m.y, E * 2, E * 2);
    l && r.addShape('path', { name: 'shape', attrs: x({ path: T }, l) });
    var O = r.addGroup({ name: 'waves' }),
      P = O.setClip({ type: 'path', attrs: { path: T } });
    return (
      V5(m.x, m.y, 1 - e.points[1].y, p, C, O, P, S * 2, g, c),
      r.addShape('path', {
        name: 'distance',
        attrs: {
          path: T,
          fill: 'transparent',
          lineWidth: v + d * 2,
          stroke: u === 'transparent' ? '#fff' : u,
        },
      }),
      r.addShape('path', {
        name: 'wrap',
        attrs: xt(F, { path: T, fill: 'transparent', lineWidth: v }),
      }),
      r
    );
  },
});
(function (e) {
  I(r, e);
  function r() {
    var t = (e !== null && e.apply(this, arguments)) || this;
    return (t.type = 'liquid'), t;
  }
  return (
    (r.getDefaultOptions = function () {
      return $5;
    }),
    (r.prototype.getDefaultOptions = function () {
      return r.getDefaultOptions();
    }),
    (r.prototype.changeData = function (t) {
      this.chart.emit(st.BEFORE_CHANGE_DATA, Lt.fromData(this.chart, st.BEFORE_CHANGE_DATA, null)),
        this.updateOption({ percent: t }),
        this.chart.data(x1(t)),
        w1({ chart: this.chart, options: this.options }, !0),
        this.chart.emit(st.AFTER_CHANGE_DATA, Lt.fromData(this.chart, st.AFTER_CHANGE_DATA, null));
    }),
    (r.prototype.getSchemaAdaptor = function () {
      return R5;
    }),
    r
  );
})(at);
function U5(e) {
  var r = e.chart,
    t = e.options,
    i = t.data,
    n = t.lineStyle,
    a = t.color,
    o = t.point,
    s = t.area;
  r.data(i);
  var l = B({}, e, {
      options: {
        line: { style: n, color: a },
        point: o && x({ color: a }, o),
        area: s && x({ color: a }, s),
        label: void 0,
      },
    }),
    u = B({}, l, { options: { tooltip: !1 } }),
    c = (o == null ? void 0 : o.state) || t.state,
    h = B({}, l, { options: { tooltip: !1, state: c } });
  return Bn(l), Le(h), Fl(u), e;
}
function q5(e) {
  var r,
    t = e.options,
    i = t.xAxis,
    n = t.yAxis,
    a = t.xField,
    o = t.yField;
  return rt(Rt(((r = {}), (r[a] = i), (r[o] = n), r)))(e);
}
function Z5(e) {
  var r = e.chart,
    t = e.options,
    i = t.radius,
    n = t.startAngle,
    a = t.endAngle;
  return r.coordinate('polar', { radius: i, startAngle: n, endAngle: a }), e;
}
function K5(e) {
  var r = e.chart,
    t = e.options,
    i = t.xField,
    n = t.xAxis,
    a = t.yField,
    o = t.yAxis;
  return r.axis(i, n), r.axis(a, o), e;
}
function Q5(e) {
  var r = e.chart,
    t = e.options,
    i = t.label,
    n = t.yField,
    a = ee(r, 'line');
  if (!i) a.label(!1);
  else {
    var o = i.callback,
      s = mt(i, ['callback']);
    a.label({ fields: [n], callback: o, cfg: _t(s) });
  }
  return e;
}
function J5(e) {
  return rt(U5, q5, ht, Z5, K5, Dn, Yt, Q5, It, wt, Ot())(e);
}
var tz = (function (e) {
  I(r, e);
  function r() {
    return (e !== null && e.apply(this, arguments)) || this;
  }
  return (
    Object.defineProperty(r.prototype, 'name', {
      get: function () {
        return 'radar-tooltip';
      },
      enumerable: !1,
      configurable: !0,
    }),
    (r.prototype.getTooltipItems = function (t) {
      var i = this.getTooltipCfg(),
        n = i.shared,
        a = i.title,
        o = e.prototype.getTooltipItems.call(this, t);
      if (o.length > 0) {
        var s = this.view.geometries[0],
          l = s.dataArray,
          u = o[0].name,
          c = [];
        return (
          l.forEach(function (h) {
            h.forEach(function (f) {
              var v = be.getTooltipItems(f, s),
                d = v[0];
              if (!n && d && d.name === u) {
                var p = R(a) ? u : a;
                c.push(x(x({}, d), { name: d.title, title: p }));
              } else if (n && d) {
                var p = R(a) ? d.name || u : a;
                c.push(x(x({}, d), { name: d.title, title: p }));
              }
            });
          }),
          c
        );
      }
      return [];
    }),
    r
  );
})(zm);
Gi('radar-tooltip', tz);
var ez = (function (e) {
  I(r, e);
  function r() {
    return (e !== null && e.apply(this, arguments)) || this;
  }
  return (
    (r.prototype.init = function () {
      var t = this.context.view;
      t.removeInteraction('tooltip');
    }),
    (r.prototype.show = function () {
      var t = this.context.event,
        i = this.getTooltipController();
      i.showTooltip({ x: t.x, y: t.y });
    }),
    (r.prototype.hide = function () {
      var t = this.getTooltipController();
      t.hideTooltip();
    }),
    (r.prototype.getTooltipController = function () {
      var t = this.context.view;
      return t.getController('radar-tooltip');
    }),
    r
  );
})(Ft);
tt('radar-tooltip', ez);
nt('radar-tooltip', {
  start: [{ trigger: 'plot:mousemove', action: 'radar-tooltip:show' }],
  end: [{ trigger: 'plot:mouseleave', action: 'radar-tooltip:hide' }],
});
(function (e) {
  I(r, e);
  function r() {
    var t = (e !== null && e.apply(this, arguments)) || this;
    return (t.type = 'radar'), t;
  }
  return (
    (r.prototype.changeData = function (t) {
      this.updateOption({ data: t }), this.chart.changeData(t);
    }),
    (r.prototype.getDefaultOptions = function () {
      return B({}, e.prototype.getDefaultOptions.call(this), {
        xAxis: { label: { offset: 15 }, grid: { line: { type: 'line' } } },
        yAxis: { grid: { line: { type: 'circle' } } },
        legend: { position: 'top' },
        tooltip: {
          shared: !0,
          showCrosshairs: !0,
          showMarkers: !0,
          crosshairs: {
            type: 'xy',
            line: { style: { stroke: '#565656', lineDash: [4] } },
            follow: !0,
          },
        },
      });
    }),
    (r.prototype.getSchemaAdaptor = function () {
      return J5;
    }),
    r
  );
})(at);
function rz(e, r, t) {
  var i = t
      .map(function (o) {
        return o[r];
      })
      .filter(function (o) {
        return o !== void 0;
      }),
    n = i.length > 0 ? Math.max.apply(Math, i) : 0,
    a = Math.abs(e) % 360;
  return a ? (n * 360) / a : n;
}
function iz(e, r, t) {
  var i = [];
  return (
    e.forEach(function (n) {
      var a = i.find(function (o) {
        return o[r] === n[r];
      });
      a ? (a[t] += n[t] || null) : i.push(x({}, n));
    }),
    i
  );
}
function nz(e) {
  var r = e.chart,
    t = e.options,
    i = t.barStyle,
    n = t.color,
    a = t.tooltip,
    o = t.colorField,
    s = t.type,
    l = t.xField,
    u = t.yField,
    c = t.data,
    h = xn(c, u);
  r.data(h);
  var f = B({}, e, {
    options: {
      tooltip: a,
      seriesField: o,
      interval: { style: i, color: n, shape: s === 'line' ? 'line' : 'intervel' },
      minColumnWidth: t.minBarWidth,
      maxColumnWidth: t.maxBarWidth,
      columnBackground: t.barBackground,
    },
  });
  return (
    re(f),
    s === 'line' &&
      Le({
        chart: r,
        options: { xField: l, yField: u, seriesField: o, point: { shape: 'circle', color: n } },
      }),
    e
  );
}
function b1(e) {
  var r,
    t = e.options,
    i = t.yField,
    n = t.xField,
    a = t.data,
    o = t.isStack,
    s = t.isGroup,
    l = t.colorField,
    u = t.maxAngle,
    c = o && !s && l ? iz(a, n, i) : a,
    h = xn(c, i);
  return rt(Rt(((r = {}), (r[i] = { min: 0, max: rz(u, i, h) }), r)))(e);
}
function az(e) {
  var r = e.chart,
    t = e.options,
    i = t.radius,
    n = t.innerRadius,
    a = t.startAngle,
    o = t.endAngle;
  return (
    r
      .coordinate({ type: 'polar', cfg: { radius: i, innerRadius: n, startAngle: a, endAngle: o } })
      .transpose(),
    e
  );
}
function oz(e) {
  var r = e.chart,
    t = e.options,
    i = t.xField,
    n = t.xAxis;
  return r.axis(i, n), e;
}
function sz(e) {
  var r = e.chart,
    t = e.options,
    i = t.label,
    n = t.yField,
    a = ee(r, 'interval');
  if (!i) a.label(!1);
  else {
    var o = i.callback,
      s = mt(i, ['callback']);
    a.label({ fields: [n], callback: o, cfg: x(x({}, _t(s)), { type: 'polar' }) });
  }
  return e;
}
function lz(e) {
  return rt(Ie('barStyle'), nz, b1, oz, az, It, wt, ht, Yt, Dn, Ot(), sz)(e);
}
var uz = B({}, at.getDefaultOptions(), {
  interactions: [{ type: 'element-active' }],
  legend: !1,
  tooltip: { showMarkers: !1 },
  xAxis: { grid: null, tickLine: null, line: null },
  maxAngle: 240,
});
(function (e) {
  I(r, e);
  function r() {
    var t = (e !== null && e.apply(this, arguments)) || this;
    return (t.type = 'radial-bar'), t;
  }
  return (
    (r.getDefaultOptions = function () {
      return uz;
    }),
    (r.prototype.changeData = function (t) {
      this.updateOption({ data: t }),
        b1({ chart: this.chart, options: this.options }),
        this.chart.changeData(t);
    }),
    (r.prototype.getDefaultOptions = function () {
      return r.getDefaultOptions();
    }),
    (r.prototype.getSchemaAdaptor = function () {
      return lz;
    }),
    r
  );
})(at);
function cz(e) {
  var r = e.chart,
    t = e.options,
    i = t.data,
    n = t.sectorStyle,
    a = t.color;
  return (
    r.data(i),
    rt(re)(B({}, e, { options: { marginRatio: 1, interval: { style: n, color: a } } })),
    e
  );
}
function hz(e) {
  var r = e.chart,
    t = e.options,
    i = t.label,
    n = t.xField,
    a = ee(r, 'interval');
  if (i === !1) a.label(!1);
  else if (yt(i)) {
    var o = i.callback,
      s = i.fields,
      l = mt(i, ['callback', 'fields']),
      u = l.offset,
      c = l.layout;
    (u === void 0 || u >= 0) &&
      ((c = c ? ($(c) ? c : [c]) : []),
      (l.layout = Qt(c, function (h) {
        return h.type !== 'limit-in-shape';
      })),
      l.layout.length || delete l.layout),
      a.label({ fields: s || [n], callback: o, cfg: _t(l) });
  } else Fr(Ue.WARN, i === null, 'the label option must be an Object.'), a.label({ fields: [n] });
  return e;
}
function fz(e) {
  var r = e.chart,
    t = e.options,
    i = t.legend,
    n = t.seriesField;
  return i === !1 ? r.legend(!1) : n && r.legend(n, i), e;
}
function vz(e) {
  var r = e.chart,
    t = e.options,
    i = t.radius,
    n = t.innerRadius,
    a = t.startAngle,
    o = t.endAngle;
  return (
    r.coordinate({ type: 'polar', cfg: { radius: i, innerRadius: n, startAngle: a, endAngle: o } }),
    e
  );
}
function dz(e) {
  var r,
    t = e.options,
    i = t.xAxis,
    n = t.yAxis,
    a = t.xField,
    o = t.yField;
  return rt(Rt(((r = {}), (r[a] = i), (r[o] = n), r)))(e);
}
function pz(e) {
  var r = e.chart,
    t = e.options,
    i = t.xAxis,
    n = t.yAxis,
    a = t.xField,
    o = t.yField;
  return i ? r.axis(a, i) : r.axis(a, !1), n ? r.axis(o, n) : r.axis(o, !1), e;
}
function gz(e) {
  rt(Ie('sectorStyle'), cz, dz, hz, vz, pz, fz, Yt, It, wt, ht, Ot(), oi)(e);
}
var yz = B({}, at.getDefaultOptions(), {
  xAxis: !1,
  yAxis: !1,
  legend: { position: 'right', radio: {} },
  sectorStyle: { stroke: '#fff', lineWidth: 1 },
  label: { layout: { type: 'limit-in-shape' } },
  tooltip: { shared: !0, showMarkers: !1 },
  interactions: [{ type: 'active-region' }],
});
(function (e) {
  I(r, e);
  function r() {
    var t = (e !== null && e.apply(this, arguments)) || this;
    return (t.type = 'rose'), t;
  }
  return (
    (r.getDefaultOptions = function () {
      return yz;
    }),
    (r.prototype.changeData = function (t) {
      this.updateOption({ data: t }), this.chart.changeData(t);
    }),
    (r.prototype.getDefaultOptions = function () {
      return r.getDefaultOptions();
    }),
    (r.prototype.getSchemaAdaptor = function () {
      return gz;
    }),
    r
  );
})(at);
var Zp = 'x',
  Kp = 'y',
  Qp = 'name',
  Bl = 'nodes',
  Rl = 'edges';
function mz(e, r, t) {
  var i = [];
  return (
    e.forEach(function (n) {
      var a = n[r],
        o = n[t];
      i.includes(a) || i.push(a), i.includes(o) || i.push(o);
    }),
    i
  );
}
function xz(e, r, t, i) {
  var n = {};
  return (
    r.forEach(function (a) {
      (n[a] = {}),
        r.forEach(function (o) {
          n[a][o] = 0;
        });
    }),
    e.forEach(function (a) {
      n[a[t]][a[i]] = 1;
    }),
    n
  );
}
function wz(e, r, t) {
  if (!$(e)) return [];
  var i = [],
    n = mz(e, r, t),
    a = xz(e, n, r, t),
    o = {};
  n.forEach(function (l) {
    o[l] = 0;
  });
  function s(l) {
    (o[l] = 1),
      n.forEach(function (u) {
        if (a[l][u] != 0)
          if (o[u] == 1) i.push(l + '_' + u);
          else {
            if (o[u] == -1) return;
            s(u);
          }
      }),
      (o[l] = -1);
  }
  return (
    n.forEach(function (l) {
      o[l] != -1 && s(l);
    }),
    i.length !== 0 &&
      console.warn('sankey data contains circle, ' + i.length + ' records removed.', i),
    e.filter(function (l) {
      return (
        i.findIndex(function (u) {
          return u === l[r] + '_' + l[t];
        }) < 0
      );
    })
  );
}
function bz(e) {
  return e.target.depth;
}
function Sz(e) {
  return e.depth;
}
function Cz(e, r) {
  return r - 1 - e.height;
}
function mf(e, r) {
  return e.sourceLinks.length ? e.depth : r - 1;
}
function Az(e) {
  return e.targetLinks.length ? e.depth : e.sourceLinks.length ? VS(e.sourceLinks, bz) - 1 : 0;
}
function _o(e) {
  return function () {
    return e;
  };
}
function Eu(e, r) {
  for (var t = 0, i = 0; i < e.length; i++) t += r(e[i]);
  return t;
}
function Tu(e, r) {
  for (var t = -1 / 0, i = 0; i < e.length; i++) t = Math.max(r(e[i]), t);
  return t;
}
function Mz(e, r) {
  for (var t = 1 / 0, i = 0; i < e.length; i++) t = Math.min(r(e[i]), t);
  return t;
}
function Jp(e, r) {
  return Ps(e.source, r.source) || e.index - r.index;
}
function tg(e, r) {
  return Ps(e.target, r.target) || e.index - r.index;
}
function Ps(e, r) {
  return e.y0 - r.y0;
}
function ku(e) {
  return e.value;
}
function Fz(e) {
  return e.index;
}
function Ez(e) {
  return e.nodes;
}
function Tz(e) {
  return e.links;
}
function eg(e, r) {
  var t = e.get(r);
  if (!t) throw new Error('missing: ' + r);
  return t;
}
function rg(e) {
  for (var r = e.nodes, t = 0, i = r; t < i.length; t++) {
    for (var n = i[t], a = n.y0, o = a, s = 0, l = n.sourceLinks; s < l.length; s++) {
      var u = l[s];
      (u.y0 = a + u.width / 2), (a += u.width);
    }
    for (var c = 0, h = n.targetLinks; c < h.length; c++) {
      var u = h[c];
      (u.y1 = o + u.width / 2), (o += u.width);
    }
  }
}
function kz() {
  var e = 0,
    r = 0,
    t = 1,
    i = 1,
    n = 24,
    a = 8,
    o,
    s = Fz,
    l = mf,
    u,
    c,
    h,
    f = Ez,
    v = Tz,
    d = 6;
  function p(D) {
    var N = { nodes: f(D), links: v(D) };
    return g(N), y(N), m(N), b(N), C(N), rg(N), N;
  }
  (p.update = function (D) {
    return rg(D), D;
  }),
    (p.nodeId = function (D) {
      return arguments.length ? ((s = typeof D == 'function' ? D : _o(D)), p) : s;
    }),
    (p.nodeAlign = function (D) {
      return arguments.length ? ((l = typeof D == 'function' ? D : _o(D)), p) : l;
    }),
    (p.nodeDepth = function (D) {
      return arguments.length ? ((u = D), p) : u;
    }),
    (p.nodeSort = function (D) {
      return arguments.length ? ((c = D), p) : c;
    }),
    (p.nodeWidth = function (D) {
      return arguments.length ? ((n = +D), p) : n;
    }),
    (p.nodePadding = function (D) {
      return arguments.length ? ((a = o = +D), p) : a;
    }),
    (p.nodes = function (D) {
      return arguments.length ? ((f = typeof D == 'function' ? D : _o(D)), p) : f;
    }),
    (p.links = function (D) {
      return arguments.length ? ((v = typeof D == 'function' ? D : _o(D)), p) : v;
    }),
    (p.linkSort = function (D) {
      return arguments.length ? ((h = D), p) : h;
    }),
    (p.size = function (D) {
      return arguments.length ? ((e = r = 0), (t = +D[0]), (i = +D[1]), p) : [t - e, i - r];
    }),
    (p.extent = function (D) {
      return arguments.length
        ? ((e = +D[0][0]), (t = +D[1][0]), (r = +D[0][1]), (i = +D[1][1]), p)
        : [
            [e, r],
            [t, i],
          ];
    }),
    (p.iterations = function (D) {
      return arguments.length ? ((d = +D), p) : d;
    });
  function g(D) {
    var N = D.nodes,
      V = D.links;
    N.forEach(function (Z, ot) {
      (Z.index = ot), (Z.sourceLinks = []), (Z.targetLinks = []);
    });
    var H = new Map(
      N.map(function (Z) {
        return [s(Z), Z];
      }),
    );
    if (
      (V.forEach(function (Z, ot) {
        Z.index = ot;
        var ct = Z.source,
          Pt = Z.target;
        typeof ct != 'object' && (ct = Z.source = eg(H, ct)),
          typeof Pt != 'object' && (Pt = Z.target = eg(H, Pt)),
          ct.sourceLinks.push(Z),
          Pt.targetLinks.push(Z);
      }),
      h != null)
    )
      for (var G = 0, X = N; G < X.length; G++) {
        var Q = X[G],
          J = Q.sourceLinks,
          U = Q.targetLinks;
        J.sort(h), U.sort(h);
      }
  }
  function y(D) {
    for (var N = D.nodes, V = 0, H = N; V < H.length; V++) {
      var G = H[V];
      G.value =
        G.fixedValue === void 0
          ? Math.max(Eu(G.sourceLinks, ku), Eu(G.targetLinks, ku))
          : G.fixedValue;
    }
  }
  function m(D) {
    for (var N = D.nodes, V = N.length, H = new Set(N), G = new Set(), X = 0; H.size; ) {
      if (
        (H.forEach(function (Z) {
          Z.depth = X;
          for (var ot = 0, ct = Z.sourceLinks; ot < ct.length; ot++) {
            var Pt = ct[ot].target;
            G.add(Pt);
          }
        }),
        ++X > V)
      )
        throw new Error('circular link');
      (H = G), (G = new Set());
    }
    if (u)
      for (
        var Q = Math.max(
            Tu(N, function (Z) {
              return Z.depth;
            }) + 1,
            0,
          ),
          J = void 0,
          U = 0;
        U < N.length;
        U++
      )
        (J = N[U]), (J.depth = u.call(null, J, Q));
  }
  function b(D) {
    for (var N = D.nodes, V = N.length, H = new Set(N), G = new Set(), X = 0; H.size; ) {
      if (
        (H.forEach(function (Q) {
          Q.height = X;
          for (var J = 0, U = Q.targetLinks; J < U.length; J++) {
            var Z = U[J].source;
            G.add(Z);
          }
        }),
        ++X > V)
      )
        throw new Error('circular link');
      (H = G), (G = new Set());
    }
  }
  function w(D) {
    for (
      var N = D.nodes,
        V = Math.max(
          Tu(N, function (Pt) {
            return Pt.depth;
          }) + 1,
          0,
        ),
        H = (t - e - n) / (V - 1),
        G = new Array(V).fill(0).map(function () {
          return [];
        }),
        X = 0,
        Q = N;
      X < Q.length;
      X++
    ) {
      var J = Q[X],
        U = Math.max(0, Math.min(V - 1, Math.floor(l.call(null, J, V))));
      (J.layer = U), (J.x0 = e + U * H), (J.x1 = J.x0 + n), G[U] ? G[U].push(J) : (G[U] = [J]);
    }
    if (c)
      for (var Z = 0, ot = G; Z < ot.length; Z++) {
        var ct = ot[Z];
        ct.sort(c);
      }
    return G;
  }
  function S(D) {
    for (
      var N = Mz(D, function (Jt) {
          return (i - r - (Jt.length - 1) * o) / Eu(Jt, ku);
        }),
        V = 0,
        H = D;
      V < H.length;
      V++
    ) {
      for (var G = H[V], X = r, Q = 0, J = G; Q < J.length; Q++) {
        var U = J[Q];
        (U.y0 = X), (U.y1 = X + U.value * N), (X = U.y1 + o);
        for (var Z = 0, ot = U.sourceLinks; Z < ot.length; Z++) {
          var ct = ot[Z];
          ct.width = ct.value * N;
        }
      }
      X = (i - X + o) / (G.length + 1);
      for (var Pt = 0; Pt < G.length; ++Pt) {
        var U = G[Pt];
        (U.y0 += X * (Pt + 1)), (U.y1 += X * (Pt + 1));
      }
      z(G);
    }
  }
  function C(D) {
    var N = w(D);
    (o = Math.min(
      a,
      (i - r) /
        (Tu(N, function (X) {
          return X.length;
        }) -
          1),
    )),
      S(N);
    for (var V = 0; V < d; ++V) {
      var H = Math.pow(0.99, V),
        G = Math.max(1 - H, (V + 1) / d);
      E(N, H, G), F(N, H, G);
    }
  }
  function F(D, N, V) {
    for (var H = 1, G = D.length; H < G; ++H) {
      for (var X = D[H], Q = 0, J = X; Q < J.length; Q++) {
        for (var U = J[Q], Z = 0, ot = 0, ct = 0, Pt = U.targetLinks; ct < Pt.length; ct++) {
          var Jt = Pt[ct],
            cr = Jt.source,
            hr = Jt.value,
            fr = hr * (U.layer - cr.layer);
          (Z += W(cr, U) * fr), (ot += fr);
        }
        if (ot > 0) {
          var si = (Z / ot - U.y0) * N;
          (U.y0 += si), (U.y1 += si), P(U);
        }
      }
      c === void 0 && X.sort(Ps), X.length && k(X, V);
    }
  }
  function E(D, N, V) {
    for (var H = D.length, G = H - 2; G >= 0; --G) {
      for (var X = D[G], Q = 0, J = X; Q < J.length; Q++) {
        for (var U = J[Q], Z = 0, ot = 0, ct = 0, Pt = U.sourceLinks; ct < Pt.length; ct++) {
          var Jt = Pt[ct],
            cr = Jt.target,
            hr = Jt.value,
            fr = hr * (cr.layer - U.layer);
          (Z += j(U, cr) * fr), (ot += fr);
        }
        if (ot > 0) {
          var si = (Z / ot - U.y0) * N;
          (U.y0 += si), (U.y1 += si), P(U);
        }
      }
      c === void 0 && X.sort(Ps), X.length && k(X, V);
    }
  }
  function k(D, N) {
    var V = D.length >> 1,
      H = D[V];
    O(D, H.y0 - o, V - 1, N), T(D, H.y1 + o, V + 1, N), O(D, i, D.length - 1, N), T(D, r, 0, N);
  }
  function T(D, N, V, H) {
    for (; V < D.length; ++V) {
      var G = D[V],
        X = (N - G.y0) * H;
      X > 1e-6 && ((G.y0 += X), (G.y1 += X)), (N = G.y1 + o);
    }
  }
  function O(D, N, V, H) {
    for (; V >= 0; --V) {
      var G = D[V],
        X = (G.y1 - N) * H;
      X > 1e-6 && ((G.y0 -= X), (G.y1 -= X)), (N = G.y0 - o);
    }
  }
  function P(D) {
    var N = D.sourceLinks,
      V = D.targetLinks;
    if (h === void 0) {
      for (var H = 0, G = V; H < G.length; H++) {
        var X = G[H].source.sourceLinks;
        X.sort(tg);
      }
      for (var Q = 0, J = N; Q < J.length; Q++) {
        var U = J[Q].target.targetLinks;
        U.sort(Jp);
      }
    }
  }
  function z(D) {
    if (h === void 0)
      for (var N = 0, V = D; N < V.length; N++) {
        var H = V[N],
          G = H.sourceLinks,
          X = H.targetLinks;
        G.sort(tg), X.sort(Jp);
      }
  }
  function W(D, N) {
    for (
      var V = D.y0 - ((D.sourceLinks.length - 1) * o) / 2, H = 0, G = D.sourceLinks;
      H < G.length;
      H++
    ) {
      var X = G[H],
        Q = X.target,
        J = X.width;
      if (Q === N) break;
      V += J + o;
    }
    for (var U = 0, Z = N.targetLinks; U < Z.length; U++) {
      var ot = Z[U],
        Q = ot.source,
        J = ot.width;
      if (Q === D) break;
      V -= J;
    }
    return V;
  }
  function j(D, N) {
    for (
      var V = N.y0 - ((N.targetLinks.length - 1) * o) / 2, H = 0, G = N.targetLinks;
      H < G.length;
      H++
    ) {
      var X = G[H],
        Q = X.source,
        J = X.width;
      if (Q === D) break;
      V += J + o;
    }
    for (var U = 0, Z = D.sourceLinks; U < Z.length; U++) {
      var ot = Z[U],
        Q = ot.target,
        J = ot.width;
      if (Q === N) break;
      V -= J;
    }
    return V;
  }
  return p;
}
var Iz = { left: Sz, right: Cz, center: Az, justify: mf },
  Lz = {
    nodeId: function (e) {
      return e.index;
    },
    nodeAlign: 'justify',
    nodeWidth: 0.008,
    nodePadding: 0.03,
    nodeSort: void 0,
  };
function Oz(e) {
  var r = et(e) ? Iz[e] : q(e) ? e : null;
  return r || mf;
}
function Pz(e) {
  return xt({}, Lz, e);
}
function Dz(e, r) {
  var t = Pz(e),
    i = t.nodeId,
    n = t.nodeSort,
    a = t.nodeAlign,
    o = t.nodeWidth,
    s = t.nodePadding,
    l = t.nodeDepth,
    u = kz()
      .nodeSort(n)
      .nodeWidth(o)
      .nodePadding(s)
      .nodeDepth(l)
      .nodeAlign(Oz(a))
      .extent([
        [0, 0],
        [1, 1],
      ])
      .nodeId(i),
    c = u(r),
    h = c.nodes
      .map(function (v) {
        var d = v.x0,
          p = v.x1,
          g = v.y0,
          y = v.y1;
        return (v.x = [d, p, p, d]), (v.y = [g, g, y, y]), v;
      })
      .filter(function (v) {
        return v.name !== null;
      }),
    f = c.links
      .map(function (v) {
        var d = v.source,
          p = v.target,
          g = d.x1,
          y = p.x0;
        v.x = [g, g, y, y];
        var m = v.width / 2;
        return (v.y = [v.y0 + m, v.y0 - m, v.y1 + m, v.y1 - m]), v;
      })
      .filter(function (v) {
        var d = v.source,
          p = v.target;
        return d.name !== null && p.name !== null;
      });
  return { nodes: h, links: f };
}
function Bz(e) {
  return e === 'node-link';
}
function Rz(e, r, t) {
  return Bi(e) ? e / t : r;
}
function $z(e, r, t) {
  return Bi(e) ? e / t : r;
}
function S1(e, r, t) {
  var i = e.dataType,
    n = e.data,
    a = e.sourceField,
    o = e.targetField,
    s = e.weightField,
    l = e.nodeAlign,
    u = e.nodeSort,
    c = e.nodePadding,
    h = e.nodePaddingRatio,
    f = e.nodeWidth,
    v = e.nodeWidthRatio,
    d = e.nodeDepth,
    p = e.rawFields,
    g = p === void 0 ? [] : p,
    y;
  Bz(i) ? (y = n) : (y = z0(wz(n, a, o), a, o, s, g));
  var m = Dz(
      { nodeAlign: l, nodePadding: $z(c, h, t), nodeWidth: Rz(f, v, r), nodeSort: u, nodeDepth: d },
      y,
    ),
    b = m.nodes,
    w = m.links;
  return {
    nodes: b.map(function (S) {
      return x(x({}, gt(S, Ct(['x', 'y', 'name'], g))), { isNode: !0 });
    }),
    edges: w.map(function (S) {
      return x(
        x(
          { source: S.source.name, target: S.target.name, name: S.source.name || S.target.name },
          gt(S, Ct(['x', 'y', 'value'], g)),
        ),
        { isNode: !1 },
      );
    }),
  };
}
function Nz(e) {
  var r = e.options,
    t = r.rawFields,
    i = t === void 0 ? [] : t;
  return B(
    {},
    {
      options: {
        tooltip: { fields: Ii(Ct(['name', 'source', 'target', 'value', 'isNode'], i)) },
        label: { fields: Ii(Ct(['x', 'name'], i)) },
      },
    },
    e,
  );
}
function zz(e) {
  var r = e.chart,
    t = e.options,
    i = t.color,
    n = t.nodeStyle,
    a = t.edgeStyle,
    o = t.label,
    s = t.tooltip,
    l = t.nodeState,
    u = t.edgeState;
  r.legend(!1), r.tooltip(s), r.axis(!1), r.coordinate().reflect('y');
  var c = S1(t, r.width, r.height),
    h = c.nodes,
    f = c.edges,
    v = r.createView({ id: Rl });
  v.data(f),
    q0({
      chart: v,
      options: {
        xField: Zp,
        yField: Kp,
        seriesField: Qp,
        edge: { color: i, style: a, shape: 'arc' },
        tooltip: s,
        state: u,
      },
    });
  var d = r.createView({ id: Bl });
  return (
    d.data(h),
    El({
      chart: d,
      options: {
        xField: Zp,
        yField: Kp,
        seriesField: Qp,
        polygon: { color: i, style: n },
        label: o,
        tooltip: s,
        state: l,
      },
    }),
    r.interaction('element-active'),
    r.scale({
      x: { sync: !0, nice: !0, min: 0, max: 1, minLimit: 0, maxLimit: 1 },
      y: { sync: !0, nice: !0, min: 0, max: 1, minLimit: 0, maxLimit: 1 },
      name: { sync: 'color', type: 'cat' },
    }),
    e
  );
}
function Gz(e) {
  var r = e.chart,
    t = e.options,
    i = t.animation,
    n = Ct(r.views[0].geometries, r.views[1].geometries);
  return ro(r, i, n), e;
}
function Hz(e) {
  var r = e.chart,
    t = e.options,
    i = t.nodeDraggable,
    n = 'sankey-node-draggable';
  return i ? r.interaction(n) : r.removeInteraction(n), e;
}
function Vz(e) {
  var r = e.chart,
    t = e.options,
    i = t.interactions,
    n = i === void 0 ? [] : i,
    a = [].concat(n, t.nodeInteractions || []),
    o = [].concat(n, t.edgeInteractions || []),
    s = lt(r, Bl),
    l = lt(r, Rl);
  return (
    a.forEach(function (u) {
      (u == null ? void 0 : u.enable) === !1
        ? s.removeInteraction(u.type)
        : s.interaction(u.type, u.cfg || {});
    }),
    o.forEach(function (u) {
      (u == null ? void 0 : u.enable) === !1
        ? l.removeInteraction(u.type)
        : l.interaction(u.type, u.cfg || {});
    }),
    e
  );
}
function Yz(e) {
  return rt(Nz, zz, Vz, Hz, Gz, ht)(e);
}
var Wz = (function (e) {
  I(r, e);
  function r() {
    var t = (e !== null && e.apply(this, arguments)) || this;
    return (t.isDragging = !1), t;
  }
  return (
    (r.prototype.isNodeElement = function () {
      var t = M(this.context, 'event.target');
      if (t) {
        var i = t.get('element');
        return i && i.getModel().data.isNode;
      }
      return !1;
    }),
    (r.prototype.getNodeView = function () {
      return lt(this.context.view, Bl);
    }),
    (r.prototype.getEdgeView = function () {
      return lt(this.context.view, Rl);
    }),
    (r.prototype.getCurrentDatumIdx = function (t) {
      return this.getNodeView().geometries[0].elements.indexOf(t);
    }),
    (r.prototype.start = function () {
      if (this.isNodeElement()) {
        this.prevPoint = { x: M(this.context, 'event.x'), y: M(this.context, 'event.y') };
        var t = this.context.event.target.get('element'),
          i = this.getCurrentDatumIdx(t);
        if (i === -1) return;
        (this.currentElementIdx = i),
          (this.context.isDragging = !0),
          (this.isDragging = !0),
          (this.prevNodeAnimateCfg = this.getNodeView().getOptions().animate),
          (this.prevEdgeAnimateCfg = this.getEdgeView().getOptions().animate),
          this.getNodeView().animate(!1),
          this.getEdgeView().animate(!1);
      }
    }),
    (r.prototype.translate = function () {
      if (this.isDragging) {
        var t = this.context.view,
          i = { x: M(this.context, 'event.x'), y: M(this.context, 'event.y') },
          n = i.x - this.prevPoint.x,
          a = i.y - this.prevPoint.y,
          o = this.getNodeView(),
          s = o.geometries[0].elements[this.currentElementIdx];
        if (s && s.getModel()) {
          var l = s.getModel().data,
            u = o.getOptions().data,
            c = o.getCoordinate(),
            h = { x: n / c.getWidth(), y: a / c.getHeight() },
            f = x(x({}, l), {
              x: l.x.map(function (y) {
                return (y += h.x);
              }),
              y: l.y.map(function (y) {
                return (y += h.y);
              }),
            }),
            v = Ct(u);
          (v[this.currentElementIdx] = f), o.data(v);
          var d = l.name,
            p = this.getEdgeView(),
            g = p.getOptions().data;
          g.forEach(function (y) {
            y.source === d && ((y.x[0] += h.x), (y.x[1] += h.x), (y.y[0] += h.y), (y.y[1] += h.y)),
              y.target === d &&
                ((y.x[2] += h.x), (y.x[3] += h.x), (y.y[2] += h.y), (y.y[3] += h.y));
          }),
            p.data(g),
            (this.prevPoint = i),
            t.render(!0);
        }
      }
    }),
    (r.prototype.end = function () {
      (this.isDragging = !1),
        (this.context.isDragging = !1),
        (this.prevPoint = null),
        (this.currentElementIdx = null),
        this.getNodeView().animate(this.prevNodeAnimateCfg),
        this.getEdgeView().animate(this.prevEdgeAnimateCfg);
    }),
    r
  );
})(Ft);
tt('sankey-node-drag', Wz);
nt('sankey-node-draggable', {
  showEnable: [
    { trigger: 'polygon:mouseenter', action: 'cursor:pointer' },
    { trigger: 'polygon:mouseleave', action: 'cursor:default' },
  ],
  start: [{ trigger: 'polygon:mousedown', action: 'sankey-node-drag:start' }],
  processing: [
    { trigger: 'plot:mousemove', action: 'sankey-node-drag:translate' },
    {
      isEnable: function (e) {
        return e.isDragging;
      },
      trigger: 'plot:mousemove',
      action: 'cursor:move',
    },
  ],
  end: [{ trigger: 'plot:mouseup', action: 'sankey-node-drag:end' }],
});
(function (e) {
  I(r, e);
  function r() {
    var t = (e !== null && e.apply(this, arguments)) || this;
    return (t.type = 'sankey'), t;
  }
  return (
    (r.getDefaultOptions = function () {
      return {
        appendPadding: 8,
        syncViewPadding: !0,
        nodeStyle: { opacity: 1, fillOpacity: 1, lineWidth: 1 },
        edgeStyle: { opacity: 0.3, lineWidth: 0 },
        edgeState: { active: { style: { opacity: 0.8, lineWidth: 0 } } },
        label: {
          formatter: function (t) {
            var i = t.name;
            return i;
          },
          callback: function (t) {
            var i = t[1] === 1;
            return {
              style: { fill: '#545454', textAlign: i ? 'end' : 'start' },
              offsetX: i ? -8 : 8,
            };
          },
          layout: [{ type: 'hide-overlap' }],
        },
        tooltip: {
          showTitle: !1,
          showMarkers: !1,
          shared: !1,
          showContent: function (t) {
            return !M(t, [0, 'data', 'isNode']);
          },
          formatter: function (t) {
            var i = t.source,
              n = t.target,
              a = t.value;
            return { name: i + ' -> ' + n, value: a };
          },
        },
        nodeWidthRatio: 0.008,
        nodePaddingRatio: 0.01,
        animation: { appear: { animation: 'wave-in' }, enter: { animation: 'wave-in' } },
      };
    }),
    (r.prototype.changeData = function (t) {
      this.updateOption({ data: t });
      var i = S1(this.options, this.chart.width, this.chart.height),
        n = i.nodes,
        a = i.edges,
        o = lt(this.chart, Bl),
        s = lt(this.chart, Rl);
      o.changeData(n), s.changeData(a);
    }),
    (r.prototype.getSchemaAdaptor = function () {
      return Yz;
    }),
    (r.prototype.getDefaultOptions = function () {
      return r.getDefaultOptions();
    }),
    r
  );
})(at);
var xf = 'ancestor-node',
  C1 = 'value',
  Wa = 'path',
  Xz = [Wa, d1, df, p1, 'name', 'depth', 'height'],
  _z = B({}, at.getDefaultOptions(), {
    innerRadius: 0,
    radius: 0.85,
    hierarchyConfig: { field: 'value' },
    tooltip: { shared: !0, showMarkers: !1, offset: 20, showTitle: !1 },
    legend: !1,
    sunburstStyle: { lineWidth: 0.5, stroke: '#FFF' },
    drilldown: { enabled: !0 },
  }),
  jz = {
    field: 'value',
    size: [1, 1],
    round: !1,
    padding: 0,
    sort: function (e, r) {
      return r.value - e.value;
    },
    as: ['x', 'y'],
    ignoreParentValue: !0,
  };
function Uz(e, r) {
  r = xt({}, jz, r);
  var t = r.as;
  if (!$(t) || t.length !== 2)
    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');
  var i;
  try {
    i = pf(r);
  } catch (l) {
    console.warn(l);
  }
  var n = function (l) {
      return u1().size(r.size).round(r.round).padding(r.padding)(
        Nn(l)
          .sum(function (u) {
            return Xt(u.children)
              ? r.ignoreParentValue
                ? 0
                : u[i] -
                  oe(
                    u.children,
                    function (c, h) {
                      return c + h[i];
                    },
                    0,
                  )
              : u[i];
          })
          .sort(r.sort),
      );
    },
    a = n(e),
    o = t[0],
    s = t[1];
  return (
    a.each(function (l) {
      var u, c;
      (l[o] = [l.x0, l.x1, l.x1, l.x0]),
        (l[s] = [l.y1, l.y1, l.y0, l.y0]),
        (l.name =
          l.name ||
          ((u = l.data) === null || u === void 0 ? void 0 : u.name) ||
          ((c = l.data) === null || c === void 0 ? void 0 : c.label)),
        (l.data.name = l.name),
        ['x0', 'x1', 'y0', 'y1'].forEach(function (h) {
          t.indexOf(h) === -1 && delete l[h];
        });
    }),
    gf(a)
  );
}
var qz = {
  field: 'value',
  tile: 'treemapSquarify',
  size: [1, 1],
  round: !1,
  ignoreParentValue: !0,
  padding: 0,
  paddingInner: 0,
  paddingOuter: 0,
  paddingTop: 0,
  paddingRight: 0,
  paddingBottom: 0,
  paddingLeft: 0,
  as: ['x', 'y'],
  sort: function (e, r) {
    return r.value - e.value;
  },
  ratio: 0.5 * (1 + Math.sqrt(5)),
};
function Zz(e, r) {
  return e === 'treemapSquarify' ? zp[e].ratio(r) : zp[e];
}
function A1(e, r) {
  r = xt({}, qz, r);
  var t = r.as;
  if (!$(t) || t.length !== 2)
    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');
  var i;
  try {
    i = pf(r);
  } catch (u) {
    console.warn(u);
  }
  var n = Zz(r.tile, r.ratio),
    a = function (u) {
      return v1()
        .tile(n)
        .size(r.size)
        .round(r.round)
        .padding(r.padding)
        .paddingInner(r.paddingInner)
        .paddingOuter(r.paddingOuter)
        .paddingTop(r.paddingTop)
        .paddingRight(r.paddingRight)
        .paddingBottom(r.paddingBottom)
        .paddingLeft(r.paddingLeft)(
        Nn(u)
          .sum(function (c) {
            return r.ignoreParentValue && c.children ? 0 : c[i];
          })
          .sort(r.sort),
      );
    },
    o = a(e),
    s = t[0],
    l = t[1];
  return (
    o.each(function (u) {
      (u[s] = [u.x0, u.x1, u.x1, u.x0]),
        (u[l] = [u.y1, u.y1, u.y0, u.y0]),
        ['x0', 'x1', 'y0', 'y1'].forEach(function (c) {
          t.indexOf(c) === -1 && delete u[c];
        });
    }),
    gf(o)
  );
}
function M1(e) {
  var r = e.data,
    t = e.colorField,
    i = e.rawFields,
    n = e.hierarchyConfig,
    a = n === void 0 ? {} : n,
    o = a.activeDepth,
    s = { partition: Uz, treemap: A1 },
    l = e.seriesField,
    u = e.type || 'partition',
    c = s[u](
      r,
      x(x({ field: l || 'value' }, Ws(a, ['activeDepth'])), {
        type: 'hierarchy.' + u,
        as: ['x', 'y'],
      }),
    ),
    h = [];
  return (
    c.forEach(function (f) {
      var v, d, p, g, y, m;
      if (f.depth === 0 || (o > 0 && f.depth > o)) return null;
      for (var b = f.data.name, w = x({}, f); w.depth > 1; )
        (b = ((d = w.parent.data) === null || d === void 0 ? void 0 : d.name) + ' / ' + b),
          (w = w.parent);
      var S = x(
        x(
          x({}, gt(f.data, Ct(i || [], [a.field]))),
          ((v = {}), (v[Wa] = b), (v[xf] = w.data.name), v),
        ),
        f,
      );
      l &&
        (S[l] =
          f.data[l] ||
          ((g = (p = f.parent) === null || p === void 0 ? void 0 : p.data) === null || g === void 0
            ? void 0
            : g[l])),
        t &&
          (S[t] =
            f.data[t] ||
            ((m = (y = f.parent) === null || y === void 0 ? void 0 : y.data) === null ||
            m === void 0
              ? void 0
              : m[t])),
        (S.ext = a),
        (S[Ya] = { hierarchyConfig: a, colorField: t, rawFields: i }),
        h.push(S);
    }),
    h
  );
}
function Kz(e) {
  var r = e.chart,
    t = e.options,
    i = t.color,
    n = t.colorField,
    a = n === void 0 ? xf : n,
    o = t.sunburstStyle,
    s = t.rawFields,
    l = s === void 0 ? [] : s,
    u = M1(t);
  r.data(u);
  var c;
  return (
    o &&
      (c = function (h) {
        return B({}, { fillOpacity: Math.pow(0.85, h.depth) }, q(o) ? o(h) : o);
      }),
    El(
      B({}, e, {
        options: {
          xField: 'x',
          yField: 'y',
          seriesField: a,
          rawFields: Ii(Ct(Xz, l)),
          polygon: { color: i, style: c },
        },
      }),
    ),
    e
  );
}
function Qz(e) {
  var r = e.chart;
  return r.axis(!1), e;
}
function Jz(e) {
  var r = e.chart,
    t = e.options,
    i = t.label,
    n = ee(r, 'polygon');
  if (!i) n.label(!1);
  else {
    var a = i.fields,
      o = a === void 0 ? ['name'] : a,
      s = i.callback,
      l = mt(i, ['fields', 'callback']);
    n.label({ fields: o, callback: s, cfg: _t(l) });
  }
  return e;
}
function tG(e) {
  var r = e.chart,
    t = e.options,
    i = t.innerRadius,
    n = t.radius,
    a = t.reflect,
    o = r.coordinate({ type: 'polar', cfg: { innerRadius: i, radius: n } });
  return a && o.reflect(a), e;
}
function eG(e) {
  var r,
    t = e.options,
    i = t.hierarchyConfig,
    n = t.meta;
  return rt(Rt({}, ((r = {}), (r[C1] = M(n, M(i, ['field'], 'value'))), r)))(e);
}
function rG(e) {
  var r = e.chart,
    t = e.options,
    i = t.tooltip;
  if (i === !1) r.tooltip(!1);
  else {
    var n = i;
    M(i, 'fields') ||
      (n = B(
        {},
        {
          customItems: function (a) {
            return a.map(function (o) {
              var s = M(r.getOptions(), 'scales'),
                l = M(s, [Wa, 'formatter'], function (c) {
                  return c;
                }),
                u = M(s, [C1, 'formatter'], function (c) {
                  return c;
                });
              return x(x({}, o), { name: l(o.data[Wa]), value: u(o.data.value) });
            });
          },
        },
        n,
      )),
      r.tooltip(n);
  }
  return e;
}
function iG(e) {
  var r = e.drilldown,
    t = e.interactions,
    i = t === void 0 ? [] : t;
  return r != null && r.enabled
    ? B({}, e, {
        interactions: Ct(i, [
          { type: 'drill-down', cfg: { drillDownConfig: r, transformData: M1 } },
        ]),
      })
    : e;
}
function nG(e) {
  var r = e.chart,
    t = e.options,
    i = t.drilldown;
  return (
    It({ chart: r, options: iG(t) }),
    i != null &&
      i.enabled &&
      (r.appendPadding = Sl(r.appendPadding, M(i, ['breadCrumb', 'position']))),
    e
  );
}
function aG(e) {
  return rt(ht, Ie('sunburstStyle'), Kz, Qz, eG, Dn, tG, rG, Jz, nG, wt, Ot())(e);
}
(function (e) {
  I(r, e);
  function r() {
    var t = (e !== null && e.apply(this, arguments)) || this;
    return (t.type = 'sunburst'), t;
  }
  return (
    (r.getDefaultOptions = function () {
      return _z;
    }),
    (r.prototype.getDefaultOptions = function () {
      return r.getDefaultOptions();
    }),
    (r.prototype.getSchemaAdaptor = function () {
      return aG;
    }),
    (r.SUNBURST_ANCESTOR_FIELD = xf),
    (r.SUNBURST_PATH_FIELD = Wa),
    (r.NODE_ANCESTORS_FIELD = df),
    r
  );
})(at);
function F1(e, r) {
  if ($(e))
    return e.find(function (t) {
      return t.type === r;
    });
}
function E1(e, r) {
  var t = F1(e, r);
  return t && t.enable !== !1;
}
function wf(e) {
  var r = e.interactions,
    t = e.drilldown;
  return M(t, 'enabled') || E1(r, 'treemap-drill-down');
}
function oG(e) {
  var r = e.interactions['drill-down'];
  if (r) {
    var t = r.context.actions.find(function (i) {
      return i.name === 'drill-down-action';
    });
    t.reset();
  }
}
function bf(e) {
  var r = e.data,
    t = e.colorField,
    i = e.enableDrillDown,
    n = e.hierarchyConfig,
    a = A1(r, x(x({}, n), { type: 'hierarchy.treemap', field: 'value', as: ['x', 'y'] })),
    o = [];
  return (
    a.forEach(function (s) {
      if (s.depth === 0 || (i && s.depth !== 1) || (!i && s.children)) return null;
      var l = s.ancestors().map(function (f) {
          return { data: f.data, height: f.height, value: f.value };
        }),
        u = i && $(r.path) ? l.concat(r.path.slice(1)) : l,
        c = Object.assign(
          {},
          s.data,
          x({ x: s.x, y: s.y, depth: s.depth, value: s.value, path: u }, s),
        );
      if (!s.data[t] && s.parent) {
        var h = s.ancestors().find(function (f) {
          return f.data[t];
        });
        c[t] = h == null ? void 0 : h.data[t];
      } else c[t] = s.data[t];
      (c[Ya] = { hierarchyConfig: n, colorField: t, enableDrillDown: i }), o.push(c);
    }),
    o
  );
}
function sG(e) {
  var r = e.options,
    t = r.colorField;
  return B(
    {
      options: {
        rawFields: ['value'],
        tooltip: {
          fields: ['name', 'value', t, 'path'],
          formatter: function (i) {
            return { name: i.name, value: i.value };
          },
        },
      },
    },
    e,
  );
}
function lG(e) {
  var r = e.chart,
    t = e.options,
    i = t.color,
    n = t.colorField,
    a = t.rectStyle,
    o = t.hierarchyConfig,
    s = t.rawFields,
    l = bf({ data: t.data, colorField: t.colorField, enableDrillDown: wf(t), hierarchyConfig: o });
  return (
    r.data(l),
    El(
      B({}, e, {
        options: {
          xField: 'x',
          yField: 'y',
          seriesField: n,
          rawFields: s,
          polygon: { color: i, style: a },
        },
      }),
    ),
    r.coordinate().reflect('y'),
    e
  );
}
function uG(e) {
  var r = e.chart;
  return r.axis(!1), e;
}
function cG(e) {
  var r = e.drilldown,
    t = e.interactions,
    i = t === void 0 ? [] : t,
    n = wf(e);
  return n
    ? B({}, e, {
        interactions: Ct(i, [
          { type: 'drill-down', cfg: { drillDownConfig: r, transformData: bf } },
        ]),
      })
    : e;
}
function hG(e) {
  var r = e.chart,
    t = e.options,
    i = t.interactions,
    n = t.drilldown;
  It({ chart: r, options: cG(t) });
  var a = F1(i, 'view-zoom');
  a &&
    (a.enable !== !1
      ? r.getCanvas().on('mousewheel', function (s) {
          s.preventDefault();
        })
      : r.getCanvas().off('mousewheel'));
  var o = wf(t);
  return o && (r.appendPadding = Sl(r.appendPadding, M(n, ['breadCrumb', 'position']))), e;
}
function fG(e) {
  return rt(sG, ht, Ie('rectStyle'), lG, uG, Dn, Yt, hG, wt, Ot())(e);
}
var vG = {
  colorField: 'name',
  rectStyle: { lineWidth: 1, stroke: '#fff' },
  hierarchyConfig: { tile: 'treemapSquarify' },
  label: { fields: ['name'], layout: { type: 'limit-in-shape' } },
  tooltip: { showMarkers: !1, showTitle: !1 },
  drilldown: {
    enabled: !1,
    breadCrumb: {
      position: 'bottom-left',
      rootText: '',
      dividerText: '/',
      textStyle: { fontSize: 12, fill: 'rgba(0, 0, 0, 0.65)', cursor: 'pointer' },
      activeTextStyle: { fill: '#87B5FF' },
    },
  },
};
(function (e) {
  I(r, e);
  function r() {
    var t = (e !== null && e.apply(this, arguments)) || this;
    return (t.type = 'treemap'), t;
  }
  return (
    (r.getDefaultOptions = function () {
      return vG;
    }),
    (r.prototype.changeData = function (t) {
      var i = this.options,
        n = i.colorField,
        a = i.interactions,
        o = i.hierarchyConfig;
      this.updateOption({ data: t });
      var s = bf({
        data: t,
        colorField: n,
        enableDrillDown: E1(a, 'treemap-drill-down'),
        hierarchyConfig: o,
      });
      this.chart.changeData(s), oG(this.chart);
    }),
    (r.prototype.getDefaultOptions = function () {
      return r.getDefaultOptions();
    }),
    (r.prototype.getSchemaAdaptor = function () {
      return fG;
    }),
    r
  );
})(at);
var Sr = 'id',
  Tc = 'path',
  dG = {
    appendPadding: [10, 0, 20, 0],
    blendMode: 'multiply',
    tooltip: {
      showTitle: !1,
      showMarkers: !1,
      fields: ['id', 'size'],
      formatter: function (e) {
        return { name: e.id, value: e.size };
      },
    },
    legend: { position: 'top-left' },
    label: { style: { textAlign: 'center', fill: '#fff' } },
    interactions: [{ type: 'legend-filter', enable: !1 }],
    state: {
      active: { style: { stroke: '#000' } },
      selected: { style: { stroke: '#000', lineWidth: 2 } },
      inactive: { style: { fillOpacity: 0.3, strokeOpacity: 0.3 } },
    },
    defaultInteractions: ['tooltip', 'venn-legend-active'],
  };
function $l(e) {
  if (e) {
    var r = e.geometries[0].elements;
    r.forEach(function (t) {
      t.shape.toFront();
    });
  }
}
var pG = gl('element-active'),
  gG = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.syncElementsPos = function () {
        $l(this.context.view);
      }),
      (r.prototype.active = function () {
        e.prototype.active.call(this), this.syncElementsPos();
      }),
      (r.prototype.toggle = function () {
        e.prototype.toggle.call(this), this.syncElementsPos();
      }),
      (r.prototype.reset = function () {
        e.prototype.reset.call(this), this.syncElementsPos();
      }),
      r
    );
  })(pG),
  yG = gl('element-highlight'),
  mG = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.syncElementsPos = function () {
        $l(this.context.view);
      }),
      (r.prototype.highlight = function () {
        e.prototype.highlight.call(this), this.syncElementsPos();
      }),
      (r.prototype.toggle = function () {
        e.prototype.toggle.call(this), this.syncElementsPos();
      }),
      (r.prototype.clear = function () {
        e.prototype.clear.call(this), this.syncElementsPos();
      }),
      (r.prototype.reset = function () {
        e.prototype.reset.call(this), this.syncElementsPos();
      }),
      r
    );
  })(yG),
  xG = gl('element-selected'),
  wG = gl('element-single-selected'),
  bG = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.syncElementsPos = function () {
        $l(this.context.view);
      }),
      (r.prototype.selected = function () {
        e.prototype.selected.call(this), this.syncElementsPos();
      }),
      (r.prototype.toggle = function () {
        e.prototype.toggle.call(this), this.syncElementsPos();
      }),
      (r.prototype.reset = function () {
        e.prototype.reset.call(this), this.syncElementsPos();
      }),
      r
    );
  })(xG),
  SG = (function (e) {
    I(r, e);
    function r() {
      return (e !== null && e.apply(this, arguments)) || this;
    }
    return (
      (r.prototype.syncElementsPos = function () {
        $l(this.context.view);
      }),
      (r.prototype.selected = function () {
        e.prototype.selected.call(this), this.syncElementsPos();
      }),
      (r.prototype.toggle = function () {
        e.prototype.toggle.call(this), this.syncElementsPos();
      }),
      (r.prototype.reset = function () {
        e.prototype.reset.call(this), this.syncElementsPos();
      }),
      r
    );
  })(wG);
tt('venn-element-active', gG);
tt('venn-element-highlight', mG);
tt('venn-element-selected', bG);
tt('venn-element-single-selected', SG);
nt('venn-element-active', {
  start: [{ trigger: 'element:mouseenter', action: 'venn-element-active:active' }],
  end: [{ trigger: 'element:mouseleave', action: 'venn-element-active:reset' }],
});
nt('venn-element-highlight', {
  start: [{ trigger: 'element:mouseenter', action: 'venn-element-highlight:highlight' }],
  end: [{ trigger: 'element:mouseleave', action: 'venn-element-highlight:reset' }],
});
nt('venn-element-selected', {
  start: [{ trigger: 'element:click', action: 'venn-element-selected:toggle' }],
  rollback: [{ trigger: 'dblclick', action: ['venn-element-selected:reset'] }],
});
nt('venn-element-single-selected', {
  start: [{ trigger: 'element:click', action: 'venn-element-single-selected:toggle' }],
  rollback: [{ trigger: 'dblclick', action: ['venn-element-single-selected:reset'] }],
});
nt('venn-legend-active', {
  start: [
    {
      trigger: 'legend-item:mouseenter',
      action: ['list-active:active', 'venn-element-active:active'],
    },
  ],
  end: [
    {
      trigger: 'legend-item:mouseleave',
      action: ['list-active:reset', 'venn-element-active:reset'],
    },
  ],
});
nt('venn-legend-highlight', {
  start: [
    {
      trigger: 'legend-item:mouseenter',
      action: ['legend-item-highlight:highlight', 'venn-element-highlight:highlight'],
    },
  ],
  end: [
    {
      trigger: 'legend-item:mouseleave',
      action: ['legend-item-highlight:reset', 'venn-element-highlight:reset'],
    },
  ],
});
var CG = (function (e) {
  I(r, e);
  function r() {
    return (e !== null && e.apply(this, arguments)) || this;
  }
  return (
    (r.prototype.getLabelPoint = function (t, i, n) {
      var a = t.data,
        o = a.x,
        s = a.y,
        l = t.customLabelInfo,
        u = l.offsetX,
        c = l.offsetY;
      return { content: t.content[n], x: o + u, y: s + c };
    }),
    r
  );
})(ml);
Ja('venn', CG);
function AG(e) {
  return B({}, e.defaultStyle, { fill: e.color }, e.style);
}
dt('schema', 'venn', {
  draw: function (e, r) {
    var t = e.data,
      i = nh(t[Tc]),
      n = AG(e),
      a = r.addGroup({ name: 'venn-shape' });
    a.addShape('path', { attrs: x(x({}, n), { path: i }), name: 'venn-path' });
    var o = e.customInfo,
      s = o.offsetX,
      l = o.offsetY,
      u = be.transform(null, [['t', s, l]]);
    return a.setMatrix(u), a;
  },
  getMarker: function (e) {
    var r = e.color;
    return { symbol: 'circle', style: { lineWidth: 0, stroke: r, fill: r, r: 4 } };
  },
});
var MG = function (e) {
    return function (r, t) {
      var i = [];
      return (i[0] = e(r[0], t[0])), (i[1] = e(r[1], t[1])), (i[2] = e(r[2], t[2])), i;
    };
  },
  ig = {
    normal: function (e) {
      return e;
    },
    multiply: function (e, r) {
      return (e * r) / 255;
    },
    screen: function (e, r) {
      return 255 * (1 - (1 - e / 255) * (1 - r / 255));
    },
    overlay: function (e, r) {
      return r < 128 ? (2 * e * r) / 255 : 255 * (1 - 2 * (1 - e / 255) * (1 - r / 255));
    },
    darken: function (e, r) {
      return e > r ? r : e;
    },
    lighten: function (e, r) {
      return e > r ? e : r;
    },
    dodge: function (e, r) {
      return e === 255 ? 255 : ((e = (255 * (r / 255)) / (1 - e / 255)), e > 255 ? 255 : e);
    },
    burn: function (e, r) {
      return r === 255 ? 255 : e === 0 ? 0 : 255 * (1 - Math.min(1, (1 - r / 255) / (e / 255)));
    },
  },
  FG = function (e) {
    if (!ig[e]) throw new Error('unknown blend mode ' + e);
    return ig[e];
  };
function EG(e, r, t) {
  t === void 0 && (t = 'normal');
  var i = MG(FG(t))(jo(e), jo(r)),
    n = jo(e),
    a = n[0],
    o = n[1],
    s = n[2],
    l = n[3],
    u = jo(r),
    c = u[0],
    h = u[1],
    f = u[2],
    v = u[3],
    d = Number((l + v * (1 - l)).toFixed(2)),
    p = Math.round(
      ((l * (1 - v) * (a / 255) + l * v * (i[0] / 255) + (1 - l) * v * (c / 255)) / d) * 255,
    ),
    g = Math.round(
      ((l * (1 - v) * (o / 255) + l * v * (i[1] / 255) + (1 - l) * v * (h / 255)) / d) * 255,
    ),
    y = Math.round(
      ((l * (1 - v) * (s / 255) + l * v * (i[2] / 255) + (1 - l) * v * (f / 255)) / d) * 255,
    );
  return 'rgba(' + p + ', ' + g + ', ' + y + ', ' + d + ')';
}
function jo(e) {
  var r = e.replace('/s+/g', ''),
    t;
  return typeof r == 'string' && !r.startsWith('rgba') && !r.startsWith('#')
    ? (t = Yr.rgb2arr(Yr.toRGB(r)).concat([1]))
    : (r.startsWith('rgba') && (t = r.replace('rgba(', '').replace(')', '').split(',')),
      r.startsWith('#') && (t = Yr.rgb2arr(r).concat([1])),
      t.map(function (i, n) {
        return n === 3 ? Number(i) : i | 0;
      }));
}
function TG(e, r, t, i) {
  i = i || {};
  var n = i.maxIterations || 100,
    a = i.tolerance || 1e-10,
    o = e(r),
    s = e(t),
    l = t - r;
  if (o * s > 0) throw 'Initial bisect points must have opposite signs';
  if (o === 0) return r;
  if (s === 0) return t;
  for (var u = 0; u < n; ++u) {
    l /= 2;
    var c = r + l,
      h = e(c);
    if ((h * o >= 0 && (r = c), Math.abs(l) < a || h === 0)) return c;
  }
  return r + l;
}
function kc(e) {
  for (var r = new Array(e), t = 0; t < e; ++t) r[t] = 0;
  return r;
}
function ng(e, r) {
  return kc(e).map(function () {
    return kc(r);
  });
}
function un(e, r) {
  for (var t = 0, i = 0; i < e.length; ++i) t += e[i] * r[i];
  return t;
}
function Ic(e) {
  return Math.sqrt(un(e, e));
}
function Lc(e, r, t) {
  for (var i = 0; i < r.length; ++i) e[i] = r[i] * t;
}
function pr(e, r, t, i, n) {
  for (var a = 0; a < e.length; ++a) e[a] = r * t[a] + i * n[a];
}
function T1(e, r, t) {
  t = t || {};
  var i = t.maxIterations || r.length * 200,
    n = t.nonZeroDelta || 1.05,
    a = t.zeroDelta || 0.001,
    o = t.minErrorDelta || 1e-6,
    s = t.minErrorDelta || 1e-5,
    l = t.rho !== void 0 ? t.rho : 1,
    u = t.chi !== void 0 ? t.chi : 2,
    c = t.psi !== void 0 ? t.psi : -0.5,
    h = t.sigma !== void 0 ? t.sigma : 0.5,
    f,
    v = r.length,
    d = new Array(v + 1);
  (d[0] = r), (d[0].fx = e(r)), (d[0].id = 0);
  for (var p = 0; p < v; ++p) {
    var g = r.slice();
    (g[p] = g[p] ? g[p] * n : a), (d[p + 1] = g), (d[p + 1].fx = e(g)), (d[p + 1].id = p + 1);
  }
  function y(P) {
    for (var z = 0; z < P.length; z++) d[v][z] = P[z];
    d[v].fx = P.fx;
  }
  for (
    var m = function (P, z) {
        return P.fx - z.fx;
      },
      b = r.slice(),
      w = r.slice(),
      S = r.slice(),
      C = r.slice(),
      F = 0;
    F < i;
    ++F
  ) {
    if ((d.sort(m), t.history)) {
      var E = d.map(function (P) {
        var z = P.slice();
        return (z.fx = P.fx), (z.id = P.id), z;
      });
      E.sort(function (P, z) {
        return P.id - z.id;
      }),
        t.history.push({ x: d[0].slice(), fx: d[0].fx, simplex: E });
    }
    for (f = 0, p = 0; p < v; ++p) f = Math.max(f, Math.abs(d[0][p] - d[1][p]));
    if (Math.abs(d[0].fx - d[v].fx) < o && f < s) break;
    for (p = 0; p < v; ++p) {
      b[p] = 0;
      for (var k = 0; k < v; ++k) b[p] += d[k][p];
      b[p] /= v;
    }
    var T = d[v];
    if ((pr(w, 1 + l, b, -l, T), (w.fx = e(w)), w.fx < d[0].fx))
      pr(C, 1 + u, b, -u, T), (C.fx = e(C)), C.fx < w.fx ? y(C) : y(w);
    else if (w.fx >= d[v - 1].fx) {
      var O = !1;
      if (
        (w.fx > T.fx
          ? (pr(S, 1 + c, b, -c, T), (S.fx = e(S)), S.fx < T.fx ? y(S) : (O = !0))
          : (pr(S, 1 - c * l, b, c * l, T), (S.fx = e(S)), S.fx < w.fx ? y(S) : (O = !0)),
        O)
      ) {
        if (h >= 1) break;
        for (p = 1; p < d.length; ++p) pr(d[p], 1 - h, d[0], h, d[p]), (d[p].fx = e(d[p]));
      }
    } else y(w);
  }
  return d.sort(m), { fx: d[0].fx, x: d[0] };
}
function kG(e, r, t, i, n, a, o) {
  var s = t.fx,
    l = un(t.fxprime, r),
    u = s,
    c = s,
    h = l,
    f = 0;
  (n = n || 1), (a = a || 1e-6), (o = o || 0.1);
  function v(p, g, y) {
    for (var m = 0; m < 16; ++m)
      if (
        ((n = (p + g) / 2),
        pr(i.x, 1, t.x, n, r),
        (u = i.fx = e(i.x, i.fxprime)),
        (h = un(i.fxprime, r)),
        u > s + a * n * l || u >= y)
      )
        g = n;
      else {
        if (Math.abs(h) <= -o * l) return n;
        h * (g - p) >= 0 && (g = p), (p = n), (y = u);
      }
    return 0;
  }
  for (var d = 0; d < 10; ++d) {
    if (
      (pr(i.x, 1, t.x, n, r),
      (u = i.fx = e(i.x, i.fxprime)),
      (h = un(i.fxprime, r)),
      u > s + a * n * l || (d && u >= c))
    )
      return v(f, n, c);
    if (Math.abs(h) <= -o * l) return n;
    if (h >= 0) return v(n, f, u);
    (c = u), (f = n), (n *= 2);
  }
  return n;
}
function IG(e, r, t) {
  var i = { x: r.slice(), fx: 0, fxprime: r.slice() },
    n = { x: r.slice(), fx: 0, fxprime: r.slice() },
    a = r.slice(),
    o,
    s,
    l = 1,
    u;
  (t = t || {}),
    (u = t.maxIterations || r.length * 20),
    (i.fx = e(i.x, i.fxprime)),
    (o = i.fxprime.slice()),
    Lc(o, i.fxprime, -1);
  for (var c = 0; c < u; ++c) {
    if (
      ((l = kG(e, o, i, n, l)),
      t.history &&
        t.history.push({ x: i.x.slice(), fx: i.fx, fxprime: i.fxprime.slice(), alpha: l }),
      !l)
    )
      Lc(o, i.fxprime, -1);
    else {
      pr(a, 1, n.fxprime, -1, i.fxprime);
      var h = un(i.fxprime, i.fxprime),
        f = Math.max(0, un(a, n.fxprime) / h);
      pr(o, f, o, -1, n.fxprime), (s = i), (i = n), (n = s);
    }
    if (Ic(i.fxprime) <= 1e-5) break;
  }
  return (
    t.history && t.history.push({ x: i.x.slice(), fx: i.fx, fxprime: i.fxprime.slice(), alpha: l }),
    i
  );
}
var k1 = 1e-10;
function Sf(e, r) {
  var t = OG(e),
    i = t.filter(function (F) {
      return LG(F, e);
    }),
    n = 0,
    a = 0,
    o,
    s = [];
  if (i.length > 1) {
    var l = O1(i);
    for (o = 0; o < i.length; ++o) {
      var u = i[o];
      u.angle = Math.atan2(u.x - l.x, u.y - l.y);
    }
    i.sort(function (F, E) {
      return E.angle - F.angle;
    });
    var c = i[i.length - 1];
    for (o = 0; o < i.length; ++o) {
      var h = i[o];
      a += (c.x + h.x) * (h.y - c.y);
      for (
        var f = { x: (h.x + c.x) / 2, y: (h.y + c.y) / 2 }, v = null, d = 0;
        d < h.parentIndex.length;
        ++d
      )
        if (c.parentIndex.indexOf(h.parentIndex[d]) > -1) {
          var p = e[h.parentIndex[d]],
            g = Math.atan2(h.x - p.x, h.y - p.y),
            y = Math.atan2(c.x - p.x, c.y - p.y),
            m = y - g;
          m < 0 && (m += 2 * Math.PI);
          var b = y - m / 2,
            w = Xe(f, { x: p.x + p.radius * Math.sin(b), y: p.y + p.radius * Math.cos(b) });
          w > p.radius * 2 && (w = p.radius * 2),
            (v === null || v.width > w) && (v = { circle: p, width: w, p1: h, p2: c });
        }
      v !== null && (s.push(v), (n += Oc(v.circle.radius, v.width)), (c = h));
    }
  } else {
    var S = e[0];
    for (o = 1; o < e.length; ++o) e[o].radius < S.radius && (S = e[o]);
    var C = !1;
    for (o = 0; o < e.length; ++o)
      if (Xe(e[o], S) > Math.abs(S.radius - e[o].radius)) {
        C = !0;
        break;
      }
    C
      ? (n = a = 0)
      : ((n = S.radius * S.radius * Math.PI),
        s.push({
          circle: S,
          p1: { x: S.x, y: S.y + S.radius },
          p2: { x: S.x - k1, y: S.y + S.radius },
          width: S.radius * 2,
        }));
  }
  return (
    (a /= 2),
    r &&
      ((r.area = n + a),
      (r.arcArea = n),
      (r.polygonArea = a),
      (r.arcs = s),
      (r.innerPoints = i),
      (r.intersectionPoints = t)),
    n + a
  );
}
function LG(e, r) {
  for (var t = 0; t < r.length; ++t) if (Xe(e, r[t]) > r[t].radius + k1) return !1;
  return !0;
}
function OG(e) {
  for (var r = [], t = 0; t < e.length; ++t)
    for (var i = t + 1; i < e.length; ++i)
      for (var n = L1(e[t], e[i]), a = 0; a < n.length; ++a) {
        var o = n[a];
        (o.parentIndex = [t, i]), r.push(o);
      }
  return r;
}
function Oc(e, r) {
  return e * e * Math.acos(1 - r / e) - (e - r) * Math.sqrt(r * (2 * e - r));
}
function Xe(e, r) {
  return Math.sqrt((e.x - r.x) * (e.x - r.x) + (e.y - r.y) * (e.y - r.y));
}
function I1(e, r, t) {
  if (t >= e + r) return 0;
  if (t <= Math.abs(e - r)) return Math.PI * Math.min(e, r) * Math.min(e, r);
  var i = e - (t * t - r * r + e * e) / (2 * t),
    n = r - (t * t - e * e + r * r) / (2 * t);
  return Oc(e, i) + Oc(r, n);
}
function L1(e, r) {
  var t = Xe(e, r),
    i = e.radius,
    n = r.radius;
  if (t >= i + n || t <= Math.abs(i - n)) return [];
  var a = (i * i - n * n + t * t) / (2 * t),
    o = Math.sqrt(i * i - a * a),
    s = e.x + (a * (r.x - e.x)) / t,
    l = e.y + (a * (r.y - e.y)) / t,
    u = -(r.y - e.y) * (o / t),
    c = -(r.x - e.x) * (o / t);
  return [
    { x: s + u, y: l - c },
    { x: s - u, y: l + c },
  ];
}
function O1(e) {
  for (var r = { x: 0, y: 0 }, t = 0; t < e.length; ++t) (r.x += e[t].x), (r.y += e[t].y);
  return (r.x /= e.length), (r.y /= e.length), r;
}
function Iu(e, r, t) {
  var i = r[0].radius - Xe(r[0], e),
    n,
    a;
  for (n = 1; n < r.length; ++n) (a = r[n].radius - Xe(r[n], e)), a <= i && (i = a);
  for (n = 0; n < t.length; ++n) (a = Xe(t[n], e) - t[n].radius), a <= i && (i = a);
  return i;
}
function P1(e, r) {
  var t = [],
    i;
  for (i = 0; i < e.length; ++i) {
    var n = e[i];
    t.push({ x: n.x, y: n.y }),
      t.push({ x: n.x + n.radius / 2, y: n.y }),
      t.push({ x: n.x - n.radius / 2, y: n.y }),
      t.push({ x: n.x, y: n.y + n.radius / 2 }),
      t.push({ x: n.x, y: n.y - n.radius / 2 });
  }
  var a = t[0],
    o = Iu(t[0], e, r);
  for (i = 1; i < t.length; ++i) {
    var s = Iu(t[i], e, r);
    s >= o && ((a = t[i]), (o = s));
  }
  var l = T1(
      function (f) {
        return -1 * Iu({ x: f[0], y: f[1] }, e, r);
      },
      [a.x, a.y],
      { maxIterations: 500, minErrorDelta: 1e-10 },
    ).x,
    u = { x: l[0], y: l[1] },
    c = !0;
  for (i = 0; i < e.length; ++i)
    if (Xe(u, e[i]) > e[i].radius) {
      c = !1;
      break;
    }
  for (i = 0; i < r.length; ++i)
    if (Xe(u, r[i]) < r[i].radius) {
      c = !1;
      break;
    }
  if (!c)
    if (e.length == 1) u = { x: e[0].x, y: e[0].y };
    else {
      var h = {};
      Sf(e, h),
        h.arcs.length === 0
          ? (u = { x: 0, y: -1e3, disjoint: !0 })
          : h.arcs.length == 1
          ? (u = { x: h.arcs[0].circle.x, y: h.arcs[0].circle.y })
          : r.length
          ? (u = P1(e, []))
          : (u = O1(
              h.arcs.map(function (f) {
                return f.p1;
              }),
            ));
    }
  return u;
}
function PG(e) {
  var r = {},
    t = [];
  for (var i in e) t.push(i), (r[i] = []);
  for (var n = 0; n < t.length; n++)
    for (var a = e[t[n]], o = n + 1; o < t.length; ++o) {
      var s = e[t[o]],
        l = Xe(a, s);
      l + s.radius <= a.radius + 1e-10
        ? r[t[o]].push(t[n])
        : l + a.radius <= s.radius + 1e-10 && r[t[n]].push(t[o]);
    }
  return r;
}
function DG(e, r) {
  for (var t = {}, i = PG(e), n = 0; n < r.length; ++n) {
    for (var a = r[n].sets, o = {}, s = {}, l = 0; l < a.length; ++l) {
      o[a[l]] = !0;
      for (var u = i[a[l]], c = 0; c < u.length; ++c) s[u[c]] = !0;
    }
    var h = [],
      f = [];
    for (var v in e) v in o ? h.push(e[v]) : v in s || f.push(e[v]);
    var d = P1(h, f);
    (t[a] = d),
      d.disjoint &&
        r[n].size > 0 &&
        console.log('WARNING: area ' + a + ' not represented on screen');
  }
  return t;
}
function BG(e, r, t) {
  var i = [],
    n = e - t,
    a = r;
  return (
    i.push('M', n, a),
    i.push('A', t, t, 0, 1, 0, n + 2 * t, a),
    i.push('A', t, t, 0, 1, 0, n, a),
    i.join(' ')
  );
}
function RG(e) {
  var r = {};
  Sf(e, r);
  var t = r.arcs;
  if (t.length === 0) return 'M 0 0';
  if (t.length == 1) {
    var i = t[0].circle;
    return BG(i.x, i.y, i.radius);
  } else {
    for (
      var n = [
          `
M`,
          t[0].p2.x,
          t[0].p2.y,
        ],
        a = 0;
      a < t.length;
      ++a
    ) {
      var o = t[a],
        s = o.circle.radius,
        l = o.width > s;
      n.push(
        `
A`,
        s,
        s,
        0,
        l ? 1 : 0,
        1,
        o.p1.x,
        o.p1.y,
      );
    }
    return n.join(' ');
  }
}
function $G(e, r) {
  (r = r || {}), (r.maxIterations = r.maxIterations || 500);
  var t = r.initialLayout || HG,
    i = r.lossFunction || Cf;
  e = NG(e);
  var n = t(e, r),
    a = [],
    o = [],
    s;
  for (s in n) n.hasOwnProperty(s) && (a.push(n[s].x), a.push(n[s].y), o.push(s));
  for (
    var l = T1(
        function (h) {
          for (var f = {}, v = 0; v < o.length; ++v) {
            var d = o[v];
            f[d] = { x: h[2 * v], y: h[2 * v + 1], radius: n[d].radius };
          }
          return i(f, e);
        },
        a,
        r,
      ),
      u = l.x,
      c = 0;
    c < o.length;
    ++c
  )
    (s = o[c]), (n[s].x = u[2 * c]), (n[s].y = u[2 * c + 1]);
  return n;
}
var D1 = 1e-10;
function Pc(e, r, t) {
  return Math.min(e, r) * Math.min(e, r) * Math.PI <= t + D1
    ? Math.abs(e - r)
    : TG(
        function (i) {
          return I1(e, r, i) - t;
        },
        0,
        e + r,
      );
}
function NG(e) {
  e = e.slice();
  var r = [],
    t = {},
    i,
    n,
    a,
    o;
  for (i = 0; i < e.length; ++i) {
    var s = e[i];
    s.sets.length == 1
      ? r.push(s.sets[0])
      : s.sets.length == 2 &&
        ((a = s.sets[0]), (o = s.sets[1]), (t[[a, o]] = !0), (t[[o, a]] = !0));
  }
  for (
    r.sort(function (l, u) {
      return l > u ? 1 : -1;
    }),
      i = 0;
    i < r.length;
    ++i
  )
    for (a = r[i], n = i + 1; n < r.length; ++n)
      (o = r[n]), [a, o] in t || e.push({ sets: [a, o], size: 0 });
  return e;
}
function zG(e, r, t) {
  var i = ng(r.length, r.length),
    n = ng(r.length, r.length);
  return (
    e
      .filter(function (a) {
        return a.sets.length == 2;
      })
      .map(function (a) {
        var o = t[a.sets[0]],
          s = t[a.sets[1]],
          l = Math.sqrt(r[o].size / Math.PI),
          u = Math.sqrt(r[s].size / Math.PI),
          c = Pc(l, u, a.size);
        i[o][s] = i[s][o] = c;
        var h = 0;
        a.size + 1e-10 >= Math.min(r[o].size, r[s].size) ? (h = 1) : a.size <= 1e-10 && (h = -1),
          (n[o][s] = n[s][o] = h);
      }),
    { distances: i, constraints: n }
  );
}
function GG(e, r, t, i) {
  var n = 0,
    a;
  for (a = 0; a < r.length; ++a) r[a] = 0;
  for (a = 0; a < t.length; ++a)
    for (var o = e[2 * a], s = e[2 * a + 1], l = a + 1; l < t.length; ++l) {
      var u = e[2 * l],
        c = e[2 * l + 1],
        h = t[a][l],
        f = i[a][l],
        v = (u - o) * (u - o) + (c - s) * (c - s),
        d = Math.sqrt(v),
        p = v - h * h;
      (f > 0 && d <= h) ||
        (f < 0 && d >= h) ||
        ((n += 2 * p * p),
        (r[2 * a] += 4 * p * (o - u)),
        (r[2 * a + 1] += 4 * p * (s - c)),
        (r[2 * l] += 4 * p * (u - o)),
        (r[2 * l + 1] += 4 * p * (c - s)));
    }
  return n;
}
function HG(e, r) {
  var t = YG(e, r),
    i = r.lossFunction || Cf;
  if (e.length >= 8) {
    var n = VG(e, r),
      a = i(n, e),
      o = i(t, e);
    a + 1e-8 < o && (t = n);
  }
  return t;
}
function VG(e, r) {
  r = r || {};
  var t = r.restarts || 10,
    i = [],
    n = {},
    a;
  for (a = 0; a < e.length; ++a) {
    var o = e[a];
    o.sets.length == 1 && ((n[o.sets[0]] = i.length), i.push(o));
  }
  var s = zG(e, i, n),
    l = s.distances,
    u = s.constraints,
    c = Ic(l.map(Ic)) / l.length;
  l = l.map(function (m) {
    return m.map(function (b) {
      return b / c;
    });
  });
  var h = function (m, b) {
      return GG(m, b, l, u);
    },
    f,
    v;
  for (a = 0; a < t; ++a) {
    var d = kc(l.length * 2).map(Math.random);
    (v = IG(h, d, r)), (!f || v.fx < f.fx) && (f = v);
  }
  var p = f.x,
    g = {};
  for (a = 0; a < i.length; ++a) {
    var y = i[a];
    g[y.sets[0]] = { x: p[2 * a] * c, y: p[2 * a + 1] * c, radius: Math.sqrt(y.size / Math.PI) };
  }
  if (r.history) for (a = 0; a < r.history.length; ++a) Lc(r.history[a].x, c);
  return g;
}
function YG(e, r) {
  for (
    var t = r && r.lossFunction ? r.lossFunction : Cf, i = {}, n = {}, a, o = 0;
    o < e.length;
    ++o
  ) {
    var s = e[o];
    s.sets.length == 1 &&
      ((a = s.sets[0]),
      (i[a] = {
        x: 1e10,
        y: 1e10,
        rowid: Object.keys(i).length,
        size: s.size,
        radius: Math.sqrt(s.size / Math.PI),
      }),
      (n[a] = []));
  }
  e = e.filter(function (D) {
    return D.sets.length == 2;
  });
  for (var o = 0; o < e.length; ++o) {
    var l = e[o],
      u = l.hasOwnProperty('weight') ? l.weight : 1,
      c = l.sets[0],
      h = l.sets[1];
    l.size + D1 >= Math.min(i[c].size, i[h].size) && (u = 0),
      n[c].push({ set: h, size: l.size, weight: u }),
      n[h].push({ set: c, size: l.size, weight: u });
  }
  var f = [];
  for (a in n)
    if (n.hasOwnProperty(a)) {
      for (var v = 0, o = 0; o < n[a].length; ++o) v += n[a][o].size * n[a][o].weight;
      f.push({ set: a, size: v });
    }
  function d(D, N) {
    return N.size - D.size;
  }
  f.sort(d);
  var p = {};
  function g(D) {
    return D.set in p;
  }
  function y(D, N) {
    (i[N].x = D.x), (i[N].y = D.y), (p[N] = !0);
  }
  y({ x: 0, y: 0 }, f[0].set);
  for (var o = 1; o < f.length; ++o) {
    var m = f[o].set,
      b = n[m].filter(g);
    if (((a = i[m]), b.sort(d), b.length === 0))
      throw 'ERROR: missing pairwise overlap information';
    for (var w = [], S = 0; S < b.length; ++S) {
      var C = i[b[S].set],
        F = Pc(a.radius, C.radius, b[S].size);
      w.push({ x: C.x + F, y: C.y }),
        w.push({ x: C.x - F, y: C.y }),
        w.push({ y: C.y + F, x: C.x }),
        w.push({ y: C.y - F, x: C.x });
      for (var E = S + 1; E < b.length; ++E)
        for (
          var k = i[b[E].set],
            T = Pc(a.radius, k.radius, b[E].size),
            O = L1({ x: C.x, y: C.y, radius: F }, { x: k.x, y: k.y, radius: T }),
            P = 0;
          P < O.length;
          ++P
        )
          w.push(O[P]);
    }
    for (var z = 1e50, W = w[0], S = 0; S < w.length; ++S) {
      (i[m].x = w[S].x), (i[m].y = w[S].y);
      var j = t(i, e);
      j < z && ((z = j), (W = w[S]));
    }
    y(W, m);
  }
  return i;
}
function Cf(e, r) {
  var t = 0;
  function i(c) {
    return c.map(function (h) {
      return e[h];
    });
  }
  for (var n = 0; n < r.length; ++n) {
    var a = r[n],
      o = void 0;
    if (a.sets.length != 1) {
      if (a.sets.length == 2) {
        var s = e[a.sets[0]],
          l = e[a.sets[1]];
        o = I1(s.radius, l.radius, Xe(s, l));
      } else o = Sf(i(a.sets));
      var u = a.hasOwnProperty('weight') ? a.weight : 1;
      t += u * (o - a.size) * (o - a.size);
    }
  }
  return t;
}
function WG(e) {
  var r = function (t) {
    var i = Math.max.apply(
        null,
        e.map(function (a) {
          return a[t] + a.radius;
        }),
      ),
      n = Math.min.apply(
        null,
        e.map(function (a) {
          return a[t] - a.radius;
        }),
      );
    return { max: i, min: n };
  };
  return { xRange: r('x'), yRange: r('y') };
}
function XG(e, r, t, i) {
  var n = [],
    a = [];
  for (var o in e) e.hasOwnProperty(o) && (a.push(o), n.push(e[o]));
  (r -= 2 * i), (t -= 2 * i);
  var s = WG(n),
    l = s.xRange,
    u = s.yRange;
  if (l.max == l.min || u.max == u.min)
    return console.log('not scaling solution: zero size detected'), e;
  for (
    var c = r / (l.max - l.min),
      h = t / (u.max - u.min),
      f = Math.min(h, c),
      v = (r - (l.max - l.min) * f) / 2,
      d = (t - (u.max - u.min) * f) / 2,
      p = {},
      g = 0;
    g < n.length;
    ++g
  ) {
    var y = n[g];
    p[a[g]] = { radius: f * y.radius, x: i + v + (y.x - l.min) * f, y: i + d + (y.y - u.min) * f };
  }
  return p;
}
var _G = kn(
  function (e, r, t, i) {
    var n = new Map(),
      a = e.length;
    return (
      r.forEach(function (o, s) {
        if (o[i].length === 1) n.set(o[Sr], e[(s + a) % a]);
        else {
          var l = o[i].map(function (u) {
            return n.get(u);
          });
          n.set(
            o[Sr],
            l.slice(1).reduce(function (u, c) {
              return EG(u, c, t);
            }, l[0]),
          );
        }
      }),
      n
    );
  },
  function () {
    for (var e = [], r = 0; r < arguments.length; r++) e[r] = arguments[r];
    return JSON.stringify(e);
  },
);
function jG(e, r, t, i) {
  i === void 0 && (i = 0);
  var n = e.data,
    a = e.setsField,
    o = e.sizeField;
  if (n.length === 0) return Fr(Ue.WARN, !1, 'warn: %s', ''), [];
  var s = n.map(function (h) {
    var f;
    return x(x({}, h), ((f = { sets: h[a] || [], size: h[o] }), (f[Tc] = ''), (f[Sr] = ''), f));
  });
  s.sort(function (h, f) {
    return h.sets.length - f.sets.length;
  });
  var l = $G(s),
    u = XG(l, r, t, i),
    c = DG(u, s);
  return (
    s.forEach(function (h) {
      var f = h.sets,
        v = f.join(',');
      h[Sr] = v;
      var d = f.map(function (y) {
          return u[y];
        }),
        p = RG(d);
      /[zZ]$/.test(p) || (p += ' Z'), (h[Tc] = p);
      var g = c[v] || { x: 0, y: 0 };
      xt(h, g);
    }),
    s
  );
}
function UG(e, r) {
  for (var t = 0; t < r.length; t++) if (!e.includes(r[t])) return !1;
  return !0;
}
var qG = 40;
function B1(e, r, t) {
  var i = e.chart,
    n = e.options,
    a = n.blendMode,
    o = n.setsField,
    s = i.getTheme(),
    l = s.colors10,
    u = s.colors20,
    c = t;
  $(c) ||
    (c =
      r.filter(function (f) {
        return f[o].length === 1;
      }).length <= 10
        ? l
        : u);
  var h = _G(c, r, a, o);
  return function (f) {
    return h.get(f) || c[0];
  };
}
function ZG(e, r) {
  var t = e.options,
    i = t.color;
  if (typeof i != 'function') {
    var n = typeof i == 'string' ? [i] : i,
      a = B1(e, r, n);
    return function (o) {
      return a(o[Sr]);
    };
  }
  return i;
}
function KG(e) {
  var r = e.chart,
    t = e.options,
    i = t.legend,
    n = t.appendPadding,
    a = t.padding,
    o = Qr(n);
  return i !== !1 && (o = Sl(n, M(i, 'position'), qG)), (r.appendPadding = Jh([o, a])), e;
}
function QG(e) {
  var r = e.options,
    t = r.data;
  t || (Fr(Ue.WARN, !1, 'warn: %s', ''), (t = []));
  var i = t
      .filter(function (a) {
        return a.sets.length === 1;
      })
      .map(function (a) {
        return a.sets[0];
      }),
    n = t.filter(function (a) {
      var o = a.sets;
      return UG(i, o);
    });
  return (
    Bt(n, t) || Fr(Ue.WARN, !1, 'warn: %s', ', '),
    _({}, e, { options: { data: n } })
  );
}
function JG(e) {
  var r = e.chart,
    t = e.options,
    i = t.pointStyle,
    n = t.setsField,
    a = t.sizeField,
    o = Qr(r.appendPadding),
    s = o[0],
    l = o[1],
    u = o[2],
    c = o[3],
    h = { offsetX: c, offsetY: s },
    f = r.viewBBox,
    v = f.width,
    d = f.height,
    p = jG(t, Math.max(v - (l + c), 0), Math.max(d - (s + u), 0), 0);
  r.data(p);
  var g = af(
      B({}, e, {
        options: {
          xField: 'x',
          yField: 'y',
          sizeField: a,
          seriesField: Sr,
          rawFields: [n, a],
          schema: { shape: 'venn', style: i },
        },
      }),
    ).ext,
    y = g.geometry;
  y.customInfo(h);
  var m = ZG(e, p);
  return (
    typeof m == 'function' &&
      y.color(Sr, function (b) {
        var w = p.find(function (C) {
            return C[Sr] === b;
          }),
          S = B1(e, p)(b);
        return m(w, S);
      }),
    e
  );
}
function t3(e) {
  var r = e.chart,
    t = e.options,
    i = t.label,
    n = Qr(r.appendPadding),
    a = n[0],
    o = n[3],
    s = { offsetX: o, offsetY: a },
    l = ee(r, 'schema');
  if (!i) l.label(!1);
  else {
    var u = i.callback,
      c = mt(i, ['callback']);
    l.label({
      fields: ['id'],
      callback: u,
      cfg: _({}, _t(c), { type: 'venn', customLabelInfo: s }),
    });
  }
  return e;
}
function e3(e) {
  var r = e.chart,
    t = e.options,
    i = t.legend,
    n = t.sizeField;
  return r.legend(Sr, i), r.legend(n, !1), e;
}
function r3(e) {
  var r = e.chart;
  return r.axis(!1), e;
}
function i3(e) {
  var r = e.options,
    t = e.chart,
    i = r.interactions;
  if (i) {
    var n = { 'legend-active': 'venn-legend-active', 'legend-highlight': 'venn-legend-highlight' };
    It(
      B({}, e, {
        options: {
          interactions: i.map(function (a) {
            return x(x({}, a), { type: n[a.type] || a.type });
          }),
        },
      }),
    );
  }
  return t.removeInteraction('legend-active'), t.removeInteraction('legend-highlight'), e;
}
function n3(e) {
  return rt(KG, ht, QG, JG, t3, Rt({}), e3, r3, Yt, i3, wt)(e);
}
(function (e) {
  I(r, e);
  function r() {
    var t = (e !== null && e.apply(this, arguments)) || this;
    return (t.type = 'venn'), t;
  }
  return (
    (r.getDefaultOptions = function () {
      return dG;
    }),
    (r.prototype.getDefaultOptions = function () {
      return r.getDefaultOptions();
    }),
    (r.prototype.getSchemaAdaptor = function () {
      return n3;
    }),
    (r.prototype.triggerResize = function () {
      this.chart.destroyed ||
        (this.chart.forceFit(), this.chart.clear(), this.execAdaptor(), this.chart.render(!0));
    }),
    r
  );
})(at);
var Be = 'x',
  wi = 'violinY',
  a3 = 'violinSize',
  R1 = 'minMax',
  $1 = 'quantile',
  N1 = 'median',
  Af = 'violin_view',
  o3 = 'min_max_view',
  s3 = 'quantile_view',
  l3 = 'median_view',
  u3 = B({}, at.getDefaultOptions(), {
    syncViewPadding: !0,
    kde: { type: 'triangular', sampleSize: 32, width: 3 },
    violinStyle: { lineWidth: 1, fillOpacity: 0.3, strokeOpacity: 0.75 },
    xAxis: { grid: { line: null }, tickLine: { alignTick: !1 } },
    yAxis: { grid: { line: { style: { lineWidth: 0.5, lineDash: [4, 4] } } } },
    legend: { position: 'top-left' },
    tooltip: { showMarkers: !1 },
  }),
  Dc = {},
  c3 = {
    get exports() {
      return Dc;
    },
    set exports(e) {
      Dc = e;
    },
  },
  Bc = {},
  h3 = {
    get exports() {
      return Bc;
    },
    set exports(e) {
      Bc = e;
    },
  };
(function (e) {
  var r = e.exports;
  (e.exports.isNumber = function (t) {
    return typeof t == 'number';
  }),
    (e.exports.findMin = function (t) {
      if (t.length === 0) return 1 / 0;
      for (var i = t[0], n = 1; n < t.length; n++) i = Math.min(i, t[n]);
      return i;
    }),
    (e.exports.findMax = function (t) {
      if (t.length === 0) return -1 / 0;
      for (var i = t[0], n = 1; n < t.length; n++) i = Math.max(i, t[n]);
      return i;
    }),
    (e.exports.findMinMulti = function (t) {
      for (var i = r.findMin(t[0]), n = 1; n < t.length; n++) i = Math.min(i, r.findMin(t[n]));
      return i;
    }),
    (e.exports.findMaxMulti = function (t) {
      for (var i = r.findMax(t[0]), n = 1; n < t.length; n++) i = Math.max(i, r.findMax(t[n]));
      return i;
    }),
    (e.exports.inside = function (t, i, n) {
      return t <= n && n <= i;
    });
})(h3);
(function (e) {
  var r = 50,
    t = 2,
    i = Math.log(2),
    n = e.exports,
    a = Bc;
  function o(l) {
    return 1 - Math.abs(l);
  }
  (e.exports.getUnifiedMinMax = function (l, u) {
    return n.getUnifiedMinMaxMulti([l], u);
  }),
    (e.exports.getUnifiedMinMaxMulti = function (l, u) {
      u = u || {};
      var c = !1,
        h = !1,
        f = a.isNumber(u.width) ? u.width : t,
        v = a.isNumber(u.size) ? u.size : r,
        d = a.isNumber(u.min) ? u.min : ((c = !0), a.findMinMulti(l)),
        p = a.isNumber(u.max) ? u.max : ((h = !0), a.findMaxMulti(l)),
        g = p - d,
        y = g / (v - 1);
      return c && (d = d - 2 * f * y), h && (p = p + 2 * f * y), { min: d, max: p };
    }),
    (e.exports.create = function (l, u) {
      if (((u = u || {}), !l || l.length === 0)) return [];
      var c = a.isNumber(u.size) ? u.size : r,
        h = a.isNumber(u.width) ? u.width : t,
        f = n.getUnifiedMinMax(l, { size: c, width: h, min: u.min, max: u.max }),
        v = f.min,
        d = f.max,
        p = d - v,
        g = p / (c - 1);
      if (p === 0) return [{ x: v, y: 1 }];
      for (var y = [], m = 0; m < c; m++) y.push({ x: v + m * g, y: 0 });
      var b = function (O) {
          return Math.floor((O - v) / g);
        },
        w = s(o, h),
        S = w[h],
        C = w[h - 1] - w[h - 2],
        F = 0;
      l.forEach(function (O) {
        var P = b(O);
        if (!(P + h < 0 || P - h >= y.length)) {
          var z = Math.max(P - h, 0),
            W = P,
            j = Math.min(P + h, y.length - 1),
            D = z - (P - h),
            N = P + h - j,
            V = w[-h - 1 + D] || 0,
            H = w[-h - 1 + N] || 0,
            G = S / (S - V - H);
          D > 0 && (F += G * (D - 1) * C);
          var X = Math.max(0, P - h + 1);
          a.inside(0, y.length - 1, X) && (y[X].y += G * 1 * C),
            a.inside(0, y.length - 1, W + 1) && (y[W + 1].y -= G * 2 * C),
            a.inside(0, y.length - 1, j + 1) && (y[j + 1].y += G * 1 * C);
        }
      });
      var E = F,
        k = 0,
        T = 0;
      return (
        y.forEach(function (O) {
          (k += O.y), (E += k), (O.y = E), (T += E);
        }),
        T > 0 &&
          y.forEach(function (O) {
            O.y /= T;
          }),
        y
      );
    });
  function s(l, u) {
    for (var c = {}, h = 0, f = -u; f <= u; f++) (h += l(f / u)), (c[f] = h);
    return c;
  }
  (e.exports.getExpectedValueFromPdf = function (l) {
    if (!(!l || l.length === 0)) {
      var u = 0;
      return (
        l.forEach(function (c) {
          u += c.x * c.y;
        }),
        u
      );
    }
  }),
    (e.exports.getXWithLeftTailArea = function (l, u) {
      if (!(!l || l.length === 0)) {
        for (var c = 0, h = 0, f = 0; f < l.length && ((h = f), (c += l[f].y), !(c >= u)); f++);
        return l[h].x;
      }
    }),
    (e.exports.getPerplexity = function (l) {
      if (!(!l || l.length === 0)) {
        var u = 0;
        return (
          l.forEach(function (c) {
            var h = Math.log(c.y);
            isFinite(h) && (u += c.y * h);
          }),
          (u = -u / i),
          Math.pow(2, u)
        );
      }
    });
})(c3);
const f3 = Dc;
function ag(e, r) {
  var t = e.length * r;
  if (e.length === 0) throw new Error('quantile requires at least one data point.');
  if (r < 0 || r > 1) throw new Error('quantiles must be between 0 and 1');
  return r === 1
    ? e[e.length - 1]
    : r === 0
    ? e[0]
    : t % 1 !== 0
    ? e[Math.ceil(t) - 1]
    : e.length % 2 === 0
    ? (e[t - 1] + e[t]) / 2
    : e[t];
}
function Zn(e, r, t) {
  var i = e[r];
  (e[r] = e[t]), (e[t] = i);
}
function rs(e, r, t, i) {
  for (t = t || 0, i = i || e.length - 1; i > t; ) {
    if (i - t > 600) {
      var n = i - t + 1,
        a = r - t + 1,
        o = Math.log(n),
        s = 0.5 * Math.exp((2 * o) / 3),
        l = 0.5 * Math.sqrt((o * s * (n - s)) / n);
      a - n / 2 < 0 && (l *= -1);
      var u = Math.max(t, Math.floor(r - (a * s) / n + l)),
        c = Math.min(i, Math.floor(r + ((n - a) * s) / n + l));
      rs(e, r, u, c);
    }
    var h = e[r],
      f = t,
      v = i;
    for (Zn(e, t, r), e[i] > h && Zn(e, t, i); f < v; ) {
      for (Zn(e, f, v), f++, v--; e[f] < h; ) f++;
      for (; e[v] > h; ) v--;
    }
    e[t] === h ? Zn(e, t, v) : (v++, Zn(e, v, i)), v <= r && (t = v + 1), r <= v && (i = v - 1);
  }
}
function Kn(e, r) {
  var t = e.slice();
  if (Array.isArray(r)) {
    v3(t, r);
    for (var i = [], n = 0; n < r.length; n++) i[n] = ag(t, r[n]);
    return i;
  } else {
    var a = G1(t.length, r);
    return z1(t, a, 0, t.length - 1), ag(t, r);
  }
}
function z1(e, r, t, i) {
  r % 1 === 0 ? rs(e, r, t, i) : ((r = Math.floor(r)), rs(e, r, t, i), rs(e, r + 1, r + 1, i));
}
function v3(e, r) {
  for (var t = [0], i = 0; i < r.length; i++) t.push(G1(e.length, r[i]));
  t.push(e.length - 1), t.sort(d3);
  for (var n = [0, t.length - 1]; n.length; ) {
    var a = Math.ceil(n.pop()),
      o = Math.floor(n.pop());
    if (!(a - o <= 1)) {
      var s = Math.floor((o + a) / 2);
      z1(e, t[s], Math.floor(t[o]), Math.ceil(t[a])), n.push(o, s, s, a);
    }
  }
}
function d3(e, r) {
  return e - r;
}
function G1(e, r) {
  var t = e * r;
  return r === 1 ? e - 1 : r === 0 ? 0 : t % 1 !== 0 ? Math.ceil(t) - 1 : e % 2 === 0 ? t - 0.5 : t;
}
var og = function (e) {
    return {
      low: ae(e),
      high: te(e),
      q1: Kn(e, 0.25),
      q3: Kn(e, 0.75),
      median: Kn(e, [0.5]),
      minMax: [ae(e), te(e)],
      quantile: [Kn(e, 0.25), Kn(e, 0.75)],
    };
  },
  sg = function (e, r) {
    var t = f3.create(e, r);
    return {
      violinSize: t.map(function (i) {
        return i.y;
      }),
      violinY: t.map(function (i) {
        return i.x;
      }),
    };
  },
  H1 = function (e) {
    var r = e.xField,
      t = e.yField,
      i = e.seriesField,
      n = e.data,
      a = e.kde,
      o = { min: a.min, max: a.max, size: a.sampleSize, width: a.width };
    if (!i) {
      var s = Fe(n, r);
      return Object.keys(s).map(function (c) {
        var h = s[c],
          f = h.map(function (v) {
            return v[t];
          });
        return x(x({ x: c }, sg(f, o)), og(f));
      });
    }
    var l = [],
      u = Fe(n, i);
    return (
      Object.keys(u).forEach(function (c) {
        var h = Fe(u[c], r);
        return Object.keys(h).forEach(function (f) {
          var v,
            d = h[f],
            p = d.map(function (g) {
              return g[t];
            });
          l.push(x(x(((v = { x: f }), (v[i] = c), v), sg(p, o)), og(p)));
        });
      }),
      l
    );
  },
  is = ['low', 'high', 'q1', 'q3', 'median'],
  ns = [{ type: 'dodge', marginRatio: 1 / 32 }];
function p3(e) {
  var r = e.chart,
    t = e.options;
  return r.data(H1(t)), e;
}
function g3(e) {
  var r = e.chart,
    t = e.options,
    i = t.seriesField,
    n = t.color,
    a = t.shape,
    o = a === void 0 ? 'violin' : a,
    s = t.violinStyle,
    l = t.tooltip,
    u = t.state,
    c = r.createView({ id: Af });
  return (
    UP({
      chart: c,
      options: {
        xField: Be,
        yField: wi,
        seriesField: i || Be,
        sizeField: a3,
        tooltip: x({ fields: is }, l),
        violin: { style: s, color: n, shape: o },
        state: u,
      },
    }),
    c.geometries[0].adjust(ns),
    e
  );
}
function y3(e) {
  var r = e.chart,
    t = e.options,
    i = t.seriesField,
    n = t.color,
    a = t.tooltip,
    o = t.box;
  if (o === !1) return e;
  var s = r.createView({ id: o3 });
  re({
    chart: s,
    options: {
      xField: Be,
      yField: R1,
      seriesField: i || Be,
      tooltip: x({ fields: is }, a),
      state: typeof o == 'object' ? o.state : {},
      interval: { color: n, size: 1, style: { lineWidth: 0 } },
    },
  }),
    s.geometries[0].adjust(ns);
  var l = r.createView({ id: s3 });
  re({
    chart: l,
    options: {
      xField: Be,
      yField: $1,
      seriesField: i || Be,
      tooltip: x({ fields: is }, a),
      state: typeof o == 'object' ? o.state : {},
      interval: { color: n, size: 8, style: { fillOpacity: 1 } },
    },
  }),
    l.geometries[0].adjust(ns);
  var u = r.createView({ id: l3 });
  return (
    Le({
      chart: u,
      options: {
        xField: Be,
        yField: N1,
        seriesField: i || Be,
        tooltip: x({ fields: is }, a),
        state: typeof o == 'object' ? o.state : {},
        point: { color: n, size: 1, style: { fill: 'white', lineWidth: 0 } },
      },
    }),
    u.geometries[0].adjust(ns),
    l.axis(!1),
    s.axis(!1),
    u.axis(!1),
    u.legend(!1),
    s.legend(!1),
    l.legend(!1),
    e
  );
}
function m3(e) {
  var r,
    t = e.chart,
    i = e.options,
    n = i.meta,
    a = i.xAxis,
    o = i.yAxis,
    s = {},
    l = B(
      s,
      n,
      ((r = {}),
      (r[Be] = x(x({ sync: !0 }, gt(a, me)), { type: 'cat' })),
      (r[wi] = x({ sync: !0 }, gt(o, me))),
      (r[R1] = x({ sync: wi }, gt(o, me))),
      (r[$1] = x({ sync: wi }, gt(o, me))),
      (r[N1] = x({ sync: wi }, gt(o, me))),
      r),
    );
  return t.scale(l), e;
}
function x3(e) {
  var r = e.chart,
    t = e.options,
    i = t.xAxis,
    n = t.yAxis,
    a = lt(r, Af);
  return (
    i === !1 ? a.axis(Be, !1) : a.axis(Be, i),
    n === !1 ? a.axis(wi, !1) : a.axis(wi, n),
    r.axis(!1),
    e
  );
}
function w3(e) {
  var r = e.chart,
    t = e.options,
    i = t.legend,
    n = t.seriesField,
    a = t.shape;
  if (i === !1) r.legend(!1);
  else {
    var o = n || Be,
      s = Ws(i, ['selected']);
    (!a || !a.startsWith('hollow')) &&
      (M(s, ['marker', 'style', 'lineWidth']) || Gt(s, ['marker', 'style', 'lineWidth'], 0)),
      r.legend(o, s),
      M(i, 'selected') &&
        A(r.views, function (l) {
          return l.legend(o, i);
        });
  }
  return e;
}
function b3(e) {
  var r = e.chart,
    t = lt(r, Af);
  return Ot()(x(x({}, e), { chart: t })), e;
}
function S3(e) {
  var r = e.chart,
    t = e.options,
    i = t.animation;
  return (
    A(r.views, function (n) {
      ro(n, i);
    }),
    e
  );
}
function C3(e) {
  return rt(ht, p3, g3, y3, m3, Yt, x3, w3, It, b3, S3)(e);
}
(function (e) {
  I(r, e);
  function r() {
    var t = (e !== null && e.apply(this, arguments)) || this;
    return (t.type = 'violin'), t;
  }
  return (
    (r.getDefaultOptions = function () {
      return u3;
    }),
    (r.prototype.changeData = function (t) {
      this.updateOption({ data: t }), this.chart.changeData(H1(this.options));
    }),
    (r.prototype.getDefaultOptions = function () {
      return r.getDefaultOptions();
    }),
    (r.prototype.getSchemaAdaptor = function () {
      return C3;
    }),
    r
  );
})(at);
var Re = '$$yField$$',
  Nl = '$$diffField$$',
  Mf = '$$absoluteField$$',
  Rc = '$$isTotal$$',
  A3 = {
    label: {},
    leaderLine: { style: { lineWidth: 1, stroke: '#8c8c8c', lineDash: [4, 2] } },
    total: { style: { fill: 'rgba(0, 0, 0, 0.25)' } },
    interactions: [{ type: 'element-active' }],
    risingFill: '#f4664a',
    fallingFill: '#30bf78',
    waterfallStyle: { fill: 'rgba(0, 0, 0, 0.25)' },
    yAxis: { grid: { line: { style: { lineDash: [4, 2] } } } },
  };
function M3(e) {
  for (var r = [], t = 0; t < e.length; t++) {
    var i = e[t];
    if (i) {
      var n = t === 0 ? 'M' : 'L';
      r.push([n, i.x, i.y]);
    }
  }
  var a = e[0];
  return r.push(['L', a.x, a.y]), r.push(['z']), r;
}
function F3(e) {
  return B({}, e.defaultStyle, e.style, { fill: e.color });
}
dt('interval', 'waterfall', {
  draw: function (e, r) {
    var t = e.customInfo,
      i = e.points,
      n = e.nextPoints,
      a = r.addGroup(),
      o = this.parsePath(M3(i)),
      s = F3(e);
    a.addShape('path', { attrs: x(x({}, s), { path: o }) });
    var l = M(t, 'leaderLine');
    if (l && n) {
      var u = [
        ['M', i[2].x, i[2].y],
        ['L', n[0].x, n[0].y],
      ];
      i[2].y === n[1].y && (u[1] = ['L', n[1].x, n[1].y]),
        (u = this.parsePath(u)),
        a.addShape('path', { attrs: x({ path: u }, l.style || {}) });
    }
    return a;
  },
});
function E3(e, r, t, i, n) {
  var a,
    o = [];
  if (
    (oe(
      e,
      function (l, u) {
        var c;
        Fr(Ue.WARN, it(u[t]), u[t] + ' is not a valid number');
        var h = pi(u[t]) ? null : u[t];
        return o.push(x(x({}, u), ((c = {}), (c[i] = [l, l + h]), c))), l + h;
      },
      0,
    ),
    o.length && n)
  ) {
    var s = M(o, [[e.length - 1], i, [1]]);
    o.push(((a = {}), (a[r] = n.label), (a[t] = s), (a[i] = [0, s]), a));
  }
  return o;
}
function V1(e, r, t, i) {
  var n = E3(e, r, t, Re, i);
  return n.map(function (a, o) {
    var s;
    return yt(a)
      ? x(
          x({}, a),
          ((s = {}),
          (s[Mf] = a[Re][1]),
          (s[Nl] = a[Re][1] - a[Re][0]),
          (s[Rc] = o === e.length),
          s),
        )
      : a;
  });
}
function T3(e) {
  var r = e.options,
    t = r.locale,
    i = r.total,
    n = Ml(t).get(['waterfall', 'total']);
  return i && typeof i.label != 'string' && n && (e.options.total.label = n), e;
}
function k3(e) {
  var r = e.chart,
    t = e.options,
    i = t.data,
    n = t.xField,
    a = t.yField,
    o = t.total,
    s = t.leaderLine,
    l = t.columnWidthRatio,
    u = t.waterfallStyle,
    c = t.risingFill,
    h = t.fallingFill,
    f = t.color;
  r.data(V1(i, n, a, o));
  var v =
      f ||
      function (y) {
        return M(y, [Rc]) ? M(o, ['style', 'fill'], '') : M(y, [Re, 1]) - M(y, [Re, 0]) > 0 ? c : h;
      },
    d = B({}, e, {
      options: {
        xField: n,
        yField: Re,
        seriesField: n,
        rawFields: [a, Nl, Rc, Re],
        widthRatio: l,
        interval: { style: u, shape: 'waterfall', color: v },
      },
    }),
    p = re(d).ext,
    g = p.geometry;
  return g.customInfo({ leaderLine: s }), e;
}
function I3(e) {
  var r,
    t,
    i = e.options,
    n = i.xAxis,
    a = i.yAxis,
    o = i.xField,
    s = i.yField,
    l = i.meta,
    u = B({}, { alias: s }, M(l, s));
  return rt(
    Rt(
      ((r = {}), (r[o] = n), (r[s] = a), (r[Re] = a), r),
      B({}, l, ((t = {}), (t[Re] = u), (t[Nl] = u), (t[Mf] = u), t)),
    ),
  )(e);
}
function L3(e) {
  var r = e.chart,
    t = e.options,
    i = t.xAxis,
    n = t.yAxis,
    a = t.xField,
    o = t.yField;
  return (
    i === !1 ? r.axis(a, !1) : r.axis(a, i),
    n === !1 ? (r.axis(o, !1), r.axis(Re, !1)) : (r.axis(o, n), r.axis(Re, n)),
    e
  );
}
function O3(e) {
  var r = e.chart,
    t = e.options,
    i = t.legend,
    n = t.total,
    a = t.risingFill,
    o = t.fallingFill,
    s = t.locale,
    l = Ml(s);
  if (i === !1) r.legend(!1);
  else {
    var u = [
      {
        name: l.get(['general', 'increase']),
        value: 'increase',
        marker: { symbol: 'square', style: { r: 5, fill: a } },
      },
      {
        name: l.get(['general', 'decrease']),
        value: 'decrease',
        marker: { symbol: 'square', style: { r: 5, fill: o } },
      },
    ];
    n &&
      u.push({
        name: n.label || '',
        value: 'total',
        marker: { symbol: 'square', style: B({}, { r: 5 }, M(n, 'style')) },
      }),
      r.legend(B({}, { custom: !0, position: 'top', items: u }, i)),
      r.removeInteraction('legend-filter');
  }
  return e;
}
function P3(e) {
  var r = e.chart,
    t = e.options,
    i = t.label,
    n = t.labelMode,
    a = t.xField,
    o = ee(r, 'interval');
  if (!i) o.label(!1);
  else {
    var s = i.callback,
      l = mt(i, ['callback']);
    o.label({ fields: n === 'absolute' ? [Mf, a] : [Nl, a], callback: s, cfg: _t(l) });
  }
  return e;
}
function D3(e) {
  var r = e.chart,
    t = e.options,
    i = t.tooltip,
    n = t.xField,
    a = t.yField;
  if (i !== !1) {
    r.tooltip(x({ showCrosshairs: !1, showMarkers: !1, shared: !0, fields: [a] }, i));
    var o = r.geometries[0];
    i != null && i.formatter ? o.tooltip(n + '*' + a, i.formatter) : o.tooltip(a);
  } else r.tooltip(!1);
  return e;
}
function B3(e) {
  return rt(T3, ht, k3, I3, L3, O3, D3, P3, oi, It, wt, Ot())(e);
}
(function (e) {
  I(r, e);
  function r() {
    var t = (e !== null && e.apply(this, arguments)) || this;
    return (t.type = 'waterfall'), t;
  }
  return (
    (r.getDefaultOptions = function () {
      return A3;
    }),
    (r.prototype.changeData = function (t) {
      var i = this.options,
        n = i.xField,
        a = i.yField,
        o = i.total;
      this.updateOption({ data: t }), this.chart.changeData(V1(t, n, a, o));
    }),
    (r.prototype.getSchemaAdaptor = function () {
      return B3;
    }),
    (r.prototype.getDefaultOptions = function () {
      return r.getDefaultOptions();
    }),
    r
  );
})(at);
var Ff = 'color',
  R3 = B({}, at.getDefaultOptions(), {
    timeInterval: 2e3,
    legend: !1,
    tooltip: {
      showTitle: !1,
      showMarkers: !1,
      showCrosshairs: !1,
      fields: ['text', 'value', Ff],
      formatter: function (e) {
        return { name: e.text, value: e.value };
      },
    },
    wordStyle: {
      fontFamily: 'Verdana',
      fontWeight: 'normal',
      padding: 1,
      fontSize: [12, 60],
      rotation: [0, 90],
      rotationSteps: 2,
      rotateRatio: 0.5,
    },
  }),
  $3 = {
    font: function () {
      return 'serif';
    },
    padding: 1,
    size: [500, 500],
    spiral: 'archimedean',
    timeInterval: 3e3,
  };
function N3(e, r) {
  return (r = xt({}, $3, r)), z3(e, r);
}
function z3(e, r) {
  var t = Q3();
  [
    'font',
    'fontSize',
    'fontWeight',
    'padding',
    'rotate',
    'size',
    'spiral',
    'timeInterval',
    'random',
  ].forEach(function (l) {
    R(r[l]) || t[l](r[l]);
  }),
    t.words(e),
    r.imageMask && t.createMask(r.imageMask);
  var i = t.start(),
    n = i._tags;
  n.forEach(function (l) {
    (l.x += r.size[0] / 2), (l.y += r.size[1] / 2);
  });
  var a = r.size,
    o = a[0],
    s = a[1];
  return (
    n.push({ text: '', value: 0, x: 0, y: 0, opacity: 0 }),
    n.push({ text: '', value: 0, x: o, y: s, opacity: 0 }),
    n
  );
}
var Lu = Math.PI / 180,
  oa = (1 << 11) >> 5,
  as = 1 << 11;
function G3(e) {
  return e.text;
}
function H3() {
  return 'serif';
}
function lg() {
  return 'normal';
}
function V3(e) {
  return e.value;
}
function Y3() {
  return ~~(Math.random() * 2) * 90;
}
function W3() {
  return 1;
}
function X3(e, r, t, i) {
  if (!r.sprite) {
    var n = e.context,
      a = e.ratio;
    n.clearRect(0, 0, (oa << 5) / a, as / a);
    var o = 0,
      s = 0,
      l = 0,
      u = t.length;
    for (--i; ++i < u; ) {
      (r = t[i]),
        n.save(),
        (n.font = r.style + ' ' + r.weight + ' ' + ~~((r.size + 1) / a) + 'px ' + r.font);
      var c = n.measureText(r.text + 'm').width * a,
        h = r.size << 1;
      if (r.rotate) {
        var f = Math.sin(r.rotate * Lu),
          v = Math.cos(r.rotate * Lu),
          d = c * v,
          p = c * f,
          g = h * v,
          y = h * f;
        (c = ((Math.max(Math.abs(d + y), Math.abs(d - y)) + 31) >> 5) << 5),
          (h = ~~Math.max(Math.abs(p + g), Math.abs(p - g)));
      } else c = ((c + 31) >> 5) << 5;
      if ((h > l && (l = h), o + c >= oa << 5 && ((o = 0), (s += l), (l = 0)), s + h >= as)) break;
      n.translate((o + (c >> 1)) / a, (s + (h >> 1)) / a),
        r.rotate && n.rotate(r.rotate * Lu),
        n.fillText(r.text, 0, 0),
        r.padding && ((n.lineWidth = 2 * r.padding), n.strokeText(r.text, 0, 0)),
        n.restore(),
        (r.width = c),
        (r.height = h),
        (r.xoff = o),
        (r.yoff = s),
        (r.x1 = c >> 1),
        (r.y1 = h >> 1),
        (r.x0 = -r.x1),
        (r.y0 = -r.y1),
        (r.hasText = !0),
        (o += c);
    }
    for (var m = n.getImageData(0, 0, (oa << 5) / a, as / a).data, b = []; --i >= 0; )
      if (((r = t[i]), !!r.hasText)) {
        for (var c = r.width, w = c >> 5, h = r.y1 - r.y0, S = 0; S < h * w; S++) b[S] = 0;
        if (((o = r.xoff), o == null)) return;
        s = r.yoff;
        for (var C = 0, F = -1, E = 0; E < h; E++) {
          for (var S = 0; S < c; S++) {
            var k = w * E + (S >> 5),
              T = m[((s + E) * (oa << 5) + (o + S)) << 2] ? 1 << (31 - (S % 32)) : 0;
            (b[k] |= T), (C |= T);
          }
          C ? (F = E) : (r.y0++, h--, E--, s++);
        }
        (r.y1 = r.y0 + F), (r.sprite = b.slice(0, (r.y1 - r.y0) * w));
      }
  }
}
function _3(e, r, t) {
  t >>= 5;
  for (
    var i = e.sprite,
      n = e.width >> 5,
      a = e.x - (n << 4),
      o = a & 127,
      s = 32 - o,
      l = e.y1 - e.y0,
      u = (e.y + e.y0) * t + (a >> 5),
      c,
      h = 0;
    h < l;
    h++
  ) {
    c = 0;
    for (var f = 0; f <= n; f++)
      if (((c << s) | (f < n ? (c = i[h * n + f]) >>> o : 0)) & r[u + f]) return !0;
    u += t;
  }
  return !1;
}
function j3(e, r) {
  var t = e[0],
    i = e[1];
  r.x + r.x0 < t.x && (t.x = r.x + r.x0),
    r.y + r.y0 < t.y && (t.y = r.y + r.y0),
    r.x + r.x1 > i.x && (i.x = r.x + r.x1),
    r.y + r.y1 > i.y && (i.y = r.y + r.y1);
}
function U3(e, r) {
  return e.x + e.x1 > r[0].x && e.x + e.x0 < r[1].x && e.y + e.y1 > r[0].y && e.y + e.y0 < r[1].y;
}
function Y1(e) {
  var r = e[0] / e[1];
  return function (t) {
    return [r * (t *= 0.1) * Math.cos(t), t * Math.sin(t)];
  };
}
function q3(e) {
  var r = 4,
    t = (r * e[0]) / e[1],
    i = 0,
    n = 0;
  return function (a) {
    var o = a < 0 ? -1 : 1;
    switch ((Math.sqrt(1 + 4 * o * a) - o) & 3) {
      case 0:
        i += t;
        break;
      case 1:
        n += r;
        break;
      case 2:
        i -= t;
        break;
      default:
        n -= r;
        break;
    }
    return [i, n];
  };
}
function ug(e) {
  for (var r = [], t = -1; ++t < e; ) r[t] = 0;
  return r;
}
function Z3() {
  return document.createElement('canvas');
}
function Je(e) {
  return q(e)
    ? e
    : function () {
        return e;
      };
}
var K3 = { archimedean: Y1, rectangular: q3 };
function Q3() {
  var e = [256, 256],
    r = H3,
    t = V3,
    i = lg,
    n = Y3,
    a = W3,
    o = Y1,
    s = Math.random,
    l = [],
    u = 1 / 0,
    c = G3,
    h = lg,
    f = Z3,
    v = {};
  v.start = function () {
    var g = e[0],
      y = e[1],
      m = d(f()),
      b = v.board ? v.board : ug((e[0] >> 5) * e[1]),
      w = l.length,
      S = [],
      C = l
        .map(function (T, O, P) {
          return (
            (T.text = c.call(this, T, O, P)),
            (T.font = r.call(this, T, O, P)),
            (T.style = h.call(this, T, O, P)),
            (T.weight = i.call(this, T, O, P)),
            (T.rotate = n.call(this, T, O, P)),
            (T.size = ~~t.call(this, T, O, P)),
            (T.padding = a.call(this, T, O, P)),
            T
          );
        })
        .sort(function (T, O) {
          return O.size - T.size;
        }),
      F = -1,
      E = v.board
        ? [
            { x: 0, y: 0 },
            { x: g, y },
          ]
        : null;
    k();
    function k() {
      for (var T = Date.now(); Date.now() - T < u && ++F < w; ) {
        var O = C[F];
        (O.x = (g * (s() + 0.5)) >> 1),
          (O.y = (y * (s() + 0.5)) >> 1),
          X3(m, O, C, F),
          O.hasText &&
            p(b, O, E) &&
            (S.push(O),
            E
              ? v.hasImage || j3(E, O)
              : (E = [
                  { x: O.x + O.x0, y: O.y + O.y0 },
                  { x: O.x + O.x1, y: O.y + O.y1 },
                ]),
            (O.x -= e[0] >> 1),
            (O.y -= e[1] >> 1));
      }
      (v._tags = S), (v._bounds = E);
    }
    return v;
  };
  function d(g) {
    g.width = g.height = 1;
    var y = Math.sqrt(g.getContext('2d').getImageData(0, 0, 1, 1).data.length >> 2);
    (g.width = (oa << 5) / y), (g.height = as / y);
    var m = g.getContext('2d');
    return (
      (m.fillStyle = m.strokeStyle = 'red'), (m.textAlign = 'center'), { context: m, ratio: y }
    );
  }
  function p(g, y, m) {
    for (
      var b = y.x,
        w = y.y,
        S = Math.sqrt(e[0] * e[0] + e[1] * e[1]),
        C = o(e),
        F = s() < 0.5 ? 1 : -1,
        E,
        k = -F,
        T,
        O;
      (E = C((k += F))) && ((T = ~~E[0]), (O = ~~E[1]), !(Math.min(Math.abs(T), Math.abs(O)) >= S));

    )
      if (
        ((y.x = b + T),
        (y.y = w + O),
        !(y.x + y.x0 < 0 || y.y + y.y0 < 0 || y.x + y.x1 > e[0] || y.y + y.y1 > e[1]) &&
          (!m || !_3(y, g, e[0])) &&
          (!m || U3(y, m)))
      ) {
        for (
          var P = y.sprite,
            z = y.width >> 5,
            W = e[0] >> 5,
            j = y.x - (z << 4),
            D = j & 127,
            N = 32 - D,
            V = y.y1 - y.y0,
            H = void 0,
            G = (y.y + y.y0) * W + (j >> 5),
            X = 0;
          X < V;
          X++
        ) {
          H = 0;
          for (var Q = 0; Q <= z; Q++)
            g[G + Q] |= (H << N) | (Q < z ? (H = P[X * z + Q]) >>> D : 0);
          G += W;
        }
        return delete y.sprite, !0;
      }
    return !1;
  }
  return (
    (v.createMask = function (g) {
      var y = document.createElement('canvas'),
        m = e[0],
        b = e[1];
      if (!(!m || !b)) {
        var w = m >> 5,
          S = ug((m >> 5) * b);
        (y.width = m), (y.height = b);
        var C = y.getContext('2d');
        C.drawImage(g, 0, 0, g.width, g.height, 0, 0, m, b);
        for (var F = C.getImageData(0, 0, m, b).data, E = 0; E < b; E++)
          for (var k = 0; k < m; k++) {
            var T = w * E + (k >> 5),
              O = (E * m + k) << 2,
              P = F[O] >= 250 && F[O + 1] >= 250 && F[O + 2] >= 250,
              z = P ? 1 << (31 - (k % 32)) : 0;
            S[T] |= z;
          }
        (v.board = S), (v.hasImage = !0);
      }
    }),
    (v.timeInterval = function (g) {
      u = g == null ? 1 / 0 : g;
    }),
    (v.words = function (g) {
      l = g;
    }),
    (v.size = function (g) {
      e = [+g[0], +g[1]];
    }),
    (v.font = function (g) {
      r = Je(g);
    }),
    (v.fontWeight = function (g) {
      i = Je(g);
    }),
    (v.rotate = function (g) {
      n = Je(g);
    }),
    (v.spiral = function (g) {
      o = K3[g] || g;
    }),
    (v.fontSize = function (g) {
      t = Je(g);
    }),
    (v.padding = function (g) {
      a = Je(g);
    }),
    (v.random = function (g) {
      s = Je(g);
    }),
    v
  );
}
function W1(e) {
  var r = e.options,
    t = e.chart,
    i = t,
    n = i.width,
    a = i.height,
    o = i.padding,
    s = i.appendPadding,
    l = i.ele,
    u = r.data,
    c = r.imageMask,
    h = r.wordField,
    f = r.weightField,
    v = r.colorField,
    d = r.wordStyle,
    p = r.timeInterval,
    g = r.random,
    y = r.spiral,
    m = r.autoFit,
    b = m === void 0 ? !0 : m,
    w = r.placementStrategy;
  if (!u || !u.length) return [];
  var S = d.fontFamily,
    C = d.fontWeight,
    F = d.padding,
    E = d.fontSize,
    k = iH(u, f),
    T = [oH(k), sH(k)],
    O = u.map(function (W) {
      return { text: W[h], value: W[f], color: W[v], datum: W };
    }),
    P = {
      imageMask: c,
      font: S,
      fontSize: rH(E, T),
      fontWeight: C,
      size: J3({ width: n, height: a, padding: o, appendPadding: s, autoFit: b, container: l }),
      padding: F,
      timeInterval: p,
      random: g,
      spiral: y,
      rotate: nH(r),
    };
  if (q(w)) {
    var z = O.map(function (W, j, D) {
      return x(
        x(x({}, W), {
          hasText: !!W.text,
          font: Je(P.font)(W, j, D),
          weight: Je(P.fontWeight)(W, j, D),
          rotate: Je(P.rotate)(W, j, D),
          size: Je(P.fontSize)(W, j, D),
          style: 'normal',
        }),
        w.call(t, W, j, D),
      );
    });
    return (
      z.push({ text: '', value: 0, x: 0, y: 0, opacity: 0 }),
      z.push({ text: '', value: 0, x: P.size[0], y: P.size[1], opacity: 0 }),
      z
    );
  }
  return N3(O, P);
}
function J3(e) {
  var r = e.width,
    t = e.height,
    i = e.container,
    n = e.autoFit,
    a = e.padding,
    o = e.appendPadding;
  if (n) {
    var s = bc(i);
    (r = s.width), (t = s.height);
  }
  (r = r || 400), (t = t || 400);
  var l = tH({ padding: a, appendPadding: o }),
    u = l[0],
    c = l[1],
    h = l[2],
    f = l[3],
    v = [r - (f + c), t - (u + h)];
  return v;
}
function tH(e) {
  var r = Qr(e.padding),
    t = Qr(e.appendPadding),
    i = r[0] + t[0],
    n = r[1] + t[1],
    a = r[2] + t[2],
    o = r[3] + t[3];
  return [i, n, a, o];
}
function eH(e) {
  return new Promise(function (r, t) {
    if (e instanceof HTMLImageElement) {
      r(e);
      return;
    }
    if (et(e)) {
      var i = new Image();
      (i.crossOrigin = 'anonymous'),
        (i.src = e),
        (i.onload = function () {
          r(i);
        }),
        (i.onerror = function () {
          Fr(Ue.ERROR, !1, 'image %s load failed !!!', e), t();
        });
      return;
    }
    Fr(Ue.WARN, e === void 0, 'The type of imageMask option must be String or HTMLImageElement.'),
      t();
  });
}
function rH(e, r) {
  if (q(e)) return e;
  if ($(e)) {
    var t = e[0],
      i = e[1];
    if (!r)
      return function () {
        return (i + t) / 2;
      };
    var n = r[0],
      a = r[1];
    return a === n
      ? function () {
          return (i + t) / 2;
        }
      : function (s) {
          var l = s.value;
          return ((i - t) / (a - n)) * (l - n) + t;
        };
  }
  return function () {
    return e;
  };
}
function iH(e, r) {
  return e
    .map(function (t) {
      return t[r];
    })
    .filter(function (t) {
      return typeof t == 'number' && !isNaN(t);
    });
}
function nH(e) {
  var r = aH(e),
    t = r.rotation,
    i = r.rotationSteps;
  if (!$(t)) return t;
  var n = t[0],
    a = t[1],
    o = i === 1 ? 0 : (a - n) / (i - 1);
  return function () {
    return a === n ? a : Math.floor(Math.random() * i) * o;
  };
}
function aH(e) {
  var r = e.wordStyle.rotationSteps;
  return (
    r < 1 &&
      (Fr(Ue.WARN, !1, 'The rotationSteps option must be greater than or equal to 1.'), (r = 1)),
    { rotation: e.wordStyle.rotation, rotationSteps: r }
  );
}
function oH(e) {
  return Math.min.apply(Math, e);
}
function sH(e) {
  return Math.max.apply(Math, e);
}
function lH(e) {
  var r = e.chart,
    t = e.options,
    i = t.colorField,
    n = t.color,
    a = W1(e);
  r.data(a);
  var o = B({}, e, {
      options: {
        xField: 'x',
        yField: 'y',
        seriesField: i && Ff,
        rawFields: q(n) && Ct(M(t, 'rawFields', []), ['datum']),
        point: { color: n, shape: 'word-cloud' },
      },
    }),
    s = Le(o).ext;
  return s.geometry.label(!1), r.coordinate().reflect('y'), r.axis(!1), e;
}
function uH(e) {
  return rt(Rt({ x: { nice: !1 }, y: { nice: !1 } }))(e);
}
function cH(e) {
  var r = e.chart,
    t = e.options,
    i = t.legend,
    n = t.colorField;
  return i === !1 ? r.legend(!1) : n && r.legend(Ff, i), e;
}
function hH(e) {
  rt(lH, uH, Yt, cH, It, wt, ht, oi)(e);
}
dt('point', 'word-cloud', {
  draw: function (e, r) {
    var t = e.x,
      i = e.y,
      n = r.addShape('text', { attrs: x(x({}, fH(e)), { x: t, y: i }) }),
      a = e.data.rotate;
    return typeof a == 'number' && be.rotate(n, (a * Math.PI) / 180), n;
  },
});
function fH(e) {
  return {
    fontSize: e.data.size,
    text: e.data.text,
    textAlign: 'center',
    fontFamily: e.data.font,
    fontWeight: e.data.weight,
    fill: e.color || e.defaultStyle.stroke,
    textBaseline: 'alphabetic',
  };
}
var vH = (function (e) {
  I(r, e);
  function r() {
    var t = (e !== null && e.apply(this, arguments)) || this;
    return (t.type = 'word-cloud'), t;
  }
  return (
    (r.getDefaultOptions = function () {
      return R3;
    }),
    (r.prototype.changeData = function (t) {
      this.updateOption({ data: t }),
        this.options.imageMask
          ? this.render()
          : this.chart.changeData(W1({ chart: this.chart, options: this.options }));
    }),
    (r.prototype.getDefaultOptions = function () {
      return r.getDefaultOptions();
    }),
    (r.prototype.render = function () {
      var t = this;
      return new Promise(function (i) {
        var n = t.options.imageMask;
        if (!n) {
          e.prototype.render.call(t), i();
          return;
        }
        var a = function (o) {
          (t.options = x(x({}, t.options), { imageMask: o || null })),
            e.prototype.render.call(t),
            i();
        };
        eH(n).then(a).catch(a);
      });
    }),
    (r.prototype.getSchemaAdaptor = function () {
      return hH;
    }),
    (r.prototype.triggerResize = function () {
      var t = this;
      this.chart.destroyed ||
        (this.execAdaptor(),
        window.setTimeout(function () {
          e.prototype.triggerResize.call(t);
        }));
    }),
    r
  );
})(at);
(function (e) {
  I(r, e);
  function r(t, i, n, a) {
    var o = e.call(this, t, B({}, a, i)) || this;
    return (o.type = 'g2-plot'), (o.defaultOptions = a), (o.adaptor = n), o;
  }
  return (
    (r.prototype.getDefaultOptions = function () {
      return this.defaultOptions;
    }),
    (r.prototype.getSchemaAdaptor = function () {
      return this.adaptor;
    }),
    r
  );
})(at);
U0('en-US', XP);
U0('zh-CN', _P);
var $c =
  (globalThis && globalThis.__assign) ||
  function () {
    return (
      ($c =
        Object.assign ||
        function (e) {
          for (var r, t = 1, i = arguments.length; t < i; t++) {
            r = arguments[t];
            for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
          }
          return e;
        }),
      $c.apply(this, arguments)
    );
  };
globalThis && globalThis.__awaiter;
globalThis && globalThis.__generator;
var lo = $c({}, ww),
  dH = lo.version,
  pH = lo.render;
lo.unmountComponentAtNode;
var Ef;
try {
  var gH = Number((dH || '').split('.')[0]);
  gH >= 18 && (Ef = lo.createRoot);
} catch (e) {}
function cg(e) {
  var r = lo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;
  r && typeof r == 'object' && (r.usingClientEntryPoint = e);
}
var hg = '__rc_react_root__';
function yH(e, r) {
  cg(!0);
  var t = r[hg] || Ef(r);
  cg(!1), t.render(e), (r[hg] = t);
}
function mH(e, r) {
  pH(e, r);
}
function xH(e, r) {
  if (Ef) {
    yH(e, r);
    return;
  }
  mH(e, r);
}
var wH = function (e, r) {
  var t = document.createElement('div');
  return r === 'tooltip' && (t.className = 'g2-tooltip'), xH(e, t), t;
};
const bH = wH;
var Uo = function (e, r) {
    var t = {}.toString;
    return t.call(e) === '[object '.concat(r, ']');
  },
  SH = function (e) {
    if (!e) return e;
    var r = {};
    for (var t in e) r[t] = e[t];
    return r;
  },
  Ds = function (e) {
    if (!e || typeof e != 'object') return e;
    var r;
    return (
      Array.isArray(e)
        ? (r = e.map(function (t) {
            return Ds(t);
          }))
        : ((r = {}),
          Object.keys(e).forEach(function (t) {
            return (r[t] = Ds(e[t]));
          })),
      r
    );
  },
  Qn = function (e, r) {
    for (var t = e, i = 0; i < r.length; i += 1)
      if (t != null && t[r[i]]) t = t[r[i]];
      else {
        t = void 0;
        break;
      }
    return t;
  },
  CH = function (e, r, t) {
    if (!e) return e;
    var i = e;
    return (
      r.forEach(function (n, a) {
        a < r.length - 1 ? (i = i[n]) : (i[n] = t);
      }),
      e
    );
  },
  Tf = function (e, r) {
    e && (q(e) ? e(r) : (e.current = r));
  },
  Nc =
    (globalThis && globalThis.__assign) ||
    function () {
      return (
        (Nc =
          Object.assign ||
          function (e) {
            for (var r, t = 1, i = arguments.length; t < i; t++) {
              r = arguments[t];
              for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
            }
            return e;
          }),
        Nc.apply(this, arguments)
      );
    },
  fg =
    (globalThis && globalThis.__rest) ||
    function (e, r) {
      var t = {};
      for (var i in e)
        Object.prototype.hasOwnProperty.call(e, i) && r.indexOf(i) < 0 && (t[i] = e[i]);
      if (e != null && typeof Object.getOwnPropertySymbols == 'function')
        for (var n = 0, i = Object.getOwnPropertySymbols(e); n < i.length; n++)
          r.indexOf(i[n]) < 0 &&
            Object.prototype.propertyIsEnumerable.call(e, i[n]) &&
            (t[i[n]] = e[i[n]]);
      return t;
    };
function kf(e, r) {
  var t = L.useRef(),
    i = L.useRef(),
    n = L.useRef(null),
    a = r.onReady,
    o = r.onEvent,
    s = function (h, f) {
      var v;
      return (
        h === void 0 && (h = 'image/png'),
        (v = t.current) === null || v === void 0 ? void 0 : v.chart.canvas.cfg.el.toDataURL(h, f)
      );
    },
    l = function (h, f, v) {
      var d;
      h === void 0 && (h = 'download'), f === void 0 && (f = 'image/png');
      var p = h;
      h.indexOf('.') === -1 && (p = ''.concat(h, '.').concat(f.split('/')[1]));
      var g =
          (d = t.current) === null || d === void 0 ? void 0 : d.chart.canvas.cfg.el.toDataURL(f, v),
        y = document.createElement('a');
      return (
        (y.href = g),
        (y.download = p),
        document.body.appendChild(y),
        y.click(),
        document.body.removeChild(y),
        (y = null),
        p
      );
    },
    u = function (h, f, v) {
      var d = Qn(h, f);
      CH(h, f, function () {
        for (var p = [], g = 0; g < arguments.length; g++) p[g] = arguments[g];
        var y = Uo(d, 'Function') ? d.apply(void 0, p) : d;
        return Uo(y, 'String') || Uo(y, 'Number') || Uo(y, 'HTMLDivElement') ? y : bH(y, v);
      });
    },
    c = function () {
      Qn(r, ['statistic', 'content', 'customHtml']) && u(r, ['statistic', 'content', 'customHtml']),
        Qn(r, ['statistic', 'title', 'customHtml']) && u(r, ['statistic', 'title', 'customHtml']),
        typeof r.tooltip == 'object' &&
          (Qn(r, ['tooltip', 'container']) && u(r, ['tooltip', 'container'], 'tooltip'),
          Qn(r, ['tooltip', 'customContent']) && u(r, ['tooltip', 'customContent'], 'tooltip'));
    };
  return (
    L.useEffect(
      function () {
        if (t.current && !Bt(i.current, r)) {
          var h = !1;
          if (i.current) {
            var f = i.current;
            f.data, f.value, f.percent;
            var v = fg(f, ['data', 'value', 'percent']);
            r.data, r.value, r.percent;
            var d = fg(r, ['data', 'value', 'percent']);
            h = Bt(v, d);
          }
          if (((i.current = Ds(r)), h && M(r, 'chartType') !== 'Mix')) {
            var p = 'data',
              g = ['percent'],
              y = Object.keys(r);
            g.forEach(function (m) {
              y.includes(m) && (p = m);
            }),
              t.current.changeData((r == null ? void 0 : r[p]) || []);
          } else c(), t.current.update(r);
        }
      },
      [r],
    ),
    L.useEffect(function () {
      if (!n.current)
        return function () {
          return null;
        };
      i.current || (i.current = Ds(r)), c();
      var h = new e(n.current, Nc({}, r));
      (h.toDataURL = function (v, d) {
        return s(v, d);
      }),
        (h.downloadImage = function (v, d, p) {
          return l(v, d, p);
        }),
        h.render(),
        (t.current = SH(h)),
        a && a(h);
      var f = function (v) {
        o && o(h, v);
      };
      return (
        h.on('*', f),
        function () {
          t.current && (t.current.destroy(), t.current.off('*', f), (t.current = void 0));
        }
      );
    }, []),
    { chart: t, container: n }
  );
}
var AH =
    (globalThis && globalThis.__extends) ||
    (function () {
      var e = function (r, t) {
        return (
          (e =
            Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array &&
              function (i, n) {
                i.__proto__ = n;
              }) ||
            function (i, n) {
              for (var a in n) Object.prototype.hasOwnProperty.call(n, a) && (i[a] = n[a]);
            }),
          e(r, t)
        );
      };
      return function (r, t) {
        if (typeof t != 'function' && t !== null)
          throw new TypeError('Class extends value ' + String(t) + ' is not a constructor or null');
        e(r, t);
        function i() {
          this.constructor = r;
        }
        r.prototype = t === null ? Object.create(t) : ((i.prototype = t.prototype), new i());
      };
    })(),
  MH = (function (e) {
    AH(r, e);
    function r() {
      var t = (e !== null && e.apply(this, arguments)) || this;
      return (
        (t.state = { hasError: !1 }),
        (t.renderError = function (i) {
          var n = t.props.errorTemplate;
          switch (i) {
            default:
              return n && typeof n == 'function'
                ? n(i)
                : Dt.createElement('h5', null, ' ', i.message);
          }
        }),
        t
      );
    }
    return (
      (r.getDerivedStateFromError = function (t) {
        return { hasError: !0, error: t };
      }),
      (r.getDerivedStateFromProps = function (t, i) {
        return i.children !== t.children
          ? { children: t.children, hasError: !1, error: void 0 }
          : null;
      }),
      (r.prototype.render = function () {
        return this.state.hasError
          ? this.renderError(this.state.error)
          : Dt.createElement(L.Fragment, null, this.props.children);
      }),
      r
    );
  })(Dt.Component);
const If = MH;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */ var _r =
  function () {
    return (
      (_r =
        Object.assign ||
        function (r) {
          for (var t, i = 1, n = arguments.length; i < n; i++) {
            t = arguments[i];
            for (var a in t) Object.prototype.hasOwnProperty.call(t, a) && (r[a] = t[a]);
          }
          return r;
        }),
      _r.apply(this, arguments)
    );
  };
function FH(e, r) {
  var t = {};
  for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && r.indexOf(i) < 0 && (t[i] = e[i]);
  if (e != null && typeof Object.getOwnPropertySymbols == 'function')
    for (var n = 0, i = Object.getOwnPropertySymbols(e); n < i.length; n++)
      r.indexOf(i[n]) < 0 &&
        Object.prototype.propertyIsEnumerable.call(e, i[n]) &&
        (t[i[n]] = e[i[n]]);
  return t;
}
var EH = function () {
    return Math.random().toString(36).substring(6);
  },
  X1 = function (e) {
    var r = e.animate,
      t = e.backgroundColor,
      i = e.backgroundOpacity,
      n = e.baseUrl,
      a = e.children,
      o = e.foregroundColor,
      s = e.foregroundOpacity,
      l = e.gradientRatio,
      u = e.uniqueKey,
      c = e.interval,
      h = e.rtl,
      f = e.speed,
      v = e.style,
      d = e.title,
      p = FH(e, [
        'animate',
        'backgroundColor',
        'backgroundOpacity',
        'baseUrl',
        'children',
        'foregroundColor',
        'foregroundOpacity',
        'gradientRatio',
        'uniqueKey',
        'interval',
        'rtl',
        'speed',
        'style',
        'title',
      ]),
      g = u || EH(),
      y = g + '-diff',
      m = g + '-animated-diff',
      b = g + '-aria',
      w = h ? { transform: 'scaleX(-1)' } : null,
      S = '0; ' + c + '; 1',
      C = f + 's';
    return L.createElement(
      'svg',
      _r({ 'aria-labelledby': b, role: 'img', style: _r(_r({}, v), w) }, p),
      d ? L.createElement('title', { id: b }, d) : null,
      L.createElement('rect', {
        role: 'presentation',
        x: '0',
        y: '0',
        width: '100%',
        height: '100%',
        clipPath: 'url(' + n + '#' + y + ')',
        style: { fill: 'url(' + n + '#' + m + ')' },
      }),
      L.createElement(
        'defs',
        { role: 'presentation' },
        L.createElement('clipPath', { id: y }, a),
        L.createElement(
          'linearGradient',
          { id: m },
          L.createElement(
            'stop',
            { offset: '0%', stopColor: t, stopOpacity: i },
            r &&
              L.createElement('animate', {
                attributeName: 'offset',
                values: -l + '; ' + -l + '; 1',
                keyTimes: S,
                dur: C,
                repeatCount: 'indefinite',
              }),
          ),
          L.createElement(
            'stop',
            { offset: '50%', stopColor: o, stopOpacity: s },
            r &&
              L.createElement('animate', {
                attributeName: 'offset',
                values: -l / 2 + '; ' + -l / 2 + '; ' + (1 + l / 2),
                keyTimes: S,
                dur: C,
                repeatCount: 'indefinite',
              }),
          ),
          L.createElement(
            'stop',
            { offset: '100%', stopColor: t, stopOpacity: i },
            r &&
              L.createElement('animate', {
                attributeName: 'offset',
                values: '0; 0; ' + (1 + l),
                keyTimes: S,
                dur: C,
                repeatCount: 'indefinite',
              }),
          ),
        ),
      ),
    );
  };
X1.defaultProps = {
  animate: !0,
  backgroundColor: '#f5f6f7',
  backgroundOpacity: 1,
  baseUrl: '',
  foregroundColor: '#eee',
  foregroundOpacity: 1,
  gradientRatio: 2,
  id: null,
  interval: 0.25,
  rtl: !1,
  speed: 1.2,
  style: {},
  title: 'Loading...',
};
var _1 = function (e) {
    return e.children ? L.createElement(X1, _r({}, e)) : L.createElement(TH, _r({}, e));
  },
  TH = function (e) {
    return L.createElement(
      _1,
      _r({ viewBox: '0 0 476 124' }, e),
      L.createElement('rect', { x: '48', y: '8', width: '88', height: '6', rx: '3' }),
      L.createElement('rect', { x: '48', y: '26', width: '52', height: '6', rx: '3' }),
      L.createElement('rect', { x: '0', y: '56', width: '410', height: '6', rx: '3' }),
      L.createElement('rect', { x: '0', y: '72', width: '380', height: '6', rx: '3' }),
      L.createElement('rect', { x: '0', y: '88', width: '178', height: '6', rx: '3' }),
      L.createElement('circle', { cx: '20', cy: '20', r: '20' }),
    );
  };
const kH = _1;
var IH = function (e) {
  var r = e.loadingTemplate,
    t = e.theme,
    i = t === void 0 ? 'light' : t,
    n = function () {
      return (
        r ||
        Dt.createElement(
          kH,
          {
            viewBox: '0 0 400 180',
            width: 200,
            height: 90,
            speed: 1,
            backgroundColor: i === 'dark' ? '#262626' : '#D9D9D9',
          },
          Dt.createElement('rect', {
            x: '20',
            y: '5',
            rx: '0',
            ry: '0',
            width: '1',
            height: '170',
          }),
          Dt.createElement('rect', {
            x: '20',
            y: '175',
            rx: '0',
            ry: '0',
            width: '360',
            height: '1',
          }),
          Dt.createElement('rect', {
            x: '40',
            y: '75',
            rx: '0',
            ry: '0',
            width: '35',
            height: '100',
          }),
          Dt.createElement('rect', {
            x: '80',
            y: '125',
            rx: '0',
            ry: '0',
            width: '35',
            height: '50',
          }),
          Dt.createElement('rect', {
            x: '120',
            y: '105',
            rx: '0',
            ry: '0',
            width: '35',
            height: '70',
          }),
          Dt.createElement('rect', {
            x: '160',
            y: '35',
            rx: '0',
            ry: '0',
            width: '35',
            height: '140',
          }),
          Dt.createElement('rect', {
            x: '200',
            y: '55',
            rx: '0',
            ry: '0',
            width: '35',
            height: '120',
          }),
          Dt.createElement('rect', {
            x: '240',
            y: '15',
            rx: '0',
            ry: '0',
            width: '35',
            height: '160',
          }),
          Dt.createElement('rect', {
            x: '280',
            y: '135',
            rx: '0',
            ry: '0',
            width: '35',
            height: '40',
          }),
          Dt.createElement('rect', {
            x: '320',
            y: '85',
            rx: '0',
            ry: '0',
            width: '35',
            height: '90',
          }),
        )
      );
    };
  return Dt.createElement(
    'div',
    {
      className: 'charts-loading-container',
      style: {
        position: 'absolute',
        width: '100%',
        height: '100%',
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'center',
        left: 0,
        top: 0,
        zIndex: 99,
        backgroundColor: i === 'dark' ? 'rgb(20, 20, 20)' : 'rgb(255, 255, 255)',
      },
    },
    n(),
  );
};
const Lf = IH;
var LH =
    (globalThis && globalThis.__rest) ||
    function (e, r) {
      var t = {};
      for (var i in e)
        Object.prototype.hasOwnProperty.call(e, i) && r.indexOf(i) < 0 && (t[i] = e[i]);
      if (e != null && typeof Object.getOwnPropertySymbols == 'function')
        for (var n = 0, i = Object.getOwnPropertySymbols(e); n < i.length; n++)
          r.indexOf(i[n]) < 0 &&
            Object.prototype.propertyIsEnumerable.call(e, i[n]) &&
            (t[i[n]] = e[i[n]]);
      return t;
    },
  OH = L.forwardRef(function (e, r) {
    var t = e.chartRef,
      i = e.style,
      n = i === void 0 ? { height: 'inherit' } : i,
      a = e.className,
      o = e.loading,
      s = e.loadingTemplate,
      l = e.errorTemplate,
      u = LH(e, ['chartRef', 'style', 'className', 'loading', 'loadingTemplate', 'errorTemplate']),
      c = kf(nx, u),
      h = c.chart,
      f = c.container;
    return (
      L.useEffect(
        function () {
          Tf(t, h.current);
        },
        [h.current],
      ),
      L.useImperativeHandle(r, function () {
        return {
          getChart: function () {
            return h.current;
          },
        };
      }),
      Dt.createElement(
        If,
        { errorTemplate: l },
        o && Dt.createElement(Lf, { loadingTemplate: s, theme: e.theme }),
        Dt.createElement('div', { className: a, style: n, ref: f }),
      )
    );
  });
const PH = OH;
var DH =
    (globalThis && globalThis.__rest) ||
    function (e, r) {
      var t = {};
      for (var i in e)
        Object.prototype.hasOwnProperty.call(e, i) && r.indexOf(i) < 0 && (t[i] = e[i]);
      if (e != null && typeof Object.getOwnPropertySymbols == 'function')
        for (var n = 0, i = Object.getOwnPropertySymbols(e); n < i.length; n++)
          r.indexOf(i[n]) < 0 &&
            Object.prototype.propertyIsEnumerable.call(e, i[n]) &&
            (t[i[n]] = e[i[n]]);
      return t;
    },
  BH = L.forwardRef(function (e, r) {
    var t = e.chartRef,
      i = e.style,
      n = i === void 0 ? { height: 'inherit' } : i,
      a = e.className,
      o = e.loading,
      s = e.loadingTemplate,
      l = e.errorTemplate,
      u = DH(e, ['chartRef', 'style', 'className', 'loading', 'loadingTemplate', 'errorTemplate']),
      c = kf(kx, u),
      h = c.chart,
      f = c.container;
    return (
      L.useEffect(
        function () {
          Tf(t, h.current);
        },
        [h.current],
      ),
      L.useImperativeHandle(r, function () {
        return {
          getChart: function () {
            return h.current;
          },
        };
      }),
      Dt.createElement(
        If,
        { errorTemplate: l },
        o && Dt.createElement(Lf, { loadingTemplate: s, theme: e.theme }),
        Dt.createElement('div', { className: a, style: n, ref: f }),
      )
    );
  });
const RH = BH;
var $H =
    (globalThis && globalThis.__rest) ||
    function (e, r) {
      var t = {};
      for (var i in e)
        Object.prototype.hasOwnProperty.call(e, i) && r.indexOf(i) < 0 && (t[i] = e[i]);
      if (e != null && typeof Object.getOwnPropertySymbols == 'function')
        for (var n = 0, i = Object.getOwnPropertySymbols(e); n < i.length; n++)
          r.indexOf(i[n]) < 0 &&
            Object.prototype.propertyIsEnumerable.call(e, i[n]) &&
            (t[i[n]] = e[i[n]]);
      return t;
    },
  NH = L.forwardRef(function (e, r) {
    var t = e.chartRef,
      i = e.style,
      n = i === void 0 ? { height: 'inherit' } : i,
      a = e.className,
      o = e.loading,
      s = e.loadingTemplate,
      l = e.errorTemplate,
      u = $H(e, ['chartRef', 'style', 'className', 'loading', 'loadingTemplate', 'errorTemplate']),
      c = kf(vH, u),
      h = c.chart,
      f = c.container;
    return (
      L.useEffect(
        function () {
          Tf(t, h.current);
        },
        [h.current],
      ),
      L.useImperativeHandle(r, function () {
        return {
          getChart: function () {
            return h.current;
          },
        };
      }),
      Dt.createElement(
        If,
        { errorTemplate: l },
        o && Dt.createElement(Lf, { loadingTemplate: s, theme: e.theme }),
        Dt.createElement('div', { className: a, style: n, ref: f }),
      )
    );
  });
const zH = NH,
  GH = '#ffffff',
  HH = 'rgba(0,0,0,0.05)',
  VH = '#F4664A',
  YH = '#30BF78',
  WH = 'auto',
  XH = `"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,
  _H = 0.5,
  jH = null,
  UH = null,
  qH = 0.9999999,
  ZH = 0.7692307692307692,
  KH = [
    '#d8daff',
    '#aeb6ff',
    '#7d94ff',
    '#5d80fd',
    '#4973fa',
    '#2d66f6',
    '#0359ef',
    '#034ddf',
    '#0241cf',
    '#0035c0',
  ],
  QH = {
    point: [
      'hollow-circle',
      'hollow-square',
      'hollow-bowtie',
      'hollow-diamond',
      'hollow-hexagon',
      'hollow-triangle',
      'hollow-triangle-down',
      'circle',
      'square',
      'bowtie',
      'diamond',
      'hexagon',
      'triangle',
      'triangle-down',
      'cross',
      'tick',
      'plus',
      'hyphen',
      'line',
    ],
    line: ['line', 'dash', 'dot', 'smooth'],
    area: ['area', 'smooth', 'line', 'smooth-line'],
    interval: ['rect', 'hollow-rect', 'line', 'tick'],
  },
  JH = [1, 10],
  tV = {
    axis: {
      common: {
        title: {
          autoRotate: !0,
          position: 'center',
          spacing: 12,
          style: {
            fill: '#595959',
            fontSize: 12,
            lineHeight: 12,
            textBaseline: 'middle',
            fontFamily: `"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,
          },
        },
        label: {
          autoRotate: !1,
          autoEllipsis: !1,
          autoHide: { type: 'equidistance', cfg: { minGap: 6 } },
          offset: 8,
          style: {
            fill: '#8C8C8C',
            fontSize: 12,
            lineHeight: 12,
            fontFamily: `"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,
          },
        },
        line: { style: { lineWidth: 1, stroke: '#BFBFBF' } },
        grid: {
          line: { type: 'line', style: { stroke: '#D9D9D9', lineWidth: 1, lineDash: null } },
          alignTick: !0,
          animate: !0,
        },
        tickLine: { style: { lineWidth: 1, stroke: '#BFBFBF' }, alignTick: !0, length: 4 },
        subTickLine: null,
        animate: !0,
      },
      top: { position: 'top', grid: null, title: null, verticalLimitLength: 0.5 },
      bottom: { position: 'bottom', grid: null, title: null, verticalLimitLength: 0.5 },
      left: {
        position: 'left',
        title: null,
        line: null,
        tickLine: null,
        verticalLimitLength: 0.3333333333333333,
      },
      right: {
        position: 'right',
        title: null,
        line: null,
        tickLine: null,
        verticalLimitLength: 0.3333333333333333,
      },
      circle: {
        title: null,
        grid: {
          line: { type: 'line', style: { stroke: '#D9D9D9', lineWidth: 1, lineDash: null } },
          alignTick: !0,
          animate: !0,
        },
      },
      radius: {
        title: null,
        grid: {
          line: { type: 'circle', style: { stroke: '#D9D9D9', lineWidth: 1, lineDash: null } },
          alignTick: !0,
          animate: !0,
        },
      },
    },
    legend: {
      common: {
        title: null,
        marker: { symbol: 'circle', spacing: 8, style: { r: 4, fill: '#5B8FF9' } },
        itemName: {
          spacing: 5,
          style: {
            fill: '#595959',
            fontFamily: `"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,
            fontSize: 12,
            lineHeight: 12,
            fontWeight: 'normal',
            textAlign: 'start',
            textBaseline: 'middle',
          },
        },
        itemStates: {
          active: { nameStyle: { opacity: 0.8 } },
          unchecked: {
            nameStyle: { fill: '#D8D8D8' },
            markerStyle: { fill: '#D8D8D8', stroke: '#D8D8D8' },
          },
          inactive: { nameStyle: { fill: '#D8D8D8' }, markerStyle: { opacity: 0.2 } },
        },
        flipPage: !0,
        pageNavigator: {
          marker: {
            style: {
              size: 12,
              inactiveFill: '#000',
              inactiveOpacity: 0.45,
              fill: '#000',
              opacity: 1,
            },
          },
          text: { style: { fill: '#8C8C8C', fontSize: 12 } },
        },
        animate: !1,
        maxItemWidth: 200,
        itemSpacing: 24,
        itemMarginBottom: 12,
        padding: [8, 8, 8, 8],
      },
      right: { layout: 'vertical', padding: [0, 8, 0, 8] },
      left: { layout: 'vertical', padding: [0, 8, 0, 8] },
      top: { layout: 'horizontal', padding: [8, 0, 8, 0] },
      bottom: { layout: 'horizontal', padding: [8, 0, 8, 0] },
      continuous: {
        title: null,
        background: null,
        track: {},
        rail: {
          type: 'color',
          size: 12,
          defaultLength: 100,
          style: { fill: '#D9D9D9', stroke: null, lineWidth: 0 },
        },
        label: {
          align: 'rail',
          spacing: 4,
          formatter: null,
          style: {
            fill: '#8C8C8C',
            fontSize: 12,
            lineHeight: 12,
            textBaseline: 'middle',
            fontFamily: `"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,
          },
        },
        handler: { size: 10, style: { fill: '#F0F0F0', stroke: '#BFBFBF' } },
        slidable: !0,
        padding: [8, 8, 8, 8],
      },
    },
    tooltip: {
      showContent: !0,
      follow: !0,
      showCrosshairs: !1,
      showMarkers: !0,
      shared: !1,
      enterable: !1,
      position: 'auto',
      marker: {
        symbol: 'circle',
        stroke: '#fff',
        shadowBlur: 10,
        shadowOffsetX: 0,
        shadowOffsetY: 0,
        shadowColor: 'rgba(0,0,0,0.09)',
        lineWidth: 2,
        r: 4,
      },
      crosshairs: {
        line: { style: { stroke: '#BFBFBF', lineWidth: 1 } },
        text: null,
        textBackground: {
          padding: 2,
          style: { fill: 'rgba(0, 0, 0, 0.25)', lineWidth: 0, stroke: null },
        },
        follow: !1,
      },
      domStyles: {
        'g2-tooltip': {
          position: 'absolute',
          visibility: 'hidden',
          zIndex: 8,
          transition:
            'left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s',
          backgroundColor: 'rgb(255, 255, 255)',
          opacity: 0.95,
          boxShadow: '0px 0px 10px #aeaeae',
          borderRadius: '3px',
          color: '#595959',
          fontSize: '12px',
          fontFamily: `"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,
          lineHeight: '12px',
          padding: '0 12px 0 12px',
        },
        'g2-tooltip-title': { marginBottom: '12px', marginTop: '12px' },
        'g2-tooltip-list': { margin: 0, listStyleType: 'none', padding: 0 },
        'g2-tooltip-list-item': {
          listStyleType: 'none',
          padding: 0,
          marginBottom: '12px',
          marginTop: '12px',
          marginLeft: 0,
          marginRight: 0,
        },
        'g2-tooltip-marker': {
          width: '8px',
          height: '8px',
          borderRadius: '50%',
          display: 'inline-block',
          marginRight: '8px',
        },
        'g2-tooltip-value': { display: 'inline-block', float: 'right', marginLeft: '30px' },
      },
    },
    annotation: {
      arc: { style: { stroke: '#D9D9D9', lineWidth: 1 }, animate: !0 },
      line: {
        style: { stroke: '#BFBFBF', lineDash: null, lineWidth: 1 },
        text: {
          position: 'start',
          autoRotate: !0,
          style: {
            fill: '#595959',
            stroke: null,
            lineWidth: 0,
            fontSize: 12,
            textAlign: 'start',
            fontFamily: `"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,
            textBaseline: 'bottom',
          },
        },
        animate: !0,
      },
      text: {
        style: {
          fill: '#595959',
          stroke: null,
          lineWidth: 0,
          fontSize: 12,
          textBaseline: 'middle',
          textAlign: 'start',
          fontFamily: `"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,
        },
        animate: !0,
      },
      region: {
        top: !1,
        style: { lineWidth: 0, stroke: null, fill: '#000', fillOpacity: 0.06 },
        animate: !0,
      },
      image: { top: !1, animate: !0 },
      dataMarker: {
        top: !0,
        point: { style: { r: 3, stroke: '#5B8FF9', lineWidth: 2 } },
        line: { style: { stroke: '#BFBFBF', lineWidth: 1 }, length: 16 },
        text: {
          style: {
            textAlign: 'start',
            fill: '#595959',
            stroke: null,
            lineWidth: 0,
            fontSize: 12,
            fontFamily: `"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,
          },
        },
        direction: 'upward',
        autoAdjust: !0,
        animate: !0,
      },
      dataRegion: {
        style: {
          region: { fill: '#000', fillOpacity: 0.06 },
          text: {
            textAlign: 'center',
            textBaseline: 'bottom',
            fill: '#595959',
            stroke: null,
            lineWidth: 0,
            fontSize: 12,
            fontFamily: `"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,
          },
        },
        animate: !0,
      },
    },
    slider: {
      common: {
        padding: [8, 8, 8, 8],
        backgroundStyle: { fill: '#416180', opacity: 0.05 },
        foregroundStyle: { fill: '#5B8FF9', opacity: 0.15 },
        handlerStyle: {
          width: 10,
          height: 24,
          fill: '#F7F7F7',
          opacity: 1,
          stroke: '#BFBFBF',
          lineWidth: 1,
          radius: 2,
          highLightFill: '#FFF',
        },
        textStyle: {
          fill: '#000',
          opacity: 0.45,
          fontSize: 12,
          lineHeight: 12,
          fontWeight: 'normal',
          stroke: null,
          lineWidth: 0,
        },
      },
    },
    scrollbar: {
      common: { padding: [8, 8, 8, 8] },
      default: { style: { trackColor: 'rgba(0,0,0,0)', thumbColor: 'rgba(0,0,0,0.15)' } },
      hover: { style: { thumbColor: 'rgba(0,0,0,0.2)' } },
    },
  },
  eV = {
    offset: 12,
    style: {
      fill: '#595959',
      fontSize: 12,
      fontFamily: `"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,
      stroke: null,
      lineWidth: 0,
    },
    fillColorDark: '#2c3542',
    fillColorLight: '#ffffff',
    autoRotate: !0,
  },
  rV = {
    style: {
      fill: '#FFFFFF',
      fontSize: 12,
      fontFamily: `"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,
      stroke: null,
      lineWidth: 0,
    },
    autoRotate: !0,
  },
  iV = {
    style: {
      fill: '#595959',
      fontSize: 12,
      fontFamily: `"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,
      stroke: '#FFFFFF',
      lineWidth: 1,
    },
  },
  nV = { labelHeight: 14, offset: 10, labelLine: { style: { lineWidth: 1 } }, autoRotate: !0 },
  aV = {
    brandColor: 'rgba(0, 177, 255, 1)',
    paletteQualitative10: [
      'rgba(0, 177, 255, 1)',
      'rgba(43, 222, 228, 1)',
      '#2498D1',
      '#BBBDE6',
      '#4045B2',
      '#21A97A',
      '#FF745A',
      '#007E99',
      '#FFA8A8',
      '#2391FF',
    ],
    paletteQualitative20: [
      '#025DF4',
      '#DB6BCF',
      '#2498D1',
      '#BBBDE6',
      '#4045B2',
      '#21A97A',
      '#FF745A',
      '#007E99',
      '#FFA8A8',
      '#2391FF',
      '#FFC328',
      '#A0DC2C',
      '#946DFF',
      '#626681',
      '#EB4185',
      '#CD8150',
      '#36BCCB',
      '#327039',
      '#803488',
      '#83BC99',
    ],
  },
  oV = {
    background: GH,
    subColor: HH,
    semanticRed: VH,
    semanticGreen: YH,
    padding: WH,
    fontFamily: XH,
    columnWidthRatio: _H,
    maxColumnWidth: jH,
    minColumnWidth: UH,
    roseWidthRatio: qH,
    multiplePieWidthRatio: ZH,
    sequenceColors: KH,
    shapes: QH,
    sizes: JH,
    components: tV,
    labels: eV,
    innerLabels: rV,
    overflowLabels: iV,
    pieLabels: nV,
    styleSheet: aV,
  },
  Of = () => ({ theme: bw((t) => t.app.themeMode) === 'dark' ? 'dark' : oV }),
  sV = [
    { week: '', value: 150, category: '' },
    { week: '', value: 154, category: '' },
    { week: '', value: 201, category: '' },
    { week: '', value: 299, category: '' },
    { week: '', value: 190, category: '' },
    { week: '', value: 330, category: '' },
    { week: '', value: 410, category: '' },
    { week: '', value: 220, category: '' },
    { week: '', value: 182, category: '' },
    { week: '', value: 191, category: '' },
    { week: '', value: 234, category: '' },
    { week: '', value: 290, category: '' },
    { week: '', value: 330, category: '' },
    { week: '', value: 310, category: '' },
    { week: '', value: 50, category: '' },
    { week: '', value: 124, category: '' },
    { week: '', value: 191, category: '' },
    { week: '', value: 280, category: '' },
    { week: '', value: 90, category: '' },
    { week: '', value: 30, category: '' },
    { week: '', value: 10, category: '' },
  ],
  lV = L.memo(() => {
    const { theme: e } = Of();
    return At(
      PH,
      uo(
        {},
        {
          data: sV,
          theme: e,
          height: 362,
          xField: 'week',
          yField: 'value',
          seriesField: 'category',
          smooth: !0,
          legend: !1,
          xAxis: {
            range: [0, 1],
            nice: !0,
            grid: { alignTick: !0, line: { style: { stroke: '#ddd', opacity: 0.5 } } },
          },
          yAxis: {
            nice: !0,
            tickCount: 7,
            min: 0,
            max: 1e3,
            grid: { alignTick: !0, line: { style: { stroke: '#ddd', opacity: 0.5 } } },
          },
        },
      ),
    );
  }),
  uV = [
    { type: 'Vue', value: 70 },
    { type: 'React', value: 20 },
    { type: 'Angular', value: 10 },
  ],
  cV = L.memo(() => {
    const { theme: e } = Of();
    return At(
      RH,
      uo(
        {},
        {
          appendPadding: 10,
          data: uV,
          theme: e,
          height: 362,
          angleField: 'value',
          colorField: 'type',
          radius: 1,
          innerRadius: 0.64,
          meta: { value: { formatter: (t) => `${t}` } },
          legend: { layout: 'horizontal', position: 'bottom' },
          label: {
            type: 'inner',
            offset: '-50%',
            style: { textAlign: 'center' },
            autoRotate: !1,
            content: '{value}',
          },
          statistic: { title: { customHtml: (t, i, n, a) => (n ? n.type : '') } },
          interactions: [
            { type: 'element-selected' },
            { type: 'element-active' },
            { type: 'pie-statistic-active' },
          ],
        },
      ),
    );
  }),
  hV = (e) => ({
    height: 450,
    overflowY: 'auto',
    ['.item']: {
      display: 'flex',
      ['.item-content']: {
        marginLeft: 14,
        display: 'flex',
        flexDirection: 'column',
        flex: 1,
        ['.title']: { fontSize: e.fontSize },
        time: { fontSize: e.fontSizeSM },
        ['.text']: {
          textOverflow: 'ellipsis',
          overflow: 'hidden',
          display: '-webkit-box',
          WebkitLineClamp: '2',
          ' -webkit-box-orient': 'vertical',
        },
      },
    },
  }),
  fV = L.memo(() => {
    const e = gg.useToken();
    return At('div', {
      css: hV(e.token),
      children: At('ul', {
        children: [1, 2, 3, 4].map((r) =>
          di(
            'li',
            {
              children: [
                di('div', {
                  className: 'item',
                  children: [
                    At(jw, { size: 52, icon: At(Mw, {}), src: Sw }),
                    di('div', {
                      className: 'item-content',
                      children: [
                        At('span', { className: 'title', children: '' }),
                        At('span', { className: 'time', children: '2021-12-31' }),
                        At('span', {
                          className: 'text',
                          children:
                            '42UFO42',
                        }),
                      ],
                    }),
                  ],
                }),
                At(Cw, {}),
              ],
            },
            r,
          ),
        ),
      }),
    });
  });
let Ou = [
  { name: 'Vue', value: 0 },
  { name: 'React', value: 0 },
  { name: 'Angular', value: 0 },
  { name: 'ECharts', value: 0 },
  { name: 'Wechat', value: 0 },
  { name: 'Element', value: 0 },
  { name: 'Vite', value: 0 },
  { name: 'Node', value: 0 },
  { name: 'Router', value: 0 },
  { name: 'I18n', value: 0 },
  { name: 'VitePress', value: 0 },
  { name: 'Umi', value: 0 },
  { name: 'And Design', value: 0 },
];
const vV = L.memo(() => {
    const { theme: e } = Of();
    return (
      (Ou = Ou.map((t) => ((t.value = Math.random() * 30 + 8), t))),
      At(
        zH,
        uo(
          {},
          {
            data: Ou,
            theme: e,
            wordField: 'name',
            weightField: 'value',
            height: 450,
            color: ['#e3e3e3', '#e3e3e3', '#e3e3e3'],
            wordStyle: { fontFamily: 'Verdana', fontSize: [18, 26] },
            interactions: [{ type: 'element-active' }],
            state: { active: { style: { lineWidth: 3 } } },
          },
        ),
      )
    );
  }),
  yV = L.memo(() => {
    console.log('home');
    const e = gg.useToken(),
      r = [
        { title: '', online: 24, total: 70 },
        { title: '', online: 39, total: 100 },
        { title: '', online: 5, total: 10 },
        { title: '', online: 10, total: 40 },
      ],
      t = (i, n) => Math.round((i / n) * 100);
    return At('div', {
      className: '',
      children: di(eS, {
        gutter: [12, 12],
        children: [
          r.map((i) =>
            At(
              Hn,
              {
                lg: 6,
                sm: 24,
                xs: 24,
                children: At(Gn, {
                  size: 'small',
                  title: i.title,
                  extra: At(Aw, {}),
                  children: di('div', {
                    css: LS(e.token),
                    children: [
                      di('div', {
                        className: 'numerical-value',
                        children: [
                          di('span', { className: 'number', children: [i.online, '/', i.total] }),
                          At('span', { children: 'Online/Total' }),
                        ],
                      }),
                      At(IS, { percent: t(i.online, i.total), strokeColor: e.token.colorPrimary }),
                    ],
                  }),
                }),
              },
              i.title,
            ),
          ),
          At(Hn, {
            lg: 18,
            sm: 24,
            xs: 24,
            children: At(Gn, { size: 'small', title: '', children: At(lV, {}) }),
          }),
          At(Hn, {
            lg: 6,
            sm: 24,
            xs: 24,
            children: At(Gn, { size: 'small', title: '', children: At(cV, {}) }),
          }),
          At(Hn, {
            lg: 18,
            sm: 24,
            xs: 24,
            children: At(Gn, { size: 'small', title: '', children: At(fV, {}) }),
          }),
          At(Hn, {
            lg: 6,
            sm: 24,
            xs: 24,
            children: At(Gn, { size: 'small', title: '', children: At(vV, {}) }),
          }),
        ],
      }),
    });
  });
export { yV as default };
